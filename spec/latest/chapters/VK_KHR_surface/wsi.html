<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Window System Integration (WSI) :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Vulkan Documentation Project</a>
      <div class="navbar-item">
        <img alt="Vulkan White Label" src="../../../../_/Vulkan_White_Dec16.svg" height="100%" />
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label for="search-input"></label><input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../guide/latest/index.html">Vulkan Guide</a>
          </div>
        </div>
            <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Tools</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">TBD</a>
          </div>
        </div>
            -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Tutorial</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../tutorial/latest/index.html">Vulkan Tutorial</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Samples</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../samples/latest/README.html">Vulkan Samples</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Help</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://khr.io/khrdiscord">Khronos Discord</a>
          </div>
        </div>
            <!--
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
            -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../glsl/latest/index.html">OpenGL Shading Language Specification</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../guide/latest/index.html">Vulkan Guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../samples/latest/README.html">Vulkan Samples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Vulkan Specification</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Vulkan Specification</a></li>
    <li><a href="wsi.html">Window System Integration (WSI)</a></li>
  </ul>
</nav>
    <!--
    -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Window System Integration (WSI)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter discusses the window system integration (WSI) between the
Vulkan API and the various forms of displaying the results of rendering to a
user.
Since the Vulkan API <strong>can</strong> be used without displaying results, WSI is
provided through the use of optional Vulkan extensions.
This chapter provides an overview of WSI.
See the appendix for additional details of each WSI extension, including
which extensions <strong>must</strong> be enabled in order to use each of the functions
described in this chapter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wsi_platform"><a class="anchor" href="#_wsi_platform"></a>WSI Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A platform is an abstraction for a window system, OS, etc.
Some examples include MS Windows, Android, and Wayland.
The Vulkan API <strong>may</strong> be integrated in a unique manner for each platform.</p>
</div>
<div class="paragraph">
<p>The Vulkan API does not define any type of platform object.
Platform-specific WSI extensions are defined, each containing
platform-specific functions for using WSI.
Use of these extensions is guarded by preprocessor symbols as defined in the
<a href="../../appendices/boilerplate.html#boilerplate-wsi-header" class="xref page">Window System-Specific Header Control</a> appendix.</p>
</div>
<div class="paragraph">
<p>In order for an application to be compiled to use WSI with a given platform,
it <strong>must</strong> either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#define</code> the appropriate preprocessor symbol prior to including the
<code>vulkan.h</code> header file, or</p>
</li>
<li>
<p>include <code>vulkan_core.h</code> and any native platform headers, followed by the
appropriate platform-specific header.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The preprocessor symbols and platform-specific headers are defined in the
<a href="../../appendices/boilerplate.html#boilerplate-wsi-header-table" class="xref page">Window System Extensions and Headers</a>
table.</p>
</div>
<div class="paragraph">
<p>Each platform-specific extension is an instance extension.
The application <strong>must</strong> enable instance extensions with <code>vkCreateInstance</code>
before using them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wsi_surface"><a class="anchor" href="#_wsi_surface"></a>WSI Surface</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Native platform surface or window objects are abstracted by surface objects,
which are represented by <code>VkSurfaceKHR</code> handles:</p>
</div>
<div id="VkSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSurfaceKHR)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../appendices/extensions.html#VK_KHR_surface" class="xref page">VK_KHR_surface</a></code> extension declares the <code>VkSurfaceKHR</code>
object, and provides a function for destroying <code>VkSurfaceKHR</code> objects.
Separate platform-specific extensions each provide a function for creating a
<code>VkSurfaceKHR</code> object for the respective platform.
From the application&#8217;s perspective this is an opaque handle, just like the
handles of other Vulkan objects.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_android"><a class="anchor" href="#platformCreateSurface_android"></a>Android Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an Android native window, call:</p>
</div>
<div id="vkCreateAndroidSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_android_surface
VkResult vkCreateAndroidSurfaceKHR(
    VkInstance                                  instance,
    const VkAndroidSurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkAndroidSurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During the lifetime of a surface created using a particular
<code>ANativeWindow</code> handle any attempts to create another surface for the
same <code>ANativeWindow</code> and any attempts to connect to the same
<code>ANativeWindow</code> through other platform mechanisms will fail.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In particular, only one <code>VkSurfaceKHR</code> <strong>can</strong> exist at a time for a given
window.
Similarly, a native window <strong>cannot</strong> be used by both a <code>VkSurfaceKHR</code> and
<code>EGLSurface</code> simultaneously.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If successful, <code>vkCreateAndroidSurfaceKHR</code> increments the
<code>ANativeWindow</code>&#8217;s reference count, and <code>vkDestroySurfaceKHR</code> will
decrement it.</p>
</div>
<div class="paragraph">
<p>On Android, when a swapchain&#8217;s <code>imageExtent</code> does not match the
surface&#8217;s <code>currentExtent</code>, the presentable images will be scaled to the
surface&#8217;s dimensions during presentation.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
image size supported by the consumer.
For the system compositor, <code>currentExtent</code> is the window size (i.e. the
consumer&#8217;s preferred size).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-instance-parameter" href="#VUID-vkCreateAndroidSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter" href="#VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateAndroidSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAndroidSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkAndroidSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_android_surface
typedef struct VkAndroidSurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkAndroidSurfaceCreateFlagsKHR    flags;
    struct ANativeWindow*             window;
} VkAndroidSurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>window</code> is a pointer to the <code>ANativeWindow</code> to associate the
surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-window-01248" href="#VUID-VkAndroidSurfaceCreateInfoKHR-window-01248"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-window-01248</span><br>

<code>window</code> <strong>must</strong> point to a valid Android <code>ANativeWindow</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType" href="#VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkAndroidSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To remove an unnecessary compile time dependency, an incomplete type
definition of <code>ANativeWindow</code> is provided in the Vulkan headers:</p>
</div>
<div id="ANativeWindow" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_android_surface
struct ANativeWindow;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual <code>ANativeWindow</code> type is defined in Android NDK headers.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkAndroidSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_android_surface
typedef VkFlags VkAndroidSurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkAndroidSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_wayland"><a class="anchor" href="#platformCreateSurface_wayland"></a>Wayland Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Wayland surface, call:</p>
</div>
<div id="vkCreateWaylandSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_wayland_surface
VkResult vkCreateWaylandSurfaceKHR(
    VkInstance                                  instance,
    const VkWaylandSurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-instance-parameter" href="#VUID-vkCreateWaylandSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter" href="#VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateWaylandSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWaylandSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkWaylandSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_wayland_surface
typedef struct VkWaylandSurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkWaylandSurfaceCreateFlagsKHR    flags;
    struct wl_display*                display;
    struct wl_surface*                surface;
} VkWaylandSurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>display</code> and <code>surface</code> are pointers to the Wayland
<code>wl_display</code> and <code>wl_surface</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-display-01304" href="#VUID-VkWaylandSurfaceCreateInfoKHR-display-01304"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-display-01304</span><br>

<code>display</code> <strong>must</strong> point to a valid Wayland <code>wl_display</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305" href="#VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-surface-01305</span><br>

<code>surface</code> <strong>must</strong> point to a valid Wayland <code>wl_surface</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType" href="#VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkWaylandSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Wayland, <code>currentExtent</code> is the special value <span class="eq">(0xFFFFFFFF,
0xFFFFFFFF)</span>, indicating that the surface size will be determined by the
extent of a swapchain targeting the surface.
Whatever the application sets a swapchain&#8217;s <code>imageExtent</code> to will be the
size of the window, after the first image is presented.
<code>minImageExtent</code> is <span class="eq">(1,1)</span>, and <code>maxImageExtent</code> is the maximum
supported surface size.
Any calls to <a href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> on a surface
created with <code>vkCreateWaylandSurfaceKHR</code> are <strong>required</strong> to return
<code>VK_PRESENT_MODE_MAILBOX_KHR</code> as one of the valid present modes.</p>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong>may</strong> send protocol over the specified <code>wl_display</code>
connection when using a swapchain or presentable images created from a
<code>VkSurfaceKHR</code> referring to a <code>wl_surface</code>.
Applications <strong>must</strong> therefore ensure that both the <code>wl_display</code> and the
<code>wl_surface</code> remain valid for the lifetime of any <code>VkSwapchainKHR</code>
objects created from a particular <code>wl_display</code> and <code>wl_surface</code>.
Also, calling <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> will result in Vulkan sending
<code>wl_surface.commit</code> requests to the underlying <code>wl_surface</code> of each
The <code>wl_surface.attach</code>, <code>wl_surface.damage</code>, and
<code>wl_surface.commit</code> requests <strong>must</strong> be issued by the implementation during
the call to <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> and <strong>must</strong> not be issued by the
implementation outside of <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>.
This ensures that any Wayland requests sent by the client after the call to
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> returns will be received by the compositor after the
<code>wl_surface.commit</code>.
Regardless of the mode of swapchain creation, a new <code>wl_event_queue</code>
<strong>must</strong> be created for each successful <a href="#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a> call,
and every Wayland object created by the implementation <strong>must</strong> be assigned to
this event queue.
If the platform provides Wayland 1.11 or greater, this <strong>must</strong> be implemented
by the use of Wayland proxy object wrappers, to avoid race conditions.</p>
</div>
<div class="paragraph">
<p>If the application wishes to synchronize any window changes with a
particular frame, such requests <strong>must</strong> be sent to the Wayland display server
prior to calling <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkWaylandSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_wayland_surface
typedef VkFlags VkWaylandSurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkWaylandSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_win32"><a class="anchor" href="#platformCreateSurface_win32"></a>Win32 Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Win32 window, call:</p>
</div>
<div id="vkCreateWin32SurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_win32_surface
VkResult vkCreateWin32SurfaceKHR(
    VkInstance                                  instance,
    const VkWin32SurfaceCreateInfoKHR*          pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkWin32SurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-instance-parameter" href="#VUID-vkCreateWin32SurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateWin32SurfaceKHR-pSurface-parameter" href="#VUID-vkCreateWin32SurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateWin32SurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong>may</strong> call the <code>SendMessage</code> system API when
interacting with a <code>VkSurfaceKHR</code> through a <code>VkSwapchainKHR</code>.
In a multithreaded environment, calling <code>SendMessage</code> from a thread that is
not the thread associated with <code>pCreateInfo-&gt;hwnd</code> will block until the
application has processed the window message.
Thus, applications <strong>should</strong> either call these Vulkan functions on the message
pump thread, or make sure their message pump is actively running.
Failing to do so <strong>may</strong> result in deadlocks.</p>
</div>
<div class="paragraph">
<p>The functions subject to this requirement are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></p>
</li>
<li>
<p><a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> and <a href="#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
<li>
<p><a href="#vkQueuePresentKHR">vkQueuePresentKHR</a></p>
</li>
<li>
<p><a href="#vkReleaseSwapchainImagesEXT">vkReleaseSwapchainImagesEXT</a></p>
</li>
<li>
<p><a href="#vkAcquireFullScreenExclusiveModeEXT">vkAcquireFullScreenExclusiveModeEXT</a></p>
</li>
<li>
<p><a href="#vkReleaseFullScreenExclusiveModeEXT">vkReleaseFullScreenExclusiveModeEXT</a></p>
</li>
<li>
<p><a href="#vkSetHdrMetadataEXT">vkSetHdrMetadataEXT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWin32SurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkWin32SurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_win32_surface
typedef struct VkWin32SurfaceCreateInfoKHR {
    VkStructureType                 sType;
    const void*                     pNext;
    VkWin32SurfaceCreateFlagsKHR    flags;
    HINSTANCE                       hinstance;
    HWND                            hwnd;
} VkWin32SurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>hinstance</code> is the Win32 <code>HINSTANCE</code> for the window to associate
the surface with.</p>
</li>
<li>
<p><code>hwnd</code> is the Win32 <code>HWND</code> for the window to associate the
surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307" href="#VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-hinstance-01307</span><br>

<code>hinstance</code> <strong>must</strong> be a valid Win32 <code>HINSTANCE</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308" href="#VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-hwnd-01308</span><br>

<code>hwnd</code> <strong>must</strong> be a valid Win32 <code>HWND</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-sType-sType" href="#VUID-VkWin32SurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkWin32SurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Win32, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong>must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of a Win32 surface <strong>must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong>may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong>cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div id="VkWin32SurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_win32_surface
typedef VkFlags VkWin32SurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkWin32SurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_xcb"><a class="anchor" href="#platformCreateSurface_xcb"></a>XCB Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the XCB
client-side library, call:</p>
</div>
<div id="vkCreateXcbSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xcb_surface
VkResult vkCreateXcbSurfaceKHR(
    VkInstance                                  instance,
    const VkXcbSurfaceCreateInfoKHR*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkXcbSurfaceCreateInfoKHR</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-instance-parameter" href="#VUID-vkCreateXcbSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXcbSurfaceKHR-pSurface-parameter" href="#VUID-vkCreateXcbSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateXcbSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXcbSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkXcbSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xcb_surface
typedef struct VkXcbSurfaceCreateInfoKHR {
    VkStructureType               sType;
    const void*                   pNext;
    VkXcbSurfaceCreateFlagsKHR    flags;
    xcb_connection_t*             connection;
    xcb_window_t                  window;
} VkXcbSurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
server.</p>
</li>
<li>
<p><code>window</code> is the <code>xcb_window_t</code> for the X11 window to associate
the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-connection-01310" href="#VUID-VkXcbSurfaceCreateInfoKHR-connection-01310"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-connection-01310</span><br>

<code>connection</code> <strong>must</strong> point to a valid X11 <code>xcb_connection_t</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-window-01311" href="#VUID-VkXcbSurfaceCreateInfoKHR-window-01311"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-window-01311</span><br>

<code>window</code> <strong>must</strong> be a valid X11 <code>xcb_window_t</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-sType-sType" href="#VUID-VkXcbSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkXcbSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Xcb, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong>must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of an Xcb surface <strong>must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong>may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong>cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong>may</strong> send protocol over the specified xcb connection
when using a swapchain or presentable images created from a
<a href="#VkSurfaceKHR">VkSurfaceKHR</a> referring to an xcb window.
Applications <strong>must</strong> therefore ensure the xcb connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with xcb-based swapchains <strong>must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Avoid holding a server grab on an xcb connection while waiting for
Vulkan operations to complete using a swapchain derived from a different
xcb connection referring to the same X server instance.
Failing to do so <strong>may</strong> result in deadlock.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div id="VkXcbSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xcb_surface
typedef VkFlags VkXcbSurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkXcbSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_xlib"><a class="anchor" href="#platformCreateSurface_xlib"></a>Xlib Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an X11 window, using the Xlib
client-side library, call:</p>
</div>
<div id="vkCreateXlibSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xlib_surface
VkResult vkCreateXlibSurfaceKHR(
    VkInstance                                  instance,
    const VkXlibSurfaceCreateInfoKHR*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkXlibSurfaceCreateInfoKHR</code>
structure containing the parameters affecting the creation of the
surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-instance-parameter" href="#VUID-vkCreateXlibSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateXlibSurfaceKHR-pSurface-parameter" href="#VUID-vkCreateXlibSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateXlibSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXlibSurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkXlibSurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xlib_surface
typedef struct VkXlibSurfaceCreateInfoKHR {
    VkStructureType                sType;
    const void*                    pNext;
    VkXlibSurfaceCreateFlagsKHR    flags;
    Display*                       dpy;
    Window                         window;
} VkXlibSurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the X
server.</p>
</li>
<li>
<p><code>window</code> is an Xlib <code>Window</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313" href="#VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-dpy-01313</span><br>

<code>dpy</code> <strong>must</strong> point to a valid Xlib <code>Display</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-window-01314" href="#VUID-VkXlibSurfaceCreateInfoKHR-window-01314"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-window-01314</span><br>

<code>window</code> <strong>must</strong> be a valid Xlib <code>Window</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-sType-sType" href="#VUID-VkXlibSurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkXlibSurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With Xlib, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong>must</strong> always equal the window size.</p>
</div>
<div class="paragraph">
<p>The <code>currentExtent</code> of an Xlib surface <strong>must</strong> have both <code>width</code> and
<code>height</code> greater than 0, or both of them 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to above restrictions,
unless <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> is used to specify
handling of disparities between surface and swapchain dimensions,
it is only possible to create a new swapchain on this platform with
<code>imageExtent</code> being equal to the current size of the window, as reported
in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code>.</p>
</div>
<div class="paragraph">
<p>The window size <strong>may</strong> become <span class="eq">(0, 0)</span> on this platform (e.g. when the
window is minimized), and so a swapchain <strong>cannot</strong> be created until the size
changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some Vulkan functions <strong>may</strong> send protocol over the specified Xlib
<code>Display</code> connection when using a swapchain or presentable images created
from a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> referring to an Xlib window.
Applications <strong>must</strong> therefore ensure the display connection is available to
Vulkan for the duration of any functions that manipulate such swapchains or
their presentable images, and any functions that build or queue command
buffers that operate on such presentable images.
Specifically, applications using Vulkan with Xlib-based swapchains <strong>must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Avoid holding a server grab on a display connection while waiting for
Vulkan operations to complete using a swapchain derived from a different
display connection referring to the same X server instance.
Failing to do so <strong>may</strong> result in deadlock.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some implementations may require threads to implement some presentation
modes so applications <strong>must</strong> call <code>XInitThreads</code>() before calling any
other Xlib functions.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkXlibSurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xlib_surface
typedef VkFlags VkXlibSurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkXlibSurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_directfb"><a class="anchor" href="#platformCreateSurface_directfb"></a>DirectFB Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a DirectFB surface, call:</p>
</div>
<div id="vkCreateDirectFBSurfaceEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_directfb_surface
VkResult vkCreateDirectFBSurfaceEXT(
    VkInstance                                  instance,
    const VkDirectFBSurfaceCreateInfoEXT*       pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkDirectFBSurfaceCreateInfoEXT</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-instance-parameter" href="#VUID-vkCreateDirectFBSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter" href="#VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDirectFBSurfaceCreateInfoEXT">VkDirectFBSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter" href="#VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter" href="#VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateDirectFBSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDirectFBSurfaceCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDirectFBSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_directfb_surface
typedef struct VkDirectFBSurfaceCreateInfoEXT {
    VkStructureType                    sType;
    const void*                        pNext;
    VkDirectFBSurfaceCreateFlagsEXT    flags;
    IDirectFB*                         dfb;
    IDirectFBSurface*                  surface;
} VkDirectFBSurfaceCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dfb</code> is a pointer to the <code>IDirectFB</code> main interface of DirectFB.</p>
</li>
<li>
<p><code>surface</code> is a pointer to a <code>IDirectFBSurface</code> surface interface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117" href="#VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-dfb-04117</span><br>

<code>dfb</code> <strong>must</strong> point to a valid DirectFB <code>IDirectFB</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118" href="#VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-surface-04118</span><br>

<code>surface</code> <strong>must</strong> point to a valid DirectFB <code>IDirectFBSurface</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType" href="#VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DIRECTFB_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext" href="#VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask" href="#VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkDirectFBSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With DirectFB, <code>minImageExtent</code>, <code>maxImageExtent</code>, and
<code>currentExtent</code> <strong>must</strong> always equal the surface size.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkDirectFBSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_directfb_surface
typedef VkFlags VkDirectFBSurfaceCreateFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDirectFBSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_imagepipe"><a class="anchor" href="#platformCreateSurface_imagepipe"></a>Fuchsia Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Fuchsia ImagePipe, call:</p>
</div>
<div id="vkCreateImagePipeSurfaceFUCHSIA" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_FUCHSIA_imagepipe_surface
VkResult vkCreateImagePipeSurfaceFUCHSIA(
    VkInstance                                  instance,
    const VkImagePipeSurfaceCreateInfoFUCHSIA*  pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate with the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="#VkImagePipeSurfaceCreateInfoFUCHSIA">VkImagePipeSurfaceCreateInfoFUCHSIA</a> structure containing
parameters affecting the creation of the surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter" href="#VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter" href="#VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkImagePipeSurfaceCreateInfoFUCHSIA">VkImagePipeSurfaceCreateInfoFUCHSIA</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter" href="#VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter" href="#VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateImagePipeSurfaceFUCHSIA-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImagePipeSurfaceCreateInfoFUCHSIA</code> structure is defined as:</p>
</div>
<div id="VkImagePipeSurfaceCreateInfoFUCHSIA" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_FUCHSIA_imagepipe_surface
typedef struct VkImagePipeSurfaceCreateInfoFUCHSIA {
    VkStructureType                         sType;
    const void*                             pNext;
    VkImagePipeSurfaceCreateFlagsFUCHSIA    flags;
    zx_handle_t                             imagePipeHandle;
} VkImagePipeSurfaceCreateInfoFUCHSIA;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>imagePipeHandle</code> is a <code>zx_handle_t</code> referring to the ImagePipe
to associate with the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863" href="#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-imagePipeHandle-04863</span><br>

<code>imagePipeHandle</code> <strong>must</strong> be a valid <code>zx_handle_t</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType" href="#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IMAGEPIPE_SURFACE_CREATE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext" href="#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask" href="#VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask"></a> <span class="vuid">VUID-VkImagePipeSurfaceCreateInfoFUCHSIA-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Fuchsia, the surface <code>currentExtent</code> is the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>, indicating that the surface size will be
determined by the extent of a swapchain targeting the surface.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkImagePipeSurfaceCreateFlagsFUCHSIA" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_FUCHSIA_imagepipe_surface
typedef VkFlags VkImagePipeSurfaceCreateFlagsFUCHSIA;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImagePipeSurfaceCreateFlagsFUCHSIA</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_streamdescriptor"><a class="anchor" href="#platformCreateSurface_streamdescriptor"></a>Google Games Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a Google Games Platform stream
descriptor, call:</p>
</div>
<div id="vkCreateStreamDescriptorSurfaceGGP" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GGP_stream_descriptor_surface
VkResult vkCreateStreamDescriptorSurfaceGGP(
    VkInstance                                  instance,
    const VkStreamDescriptorSurfaceCreateInfoGGP* pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate with the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<code>VkStreamDescriptorSurfaceCreateInfoGGP</code> structure containing
parameters that affect the creation of the surface object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter" href="#VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter" href="#VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkStreamDescriptorSurfaceCreateInfoGGP">VkStreamDescriptorSurfaceCreateInfoGGP</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter" href="#VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter" href="#VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateStreamDescriptorSurfaceGGP-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkStreamDescriptorSurfaceCreateInfoGGP</code> structure is defined as:</p>
</div>
<div id="VkStreamDescriptorSurfaceCreateInfoGGP" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GGP_stream_descriptor_surface
typedef struct VkStreamDescriptorSurfaceCreateInfoGGP {
    VkStructureType                            sType;
    const void*                                pNext;
    VkStreamDescriptorSurfaceCreateFlagsGGP    flags;
    GgpStreamDescriptor                        streamDescriptor;
} VkStreamDescriptorSurfaceCreateInfoGGP;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>streamDescriptor</code> is a <code>GgpStreamDescriptor</code> referring to the
GGP stream descriptor to associate with the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681" href="#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-streamDescriptor-02681</span><br>

<code>streamDescriptor</code> <strong>must</strong> be a valid <code>GgpStreamDescriptor</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType" href="#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_STREAM_DESCRIPTOR_SURFACE_CREATE_INFO_GGP</code></p>
</li>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext" href="#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask" href="#VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask"></a> <span class="vuid">VUID-VkStreamDescriptorSurfaceCreateInfoGGP-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>On Google Games Platform, the surface extents are dynamic.
The <code>minImageExtent</code> will never be greater than 1080p and the
<code>maxImageExtent</code> will never be less than 1080p.
The <code>currentExtent</code> will reflect the current optimal resolution.</p>
</div>
<div class="paragraph">
<p>Applications are expected to choose an appropriate size for the swapchain&#8217;s
<code>imageExtent</code>, within the bounds of the surface.
Using the surface&#8217;s <code>currentExtent</code> will offer the best performance and
quality.
When a swapchain&#8217;s <code>imageExtent</code> does not match the surface&#8217;s
<code>currentExtent</code>, the presentable images are scaled to the surface&#8217;s
dimensions during presentation if possible and <code>VK_SUBOPTIMAL_KHR</code> is
returned, otherwise presentation fails with <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkStreamDescriptorSurfaceCreateFlagsGGP" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GGP_stream_descriptor_surface
typedef VkFlags VkStreamDescriptorSurfaceCreateFlagsGGP;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkStreamDescriptorSurfaceCreateFlagsGGP</code> is a bitmask type for setting
a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_ios"><a class="anchor" href="#platformCreateSurface_ios"></a>iOS Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an iOS <code>UIView</code> or
<code>CAMetalLayer</code>, call:</p>
</div>
<div id="vkCreateIOSSurfaceMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_ios_surface
VkResult vkCreateIOSSurfaceMVK(
    VkInstance                                  instance,
    const VkIOSSurfaceCreateInfoMVK*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>vkCreateIOSSurfaceMVK</code> function is considered deprecated and has been
superseded by <a href="#vkCreateMetalSurfaceEXT">vkCreateMetalSurfaceEXT</a> from the
<code><a href="../../appendices/extensions.html#VK_EXT_metal_surface" class="xref page">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-instance-parameter" href="#VUID-vkCreateIOSSurfaceMVK-instance-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter" href="#VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter" href="#VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateIOSSurfaceMVK-pSurface-parameter" href="#VUID-vkCreateIOSSurfaceMVK-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateIOSSurfaceMVK-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a> structure is defined as:</p>
</div>
<div id="VkIOSSurfaceCreateInfoMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_ios_surface
typedef struct VkIOSSurfaceCreateInfoMVK {
    VkStructureType               sType;
    const void*                   pNext;
    VkIOSSurfaceCreateFlagsMVK    flags;
    const void*                   pView;
} VkIOSSurfaceCreateInfoMVK;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pView</code> is a reference to either a <code>CAMetalLayer</code> object or a
<code>UIView</code> object.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pView-04143" href="#VUID-VkIOSSurfaceCreateInfoMVK-pView-04143"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pView-04143</span><br>

If <code>pView</code> is a <code>CAMetalLayer</code> object, it <strong>must</strong> be a valid
<code>CAMetalLayer</code></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pView-01316" href="#VUID-VkIOSSurfaceCreateInfoMVK-pView-01316"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pView-01316</span><br>

If <code>pView</code> is a <code>UIView</code> object, it <strong>must</strong> be a valid <code>UIView</code>,
<strong>must</strong> be backed by a <code>CALayer</code> object of type <code>CAMetalLayer</code>,
and <a href="#vkCreateIOSSurfaceMVK">vkCreateIOSSurfaceMVK</a> <strong>must</strong> be called on the main thread</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-sType-sType" href="#VUID-VkIOSSurfaceCreateInfoMVK-sType-sType"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext" href="#VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask" href="#VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask"></a> <span class="vuid">VUID-VkIOSSurfaceCreateInfoMVK-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkIOSSurfaceCreateFlagsMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_ios_surface
typedef VkFlags VkIOSSurfaceCreateFlagsMVK;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkIOSSurfaceCreateFlagsMVK</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_macos"><a class="anchor" href="#platformCreateSurface_macos"></a>macOS Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a macOS <code>NSView</code> or
<code>CAMetalLayer</code>, call:</p>
</div>
<div id="vkCreateMacOSSurfaceMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_macos_surface
VkResult vkCreateMacOSSurfaceMVK(
    VkInstance                                  instance,
    const VkMacOSSurfaceCreateInfoMVK*          pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>vkCreateMacOSSurfaceMVK</code> function is considered deprecated and has been
superseded by <a href="#vkCreateMetalSurfaceEXT">vkCreateMetalSurfaceEXT</a> from the
<code><a href="../../appendices/extensions.html#VK_EXT_metal_surface" class="xref page">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-instance-parameter" href="#VUID-vkCreateMacOSSurfaceMVK-instance-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter" href="#VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter" href="#VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter" href="#VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateMacOSSurfaceMVK-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a> structure is defined as:</p>
</div>
<div id="VkMacOSSurfaceCreateInfoMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_macos_surface
typedef struct VkMacOSSurfaceCreateInfoMVK {
    VkStructureType                 sType;
    const void*                     pNext;
    VkMacOSSurfaceCreateFlagsMVK    flags;
    const void*                     pView;
} VkMacOSSurfaceCreateInfoMVK;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pView</code> is a reference to either a <code>CAMetalLayer</code> object or
an <code>NSView</code> object.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144" href="#VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pView-04144</span><br>

If <code>pView</code> is a <code>CAMetalLayer</code> object, it <strong>must</strong> be a valid
<code>CAMetalLayer</code></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317" href="#VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pView-01317</span><br>

If <code>pView</code> is an <code>NSView</code> object, it <strong>must</strong> be a valid
<code>NSView</code>, <strong>must</strong> be backed by a <code>CALayer</code> object of type
<code>CAMetalLayer</code>, and <a href="#vkCreateMacOSSurfaceMVK">vkCreateMacOSSurfaceMVK</a> <strong>must</strong> be called
on the main thread</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType" href="#VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_MACOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext" href="#VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask" href="#VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask"></a> <span class="vuid">VUID-VkMacOSSurfaceCreateInfoMVK-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMacOSSurfaceCreateFlagsMVK" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_MVK_macos_surface
typedef VkFlags VkMacOSSurfaceCreateFlagsMVK;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMacOSSurfaceCreateFlagsMVK</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_vi"><a class="anchor" href="#platformCreateSurface_vi"></a>VI Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for an <code>nn</code>::<code>vi</code>::<code>Layer</code>,
query the layer&#8217;s native handle using
<code>nn</code>::<code>vi</code>::<code>GetNativeWindow</code>, and then call:</p>
</div>
<div id="vkCreateViSurfaceNN" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NN_vi_surface
VkResult vkCreateViSurfaceNN(
    VkInstance                                  instance,
    const VkViSurfaceCreateInfoNN*              pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkViSurfaceCreateInfoNN</code>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During the lifetime of a surface created using a particular
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code>, applications <strong>must</strong> not attempt to
create another surface for the same <code>nn</code>::<code>vi</code>::<code>Layer</code> or attempt
to connect to the same <code>nn</code>::<code>vi</code>::<code>Layer</code> through other platform
mechanisms.</p>
</div>
<div class="paragraph">
<p>If the native window is created with a specified size, <code>currentExtent</code>
will reflect that size.
In this case, applications should use the same size for the swapchain&#8217;s
<code>imageExtent</code>.
Otherwise, the <code>currentExtent</code> will have the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>, indicating that applications are expected to
choose an appropriate size for the swapchain&#8217;s <code>imageExtent</code> (e.g., by
matching the result of a call to
<code>nn</code>::<code>vi</code>::<code>GetDisplayResolution</code>).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-instance-parameter" href="#VUID-vkCreateViSurfaceNN-instance-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pCreateInfo-parameter" href="#VUID-vkCreateViSurfaceNN-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkViSurfaceCreateInfoNN">VkViSurfaceCreateInfoNN</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pAllocator-parameter" href="#VUID-vkCreateViSurfaceNN-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateViSurfaceNN-pSurface-parameter" href="#VUID-vkCreateViSurfaceNN-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateViSurfaceNN-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViSurfaceCreateInfoNN</code> structure is defined as:</p>
</div>
<div id="VkViSurfaceCreateInfoNN" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NN_vi_surface
typedef struct VkViSurfaceCreateInfoNN {
    VkStructureType             sType;
    const void*                 pNext;
    VkViSurfaceCreateFlagsNN    flags;
    void*                       window;
} VkViSurfaceCreateInfoNN;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>window</code> is the <code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code> for the
<code>nn</code>::<code>vi</code>::<code>Layer</code> with which to associate the surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-window-01318" href="#VUID-VkViSurfaceCreateInfoNN-window-01318"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-window-01318</span><br>

<code>window</code> <strong>must</strong> be a valid <code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-sType-sType" href="#VUID-VkViSurfaceCreateInfoNN-sType-sType"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_VI_SURFACE_CREATE_INFO_NN</code></p>
</li>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-pNext-pNext" href="#VUID-VkViSurfaceCreateInfoNN-pNext-pNext"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask" href="#VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask"></a> <span class="vuid">VUID-VkViSurfaceCreateInfoNN-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkViSurfaceCreateFlagsNN" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NN_vi_surface
typedef VkFlags VkViSurfaceCreateFlagsNN;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkViSurfaceCreateFlagsNN</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_metal"><a class="anchor" href="#platformCreateSurface_metal"></a>Metal Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a <code>CAMetalLayer</code>, call:</p>
</div>
<div id="vkCreateMetalSurfaceEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_metal_surface
VkResult vkCreateMetalSurfaceEXT(
    VkInstance                                  instance,
    const VkMetalSurfaceCreateInfoEXT*          pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance with which to associate the surface.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a>
structure specifying parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <code>VkSurfaceKHR</code> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-instance-parameter" href="#VUID-vkCreateMetalSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter" href="#VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter" href="#VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateMetalSurfaceEXT-pSurface-parameter" href="#VUID-vkCreateMetalSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateMetalSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkMetalSurfaceCreateInfoEXT">VkMetalSurfaceCreateInfoEXT</a> structure is defined as:</p>
</div>
<div id="VkMetalSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_metal_surface
typedef struct VkMetalSurfaceCreateInfoEXT {
    VkStructureType                 sType;
    const void*                     pNext;
    VkMetalSurfaceCreateFlagsEXT    flags;
    const CAMetalLayer*             pLayer;
} VkMetalSurfaceCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pLayer</code> is a reference to a <code>CAMetalLayer</code> object
representing a renderable surface.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-sType-sType" href="#VUID-VkMetalSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_METAL_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext" href="#VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask" href="#VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkMetalSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To remove an unnecessary compile time dependency, an incomplete type
definition of <code>CAMetalLayer</code> is provided in the Vulkan headers:</p>
</div>
<div id="CAMetalLayer" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_metal_surface
#ifdef __OBJC__
@class CAMetalLayer;
#else
typedef void CAMetalLayer;
#endif</code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual <code>CAMetalLayer</code> type is defined in the QuartzCore
framework.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMetalSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_metal_surface
typedef VkFlags VkMetalSurfaceCreateFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMetalSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformCreateSurface_screen"><a class="anchor" href="#platformCreateSurface_screen"></a>QNX Screen Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a <code>VkSurfaceKHR</code> object for a QNX Screen surface, call:</p>
</div>
<div id="vkCreateScreenSurfaceQNX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_QNX_screen_surface
VkResult vkCreateScreenSurfaceQNX(
    VkInstance                                  instance,
    const VkScreenSurfaceCreateInfoQNX*         pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkScreenSurfaceCreateInfoQNX">VkScreenSurfaceCreateInfoQNX</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-instance-parameter" href="#VUID-vkCreateScreenSurfaceQNX-instance-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter" href="#VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkScreenSurfaceCreateInfoQNX">VkScreenSurfaceCreateInfoQNX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter" href="#VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateScreenSurfaceQNX-pSurface-parameter" href="#VUID-vkCreateScreenSurfaceQNX-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateScreenSurfaceQNX-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkScreenSurfaceCreateInfoQNX</code> structure is defined as:</p>
</div>
<div id="VkScreenSurfaceCreateInfoQNX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_QNX_screen_surface
typedef struct VkScreenSurfaceCreateInfoQNX {
    VkStructureType                  sType;
    const void*                      pNext;
    VkScreenSurfaceCreateFlagsQNX    flags;
    struct _screen_context*          context;
    struct _screen_window*           window;
} VkScreenSurfaceCreateInfoQNX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>context</code> and <code>window</code> are QNX Screen <code>context</code> and
<code>window</code> to associate the surface with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-context-04741" href="#VUID-VkScreenSurfaceCreateInfoQNX-context-04741"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-context-04741</span><br>

<code>context</code> <strong>must</strong> point to a valid QNX Screen <code>struct</code>
_screen_context</p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-window-04742" href="#VUID-VkScreenSurfaceCreateInfoQNX-window-04742"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-window-04742</span><br>

<code>window</code> <strong>must</strong> point to a valid QNX Screen <code>struct</code>
_screen_window</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-sType-sType" href="#VUID-VkScreenSurfaceCreateInfoQNX-sType-sType"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SCREEN_SURFACE_CREATE_INFO_QNX</code></p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext" href="#VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask" href="#VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask"></a> <span class="vuid">VUID-VkScreenSurfaceCreateInfoQNX-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkScreenSurfaceCreateFlagsQNX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_QNX_screen_surface
typedef VkFlags VkScreenSurfaceCreateFlagsQNX;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkScreenSurfaceCreateFlagsQNX</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_platform_independent_information"><a class="anchor" href="#_platform_independent_information"></a>Platform-Independent Information</h3>
<div class="paragraph">
<p>Once created, <code>VkSurfaceKHR</code> objects <strong>can</strong> be used in this and other
extensions, in particular the <code><a href="../../appendices/extensions.html#VK_KHR_swapchain" class="xref page">VK_KHR_swapchain</a></code> extension.</p>
</div>
<div class="paragraph">
<p>Several WSI functions return <code>VK_ERROR_SURFACE_LOST_KHR</code> if the surface
becomes no longer available.
After such an error, the surface (and any child swapchain, if one exists)
<strong>should</strong> be destroyed, as there is no way to restore them to a not-lost
state.
Applications <strong>may</strong> attempt to create a new <code>VkSurfaceKHR</code> using the same
native platform window object, but whether such re-creation will succeed is
platform-dependent and <strong>may</strong> depend on the reason the surface became
unavailable.
A lost surface does not otherwise cause devices to be
<a href="../devsandqueues.html#devsandqueues-lost-device" class="xref page">lost</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a <code>VkSurfaceKHR</code> object, call:</p>
</div>
<div id="vkDestroySurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
void vkDestroySurfaceKHR(
    VkInstance                                  instance,
    VkSurfaceKHR                                surface,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance used to create the surface.</p>
</li>
<li>
<p><code>surface</code> is the surface to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Destroying a <code>VkSurfaceKHR</code> merely severs the connection between Vulkan
and the native surface, and does not imply destroying the native surface,
closing a window, or similar behavior.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01266" href="#VUID-vkDestroySurfaceKHR-surface-01266"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01266</span><br>

All <code>VkSwapchainKHR</code> objects created for <code>surface</code> <strong>must</strong> have
been destroyed prior to destroying <code>surface</code></p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01267" href="#VUID-vkDestroySurfaceKHR-surface-01267"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01267</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-01268" href="#VUID-vkDestroySurfaceKHR-surface-01268"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-01268</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>surface</code> was
created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-instance-parameter" href="#VUID-vkDestroySurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-parameter" href="#VUID-vkDestroySurfaceKHR-surface-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-pAllocator-parameter" href="#VUID-vkDestroySurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySurfaceKHR-surface-parent" href="#VUID-vkDestroySurfaceKHR-surface-parent"></a> <span class="vuid">VUID-vkDestroySurfaceKHR-surface-parent</span><br>
 If <code>surface</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>instance</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="display"><a class="anchor" href="#display"></a>Presenting Directly to Display Devices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some environments applications <strong>can</strong> also present Vulkan rendering
directly to display devices without using an intermediate windowing system.
This <strong>can</strong> be useful for embedded applications, or implementing the
rendering/presentation backend of a windowing system using Vulkan.
The <code><a href="../../appendices/extensions.html#VK_KHR_display" class="xref page">VK_KHR_display</a></code> extension provides the functionality necessary
to enumerate display devices and create <code>VkSurfaceKHR</code> objects that
target displays.</p>
</div>
<div class="sect2">
<h3 id="_display_enumeration"><a class="anchor" href="#_display_enumeration"></a>Display Enumeration</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Displays are represented by <code>VkDisplayKHR</code> handles:</p>
</div>
<div id="VkDisplayKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDisplayKHR)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Various functions are provided for enumerating the available display devices
present on a Vulkan physical device.
To query information about the available displays, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkGetPhysicalDeviceDisplayPropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayPropertiesKHR*                     pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display devices available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display devices available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pProperties</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
devices for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available properties were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayPropertiesKHR {
    VkDisplayKHR                  display;
    const char*                   displayName;
    VkExtent2D                    physicalDimensions;
    VkExtent2D                    physicalResolution;
    VkSurfaceTransformFlagsKHR    supportedTransforms;
    VkBool32                      planeReorderPossible;
    VkBool32                      persistentContent;
} VkDisplayPropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>display</code> is a handle that is used to refer to the display described
here.
This handle will be valid for the lifetime of the Vulkan instance.</p>
</li>
<li>
<p><code>displayName</code> is <code>NULL</code> or a pointer to a null-terminated UTF-8
string containing the name of the display.
Generally, this will be the name provided by the display&#8217;s EDID.
If <code>NULL</code>, no suitable name is available.
If not <code>NULL</code>, the string pointed to <strong>must</strong> remain accessible and
unmodified as long as <code>display</code> is valid.</p>
</li>
<li>
<p><code>physicalDimensions</code> describes the physical width and height of the
visible portion of the display, in millimeters.</p>
</li>
<li>
<p><code>physicalResolution</code> describes the physical, native, or preferred
resolution of the display.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For devices which have no natural value to return here, implementations
<strong>should</strong> return the maximum resolution supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> describing which transforms are
supported by this display.</p>
</li>
<li>
<p><code>planeReorderPossible</code> tells whether the planes on this display <strong>can</strong>
have their z order changed.
If this is <code>VK_TRUE</code>, the application <strong>can</strong> re-arrange the planes on
this display in any order relative to each other.</p>
</li>
<li>
<p><code>persistentContent</code> tells whether the display supports
self-refresh/internal buffering.
If this is true, the application <strong>can</strong> submit persistent present
operations on swapchains created against this display.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Persistent presents <strong>may</strong> have higher latency, and <strong>may</strong> use less power when
the screen content is updated infrequently, or when only a portion of the
screen needs to be updated in most frames.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query information about the available displays, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
VkResult vkGetPhysicalDeviceDisplayProperties2KHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayProperties2KHR*                    pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display devices available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceDisplayProperties2KHR</code> behaves similarly to
<a href="#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a>, with the ability to return
extended information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayProperties2KHR">VkDisplayProperties2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
typedef struct VkDisplayProperties2KHR {
    VkStructureType           sType;
    void*                     pNext;
    VkDisplayPropertiesKHR    displayProperties;
} VkDisplayProperties2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayProperties</code> is a <a href="#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayProperties2KHR-sType-sType" href="#VUID-VkDisplayProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayProperties2KHR-pNext-pNext" href="#VUID-VkDisplayProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_acquiring_and_releasing_displays"><a class="anchor" href="#_acquiring_and_releasing_displays"></a>Acquiring and Releasing Displays</h4>
<div class="paragraph">
<p>On some platforms, access to displays is limited to a single process or
native driver instance.
On such platforms, some or all of the displays may not be available to
Vulkan if they are already in use by a native windowing system or other
application.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly access a display in Vulkan from an X11
server, call:</p>
</div>
<div id="vkAcquireXlibDisplayEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_acquire_xlib_display
VkResult vkAcquireXlibDisplayEXT(
    VkPhysicalDevice                            physicalDevice,
    Display*                                    dpy,
    VkDisplayKHR                                display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>dpy</code> A connection to the X11 server that currently owns
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes to control in Vulkan.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with <code>physicalDevice</code> until the display is released
or the X11 connection specified by <code>dpy</code> is terminated.
Permission to access the display <strong>may</strong> be temporarily revoked during periods
when the X11 server from which control was acquired itself loses access to
<code>display</code>.
During such periods, operations which require access to the display <strong>must</strong>
fail with an appropriate error code.
If the X11 server associated with <code>dpy</code> does not own <code>display</code>, or
if permission to access it has already been acquired by another entity, the
call <strong>must</strong> return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>One example of when an X11 server loses access to a display is when it loses
ownership of its virtual terminal.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter" href="#VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-dpy-parameter" href="#VUID-vkAcquireXlibDisplayEXT-dpy-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-dpy-parameter</span><br>
 <code>dpy</code> <strong>must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-display-parameter" href="#VUID-vkAcquireXlibDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireXlibDisplayEXT-display-parent" href="#VUID-vkAcquireXlibDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkAcquireXlibDisplayEXT-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When acquiring displays from an X11 server, an application may also wish to
enumerate and identify them using a native handle rather than a
<code>VkDisplayKHR</code> handle.
To determine the <code>VkDisplayKHR</code> handle corresponding to an X11 RandR
Output, call:</p>
</div>
<div id="vkGetRandROutputDisplayEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_acquire_xlib_display
VkResult vkGetRandROutputDisplayEXT(
    VkPhysicalDevice                            physicalDevice,
    Display*                                    dpy,
    RROutput                                    rrOutput,
    VkDisplayKHR*                               pDisplay);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device to query the display handle on.</p>
</li>
<li>
<p><code>dpy</code> A connection to the X11 server from which <code>rrOutput</code> was
queried.</p>
</li>
<li>
<p><code>rrOutput</code> An X11 RandR output ID.</p>
</li>
<li>
<p><code>pDisplay</code> The corresponding <a href="#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="#VkDisplayKHR">VkDisplayKHR</a> corresponding to <code>rrOutput</code> on
<code>physicalDevice</code>, <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> be returned in
<code>pDisplay</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter" href="#VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-dpy-parameter" href="#VUID-vkGetRandROutputDisplayEXT-dpy-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-dpy-parameter</span><br>
 <code>dpy</code> <strong>must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter" href="#VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter"></a> <span class="vuid">VUID-vkGetRandROutputDisplayEXT-pDisplay-parameter</span><br>
 <code>pDisplay</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly access a display in Vulkan on Windows 10,
call:</p>
</div>
<div id="vkAcquireWinrtDisplayNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_acquire_winrt_display
VkResult vkAcquireWinrtDisplayNV(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes to control in Vulkan.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with <code>physicalDevice</code> until the display is released
or the application is terminated.
Permission to access the display <strong>may</strong> be revoked by events that cause
Windows 10 itself to lose access to <code>display</code>.
If this has happened, operations which require access to the display <strong>must</strong>
fail with an appropriate error code.
If permission to access <code>display</code> has already been acquired by another
entity, the call <strong>must</strong> return the error code
<code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Vulkan instance acquires control of a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">&#8220;winrt::Windows::Devices::Display::Core::DisplayTarget&#8221;</a>
by performing an operation equivalent to
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaymanager.tryacquiretarget">&#8220;winrt::Windows::Devices::Display::Core::DisplayManager.TryAcquireTarget()&#8221;</a>
on the &#8220;DisplayTarget&#8221;.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>One example of when Windows 10 loses access to a display is when the display
is hot-unplugged.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>One example of when a display has already been acquired by another entity is
when the Windows desktop compositor (DWM) is in control of the display.
Beginning with Windows 10 version 2004 it is possible to cause DWM to
release a display by using the &#8220;Advanced display settings&#8221; sub-page of the
&#8220;Display settings&#8221; control panel.
<a href="#vkAcquireWinrtDisplayNV">vkAcquireWinrtDisplayNV</a> does not itself cause DWM to release a
display; this action must be performed outside of Vulkan.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter" href="#VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-display-parameter" href="#VUID-vkAcquireWinrtDisplayNV-display-parameter"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireWinrtDisplayNV-display-parent" href="#VUID-vkAcquireWinrtDisplayNV-display-parent"></a> <span class="vuid">VUID-vkAcquireWinrtDisplayNV-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When acquiring displays on Windows 10, an application may also wish to
enumerate and identify them using a native handle rather than a
<code>VkDisplayKHR</code> handle.</p>
</div>
<div class="paragraph">
<p>To determine the <code>VkDisplayKHR</code> handle corresponding to a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">&#8220;winrt::Windows::Devices::Display::Core::DisplayTarget&#8221;</a>,
call:</p>
</div>
<div id="vkGetWinrtDisplayNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_acquire_winrt_display
VkResult vkGetWinrtDisplayNV(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    deviceRelativeId,
    VkDisplayKHR*                               pDisplay);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device on which to query the display
handle.</p>
</li>
<li>
<p><code>deviceRelativeId</code> The value of the
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget.adapterrelativeid">&#8220;AdapterRelativeId&#8221;</a>
property of a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">&#8220;DisplayTarget&#8221;</a>
that is enumerated by a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displayadapter">&#8220;DisplayAdapter&#8221;</a>
with an
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displayadapter.id">&#8220;Id&#8221;</a>
property matching the <code>deviceLUID</code> property of a
<a href="../devsandqueues.html#VkPhysicalDeviceIDProperties" class="xref page">VkPhysicalDeviceIDProperties</a> for <code>physicalDevice</code>.</p>
</li>
<li>
<p><code>pDisplay</code> The corresponding <a href="#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="#VkDisplayKHR">VkDisplayKHR</a> corresponding to <code>deviceRelativeId</code> on
<code>physicalDevice</code>, <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> be returned in
<code>pDisplay</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetWinrtDisplayNV-physicalDevice-parameter" href="#VUID-vkGetWinrtDisplayNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetWinrtDisplayNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetWinrtDisplayNV-pDisplay-parameter" href="#VUID-vkGetWinrtDisplayNV-pDisplay-parameter"></a> <span class="vuid">VUID-vkGetWinrtDisplayNV-pDisplay-parameter</span><br>
 <code>pDisplay</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire permission to directly a display in Vulkan from the Direct
Rendering Manager (DRM) interface, call:</p>
</div>
<div id="vkAcquireDrmDisplayEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_acquire_drm_display
VkResult vkAcquireDrmDisplayEXT(
    VkPhysicalDevice                            physicalDevice,
    int32_t                                     drmFd,
    VkDisplayKHR                                display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>drmFd</code> DRM primary file descriptor.</p>
</li>
<li>
<p><code>display</code> The display the caller wishes Vulkan to control.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All permissions necessary to control the display are granted to the Vulkan
instance associated with the provided <code>physicalDevice</code> until the display
is either released or the connector is unplugged.
The provided <code>drmFd</code> <strong>must</strong> correspond to the one owned by the
<code>physicalDevice</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> <strong>must</strong> be returned.
The DRM FD must have DRM master permissions.
If any error is encountered during the acquisition of the display, the call
<strong>must</strong> return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="paragraph">
<p>The provided DRM fd should not be closed before the display is released,
attempting to do it may result in <strong>undefined</strong> behavior.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter" href="#VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-display-parameter" href="#VUID-vkAcquireDrmDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireDrmDisplayEXT-display-parent" href="#VUID-vkAcquireDrmDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkAcquireDrmDisplayEXT-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Before acquiring a display from the DRM interface, the caller may want to
select a specific <code>VkDisplayKHR</code> handle by identifying it using a
<code>connectorId</code>.
To do so, call:</p>
</div>
<div id="vkGetDrmDisplayEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_acquire_drm_display
VkResult vkGetDrmDisplayEXT(
    VkPhysicalDevice                            physicalDevice,
    int32_t                                     drmFd,
    uint32_t                                    connectorId,
    VkDisplayKHR*                               display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device to query the display from.</p>
</li>
<li>
<p><code>drmFd</code> DRM primary file descriptor.</p>
</li>
<li>
<p><code>connectorId</code> Identifier of the specified DRM connector.</p>
</li>
<li>
<p><code>display</code> The corresponding <a href="#VkDisplayKHR">VkDisplayKHR</a> handle will be
returned here.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is no <a href="#VkDisplayKHR">VkDisplayKHR</a> corresponding to the <code>connectorId</code> on
the <code>physicalDevice</code>, the returning <code>display</code> <strong>must</strong> be
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.
The provided <code>drmFd</code> <strong>must</strong> correspond to the one owned by the
<code>physicalDevice</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> <strong>must</strong> be returned.
Master permissions are not required, because the file descriptor is just
used for information gathering purposes.
The given <code>connectorId</code> <strong>must</strong> be a resource owned by the provided
<code>drmFd</code>.
If not, the error code <code>VK_ERROR_UNKNOWN</code> <strong>must</strong> be returned.
If any error is encountered during the identification of the display, the
call <strong>must</strong> return the error code <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDrmDisplayEXT-physicalDevice-parameter" href="#VUID-vkGetDrmDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDrmDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDrmDisplayEXT-display-parameter" href="#VUID-vkGetDrmDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkGetDrmDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release a previously acquired display, call:</p>
</div>
<div id="vkReleaseDisplayEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_direct_mode_display
VkResult vkReleaseDisplayEXT(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> The physical device the display is on.</p>
</li>
<li>
<p><code>display</code> The display to release control of.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-physicalDevice-parameter" href="#VUID-vkReleaseDisplayEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-display-parameter" href="#VUID-vkReleaseDisplayEXT-display-parameter"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseDisplayEXT-display-parent" href="#VUID-vkReleaseDisplayEXT-display-parent"></a> <span class="vuid">VUID-vkReleaseDisplayEXT-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_display_planes"><a class="anchor" href="#_display_planes"></a>Display Planes</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Images are presented to individual planes on a display.
Devices <strong>must</strong> support at least one plane on each display.
Planes <strong>can</strong> be stacked and blended to composite multiple images on one
display.
Devices <strong>may</strong> support only a fixed stacking order and fixed mapping between
planes and displays, or they <strong>may</strong> allow arbitrary application-specified
stacking orders and mappings between planes and displays.
To query the properties of device display planes, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPlanePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkGetPhysicalDeviceDisplayPlanePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayPlanePropertiesKHR*                pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display planes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayPlanePropertiesKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display planes available
for <code>physicalDevice</code> is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pProperties</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
planes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures
will be written.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlanePropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlanePropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlanePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayPlanePropertiesKHR {
    VkDisplayKHR    currentDisplay;
    uint32_t        currentStackIndex;
} VkDisplayPlanePropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>currentDisplay</code> is the handle of the display the plane is currently
associated with.
If the plane is not currently attached to any displays, this will be
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p><code>currentStackIndex</code> is the current z-order of the plane.
This will be between 0 and the value returned by
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code> in
<code>pPropertyCount</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the properties of a device&#8217;s display planes, call:</p>
</div>
<div id="vkGetPhysicalDeviceDisplayPlaneProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
VkResult vkGetPhysicalDeviceDisplayPlaneProperties2KHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkDisplayPlaneProperties2KHR*               pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display planes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayPlaneProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceDisplayPlaneProperties2KHR</code> behaves similarly to
<a href="#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a>, with the ability to
return extended information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDisplayPlaneProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayPlaneProperties2KHR">VkDisplayPlaneProperties2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
typedef struct VkDisplayPlaneProperties2KHR {
    VkStructureType                sType;
    void*                          pNext;
    VkDisplayPlanePropertiesKHR    displayPlaneProperties;
} VkDisplayPlaneProperties2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayPlaneProperties</code> is a <a href="#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a>
structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneProperties2KHR-sType-sType" href="#VUID-VkDisplayPlaneProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneProperties2KHR-pNext-pNext" href="#VUID-VkDisplayPlaneProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine which displays a plane is usable with, call</p>
</div>
<div id="vkGetDisplayPlaneSupportedDisplaysKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkGetDisplayPlaneSupportedDisplaysKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    planeIndex,
    uint32_t*                                   pDisplayCount,
    VkDisplayKHR*                               pDisplays);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is a physical device.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane which the application wishes to use, and
<strong>must</strong> be in the range <span class="eq">[0, physical device plane count - 1]</span>.</p>
</li>
<li>
<p><code>pDisplayCount</code> is a pointer to an integer related to the number of
displays available or queried, as described below.</p>
</li>
<li>
<p><code>pDisplays</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayKHR</code> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pDisplays</code> is <code>NULL</code>, then the number of displays usable with the
specified <code>planeIndex</code> for <code>physicalDevice</code> is returned in
<code>pDisplayCount</code>.
Otherwise, <code>pDisplayCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pDisplays</code> array, and on
return the variable is overwritten with the number of handles actually
written to <code>pDisplays</code>.
If the value of <code>pDisplayCount</code> is less than the number of usable
display-plane pairs for <code>physicalDevice</code>, at most <code>pDisplayCount</code>
handles will be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available pairs were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249" href="#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-planeIndex-01249</span><br>

<code>planeIndex</code> <strong>must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter" href="#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter" href="#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplayCount-parameter</span><br>
 <code>pDisplayCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter" href="#VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneSupportedDisplaysKHR-pDisplays-parameter</span><br>
 If the value referenced by <code>pDisplayCount</code> is not <code>0</code>, and <code>pDisplays</code> is not <code>NULL</code>, <code>pDisplays</code> <strong>must</strong> be a valid pointer to an array of <code>pDisplayCount</code> <a href="#VkDisplayKHR">VkDisplayKHR</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Additional properties of displays are queried using specialized query
functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_display_modes"><a class="anchor" href="#_display_modes"></a>Display Modes</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Display modes are represented by <code>VkDisplayModeKHR</code> handles:</p>
</div>
<div id="VkDisplayModeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDisplayModeKHR)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each display has one or more supported modes associated with it by default.
These built-in modes are queried by calling:</p>
</div>
<div id="vkGetDisplayModePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkGetDisplayModePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display,
    uint32_t*                                   pPropertyCount,
    VkDisplayModePropertiesKHR*                 pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to query.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display modes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayModePropertiesKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of display modes available
on the specified <code>display</code> for <code>physicalDevice</code> is returned in
<code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pProperties</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pProperties</code>.
If the value of <code>pPropertyCount</code> is less than the number of display
modes for <code>physicalDevice</code>, at most <code>pPropertyCount</code> structures will
be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available display modes were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter" href="#VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-display-parameter" href="#VUID-vkGetDisplayModePropertiesKHR-display-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter" href="#VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter" href="#VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModePropertiesKHR-display-parent" href="#VUID-vkGetDisplayModePropertiesKHR-display-parent"></a> <span class="vuid">VUID-vkGetDisplayModePropertiesKHR-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModePropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayModePropertiesKHR {
    VkDisplayModeKHR              displayMode;
    VkDisplayModeParametersKHR    parameters;
} VkDisplayModePropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>displayMode</code> is a handle to the display mode described in this
structure.
This handle will be valid for the lifetime of the Vulkan instance.</p>
</li>
<li>
<p><code>parameters</code> is a <a href="#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure
describing the display parameters associated with <code>displayMode</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplayModeCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef VkFlags VkDisplayModeCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplayModeCreateFlagsKHR</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the properties of a device&#8217;s built-in display modes, call:</p>
</div>
<div id="vkGetDisplayModeProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
VkResult vkGetDisplayModeProperties2KHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display,
    uint32_t*                                   pPropertyCount,
    VkDisplayModeProperties2KHR*                pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to query.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
display modes available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<code>VkDisplayModeProperties2KHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDisplayModeProperties2KHR</code> behaves similarly to
<a href="#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a>, with the ability to return extended
information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter" href="#VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-display-parameter" href="#VUID-vkGetDisplayModeProperties2KHR-display-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter" href="#VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-pPropertyCount-parameter</span><br>
 <code>pPropertyCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter" href="#VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-pProperties-parameter</span><br>
 If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkDisplayModeProperties2KHR">VkDisplayModeProperties2KHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayModeProperties2KHR-display-parent" href="#VUID-vkGetDisplayModeProperties2KHR-display-parent"></a> <span class="vuid">VUID-vkGetDisplayModeProperties2KHR-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeProperties2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
typedef struct VkDisplayModeProperties2KHR {
    VkStructureType               sType;
    void*                         pNext;
    VkDisplayModePropertiesKHR    displayModeProperties;
} VkDisplayModeProperties2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayModeProperties</code> is a <a href="#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a>
structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeProperties2KHR-sType-sType" href="#VUID-VkDisplayModeProperties2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayModeProperties2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeProperties2KHR-pNext-pNext" href="#VUID-VkDisplayModeProperties2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayModeProperties2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkDisplayModeStereoPropertiesNV">VkDisplayModeStereoPropertiesNV</a></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeProperties2KHR-sType-unique" href="#VUID-VkDisplayModeProperties2KHR-sType-unique"></a> <span class="vuid">VUID-VkDisplayModeProperties2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeParametersKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeParametersKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayModeParametersKHR {
    VkExtent2D    visibleRegion;
    uint32_t      refreshRate;
} VkDisplayModeParametersKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>visibleRegion</code> is the 2D extents of the visible region.</p>
</li>
<li>
<p><code>refreshRate</code> is a <code>uint32_t</code> that is the number of times the
display is refreshed each second multiplied by 1000.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, a 60Hz display mode would report a <code>refreshRate</code> of 60,000.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-width-01990" href="#VUID-VkDisplayModeParametersKHR-width-01990"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-width-01990</span><br>

The <code>width</code> member of <code>visibleRegion</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-height-01991" href="#VUID-VkDisplayModeParametersKHR-height-01991"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-height-01991</span><br>

The <code>height</code> member of <code>visibleRegion</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeParametersKHR-refreshRate-01992" href="#VUID-VkDisplayModeParametersKHR-refreshRate-01992"></a> <span class="vuid">VUID-VkDisplayModeParametersKHR-refreshRate-01992</span><br>

<code>refreshRate</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeStereoPropertiesNV</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeStereoPropertiesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_display_stereo
typedef struct VkDisplayModeStereoPropertiesNV {
    VkStructureType    sType;
    const void*        pNext;
    VkBool32           hdmi3DSupported;
} VkDisplayModeStereoPropertiesNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>hdmi3DSupported</code> indicates whether this display mode can be used
for a display surface configured for
<code>VK_DISPLAY_SURFACE_STEREO_TYPE_HDMI_3D_NV</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeStereoPropertiesNV-sType-sType" href="#VUID-VkDisplayModeStereoPropertiesNV-sType-sType"></a> <span class="vuid">VUID-VkDisplayModeStereoPropertiesNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_STEREO_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Additional modes <strong>may</strong> also be created by calling:</p>
</div>
<div id="vkCreateDisplayModeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkCreateDisplayModeKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayKHR                                display,
    const VkDisplayModeCreateInfoKHR*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDisplayModeKHR*                           pMode);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display to create an additional mode for.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a>
structure describing the new mode to create.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
display mode object when there is no more specific allocator available
(see <a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pMode</code> is a pointer to a <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle in which the
mode created is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-physicalDevice-parameter" href="#VUID-vkCreateDisplayModeKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-display-parameter" href="#VUID-vkCreateDisplayModeKHR-display-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter" href="#VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pAllocator-parameter" href="#VUID-vkCreateDisplayModeKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-pMode-parameter" href="#VUID-vkCreateDisplayModeKHR-pMode-parameter"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-pMode-parameter</span><br>
 <code>pMode</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayModeKHR-display-parent" href="#VUID-vkCreateDisplayModeKHR-display-parent"></a> <span class="vuid">VUID-vkCreateDisplayModeKHR-display-parent</span><br>
 <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>display</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayModeCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayModeCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayModeCreateInfoKHR {
    VkStructureType                sType;
    const void*                    pNext;
    VkDisplayModeCreateFlagsKHR    flags;
    VkDisplayModeParametersKHR     parameters;
} VkDisplayModeCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use, and <strong>must</strong> be zero.</p>
</li>
<li>
<p><code>parameters</code> is a <a href="#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure
describing the display parameters to use in creating the new mode.
If the parameters are not compatible with the specified display, the
implementation <strong>must</strong> return <code>VK_ERROR_INITIALIZATION_FAILED</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-sType-sType" href="#VUID-VkDisplayModeCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-pNext-pNext" href="#VUID-VkDisplayModeCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask" href="#VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayModeCreateInfoKHR-parameters-parameter" href="#VUID-VkDisplayModeCreateInfoKHR-parameters-parameter"></a> <span class="vuid">VUID-VkDisplayModeCreateInfoKHR-parameters-parameter</span><br>
 <code>parameters</code> <strong>must</strong> be a valid <a href="#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Applications that wish to present directly to a display <strong>must</strong> select which
layer, or &#8220;plane&#8221; of the display they wish to target, and a mode to use
with the display.
Each display supports at least one plane.
The capabilities of a given mode and plane combination are determined by
calling:</p>
</div>
<div id="vkGetDisplayPlaneCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkGetDisplayPlaneCapabilitiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkDisplayModeKHR                            mode,
    uint32_t                                    planeIndex,
    VkDisplayPlaneCapabilitiesKHR*              pCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with the display
specified by <code>mode</code></p>
</li>
<li>
<p><code>mode</code> is the display mode the application intends to program when
using the specified plane.
Note this parameter also implicitly specifies a display.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane which the application intends to use with
the display, and is less than the number of display planes supported by
the device.</p>
</li>
<li>
<p><code>pCapabilities</code> is a pointer to a
<a href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure in which the capabilities
are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter" href="#VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter" href="#VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parameter</span><br>
 <code>mode</code> <strong>must</strong> be a valid <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter" href="#VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-pCapabilities-parameter</span><br>
 <code>pCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parent" href="#VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parent"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilitiesKHR-mode-parent</span><br>
 <code>mode</code> <strong>must</strong> have been created, allocated, or retrieved from <code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>mode</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplayPlaneCapabilitiesKHR {
    VkDisplayPlaneAlphaFlagsKHR    supportedAlpha;
    VkOffset2D                     minSrcPosition;
    VkOffset2D                     maxSrcPosition;
    VkExtent2D                     minSrcExtent;
    VkExtent2D                     maxSrcExtent;
    VkOffset2D                     minDstPosition;
    VkOffset2D                     maxDstPosition;
    VkExtent2D                     minDstExtent;
    VkExtent2D                     maxDstExtent;
} VkDisplayPlaneCapabilitiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>supportedAlpha</code> is a bitmask of
<a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> describing the supported alpha
blending modes.</p>
</li>
<li>
<p><code>minSrcPosition</code> is the minimum source rectangle offset supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>maxSrcPosition</code> is the maximum source rectangle offset supported by
this plane using the specified mode.
The <code>x</code> and <code>y</code> components of <code>maxSrcPosition</code> <strong>must</strong> each be
greater than or equal to the <code>x</code> and <code>y</code> components of
<code>minSrcPosition</code>, respectively.</p>
</li>
<li>
<p><code>minSrcExtent</code> is the minimum source rectangle size supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>maxSrcExtent</code> is the maximum source rectangle size supported by
this plane using the specified mode.</p>
</li>
<li>
<p><code>minDstPosition</code>, <code>maxDstPosition</code>, <code>minDstExtent</code>,
<code>maxDstExtent</code> all have similar semantics to their corresponding
<code>*Src*</code> equivalents, but apply to the output region within the mode
rather than the input region within the source image.
Unlike the <code>*Src*</code> offsets, <code>minDstPosition</code> and
<code>maxDstPosition</code> <strong>may</strong> contain negative values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The minimum and maximum position and extent fields describe the
implementation limits, if any, as they apply to the specified display mode
and plane.
Vendors <strong>may</strong> support displaying a subset of a swapchain&#8217;s presentable images
on the specified display plane.
This is expressed by returning <code>minSrcPosition</code>, <code>maxSrcPosition</code>,
<code>minSrcExtent</code>, and <code>maxSrcExtent</code> values that indicate a range of
possible positions and sizes which <strong>may</strong> be used to specify the region within
the presentable images that source pixels will be read from when creating a
swapchain on the specified display mode and plane.</p>
</div>
<div class="paragraph">
<p>Vendors <strong>may</strong> also support mapping the presentable images&#8217; content to a
subset or superset of the visible region in the specified display mode.
This is expressed by returning <code>minDstPosition</code>, <code>maxDstPosition</code>,
<code>minDstExtent</code> and <code>maxDstExtent</code> values that indicate a range of
possible positions and sizes which <strong>may</strong> be used to describe the region
within the display mode that the source pixels will be mapped to.</p>
</div>
<div class="paragraph">
<p>Other vendors <strong>may</strong> support only a 1-1 mapping between pixels in the
presentable images and the display mode.
This <strong>may</strong> be indicated by returning <span class="eq">(0,0)</span> for <code>minSrcPosition</code>,
<code>maxSrcPosition</code>, <code>minDstPosition</code>, and <code>maxDstPosition</code>, and
(display mode width, display mode height) for <code>minSrcExtent</code>,
<code>maxSrcExtent</code>, <code>minDstExtent</code>, and <code>maxDstExtent</code>.</p>
</div>
<div class="paragraph">
<p>The value <code>supportedAlpha</code> <strong>must</strong> contain at least one valid
<a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> bit.</p>
</div>
<div class="paragraph">
<p>These values indicate the limits of the implementation&#8217;s individual fields.
Not all combinations of values within the offset and extent ranges returned
in <code>VkDisplayPlaneCapabilitiesKHR</code> are guaranteed to be supported.
Presentation requests specifying unsupported combinations <strong>may</strong> fail.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the capabilities of a given mode and plane combination, call:</p>
</div>
<div id="vkGetDisplayPlaneCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
VkResult vkGetDisplayPlaneCapabilities2KHR(
    VkPhysicalDevice                            physicalDevice,
    const VkDisplayPlaneInfo2KHR*               pDisplayPlaneInfo,
    VkDisplayPlaneCapabilities2KHR*             pCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device associated with
<code>pDisplayPlaneInfo</code>.</p>
</li>
<li>
<p><code>pDisplayPlaneInfo</code> is a pointer to a <a href="#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a>
structure describing the plane and mode.</p>
</li>
<li>
<p><code>pCapabilities</code> is a pointer to a
<a href="#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a> structure in which the capabilities
are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDisplayPlaneCapabilities2KHR</code> behaves similarly to
<a href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>, with the ability to specify extended
inputs via chained input structures, and to return extended information via
chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter" href="#VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter" href="#VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-pDisplayPlaneInfo-parameter</span><br>
 <code>pDisplayPlaneInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter" href="#VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDisplayPlaneCapabilities2KHR-pCapabilities-parameter</span><br>
 <code>pCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneInfo2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneInfo2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
typedef struct VkDisplayPlaneInfo2KHR {
    VkStructureType     sType;
    const void*         pNext;
    VkDisplayModeKHR    mode;
    uint32_t            planeIndex;
} VkDisplayPlaneInfo2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>mode</code> is the display mode the application intends to program when
using the specified plane.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This parameter also implicitly specifies a display.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>planeIndex</code> is the plane which the application intends to use with
the display.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDisplayPlaneInfo2KHR</code> correspond to the arguments to
<a href="#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>, with <code>sType</code> and <code>pNext</code>
added for extensibility.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-sType-sType" href="#VUID-VkDisplayPlaneInfo2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-pNext-pNext" href="#VUID-VkDisplayPlaneInfo2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneInfo2KHR-mode-parameter" href="#VUID-VkDisplayPlaneInfo2KHR-mode-parameter"></a> <span class="vuid">VUID-VkDisplayPlaneInfo2KHR-mode-parameter</span><br>
 <code>mode</code> <strong>must</strong> be a valid <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>mode</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPlaneCapabilities2KHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPlaneCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_display_properties2
typedef struct VkDisplayPlaneCapabilities2KHR {
    VkStructureType                  sType;
    void*                            pNext;
    VkDisplayPlaneCapabilitiesKHR    capabilities;
} VkDisplayPlaneCapabilities2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>capabilities</code> is a <a href="#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPlaneCapabilities2KHR-sType-sType" href="#VUID-VkDisplayPlaneCapabilities2KHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPlaneCapabilities2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext" href="#VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPlaneCapabilities2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_display_control"><a class="anchor" href="#_display_control"></a>Display Control</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the power state of a display, call:</p>
</div>
<div id="vkDisplayPowerControlEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_control
VkResult vkDisplayPowerControlEXT(
    VkDevice                                    device,
    VkDisplayKHR                                display,
    const VkDisplayPowerInfoEXT*                pDisplayPowerInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is a logical device associated with <code>display</code>.</p>
</li>
<li>
<p><code>display</code> is the display whose power state is modified.</p>
</li>
<li>
<p><code>pDisplayPowerInfo</code> is a pointer to a <a href="#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a>
structure specifying the new power state of <code>display</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-device-parameter" href="#VUID-vkDisplayPowerControlEXT-device-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-display-parameter" href="#VUID-vkDisplayPowerControlEXT-display-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid <a href="#VkDisplayKHR">VkDisplayKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter" href="#VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-pDisplayPowerInfo-parameter</span><br>
 <code>pDisplayPowerInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDisplayPowerControlEXT-commonparent" href="#VUID-vkDisplayPowerControlEXT-commonparent"></a> <span class="vuid">VUID-vkDisplayPowerControlEXT-commonparent</span><br>
 Both of <code>device</code>, and <code>display</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPowerInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDisplayPowerInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_control
typedef struct VkDisplayPowerInfoEXT {
    VkStructureType           sType;
    const void*               pNext;
    VkDisplayPowerStateEXT    powerState;
} VkDisplayPowerInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>powerState</code> is a <a href="#VkDisplayPowerStateEXT">VkDisplayPowerStateEXT</a> value specifying the
new power state of the display.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-sType-sType" href="#VUID-VkDisplayPowerInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_POWER_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-pNext-pNext" href="#VUID-VkDisplayPowerInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDisplayPowerInfoEXT-powerState-parameter" href="#VUID-VkDisplayPowerInfoEXT-powerState-parameter"></a> <span class="vuid">VUID-VkDisplayPowerInfoEXT-powerState-parameter</span><br>
 <code>powerState</code> <strong>must</strong> be a valid <a href="#VkDisplayPowerStateEXT">VkDisplayPowerStateEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a>::<code>powerState</code>, specifying
the new power state of a display, are:</p>
</div>
<div id="VkDisplayPowerStateEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_control
typedef enum VkDisplayPowerStateEXT {
    VK_DISPLAY_POWER_STATE_OFF_EXT = 0,
    VK_DISPLAY_POWER_STATE_SUSPEND_EXT = 1,
    VK_DISPLAY_POWER_STATE_ON_EXT = 2,
} VkDisplayPowerStateEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISPLAY_POWER_STATE_OFF_EXT</code> specifies that the display is
powered down.</p>
</li>
<li>
<p><code>VK_DISPLAY_POWER_STATE_SUSPEND_EXT</code> specifies that the display is
put into a low power mode, from which it <strong>may</strong> be able to transition back
to <code>VK_DISPLAY_POWER_STATE_ON_EXT</code> more quickly than if it were in
<code>VK_DISPLAY_POWER_STATE_OFF_EXT</code>.
This state <strong>may</strong> be the same as <code>VK_DISPLAY_POWER_STATE_OFF_EXT</code>.</p>
</li>
<li>
<p><code>VK_DISPLAY_POWER_STATE_ON_EXT</code> specifies that the display is
powered on.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wsi-display-surfaces"><a class="anchor" href="#wsi-display-surfaces"></a>Display Surfaces</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A complete display configuration includes a mode, one or more display planes
and any parameters describing their behavior, and parameters describing some
aspects of the images associated with those planes.
Display surfaces describe the configuration of a single plane within a
complete display configuration.
To create a <code>VkSurfaceKHR</code> object for a display plane, call:</p>
</div>
<div id="vkCreateDisplayPlaneSurfaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
VkResult vkCreateDisplayPlaneSurfaceKHR(
    VkInstance                                  instance,
    const VkDisplaySurfaceCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance corresponding to the physical device the
targeted display is on.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a>
structure specifying which mode, plane, and other parameters to use, as
described below.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle in which the
created surface is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter" href="#VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter" href="#VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter" href="#VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter" href="#VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateDisplayPlaneSurfaceKHR-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplaySurfaceCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplaySurfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef struct VkDisplaySurfaceCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkDisplaySurfaceCreateFlagsKHR    flags;
    VkDisplayModeKHR                  displayMode;
    uint32_t                          planeIndex;
    uint32_t                          planeStackIndex;
    VkSurfaceTransformFlagBitsKHR     transform;
    float                             globalAlpha;
    VkDisplayPlaneAlphaFlagBitsKHR    alphaMode;
    VkExtent2D                        imageExtent;
} VkDisplaySurfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use, and <strong>must</strong> be zero.</p>
</li>
<li>
<p><code>displayMode</code> is a <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle specifying the mode
to use when displaying this surface.</p>
</li>
<li>
<p><code>planeIndex</code> is the plane on which this surface appears.</p>
</li>
<li>
<p><code>planeStackIndex</code> is the z-order of the plane.</p>
</li>
<li>
<p><code>transform</code> is a <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
specifying the transformation to apply to images as part of the scanout
operation.</p>
</li>
<li>
<p><code>globalAlpha</code> is the global alpha value.
This value is ignored if <code>alphaMode</code> is not
<code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code>.</p>
</li>
<li>
<p><code>alphaMode</code> is a <a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> value
specifying the type of alpha blending to use.</p>
</li>
<li>
<p><code>imageExtent</code> is the size of the presentable images to use with the
surface.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Creating a display surface <strong>must</strong> not modify the state of the displays,
planes, or other resources it names.
For example, it <strong>must</strong> not apply the specified mode to be set on the
associated display.
Application of display configuration occurs as a side effect of presenting
to a display surface.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252" href="#VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-planeIndex-01252</span><br>

<code>planeIndex</code> <strong>must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253" href="#VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-planeReorderPossible-01253</span><br>

If the <code>planeReorderPossible</code> member of the
<code>VkDisplayPropertiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display
corresponding to <code>displayMode</code> is <code>VK_TRUE</code> then
<code>planeStackIndex</code> <strong>must</strong> be less than the number of display planes
supported by the device as determined by calling
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code>; otherwise
<code>planeStackIndex</code> <strong>must</strong> equal the <code>currentStackIndex</code> member of
<code>VkDisplayPlanePropertiesKHR</code> returned by
<code>vkGetPhysicalDeviceDisplayPlanePropertiesKHR</code> for the display plane
corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254" href="#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01254</span><br>

If <code>alphaMode</code> is <code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> then
<code>globalAlpha</code> <strong>must</strong> be between <code>0</code> and <code>1</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255" href="#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-01255</span><br>

<code>alphaMode</code> <strong>must</strong> be one of the bits present in the
<code>supportedAlpha</code> member of <code>VkDisplayPlaneCapabilitiesKHR</code> for
the display plane corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740" href="#VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-transform-06740</span><br>

<code>transform</code> <strong>must</strong> be one of the bits present in the
<code>supportedTransforms</code> member of <code>VkDisplayPropertiesKHR</code> for the
display corresponding to <code>displayMode</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-width-01256" href="#VUID-VkDisplaySurfaceCreateInfoKHR-width-01256"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-width-01256</span><br>

The <code>width</code> and <code>height</code> members of <code>imageExtent</code> <strong>must</strong> be
less than or equal to
<a href="../limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-pNext-10284" href="#VUID-VkDisplaySurfaceCreateInfoKHR-pNext-10284"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-pNext-10284</span><br>

If the <code>pNext</code> chain includes a
<a href="#VkDisplaySurfaceStereoCreateInfoNV">VkDisplaySurfaceStereoCreateInfoNV</a> structure whose
<code>stereoType</code> member is
<code>VK_DISPLAY_SURFACE_STEREO_TYPE_HDMI_3D_NV</code>, then the
<code>hdmi3DSupported</code> member of the
<a href="#VkDisplayModeStereoPropertiesNV">VkDisplayModeStereoPropertiesNV</a> structure in the <code>pNext</code> chain
of the <code>VkDisplayModeProperties2KHR</code> structure returned by
<a href="#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a> for the display mode corresponding
to <code>displayMode</code> <strong>must</strong> be <code>VK_TRUE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType" href="#VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkDisplaySurfaceStereoCreateInfoNV">VkDisplaySurfaceStereoCreateInfoNV</a></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-sType-unique" href="#VUID-VkDisplaySurfaceCreateInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask" href="#VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter" href="#VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-displayMode-parameter</span><br>
 <code>displayMode</code> <strong>must</strong> be a valid <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter" href="#VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-transform-parameter</span><br>
 <code>transform</code> <strong>must</strong> be a valid <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter" href="#VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceCreateInfoKHR-alphaMode-parameter</span><br>
 <code>alphaMode</code> <strong>must</strong> be a valid <a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplaySurfaceCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef VkFlags VkDisplaySurfaceCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplaySurfaceCreateFlagsKHR</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a>::<code>alphaMode</code>, specifying the type of
alpha blending to use on a display, are:</p>
</div>
<div id="VkDisplayPlaneAlphaFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef enum VkDisplayPlaneAlphaFlagBitsKHR {
    VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR = 0x00000001,
    VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR = 0x00000002,
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR = 0x00000004,
    VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR = 0x00000008,
} VkDisplayPlaneAlphaFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR</code> specifies that the source
image will be treated as opaque.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_GLOBAL_BIT_KHR</code> specifies that a global
alpha value <strong>must</strong> be specified that will be applied to all pixels in the
source image.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code> specifies that the alpha
value will be determined by the alpha component of the source image&#8217;s
pixels.
If the source format contains no alpha values, no blending will be
applied.
The source alpha values are not premultiplied into the source image&#8217;s
other color components.</p>
</li>
<li>
<p><code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_PREMULTIPLIED_BIT_KHR</code> is
equivalent to <code>VK_DISPLAY_PLANE_ALPHA_PER_PIXEL_BIT_KHR</code>, except the
source alpha values are assumed to be premultiplied into the source
image&#8217;s other color components.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDisplayPlaneAlphaFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef VkFlags VkDisplayPlaneAlphaFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDisplayPlaneAlphaFlagsKHR</code> is a bitmask type for setting a mask of
zero or more <a href="#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplaySurfaceStereoCreateInfoNV</code> structure is defined as:</p>
</div>
<div id="VkDisplaySurfaceStereoCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_display_stereo
typedef struct VkDisplaySurfaceStereoCreateInfoNV {
    VkStructureType                 sType;
    const void*                     pNext;
    VkDisplaySurfaceStereoTypeNV    stereoType;
} VkDisplaySurfaceStereoCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><a id="wsi-displaySurfaceStereoType"></a> <code>stereoType</code> is a
<a href="#VkDisplaySurfaceStereoTypeNV">VkDisplaySurfaceStereoTypeNV</a> value specifying the type of 3D
stereo presentation the display will be configured for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplaySurfaceStereoCreateInfoNV-sType-sType" href="#VUID-VkDisplaySurfaceStereoCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkDisplaySurfaceStereoCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_STEREO_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkDisplaySurfaceStereoCreateInfoNV-stereoType-parameter" href="#VUID-VkDisplaySurfaceStereoCreateInfoNV-stereoType-parameter"></a> <span class="vuid">VUID-VkDisplaySurfaceStereoCreateInfoNV-stereoType-parameter</span><br>
 <code>stereoType</code> <strong>must</strong> be a valid <a href="#VkDisplaySurfaceStereoTypeNV">VkDisplaySurfaceStereoTypeNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="#VkDisplaySurfaceStereoCreateInfoNV">VkDisplaySurfaceStereoCreateInfoNV</a>::<code>stereoType</code>, specifying the
type of 3D stereo presentation the display will be configured for, are:</p>
</div>
<div id="VkDisplaySurfaceStereoTypeNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_display_stereo
typedef enum VkDisplaySurfaceStereoTypeNV {
    VK_DISPLAY_SURFACE_STEREO_TYPE_NONE_NV = 0,
    VK_DISPLAY_SURFACE_STEREO_TYPE_ONBOARD_DIN_NV = 1,
    VK_DISPLAY_SURFACE_STEREO_TYPE_HDMI_3D_NV = 2,
    VK_DISPLAY_SURFACE_STEREO_TYPE_INBAND_DISPLAYPORT_NV = 3,
} VkDisplaySurfaceStereoTypeNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISPLAY_SURFACE_STEREO_TYPE_NONE_NV</code> specifies no configuration
for stereo presentation.
This is the default behavior if <a href="#VkDisplaySurfaceStereoCreateInfoNV">VkDisplaySurfaceStereoCreateInfoNV</a>
is not provided.</p>
</li>
<li>
<p><code>VK_DISPLAY_SURFACE_STEREO_TYPE_ONBOARD_DIN_NV</code> specifies
configuration for glasses that connect via a DIN connector on the back
of the graphics card.</p>
</li>
<li>
<p><code>VK_DISPLAY_SURFACE_STEREO_TYPE_HDMI_3D_NV</code> specifies configuration
for HDMI 3D compatible display devices with their own stereo emitters.
This is also known as HDMI Frame Packed Stereo, where the left and right
eye images are stacked into a single frame with a doubled pixel clock
and refresh rate.</p>
</li>
<li>
<p><code>VK_DISPLAY_SURFACE_STEREO_TYPE_INBAND_DISPLAYPORT_NV</code> specifies
configuration for DisplayPort display devices with in-band stereo
signaling and emitters.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="headless"><a class="anchor" href="#headless"></a>Presenting to Headless Surfaces</h3>
<div class="paragraph">
<p>Vulkan rendering can be presented to a headless surface, where the
presentation operation is a no-op producing no externally-visible result.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because there is no real presentation target, the headless presentation
engine may be extended to impose an arbitrary or customizable set of
restrictions and features.
This makes it a useful portable test target for applications targeting a
wide range of presentation engines where the actual target presentation
engines might be scarce, unavailable or otherwise undesirable or
inconvenient to use for general Vulkan application development.</p>
</div>
<div class="paragraph">
<p>The usual surface query mechanisms must be used to determine the actual
restrictions and features of the implementation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a headless <code>VkSurfaceKHR</code> object, call:</p>
</div>
<div id="vkCreateHeadlessSurfaceEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_headless_surface
VkResult vkCreateHeadlessSurfaceEXT(
    VkInstance                                  instance,
    const VkHeadlessSurfaceCreateInfoEXT*       pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSurfaceKHR*                               pSurface);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance to associate the surface with.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkHeadlessSurfaceCreateInfoEXT">VkHeadlessSurfaceCreateInfoEXT</a>
structure containing parameters affecting the creation of the surface
object.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
surface object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSurface</code> is a pointer to a <code>VkSurfaceKHR</code> handle in which the
created surface object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-instance-parameter" href="#VUID-vkCreateHeadlessSurfaceEXT-instance-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-instance-parameter</span><br>
 <code>instance</code> <strong>must</strong> be a valid <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter" href="#VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkHeadlessSurfaceCreateInfoEXT">VkHeadlessSurfaceCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter" href="#VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter" href="#VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter"></a> <span class="vuid">VUID-vkCreateHeadlessSurfaceEXT-pSurface-parameter</span><br>
 <code>pSurface</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkHeadlessSurfaceCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkHeadlessSurfaceCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_headless_surface
typedef struct VkHeadlessSurfaceCreateInfoEXT {
    VkStructureType                    sType;
    const void*                        pNext;
    VkHeadlessSurfaceCreateFlagsEXT    flags;
} VkHeadlessSurfaceCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType" href="#VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_HEADLESS_SURFACE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext" href="#VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask" href="#VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkHeadlessSurfaceCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For headless surfaces, <code>currentExtent</code> is the reserved value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span>.
Whatever the application sets a swapchain&#8217;s <code>imageExtent</code> to will be the
size of the surface, after the first image is presented.</p>
</div>
<div class="openblock">
<div class="content">
<div id="VkHeadlessSurfaceCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_headless_surface
typedef VkFlags VkHeadlessSurfaceCreateFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkHeadlessSurfaceCreateFlagsEXT</code> is a bitmask type for setting a mask,
but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_querying_for_wsi_support"><a class="anchor" href="#_querying_for_wsi_support"></a>Querying for WSI Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Not all physical devices will include WSI support.
Within a physical device, not all queue families will support presentation.
WSI support and compatibility <strong>can</strong> be determined in a platform-neutral
manner (which determines support for presentation to a particular surface
object) and additionally <strong>may</strong> be determined in platform-specific manners
(which determine support for presentation on the specified physical device
but do not guarantee support for presentation to a particular surface
object).</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a given surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
VkResult vkGetPhysicalDeviceSurfaceSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    VkSurfaceKHR                                surface,
    VkBool32*                                   pSupported);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pSupported</code> is a pointer to a <code>VkBool32</code>.
<code>VK_TRUE</code> indicates support, and <code>VK_FALSE</code> indicates no
support.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269" href="#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-queueFamilyIndex-01269</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-pSupported-parameter</span><br>
 <code>pSupported</code> <strong>must</strong> be a valid pointer to a <code>VkBool32</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent" href="#VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceSupportKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_android"><a class="anchor" href="#platformQuerySupport_android"></a>Android Platform</h3>
<div class="paragraph">
<p>On Android, all physical devices and queue families <strong>must</strong> be capable of
presentation with any native window.
As a result there is no Android-specific query for these capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_walyand"><a class="anchor" href="#platformQuerySupport_walyand"></a>Wayland Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a Wayland compositor, call:</p>
</div>
<div id="vkGetPhysicalDeviceWaylandPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_wayland_surface
VkBool32 vkGetPhysicalDeviceWaylandPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    struct wl_display*                          display);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>display</code> is a pointer to the <code>wl_display</code> associated with a
Wayland compositor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306" href="#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-queueFamilyIndex-01306</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter" href="#VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWaylandPresentationSupportKHR-display-parameter</span><br>
 <code>display</code> <strong>must</strong> be a valid pointer to a <code>wl_display</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_win32"><a class="anchor" href="#platformQuerySupport_win32"></a>Win32 Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to the Microsoft Windows desktop, call:</p>
</div>
<div id="vkGetPhysicalDeviceWin32PresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_win32_surface
VkBool32 vkGetPhysicalDeviceWin32PresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309" href="#VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-queueFamilyIndex-01309</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceWin32PresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_xcb"><a class="anchor" href="#platformQuerySupport_xcb"></a>XCB Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the XCB client-side library, call:</p>
</div>
<div id="vkGetPhysicalDeviceXcbPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xcb_surface
VkBool32 vkGetPhysicalDeviceXcbPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    xcb_connection_t*                           connection,
    xcb_visualid_t                              visual_id);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>connection</code> is a pointer to an <code>xcb_connection_t</code> to the X
server.</p>
</li>
<li>
<p><code>visual_id</code> is an X11 visual (<code>xcb_visualid_t</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312" href="#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-queueFamilyIndex-01312</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter" href="#VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXcbPresentationSupportKHR-connection-parameter</span><br>
 <code>connection</code> <strong>must</strong> be a valid pointer to an <code>xcb_connection_t</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_xlib"><a class="anchor" href="#platformQuerySupport_xlib"></a>Xlib Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to an X11 server, using the Xlib client-side library, call:</p>
</div>
<div id="vkGetPhysicalDeviceXlibPresentationSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_xlib_surface
VkBool32 vkGetPhysicalDeviceXlibPresentationSupportKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    Display*                                    dpy,
    VisualID                                    visualID);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>dpy</code> is a pointer to an Xlib <code>Display</code> connection to the server.</p>
</li>
<li>
<p><code>visualId</code> is an X11 visual (<code>VisualID</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315" href="#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-queueFamilyIndex-01315</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter" href="#VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceXlibPresentationSupportKHR-dpy-parameter</span><br>
 <code>dpy</code> <strong>must</strong> be a valid pointer to a <code>Display</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_directfb"><a class="anchor" href="#platformQuerySupport_directfb"></a>DirectFB Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation with DirectFB library, call:</p>
</div>
<div id="vkGetPhysicalDeviceDirectFBPresentationSupportEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_directfb_surface
VkBool32 vkGetPhysicalDeviceDirectFBPresentationSupportEXT(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    IDirectFB*                                  dfb);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>dfb</code> is a pointer to the <code>IDirectFB</code> main interface of DirectFB.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119" href="#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-queueFamilyIndex-04119</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter" href="#VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceDirectFBPresentationSupportEXT-dfb-parameter</span><br>
 <code>dfb</code> <strong>must</strong> be a valid pointer to an <code>IDirectFB</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_fuchsia"><a class="anchor" href="#platformQuerySupport_fuchsia"></a>Fuchsia Platform</h3>
<div class="paragraph">
<p>On Fuchsia, all physical devices and queue families <strong>must</strong> be capable of
presentation with any ImagePipe.
As a result there is no Fuchsia-specific query for these capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_streamdescriptor"><a class="anchor" href="#platformQuerySupport_streamdescriptor"></a>Google Games Platform</h3>
<div class="paragraph">
<p>On Google Games Platform, all physical devices and queue families with the
<code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code> capabilities <strong>must</strong>
be capable of presentation with any Google Games Platform stream descriptor.
As a result, there is no query specific to Google Games Platform for these
capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_ios"><a class="anchor" href="#platformQuerySupport_ios"></a>iOS Platform</h3>
<div class="paragraph">
<p>On iOS, all physical devices and queue families <strong>must</strong> be capable of
presentation with any layer.
As a result there is no iOS-specific query for these capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_macos"><a class="anchor" href="#platformQuerySupport_macos"></a>macOS Platform</h3>
<div class="paragraph">
<p>On macOS, all physical devices and queue families <strong>must</strong> be capable of
presentation with any layer.
As a result there is no macOS-specific query for these capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_vi"><a class="anchor" href="#platformQuerySupport_vi"></a>VI Platform</h3>
<div class="paragraph">
<p>On VI, all physical devices and queue families <strong>must</strong> be capable of
presentation with any layer.
As a result there is no VI-specific query for these capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="platformQuerySupport_screen"><a class="anchor" href="#platformQuerySupport_screen"></a>QNX Screen Platform</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine whether a queue family of a physical device supports
presentation to a QNX Screen compositor, call:</p>
</div>
<div id="vkGetPhysicalDeviceScreenPresentationSupportQNX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_QNX_screen_surface
VkBool32 vkGetPhysicalDeviceScreenPresentationSupportQNX(
    VkPhysicalDevice                            physicalDevice,
    uint32_t                                    queueFamilyIndex,
    struct _screen_window*                      window);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the queue family index.</p>
</li>
<li>
<p><code>window</code> is the QNX Screen <code>window</code> object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This platform-specific function <strong>can</strong> be called prior to creating a surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743" href="#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-queueFamilyIndex-04743</span><br>

<code>queueFamilyIndex</code> <strong>must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> for the given
<code>physicalDevice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter" href="#VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceScreenPresentationSupportQNX-window-parameter</span><br>
 <code>window</code> <strong>must</strong> be a valid pointer to a <code>_screen_window</code> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_surface_queries"><a class="anchor" href="#_surface_queries"></a>Surface Queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The capabilities of a swapchain targeting a surface are the intersection of
the capabilities of the WSI platform, the native window or display, and the
physical device.
The resulting capabilities <strong>can</strong> be obtained with the queries listed below in
this section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to the surface capabilities as obtained by surface queries
below, swapchain images are also subject to ordinary image creation limits
as reported by <a href="../capabilities.html#vkGetPhysicalDeviceImageFormatProperties" class="xref page">vkGetPhysicalDeviceImageFormatProperties</a>.
As an application is instructed by the appropriate Valid Usage sections,
both the surface capabilities and the image creation limits have to be
satisfied whenever swapchain images are created.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_surface_capabilities"><a class="anchor" href="#_surface_capabilities"></a>Surface Capabilities</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
VkResult vkGetPhysicalDeviceSurfaceCapabilitiesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    VkSurfaceCapabilitiesKHR*                   pSurfaceCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06523</span><br>

<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-06211</span><br>

<code>surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilitiesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef struct VkSurfaceCapabilitiesKHR {
    uint32_t                         minImageCount;
    uint32_t                         maxImageCount;
    VkExtent2D                       currentExtent;
    VkExtent2D                       minImageExtent;
    VkExtent2D                       maxImageExtent;
    uint32_t                         maxImageArrayLayers;
    VkSurfaceTransformFlagsKHR       supportedTransforms;
    VkSurfaceTransformFlagBitsKHR    currentTransform;
    VkCompositeAlphaFlagsKHR         supportedCompositeAlpha;
    VkImageUsageFlags                supportedUsageFlags;
} VkSurfaceCapabilitiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>minImageCount</code> is the minimum number of images the specified device
supports for a swapchain created for the surface, and will be at least
one.</p>
</li>
<li>
<p><code>maxImageCount</code> is the maximum number of images the specified device
supports for a swapchain created for the surface, and will be either 0,
or greater than or equal to <code>minImageCount</code>.
A value of 0 means that there is no limit on the number of images,
though there <strong>may</strong> be limits related to the total amount of memory used
by presentable images.</p>
</li>
<li>
<p><code>currentExtent</code> is the current width and height of the surface, or
the special value <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the
surface size will be determined by the extent of a swapchain targeting
the surface.</p>
</li>
<li>
<p><code>minImageExtent</code> contains the smallest valid swapchain extent for
the surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be less than or
equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageExtent</code> contains the largest valid swapchain extent for the
surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>minImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageArrayLayers</code> is the maximum number of layers presentable
images <strong>can</strong> have for a swapchain created for this device and surface,
and will be at least one.</p>
</li>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> indicating the presentation
transforms supported for the surface on the specified device.
At least one bit will be set.</p>
</li>
<li>
<p><code>currentTransform</code> is <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
indicating the surface&#8217;s current transform relative to the presentation
engine&#8217;s natural orientation.</p>
</li>
<li>
<p><code>supportedCompositeAlpha</code> is a bitmask of
<a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, representing the alpha compositing
modes supported by the presentation engine for the surface on the
specified device, and at least one bit will be set.
Opaque composition <strong>can</strong> be achieved in any alpha compositing mode by
either using an image format that has no alpha component, or by ensuring
that all pixels in the presentable images have an alpha value of 1.0.</p>
</li>
<li>
<p><code>supportedUsageFlags</code> is a bitmask of <a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>
representing the ways the application <strong>can</strong> use the presentable images of
a swapchain created
with <a href="#VkPresentModeKHR">VkPresentModeKHR</a> set to
<code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>,
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>, <code>VK_PRESENT_MODE_MAILBOX_KHR</code>,
<code>VK_PRESENT_MODE_FIFO_KHR</code> or <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
for the surface on the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong>must</strong> be included in the set.
Implementations <strong>may</strong> support additional usages.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Supported usage flags of a presentable image when using
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> presentation mode are
provided by
<a href="#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Formulas such as <span class="eq">min(N, <code>maxImageCount</code>)</span> are not correct, since
<code>maxImageCount</code> <strong>may</strong> be zero.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface defined by the core or
extensions, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_surface_capabilities2
VkResult vkGetPhysicalDeviceSurfaceCapabilities2KHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceSurfaceInfo2KHR*      pSurfaceInfo,
    VkSurfaceCapabilities2KHR*                  pSurfaceCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfaceCapabilities2KHR</code> behaves similarly to
<a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with the ability to specify
extended inputs via chained input structures, and to return extended
information via chained output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06521</span><br>

If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>,
as reported by <a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an
equivalent platform-specific mechanism</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-02671</span><br>

If a <a href="#VkSurfaceCapabilitiesFullScreenExclusiveEXT">VkSurfaceCapabilitiesFullScreenExclusiveEXT</a> structure is
included in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong>must</strong> be
included in the <code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07776</span><br>

If a <a href="#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a> structure is included in
the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure <strong>must</strong> be included in the
<code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07777</span><br>

If a <a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a> structure is included
in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>, a
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure <strong>must</strong> be included in the
<code>pNext</code> chain of <code>pSurfaceInfo</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07778</span><br>

If a <a href="#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a> structure is included in
the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pNext-07779</span><br>

If a <a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a> structure is included
in the <code>pNext</code> chain of <code>pSurfaceCapabilities</code>,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2KHR-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceSurfaceInfo2KHR</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceSurfaceInfo2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_surface_capabilities2
typedef struct VkPhysicalDeviceSurfaceInfo2KHR {
    VkStructureType    sType;
    const void*        pNext;
    VkSurfaceKHR       surface;
} VkPhysicalDeviceSurfaceInfo2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkPhysicalDeviceSurfaceInfo2KHR</code> correspond to the
arguments to <a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p>
</div>
<div class="paragraph">
<p>Additional capabilities of a surface <strong>may</strong> be available to swapchains created
with different full-screen exclusive settings - particularly if exclusive
full-screen access is application controlled.
These additional capabilities <strong>can</strong> be queried by adding a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure to the <code>pNext</code> chain
of this structure when used to query surface properties.
Additionally, for Win32 surfaces with application controlled exclusive
full-screen access, chaining a
<a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong>may</strong> also report
additional surface capabilities.
These additional capabilities only apply to swapchains created with the same
parameters included in the <code>pNext</code> chain of
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672" href="#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-02672</span><br>

If the <code>pNext</code> chain includes a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure with its
<code>fullScreenExclusive</code> member set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>, and
<code>surface</code> was created using <a href="#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a>, a
<a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong>must</strong> be
included in the <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-07919" href="#VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-07919"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-surface-07919</span><br>

If surface is not VK_NULL_HANDLE,
and the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType" href="#VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext" href="#VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a>, <a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a>, or <a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique" href="#VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceSurfaceInfo2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkSurfaceFullScreenExclusiveInfoEXT</code> structure, then that structure
specifies the application&#8217;s preferred full-screen transition behavior.</p>
</div>
<div class="paragraph">
<p>The <code>VkSurfaceFullScreenExclusiveInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFullScreenExclusiveInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
typedef struct VkSurfaceFullScreenExclusiveInfoEXT {
    VkStructureType             sType;
    void*                       pNext;
    VkFullScreenExclusiveEXT    fullScreenExclusive;
} VkSurfaceFullScreenExclusiveInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>fullScreenExclusive</code> is a <a href="#VkFullScreenExclusiveEXT">VkFullScreenExclusiveEXT</a> value
specifying the preferred full-screen transition behavior.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>fullScreenExclusive</code> is considered to
be <code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType" href="#VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter" href="#VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveInfoEXT-fullScreenExclusive-parameter</span><br>
 <code>fullScreenExclusive</code> <strong>must</strong> be a valid <a href="#VkFullScreenExclusiveEXT">VkFullScreenExclusiveEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<code>VkSurfaceFullScreenExclusiveInfoEXT</code>::<code>fullScreenExclusive</code> are:</p>
</div>
<div id="VkFullScreenExclusiveEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
typedef enum VkFullScreenExclusiveEXT {
    VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT = 0,
    VK_FULL_SCREEN_EXCLUSIVE_ALLOWED_EXT = 1,
    VK_FULL_SCREEN_EXCLUSIVE_DISALLOWED_EXT = 2,
    VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT = 3,
} VkFullScreenExclusiveEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code> specifies that the
implementation <strong>should</strong> determine the appropriate full-screen method by
whatever means it deems appropriate.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_ALLOWED_EXT</code> specifies that the
implementation <strong>may</strong> use full-screen exclusive mechanisms when available.
Such mechanisms <strong>may</strong> result in better performance and/or the
availability of different presentation capabilities, but <strong>may</strong> require a
more disruptive transition during swapchain initialization, first
presentation and/or destruction.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_DISALLOWED_EXT</code> specifies that the
implementation <strong>should</strong> avoid using full-screen mechanisms which rely on
disruptive transitions.</p>
</li>
<li>
<p><code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> specifies that
the application will manage full-screen exclusive mode by using the
<a href="#vkAcquireFullScreenExclusiveModeEXT">vkAcquireFullScreenExclusiveModeEXT</a> and
<a href="#vkReleaseFullScreenExclusiveModeEXT">vkReleaseFullScreenExclusiveModeEXT</a> commands.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFullScreenExclusiveWin32InfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFullScreenExclusiveWin32InfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_win32_surface with VK_EXT_full_screen_exclusive
typedef struct VkSurfaceFullScreenExclusiveWin32InfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    HMONITOR           hmonitor;
} VkSurfaceFullScreenExclusiveWin32InfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>hmonitor</code> is the Win32 <code>HMONITOR</code> handle identifying the display
to create the surface with.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code>hmonitor</code> is invalidated (e.g. the monitor is unplugged) during the
lifetime of a swapchain created with this structure, operations on that
swapchain will return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is the responsibility of the application to change the display settings
of the targeted Win32 display using the appropriate platform APIs.
Such changes <strong>may</strong> alter the surface capabilities reported for the created
surface.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673" href="#VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-hmonitor-02673</span><br>

<code>hmonitor</code> <strong>must</strong> be a valid <code>HMONITOR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType" href="#VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFullScreenExclusiveWin32InfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_WIN32_INFO_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilities2KHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilities2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_surface_capabilities2
typedef struct VkSurfaceCapabilities2KHR {
    VkStructureType             sType;
    void*                       pNext;
    VkSurfaceCapabilitiesKHR    surfaceCapabilities;
} VkSurfaceCapabilities2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceCapabilities</code> is a <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a> structure
describing the capabilities of the specified surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is enabled and
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> in the
<a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> call is
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the values returned in <code>minImageCount</code>,
<code>maxImageCount</code>, <code>currentExtent</code>, and <code>currentTransform</code> will
not reflect that of any surface and will instead be as such:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>minImageCount</code> and <code>maxImageCount</code> will be <span class="eq">0xFFFFFFFF</span></p>
</li>
<li>
<p><code>currentExtent</code> will be <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span></p>
</li>
<li>
<p><code>currentTransform</code> will be
<code>VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-sType-sType" href="#VUID-VkSurfaceCapabilities2KHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-pNext-pNext" href="#VUID-VkSurfaceCapabilities2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>, <a href="#VkLatencySurfaceCapabilitiesNV">VkLatencySurfaceCapabilitiesNV</a>, <a href="#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>, <a href="#VkSurfaceCapabilitiesFullScreenExclusiveEXT">VkSurfaceCapabilitiesFullScreenExclusiveEXT</a>, <a href="#VkSurfaceCapabilitiesPresentBarrierNV">VkSurfaceCapabilitiesPresentBarrierNV</a>, <a href="#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>, <a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>, or <a href="#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2KHR-sType-unique" href="#VUID-VkSurfaceCapabilities2KHR-sType-unique"></a> <span class="vuid">VUID-VkSurfaceCapabilities2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An application queries if a protected <a href="#VkSurfaceKHR">VkSurfaceKHR</a> is displayable on a
specific windowing system using <code>VkSurfaceProtectedCapabilitiesKHR</code>,
which <strong>can</strong> be passed in <code>pNext</code> parameter of
<code>VkSurfaceCapabilities2KHR</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSurfaceProtectedCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceProtectedCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface_protected_capabilities
typedef struct VkSurfaceProtectedCapabilitiesKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkBool32           supportsProtected;
} VkSurfaceProtectedCapabilitiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supportsProtected</code> specifies whether a protected swapchain created
from <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> for a
particular windowing system <strong>can</strong> be displayed on screen or not.
If <code>supportsProtected</code> is <code>VK_TRUE</code>, then creation of swapchains
with the <code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> flag set <strong>must</strong> be
supported for <code>surface</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, the value
returned in <code>supportsProtected</code> will be identical for every valid
surface created on this physical device, and so in the
<a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> call,
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code> <strong>can</strong> be
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.
In that case, the contents of
<a href="#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>::<code>surfaceCapabilities</code> as well as any
other struct chained to it will be <strong>undefined</strong>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType" href="#VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceProtectedCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PROTECTED_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentScalingCapabilitiesEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentScalingCapabilitiesEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef struct VkSurfacePresentScalingCapabilitiesEXT {
    VkStructureType             sType;
    void*                       pNext;
    VkPresentScalingFlagsEXT    supportedPresentScaling;
    VkPresentGravityFlagsEXT    supportedPresentGravityX;
    VkPresentGravityFlagsEXT    supportedPresentGravityY;
    VkExtent2D                  minScaledImageExtent;
    VkExtent2D                  maxScaledImageExtent;
} VkSurfacePresentScalingCapabilitiesEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supportedPresentScaling</code> is a bitmask of
<a href="#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a> representing the scaling methods
supported by the surface, or <code>0</code> if application-defined scaling is not
supported.</p>
</li>
<li>
<p><code>supportedPresentGravityX</code> is a bitmask of
<a href="#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> representing the X-axis pixel gravity
supported by the surface, or <code>0</code> if Vulkan-defined pixel gravity is not
supported for the X axis.</p>
</li>
<li>
<p><code>supportedPresentGravityY</code> is a bitmask of
<a href="#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> representing the Y-axis pixel gravity
supported by the surface, or <code>0</code> if Vulkan-defined pixel gravity is not
supported for the Y axis.</p>
</li>
<li>
<p><code>minScaledImageExtent</code> contains the smallest valid swapchain extent
for the surface on the specified device when one of the scaling methods
specified in <code>supportedPresentScaling</code> is used, or the special value
<span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the surface size will be
determined by the extent of a swapchain targeting the surface.
The <code>width</code> and <code>height</code> of the extent will each be smaller than
or equal to the corresponding <code>width</code> and <code>height</code> of
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageExtent</code>.</p>
</li>
<li>
<p><code>maxScaledImageExtent</code> contains the largest valid swapchain extent
for the surface on the specified device when one of the scaling methods
specified in <code>supportedPresentScaling</code> is used, or the special value
described above for <code>minScaledImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before creating a swapchain whose scaling mode <strong>can</strong> be specified through the
use of <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>, obtain the set of
supported scaling modes by including a <a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a>
structure in the <code>pNext</code> chain of <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>
when calling <a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.
The implementation <strong>must</strong> return the same values in
<code>VkSurfacePresentScalingCapabilitiesEXT</code> for any of the compatible
present modes as obtained through
<a href="#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType" href="#VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentScalingCapabilitiesEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_SCALING_CAPABILITIES_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
specifying scaling modes supported by the surface, are:</p>
</div>
<div id="VkPresentScalingFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef enum VkPresentScalingFlagBitsEXT {
    VK_PRESENT_SCALING_ONE_TO_ONE_BIT_EXT = 0x00000001,
    VK_PRESENT_SCALING_ASPECT_RATIO_STRETCH_BIT_EXT = 0x00000002,
    VK_PRESENT_SCALING_STRETCH_BIT_EXT = 0x00000004,
} VkPresentScalingFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_SCALING_ONE_TO_ONE_BIT_EXT</code> specifies that no scaling
occurs, and pixels in the swapchain image are mapped to one and only one
pixel in the surface.
The mapping between pixels is defined by the chosen presentation
gravity.</p>
</li>
<li>
<p><code>VK_PRESENT_SCALING_ASPECT_RATIO_STRETCH_BIT_EXT</code> specifies that the
swapchain image will be minified or magnified such that at least one of
the resulting width or height is equal to the corresponding surface
dimension, and the other resulting dimension is less than or equal to
the corresponding surface dimension, with the aspect ratio of the
resulting image being identical to that of the original swapchain image.</p>
</li>
<li>
<p><code>VK_PRESENT_SCALING_STRETCH_BIT_EXT</code> specifies that the swapchain
image will be minified or magnified such that the resulting image
dimensions are equal to those of the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPresentScalingFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef VkFlags VkPresentScalingFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPresentScalingFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in the
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>
or <code>supportedPresentGravityY</code> fields, specifying the gravity of
presented pixels supported by the surface, are:</p>
</div>
<div id="VkPresentGravityFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef enum VkPresentGravityFlagBitsEXT {
    VK_PRESENT_GRAVITY_MIN_BIT_EXT = 0x00000001,
    VK_PRESENT_GRAVITY_MAX_BIT_EXT = 0x00000002,
    VK_PRESENT_GRAVITY_CENTERED_BIT_EXT = 0x00000004,
} VkPresentGravityFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_GRAVITY_MIN_BIT_EXT</code> means that the pixels will
gravitate towards the top or left side of the surface.</p>
</li>
<li>
<p><code>VK_PRESENT_GRAVITY_MAX_BIT_EXT</code> means that the pixels will
gravitate towards the bottom or right side of the surface.</p>
</li>
<li>
<p><code>VK_PRESENT_GRAVITY_CENTERED_BIT_EXT</code> means that the pixels will be
centered in the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the value in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code> is
not <code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, it is
implementation-defined whether the gravity configuration applies to the
presented image before or after transformation.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPresentGravityFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef VkFlags VkPresentGravityFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPresentGravityFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentModeEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentModeEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef struct VkSurfacePresentModeEXT {
    VkStructureType     sType;
    void*               pNext;
    VkPresentModeKHR    presentMode;
} VkSurfacePresentModeEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentMode</code> is the presentation mode the swapchain will use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VkSurfacePresentModeEXT</code> structure is included in the
<code>pNext</code> chain of <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a>, the values
returned in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code>,
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code>,
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>minScaledImageExtent</code>,
and <a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>maxScaledImageExtent</code>
are valid only for the specified <code>presentMode</code>.
If <code>presentMode</code> is <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, the per-present mode
image counts <strong>must</strong> both be one.
The per-present mode image counts <strong>may</strong> be less-than or greater-than the
image counts returned when <code>VkSurfacePresentModeEXT</code> is not provided.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> is provided to swapchain
creation, the requirements for forward progress may be less strict.
For example, a FIFO swapchain might only require 2 images to guarantee
forward progress, but a MAILBOX one might require 4.
Without the per-present image counts, such an implementation would have to
return 4 in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code>, which
pessimizes FIFO.
Conversely, an implementation may return a low number for minImageCount, but
internally bump the image count when application queries
<a href="#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a>, which can surprise applications, and is not
discoverable until swapchain creation.
Using <code>VkSurfacePresentModeEXT</code> and
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> together effectively removes this
problem.</p>
</div>
<div class="paragraph">
<p><a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> is required for the specification
to be backwards compatible with applications that do not know about, or make
use of this feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-presentMode-07780" href="#VUID-VkSurfacePresentModeEXT-presentMode-07780"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-presentMode-07780</span><br>

<code>presentMode</code> <strong>must</strong> be a value reported by
<a href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> for the specified
surface</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-sType-sType" href="#VUID-VkSurfacePresentModeEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentModeEXT-presentMode-parameter" href="#VUID-VkSurfacePresentModeEXT-presentMode-parameter"></a> <span class="vuid">VUID-VkSurfacePresentModeEXT-presentMode-parameter</span><br>
 <code>presentMode</code> <strong>must</strong> be a valid <a href="#VkPresentModeKHR">VkPresentModeKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfacePresentModeCompatibilityEXT</code> structure is defined as:</p>
</div>
<div id="VkSurfacePresentModeCompatibilityEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_surface_maintenance1
typedef struct VkSurfacePresentModeCompatibilityEXT {
    VkStructureType      sType;
    void*                pNext;
    uint32_t             presentModeCount;
    VkPresentModeKHR*    pPresentModes;
} VkSurfacePresentModeCompatibilityEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentModeCount</code> is an integer related to the number of present
modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is a pointer to an array of <a href="#VkPresentModeKHR">VkPresentModeKHR</a>
in which present modes compatible with a given present mode are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentModes</code> is <code>NULL</code>, then the number of present modes that are
compatible with the one specified in <a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> is
returned in <code>presentModeCount</code>.
Otherwise, <code>presentModeCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pPresentModes</code> array, and
on return the variable is overwritten with the number of values actually
written to <code>pPresentModes</code>.
If the value of <code>presentModeCount</code> is less than the number of compatible
present modes that are supported, at most <code>presentModeCount</code> values will
be written to <code>pPresentModes</code>.
The implementation <strong>must</strong> include the present mode passed to
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> in <code>pPresentModes</code>, unless
<code>presentModeCount</code> is zero.</p>
</div>
<div class="paragraph">
<p>Before creating a swapchain whose present modes <strong>can</strong> be modified through the
use of <a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, obtain the set of present
modes compatible with a given initial present mode by including a
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> structure in the <code>pNext</code> chain of
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> when calling
<a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType" href="#VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfacePresentModeCompatibilityEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_COMPATIBILITY_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter" href="#VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSurfacePresentModeCompatibilityEXT-pPresentModes-parameter</span><br>
 If <code>presentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>presentModeCount</code> <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSharedPresentSurfaceCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkSharedPresentSurfaceCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_shared_presentable_image
typedef struct VkSharedPresentSurfaceCapabilitiesKHR {
    VkStructureType      sType;
    void*                pNext;
    VkImageUsageFlags    sharedPresentSupportedUsageFlags;
} VkSharedPresentSurfaceCapabilitiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sharedPresentSupportedUsageFlags</code> is a bitmask of
<a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> representing the ways the application <strong>can</strong>
use the shared presentable image from a swapchain created with
<a href="#VkPresentModeKHR">VkPresentModeKHR</a> set to
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> for the surface on
the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong>must</strong> be included in the set
but implementations <strong>may</strong> support additional usages.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType" href="#VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkSharedPresentSurfaceCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayNativeHdrSurfaceCapabilitiesAMD</code> structure is defined as:</p>
</div>
<div id="VkDisplayNativeHdrSurfaceCapabilitiesAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_display_native_hdr
typedef struct VkDisplayNativeHdrSurfaceCapabilitiesAMD {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           localDimmingSupport;
} VkDisplayNativeHdrSurfaceCapabilitiesAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>localDimmingSupport</code> specifies whether the surface supports local
dimming.
If this is <code>VK_TRUE</code>, <a href="#VkSwapchainDisplayNativeHdrCreateInfoAMD">VkSwapchainDisplayNativeHdrCreateInfoAMD</a>
<strong>can</strong> be used to explicitly enable or disable local dimming for the
surface.
Local dimming may also be overridden by <a href="#vkSetLocalDimmingAMD">vkSetLocalDimmingAMD</a>
during the lifetime of the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType" href="#VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType"></a> <span class="vuid">VUID-VkDisplayNativeHdrSurfaceCapabilitiesAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_NATIVE_HDR_SURFACE_CAPABILITIES_AMD</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesFullScreenExclusiveEXT</code> structure is defined
as:</p>
</div>
<div id="VkSurfaceCapabilitiesFullScreenExclusiveEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
typedef struct VkSurfaceCapabilitiesFullScreenExclusiveEXT {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           fullScreenExclusiveSupported;
} VkSurfaceCapabilitiesFullScreenExclusiveEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>fullScreenExclusiveControlSupported</code> is a boolean describing
whether the surface is able to make use of exclusive full-screen access.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure <strong>can</strong> be included in the <code>pNext</code> chain of
<a href="#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> to determine support for exclusive
full-screen access.
If <code>fullScreenExclusiveSupported</code> is <code>VK_FALSE</code>, it indicates that
exclusive full-screen access is not obtainable for this surface.</p>
</div>
<div class="paragraph">
<p>Applications <strong>must</strong> not attempt to create swapchains with
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> set if
<code>fullScreenExclusiveSupported</code> is <code>VK_FALSE</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType" href="#VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilitiesFullScreenExclusiveEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_FULL_SCREEN_EXCLUSIVE_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilitiesPresentBarrierNV</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilitiesPresentBarrierNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_present_barrier
typedef struct VkSurfaceCapabilitiesPresentBarrierNV {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           presentBarrierSupported;
} VkSurfaceCapabilitiesPresentBarrierNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentBarrierSupported</code> is a boolean describing whether the
surface is able to make use of the present barrier feature.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure <strong>can</strong> be included in the <code>pNext</code> chain of
<a href="#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> to determine support for present barrier
access.
If <code>presentBarrierSupported</code> is <code>VK_FALSE</code>, it indicates that the
present barrier feature is not obtainable for this surface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType" href="#VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilitiesPresentBarrierNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_PRESENT_BARRIER_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the basic capabilities of a surface, needed in order to create a
swapchain, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceCapabilities2EXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_surface_counter
VkResult vkGetPhysicalDeviceSurfaceCapabilities2EXT(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    VkSurfaceCapabilities2EXT*                  pSurfaceCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceCapabilities</code> is a pointer to a
<a href="#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a> structure in which the capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfaceCapabilities2EXT</code> behaves similarly to
<a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>, with the ability to return
extended information by adding extending structures to the <code>pNext</code> chain
of its <code>pSurfaceCapabilities</code> parameter.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06523" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06523</span><br>

<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06211" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-06211</span><br>

<code>surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-pSurfaceCapabilities-parameter</span><br>
 <code>pSurfaceCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent" href="#VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceCapabilities2EXT-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceCapabilities2EXT</code> structure is defined as:</p>
</div>
<div id="VkSurfaceCapabilities2EXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_surface_counter
typedef struct VkSurfaceCapabilities2EXT {
    VkStructureType                  sType;
    void*                            pNext;
    uint32_t                         minImageCount;
    uint32_t                         maxImageCount;
    VkExtent2D                       currentExtent;
    VkExtent2D                       minImageExtent;
    VkExtent2D                       maxImageExtent;
    uint32_t                         maxImageArrayLayers;
    VkSurfaceTransformFlagsKHR       supportedTransforms;
    VkSurfaceTransformFlagBitsKHR    currentTransform;
    VkCompositeAlphaFlagsKHR         supportedCompositeAlpha;
    VkImageUsageFlags                supportedUsageFlags;
    VkSurfaceCounterFlagsEXT         supportedSurfaceCounters;
} VkSurfaceCapabilities2EXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>minImageCount</code> is the minimum number of images the specified device
supports for a swapchain created for the surface, and will be at least
one.</p>
</li>
<li>
<p><code>maxImageCount</code> is the maximum number of images the specified device
supports for a swapchain created for the surface, and will be either 0,
or greater than or equal to <code>minImageCount</code>.
A value of 0 means that there is no limit on the number of images,
though there <strong>may</strong> be limits related to the total amount of memory used
by presentable images.</p>
</li>
<li>
<p><code>currentExtent</code> is the current width and height of the surface, or
the special value <span class="eq">(0xFFFFFFFF, 0xFFFFFFFF)</span> indicating that the
surface size will be determined by the extent of a swapchain targeting
the surface.</p>
</li>
<li>
<p><code>minImageExtent</code> contains the smallest valid swapchain extent for
the surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be less than or
equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageExtent</code> contains the largest valid swapchain extent for the
surface on the specified device.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>minImageExtent</code>.
The <code>width</code> and <code>height</code> of the extent will each be greater than
or equal to the corresponding <code>width</code> and <code>height</code> of
<code>currentExtent</code>, unless <code>currentExtent</code> has the special value
described above.</p>
</li>
<li>
<p><code>maxImageArrayLayers</code> is the maximum number of layers presentable
images <strong>can</strong> have for a swapchain created for this device and surface,
and will be at least one.</p>
</li>
<li>
<p><code>supportedTransforms</code> is a bitmask of
<a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> indicating the presentation
transforms supported for the surface on the specified device.
At least one bit will be set.</p>
</li>
<li>
<p><code>currentTransform</code> is <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
indicating the surface&#8217;s current transform relative to the presentation
engine&#8217;s natural orientation.</p>
</li>
<li>
<p><code>supportedCompositeAlpha</code> is a bitmask of
<a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, representing the alpha compositing
modes supported by the presentation engine for the surface on the
specified device, and at least one bit will be set.
Opaque composition <strong>can</strong> be achieved in any alpha compositing mode by
either using an image format that has no alpha component, or by ensuring
that all pixels in the presentable images have an alpha value of 1.0.</p>
</li>
<li>
<p><code>supportedUsageFlags</code> is a bitmask of <a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>
representing the ways the application <strong>can</strong> use the presentable images of
a swapchain created
with <a href="#VkPresentModeKHR">VkPresentModeKHR</a> set to
<code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>,
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>, <code>VK_PRESENT_MODE_MAILBOX_KHR</code>,
<code>VK_PRESENT_MODE_FIFO_KHR</code> or <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
for the surface on the specified device.
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong>must</strong> be included in the set.
Implementations <strong>may</strong> support additional usages.</p>
</li>
<li>
<p><code>supportedSurfaceCounters</code> is a bitmask of
<a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> indicating the supported surface
counter types.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246" href="#VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-supportedSurfaceCounters-01246</span><br>

<code>supportedSurfaceCounters</code> <strong>must</strong> not include
<code>VK_SURFACE_COUNTER_VBLANK_BIT_EXT</code> unless the surface queried is a
<a href="#wsi-display-surfaces">display surface</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-sType-sType" href="#VUID-VkSurfaceCapabilities2EXT-sType-sType"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceCapabilities2EXT-pNext-pNext" href="#VUID-VkSurfaceCapabilities2EXT-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceCapabilities2EXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<a href="#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a>::<code>supportedSurfaceCounters</code>, indicating
supported surface counter types, are:</p>
</div>
<div id="VkSurfaceCounterFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_surface_counter
typedef enum VkSurfaceCounterFlagBitsEXT {
    VK_SURFACE_COUNTER_VBLANK_BIT_EXT = 0x00000001,
  // VK_SURFACE_COUNTER_VBLANK_EXT is a deprecated alias
    VK_SURFACE_COUNTER_VBLANK_EXT = VK_SURFACE_COUNTER_VBLANK_BIT_EXT,
} VkSurfaceCounterFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SURFACE_COUNTER_VBLANK_BIT_EXT</code> specifies a counter incrementing
once every time a vertical blanking period occurs on the display
associated with the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSurfaceCounterFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_surface_counter
typedef VkFlags VkSurfaceCounterFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSurfaceCounterFlagsEXT</code> is a bitmask type for setting a mask of zero
or more <a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedTransforms</code> indicating the
presentation transforms supported for the surface on the specified device,
and possible values of
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code> indicating the
surface&#8217;s current transform relative to the presentation engine&#8217;s natural
orientation, are:</p>
</div>
<div id="VkSurfaceTransformFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef enum VkSurfaceTransformFlagBitsKHR {
    VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR = 0x00000001,
    VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR = 0x00000002,
    VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR = 0x00000004,
    VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR = 0x00000008,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR = 0x00000010,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR = 0x00000020,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR = 0x00000040,
    VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR = 0x00000080,
    VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR = 0x00000100,
} VkSurfaceTransformFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code> specifies that image content
is presented without being transformed.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code> specifies that image
content is rotated 90 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</code> specifies that image
content is rotated 180 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code> specifies that image
content is rotated 270 degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_BIT_KHR</code> specifies that
image content is mirrored horizontally.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_90_BIT_KHR</code> specifies
that image content is mirrored horizontally, then rotated 90 degrees
clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_180_BIT_KHR</code>
specifies that image content is mirrored horizontally, then rotated 180
degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_HORIZONTAL_MIRROR_ROTATE_270_BIT_KHR</code>
specifies that image content is mirrored horizontally, then rotated 270
degrees clockwise.</p>
</li>
<li>
<p><code>VK_SURFACE_TRANSFORM_INHERIT_BIT_KHR</code> specifies that the
presentation transform is not specified, and is instead determined by
platform-specific considerations and mechanisms outside Vulkan.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSurfaceTransformFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display
typedef VkFlags VkSurfaceTransformFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSurfaceTransformFlagsKHR</code> is a bitmask type for setting a mask of
zero or more <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>supportedCompositeAlpha</code> member is of type
<a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>, containing the following values:</p>
</div>
<div id="VkCompositeAlphaFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef enum VkCompositeAlphaFlagBitsKHR {
    VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR = 0x00000001,
    VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR = 0x00000002,
    VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR = 0x00000004,
    VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR = 0x00000008,
} VkCompositeAlphaFlagBitsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These values are described as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</code>: The alpha component, if it
exists, of the images is ignored in the compositing process.
Instead, the image is treated as if it has a constant alpha of 1.0.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_PRE_MULTIPLIED_BIT_KHR</code>: The alpha component, if
it exists, of the images is respected in the compositing process.
The non-alpha components of the image are expected to already be
multiplied by the alpha component by the application.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_POST_MULTIPLIED_BIT_KHR</code>: The alpha component,
if it exists, of the images is respected in the compositing process.
The non-alpha components of the image are not expected to already be
multiplied by the alpha component by the application; instead, the
compositor will multiply the non-alpha components of the image by the
alpha component during compositing.</p>
</li>
<li>
<p><code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code>: The way in which the
presentation engine treats the alpha component in the images is unknown
to the Vulkan API.
Instead, the application is responsible for setting the composite alpha
blending mode using native window system commands.
If the application does not set the blending mode using native window
system commands, then a platform-specific default will be used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCompositeAlphaFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef VkFlags VkCompositeAlphaFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCompositeAlphaFlagsKHR</code> is a bitmask type for setting a mask of zero
or more <a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_surface_format_support"><a class="anchor" href="#_surface_format_support"></a>Surface Format Support</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported swapchain format-color space pairs for a surface,
call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceFormatsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
VkResult vkGetPhysicalDeviceSurfaceFormatsKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    uint32_t*                                   pSurfaceFormatCount,
    VkSurfaceFormatKHR*                         pSurfaceFormats);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pSurfaceFormatCount</code> is a pointer to an integer related to the
number of format pairs available or queried, as described below.</p>
</li>
<li>
<p><code>pSurfaceFormats</code> is either <code>NULL</code> or a pointer to an array of
<code>VkSurfaceFormatKHR</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> is <code>NULL</code>, then the number of format pairs
supported for the given <code>surface</code> is returned in
<code>pSurfaceFormatCount</code>.
Otherwise, <code>pSurfaceFormatCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pSurfaceFormats</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pSurfaceFormats</code>.
If the value of <code>pSurfaceFormatCount</code> is less than the number of format
pairs supported, at most <code>pSurfaceFormatCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available format pairs were
returned.</p>
</div>
<div class="paragraph">
<p>The number of format pairs supported <strong>must</strong> be greater than or equal to 1.
<code>pSurfaceFormats</code> <strong>must</strong> not contain an entry whose value for
<code>format</code> is <code>VK_FORMAT_UNDEFINED</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> includes an entry whose value for <code>colorSpace</code>
is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> and whose value for <code>format</code>
is a UNORM (or SRGB) format and the corresponding SRGB (or UNORM) format is
a color renderable format for <code>VK_IMAGE_TILING_OPTIMAL</code>, then
<code>pSurfaceFormats</code> <strong>must</strong> also contain an entry with the same value for
<code>colorSpace</code> and <code>format</code> equal to the corresponding SRGB (or UNORM)
format.</p>
</div>
<div class="paragraph">
<p>If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is enabled, the values
returned in <code>pSurfaceFormats</code> will be identical for every valid surface
created on this physical device, and so <code>surface</code> <strong>can</strong> be
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06524</span><br>

If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-06525</span><br>

If <code>surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormatCount-parameter</span><br>
 <code>pSurfaceFormatCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-pSurfaceFormats-parameter</span><br>
 If the value referenced by <code>pSurfaceFormatCount</code> is not <code>0</code>, and <code>pSurfaceFormats</code> is not <code>NULL</code>, <code>pSurfaceFormats</code> <strong>must</strong> be a valid pointer to an array of <code>pSurfaceFormatCount</code> <a href="#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent" href="#VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormatsKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFormatKHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFormatKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef struct VkSurfaceFormatKHR {
    VkFormat           format;
    VkColorSpaceKHR    colorSpace;
} VkSurfaceFormatKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>format</code> is a <a href="../formats.html#VkFormat" class="xref page">VkFormat</a> that is compatible with the specified
surface.</p>
</li>
<li>
<p><code>colorSpace</code> is a presentation <a href="#VkColorSpaceKHR">VkColorSpaceKHR</a> that is
compatible with the surface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported swapchain format tuples for a surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfaceFormats2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_surface_capabilities2
VkResult vkGetPhysicalDeviceSurfaceFormats2KHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceSurfaceInfo2KHR*      pSurfaceInfo,
    uint32_t*                                   pSurfaceFormatCount,
    VkSurfaceFormat2KHR*                        pSurfaceFormats);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceFormatCount</code> is a pointer to an integer related to the
number of format tuples available or queried, as described below.</p>
</li>
<li>
<p><code>pSurfaceFormats</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a> behaves similarly to
<a href="#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, with the ability to be extended
via <code>pNext</code> chains.</p>
</div>
<div class="paragraph">
<p>If <code>pSurfaceFormats</code> is <code>NULL</code>, then the number of format tuples
supported for the given <code>surface</code> is returned in
<code>pSurfaceFormatCount</code>.
Otherwise, <code>pSurfaceFormatCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pSurfaceFormats</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pSurfaceFormats</code>.
If the value of <code>pSurfaceFormatCount</code> is less than the number of format
tuples supported, at most <code>pSurfaceFormatCount</code> structures will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available values were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06521</span><br>

If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>,
as reported by <a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an
equivalent platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormatCount-parameter</span><br>
 <code>pSurfaceFormatCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter" href="#VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfaceFormats2KHR-pSurfaceFormats-parameter</span><br>
 If the value referenced by <code>pSurfaceFormatCount</code> is not <code>0</code>, and <code>pSurfaceFormats</code> is not <code>NULL</code>, <code>pSurfaceFormats</code> <strong>must</strong> be a valid pointer to an array of <code>pSurfaceFormatCount</code> <a href="#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSurfaceFormat2KHR</code> structure is defined as:</p>
</div>
<div id="VkSurfaceFormat2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_surface_capabilities2
typedef struct VkSurfaceFormat2KHR {
    VkStructureType       sType;
    void*                 pNext;
    VkSurfaceFormatKHR    surfaceFormat;
} VkSurfaceFormat2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceFormat</code> is a <a href="#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a> structure describing a
format-color space pair that is compatible with the specified surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="../features.html#features-imageCompressionControlSwapchain" class="xref page"><code>imageCompressionControlSwapchain</code></a> feature is supported and a
<a href="../resources.html#VkImageCompressionPropertiesEXT" class="xref page">VkImageCompressionPropertiesEXT</a> structure is included in the
<code>pNext</code> chain of this structure, then it will be filled with the
compression properties that are supported for the <code>surfaceFormat</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-pNext-06750" href="#VUID-VkSurfaceFormat2KHR-pNext-06750"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-pNext-06750</span><br>

If the <a href="../features.html#features-imageCompressionControlSwapchain" class="xref page">    <code>imageCompressionControlSwapchain</code></a> feature is not enabled, the
<code>pNext</code> chain <strong>must</strong> not include an
<a href="../resources.html#VkImageCompressionPropertiesEXT" class="xref page">VkImageCompressionPropertiesEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-sType-sType" href="#VUID-VkSurfaceFormat2KHR-sType-sType"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-pNext-pNext" href="#VUID-VkSurfaceFormat2KHR-pNext-pNext"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="../resources.html#VkImageCompressionPropertiesEXT" class="xref page">VkImageCompressionPropertiesEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSurfaceFormat2KHR-sType-unique" href="#VUID-VkSurfaceFormat2KHR-sType-unique"></a> <span class="vuid">VUID-VkSurfaceFormat2KHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>While the <code>format</code> of a presentable image refers to the encoding of each
pixel, the <code>colorSpace</code> determines how the presentation engine
interprets the pixel values.
A color space in this document refers to a specific color space (defined by
the chromaticities of its primaries and a white point in CIE Lab), and
transfer functions indicating the mapping between the image data and the
colorimetry with respect to the given color space.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a>::<code>colorSpace</code>, specifying
the color spaces that a presentation engine can accept, are:</p>
</div>
<div id="VkColorSpaceKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef enum VkColorSpaceKHR {
    VK_COLOR_SPACE_SRGB_NONLINEAR_KHR = 0,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT = 1000104001,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT = 1000104002,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT = 1000104003,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT = 1000104004,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_BT709_LINEAR_EXT = 1000104005,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_BT709_NONLINEAR_EXT = 1000104006,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_BT2020_LINEAR_EXT = 1000104007,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_HDR10_ST2084_EXT = 1000104008,
  // Provided by VK_EXT_swapchain_colorspace
  // VK_COLOR_SPACE_DOLBYVISION_EXT is deprecated, but no reason was given in the API XML
    VK_COLOR_SPACE_DOLBYVISION_EXT = 1000104009,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_HDR10_HLG_EXT = 1000104010,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT = 1000104011,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT = 1000104012,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_PASS_THROUGH_EXT = 1000104013,
  // Provided by VK_EXT_swapchain_colorspace
    VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT = 1000104014,
  // Provided by VK_AMD_display_native_hdr
    VK_COLOR_SPACE_DISPLAY_NATIVE_AMD = 1000213000,
  // VK_COLORSPACE_SRGB_NONLINEAR_KHR is a deprecated alias
    VK_COLORSPACE_SRGB_NONLINEAR_KHR = VK_COLOR_SPACE_SRGB_NONLINEAR_KHR,
  // Provided by VK_EXT_swapchain_colorspace
  // VK_COLOR_SPACE_DCI_P3_LINEAR_EXT is a deprecated alias
    VK_COLOR_SPACE_DCI_P3_LINEAR_EXT = VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT,
} VkColorSpaceKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> specifies support for the images
in sRGB color space, encoded according to the sRGB specification.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT</code> specifies support for the
images in Display-P3 color space, encoded using a Display-P3 transfer
function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT</code> specifies support for the
images in extended sRGB color space, encoded using a linear transfer
function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT</code> specifies support for
the images in extended sRGB color space, encoded according to the scRGB
specification.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</code> specifies support for the
images in Display-P3 color space, encoded using a linear transfer
function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT</code> specifies support for the
images in DCI-P3 color space, encoded according to the DCI-P3
specification.
Note that values in such an image are interpreted as XYZ encoded color
data by the presentation engine.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_LINEAR_EXT</code> specifies support for the images
in BT709 color space, encoded using a linear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_NONLINEAR_EXT</code> specifies support for the
images in BT709 color space, encoded according to the BT709
specification.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT2020_LINEAR_EXT</code> specifies support for the images
in BT2020 color space, encoded using a linear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_ST2084_EXT</code> specifies support for the images
in HDR10 (BT2020) color space, encoded according to SMPTE ST2084
Perceptual Quantizer (PQ) specification.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_HLG_EXT</code> specifies support for the images in
HDR10 (BT2020) color space, encoded according to the Hybrid Log Gamma
(HLG) specification.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT</code> specifies support for images in
Adobe RGB color space, encoded using a linear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT</code> specifies support for the
images in Adobe RGB color space, encoded according to the Adobe RGB
specification (approximately Gamma 2.2).</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code> specifies that color components
are used &#8220;as is&#8221;.
This is intended to allow applications to supply data for color spaces
not described here.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_NATIVE_AMD</code> specifies support for the
display&#8217;s native color space.
This matches the color space expectations of AMD&#8217;s FreeSync2 standard,
for displays supporting it.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the initial release of the <code><a href="../../appendices/extensions.html#VK_KHR_surface" class="xref page">VK_KHR_surface</a></code> and
<code><a href="../../appendices/extensions.html#VK_KHR_swapchain" class="xref page">VK_KHR_swapchain</a></code> extensions, the token
<code>VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> was used.
Starting in the 2016-05-13 updates to the extension branches, matching
release 1.0.13 of the core API specification,
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> is used instead for consistency with
Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In older versions of this extension
<code>VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</code> was misnamed
<code>VK_COLOR_SPACE_DCI_P3_LINEAR_EXT</code>.
This has been updated to indicate that it uses RGB color encoding, not XYZ.
The old name is deprecated but is maintained for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In older versions of the <code><a href="../../appendices/extensions.html#VK_EXT_swapchain_colorspace" class="xref page">VK_EXT_swapchain_colorspace</a></code> extension,
<code>VK_COLOR_SPACE_DOLBYVISION_EXT</code> was exposed.
The intent was to indicate the presentation engine shall decode an image
using the SMPTE ST 2084 Perceptual Quantizer (PQ) EOTF, and then apply a
proprietary OOTF to process the image.
However, Dolby Vision profile 8.4 describes an encoding using the Hybrid Log
Gamma (HLG) OETF, and there is no swapchain extension for signaling Dolby
Vision metadata to be used by a proprietary OOTF.
This enum is deprecated but is maintained for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For a traditional &#8220;Linear&#8221; or non-gamma transfer function color space use
<code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The presentation engine interprets the pixel values of the R, G, and B
components as having been encoded using an appropriate transfer function.
Applications <strong>should</strong> ensure that the appropriate transfer function has been
applied.
<a href="../textures.html#textures-output-format-conversion" class="xref page">Textures Output Format Conversion</a>
requires that all implementations implicitly apply the sRGB EOTF<sup>-1</sup> on R,
G, and B components when shaders write to an sRGB pixel format image, which
is useful for sRGB color spaces.
For sRGB color spaces with other pixel formats, or other non-linear color
spaces, applications <strong>can</strong> apply the transfer function explicitly in a
shader.
The A channel is always interpreted as linearly encoded.</p>
</div>
<div class="paragraph">
<p>This extension defines enums for <a href="#VkColorSpaceKHR">VkColorSpaceKHR</a> that correspond to
the following color spaces:</p>
</div>
<table id="VK_EXT_swapchain_colorspace-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Color Spaces and Attributes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Red Primary</th>
<th class="tableblock halign-left valign-top">Green Primary</th>
<th class="tableblock halign-left valign-top">Blue Primary</th>
<th class="tableblock halign-left valign-top">White-point</th>
<th class="tableblock halign-left valign-top">Transfer function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCI-P3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.000, 0.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.000, 1.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.000, 0.000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3333, 0.3333</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCI P3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display-P3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.680, 0.320</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.265, 0.690</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display-P3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BT709</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BT709</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sRGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extended sRGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.300, 0.600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDR10_ST2084</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.708, 0.292</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.170, 0.797</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.131, 0.046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST2084 PQ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDR10_HLG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.708, 0.292</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.170, 0.797</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.131, 0.046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HLG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adobe RGB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.640, 0.330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.210, 0.710</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.150, 0.060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.3127, 0.3290 (D65)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adobe RGB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The transfer functions are described in the &#8220;Transfer Functions&#8221; chapter
of the <a href="../introduction.html#data-format" class="xref page">Khronos Data Format Specification</a>.</p>
</div>
<div class="paragraph">
<p>Except Display-P3 OETF, which is:</p>
</div>
<div class="stemblock">
  <div class="content halign-center valign-middle" style="padding-top: 1rem">
<svg style="vertical-align: -2.177ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="50.083ex" height="5.486ex" role="img" focusable="false" viewBox="0 -1462.3 22136.7 2424.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtable"><g data-mml-node="mtr"><g data-mml-node="mtd"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g><g data-mml-node="mtd" transform="translate(764,0)"><g data-mml-node="mi"></g><g data-mml-node="mo" transform="translate(277.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mrow" transform="translate(1333.6,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7B" d="M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z"></path></g><g data-mml-node="mtable" transform="translate(750,0)"><g data-mml-node="mtr" transform="translate(0,487.7)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1278,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1778,0)"></path></g><g data-mml-node="mo" transform="translate(2500.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="msup" transform="translate(3500.4,0)"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="TeXAtom" transform="translate(714,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(495.1,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" transform="translate(778,0)"></path></g><rect width="1103.7" height="60" x="120" y="220"></rect></g></g></g><g data-mml-node="mo" transform="translate(5436.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(6437,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1278,0)"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(1778,0)"></path></g></g><g data-mml-node="mtd" transform="translate(9715,0)"><g data-mml-node="mtext"><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(306,0)"></path><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z" transform="translate(806,0)"></path></g><g data-mml-node="mtext" transform="translate(1198,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mn" transform="translate(1448,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1278,0)"></path><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" transform="translate(1778,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(2278,0)"></path><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" transform="translate(2778,0)"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(3278,0)"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(3778,0)"></path></g><g data-mml-node="mo" transform="translate(6003.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mi" transform="translate(7059.6,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(8018.3,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mn" transform="translate(9074.1,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-712.3)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" transform="translate(500,0)"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(1000,0)"></path><path data-c="39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" transform="translate(1278,0)"></path><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" transform="translate(1778,0)"></path></g><g data-mml-node="mo" transform="translate(2500.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(3500.4,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g></g><g data-mml-node="mtd" transform="translate(9715,0)"><g data-mml-node="mtext"><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(306,0)"></path><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z" transform="translate(806,0)"></path></g><g data-mml-node="mtext" transform="translate(1198,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mn" transform="translate(1448,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(2225.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mi" transform="translate(3281.6,0)"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(4240.3,0)"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g><g data-mml-node="mn" transform="translate(5296.1,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(500,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1278,0)"></path><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" transform="translate(1778,0)"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(2278,0)"></path><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" transform="translate(2778,0)"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(3278,0)"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(3778,0)"></path></g></g></g></g><g data-mml-node="mo" transform="translate(20039.1,0) translate(0 250)"></g></g></g></g></g></g></g></svg>
  </div>
</div>
<div class="paragraph">
<p>where <span class="eq">L</span> is the linear value of a color component and <span class="eq">E</span> is the
encoded value (as stored in the image in memory).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For most uses, the sRGB OETF is equivalent.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_surface_presentation_mode_support"><a class="anchor" href="#_surface_presentation_mode_support"></a>Surface Presentation Mode Support</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the supported presentation modes for a surface, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfacePresentModesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
VkResult vkGetPhysicalDeviceSurfacePresentModesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    uint32_t*                                   pPresentModeCount,
    VkPresentModeKHR*                           pPresentModes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>surface</code> is the surface that will be associated with the swapchain.</p>
</li>
<li>
<p><code>pPresentModeCount</code> is a pointer to an integer related to the number
of presentation modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkPresentModeKHR">VkPresentModeKHR</a> values, indicating the supported presentation
modes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentModes</code> is <code>NULL</code>, then the number of presentation modes
supported for the given <code>surface</code> is returned in
<code>pPresentModeCount</code>.
Otherwise, <code>pPresentModeCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pPresentModes</code> array, and
on return the variable is overwritten with the number of values actually
written to <code>pPresentModes</code>.
If the value of <code>pPresentModeCount</code> is less than the number of
presentation modes supported, at most <code>pPresentModeCount</code> values will be
written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available modes were
returned.</p>
</div>
<div class="paragraph">
<p>If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is enabled and
<code>surface</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the values returned in
<code>pPresentModes</code> will only indicate support for
<code>VK_PRESENT_MODE_FIFO_KHR</code>,
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>, and
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.
To query support for any other present mode, a valid handle <strong>must</strong> be
provided in <code>surface</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06524</span><br>

If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-06525</span><br>

If <code>surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-surface-parameter</span><br>
 If <code>surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModeCount-parameter</span><br>
 <code>pPresentModeCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-pPresentModes-parameter</span><br>
 If the value referenced by <code>pPresentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>pPresentModeCount</code> <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent" href="#VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Alternatively, to query the supported presentation modes for a surface
combined with select other fixed swapchain creation parameters, call:</p>
</div>
<div id="vkGetPhysicalDeviceSurfacePresentModes2EXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
VkResult vkGetPhysicalDeviceSurfacePresentModes2EXT(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceSurfaceInfo2KHR*      pSurfaceInfo,
    uint32_t*                                   pPresentModeCount,
    VkPresentModeKHR*                           pPresentModes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be associated with
the swapchain to be created, as described for
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pPresentModeCount</code> is a pointer to an integer related to the number
of presentation modes available or queried, as described below.</p>
</li>
<li>
<p><code>pPresentModes</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkPresentModeKHR">VkPresentModeKHR</a> values, indicating the supported presentation
modes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSurfacePresentModes2EXT</code> behaves similarly to
<a href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>, with the ability to specify
extended inputs via chained input structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06521</span><br>

If the <code><a href="../../appendices/extensions.html#VK_GOOGLE_surfaceless_query" class="xref page">VK_GOOGLE_surfaceless_query</a></code> extension is not enabled,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-06522</span><br>

If <code>pSurfaceInfo-&gt;surface</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>,
as reported by <a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an
equivalent platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModeCount-parameter</span><br>
 <code>pPresentModeCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter" href="#VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceSurfacePresentModes2EXT-pPresentModes-parameter</span><br>
 If the value referenced by <code>pPresentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>pPresentModeCount</code> <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of elements of the
<a href="#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>::<code>pPresentModes</code> array,
indicating the supported presentation modes for a surface, are:</p>
</div>
<div id="VkPresentModeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_surface
typedef enum VkPresentModeKHR {
    VK_PRESENT_MODE_IMMEDIATE_KHR = 0,
    VK_PRESENT_MODE_MAILBOX_KHR = 1,
    VK_PRESENT_MODE_FIFO_KHR = 2,
    VK_PRESENT_MODE_FIFO_RELAXED_KHR = 3,
  // Provided by VK_KHR_shared_presentable_image
    VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR = 1000111000,
  // Provided by VK_KHR_shared_presentable_image
    VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR = 1000111001,
  // Provided by VK_EXT_present_mode_fifo_latest_ready
    VK_PRESENT_MODE_FIFO_LATEST_READY_EXT = 1000361000,
} VkPresentModeKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> specifies that the presentation
engine does not wait for a vertical blanking period to update the
current image, meaning this mode <strong>may</strong> result in visible tearing.
No internal queuing of presentation requests is needed, as the requests
are applied immediately.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_MAILBOX_KHR</code> specifies that the presentation engine
waits for the next vertical blanking period to update the current image.
Tearing <strong>cannot</strong> be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for reuse by the application.
One request is removed from the queue and processed during each vertical
blanking period in which the queue is non-empty.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_KHR</code> specifies that the presentation engine
waits for the next vertical blanking period to update the current image.
Tearing <strong>cannot</strong> be observed.
An internal queue is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty.
This is the only value of <code>presentMode</code> that is <strong>required</strong> to be
supported.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> specifies that the presentation
engine generally waits for the next vertical blanking period to update
the current image.
If a vertical blanking period has already passed since the last update
of the current image then the presentation engine does not wait for
another vertical blanking period for the update, meaning this mode <strong>may</strong>
result in visible tearing in this case.
This mode is useful for reducing visual stutter with an application that
will mostly present a new image before the next vertical blanking
period, but may occasionally be late, and present a new image just after
the next vertical blanking period.
An internal queue is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during or after
each vertical blanking period in which the queue is non-empty.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code> specifies that the
presentation engine waits for the next vertical blanking period to
update the current image.
Tearing <strong>cannot</strong> be observed.
An internal queue is used to hold pending presentation requests.
New requests are appended to the end of the queue.
At each vertical blanking period, the presentation engine dequeues all
successive requests that are ready to be presented from the beginning of
the queue.
If using <code><a href="../../appendices/extensions.html#VK_GOOGLE_display_timing" class="xref page">VK_GOOGLE_display_timing</a></code> to provide a target present
time, the presentation engine will check the specified time for each
image.
If the target present time is less-than or equal-to the current time,
the presentation engine will dequeue the image and check the next one.
The image of the last dequeued request will be presented.
The other dequeued requests will be dropped.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> specifies that the
presentation engine and application have concurrent access to a single
image, which is referred to as a <em>shared presentable image</em>.
The presentation engine is only required to update the current image
after a new presentation request is received.
Therefore the application <strong>must</strong> make a presentation request whenever an
update is required.
However, the presentation engine <strong>may</strong> update the current image at any
point, meaning this mode <strong>may</strong> result in visible tearing.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> specifies that the
presentation engine and application have concurrent access to a single
image, which is referred to as a <em>shared presentable image</em>.
The presentation engine periodically updates the current image on its
regular refresh cycle.
The application is only required to make one initial presentation
request, after which the presentation engine <strong>must</strong> update the current
image without any need for further presentation requests.
The application <strong>can</strong> indicate the image contents have been updated by
making a presentation request, but this does not guarantee the timing of
when it will be updated.
This mode <strong>may</strong> result in visible tearing if rendering to the image is
not timed correctly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The supported <a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> of the presentable images of a
swapchain created for a surface <strong>may</strong> differ depending on the presentation
mode, and can be determined as per the table below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Presentable Image Usage Queries</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Presentation mode</th>
<th class="tableblock halign-left valign-top">Image usage flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_MAILBOX_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_FIFO_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>supportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a>::<code>sharedPresentSupportedUsageFlags</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For reference, the mode indicated by <code>VK_PRESENT_MODE_FIFO_KHR</code> is
equivalent to the behavior of {wgl|glX|egl}SwapBuffers with a swap interval
of 1, while the mode indicated by <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code> is
equivalent to the behavior of {wgl|glX}SwapBuffers with a swap interval of
-1 (from the {WGL|GLX}_EXT_swap_control_tear extensions).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_full_screen_exclusive_control"><a class="anchor" href="#_full_screen_exclusive_control"></a>Full Screen Exclusive Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Swapchains created with <code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code> <strong>must</strong> acquire and
release exclusive full-screen access explicitly, using the following
commands.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire exclusive full-screen access for a swapchain, call:</p>
</div>
<div id="vkAcquireFullScreenExclusiveModeEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
VkResult vkAcquireFullScreenExclusiveModeEXT(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to acquire exclusive full-screen access
for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02674</span><br>

<code>swapchain</code> <strong>must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02675</span><br>

<code>swapchain</code> <strong>must</strong> be a swapchain created with a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, with
<code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-02676</span><br>

<code>swapchain</code> <strong>must</strong> not currently have exclusive full-screen access</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>A return value of <code>VK_SUCCESS</code> indicates that the <code>swapchain</code>
successfully acquired exclusive full-screen access.
The swapchain will retain this exclusivity until either the application
releases exclusive full-screen access with
<a href="#vkReleaseFullScreenExclusiveModeEXT">vkReleaseFullScreenExclusiveModeEXT</a>, destroys the swapchain, or if any
of the swapchain commands return
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> indicating that the mode
was lost because of platform-specific changes.</p>
</div>
<div class="paragraph">
<p>If the swapchain was unable to acquire exclusive full-screen access to the
display then <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.
An application <strong>can</strong> attempt to acquire exclusive full-screen access again
for the same swapchain even if this command fails, or if
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> has been returned by a
swapchain command.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent" href="#VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent"></a> <span class="vuid">VUID-vkAcquireFullScreenExclusiveModeEXT-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release exclusive full-screen access from a swapchain, call:</p>
</div>
<div id="vkReleaseFullScreenExclusiveModeEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive
VkResult vkReleaseFullScreenExclusiveModeEXT(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to release exclusive full-screen access
from.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications will not be able to present to <code>swapchain</code> after this call
until exclusive full-screen access is reacquired.
This is usually useful to handle when an application is minimized or
otherwise intends to stop presenting for a time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677" href="#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02677</span><br>

<code>swapchain</code> <strong>must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678" href="#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-02678</span><br>

<code>swapchain</code> <strong>must</strong> be a swapchain created with a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, with
<code>fullScreenExclusive</code> set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-device-parameter" href="#VUID-vkReleaseFullScreenExclusiveModeEXT-device-parameter"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parameter" href="#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parameter"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parent" href="#VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parent"></a> <span class="vuid">VUID-vkReleaseFullScreenExclusiveModeEXT-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_device_group_queries"><a class="anchor" href="#_device_group_queries"></a>Device Group Queries</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A logical device that represents multiple physical devices <strong>may</strong> support
presenting from images on more than one physical device, or combining images
from multiple physical devices.</p>
</div>
<div class="paragraph">
<p>To query these capabilities, call:</p>
</div>
<div id="vkGetDeviceGroupPresentCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
VkResult vkGetDeviceGroupPresentCapabilitiesKHR(
    VkDevice                                    device,
    VkDeviceGroupPresentCapabilitiesKHR*        pDeviceGroupPresentCapabilities);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>pDeviceGroupPresentCapabilities</code> is a pointer to a
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a> structure in which the
device&#8217;s capabilities are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter" href="#VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupPresentCapabilitiesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter" href="#VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupPresentCapabilitiesKHR-pDeviceGroupPresentCapabilities-parameter</span><br>
 <code>pDeviceGroupPresentCapabilities</code> <strong>must</strong> be a valid pointer to a <a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDeviceGroupPresentCapabilitiesKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupPresentCapabilitiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
typedef struct VkDeviceGroupPresentCapabilitiesKHR {
    VkStructureType                     sType;
    void*                               pNext;
    uint32_t                            presentMask[VK_MAX_DEVICE_GROUP_SIZE];
    VkDeviceGroupPresentModeFlagsKHR    modes;
} VkDeviceGroupPresentCapabilitiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentMask</code> is an array of <code>VK_MAX_DEVICE_GROUP_SIZE</code>
<code>uint32_t</code> masks, where the mask at element <span class="eq">i</span> is non-zero if
physical device <span class="eq">i</span> has a presentation engine, and where bit <span class="eq">j</span>
is set in element <span class="eq">i</span> if physical device <span class="eq">i</span> <strong>can</strong> present
swapchain images from physical device <span class="eq">j</span>.
If element <span class="eq">i</span> is non-zero, then bit <span class="eq">i</span> <strong>must</strong> be set.</p>
</li>
<li>
<p><code>modes</code> is a bitmask of <a href="#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a>
indicating which device group presentation modes are supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>modes</code> always has <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code> set.</p>
</div>
<div class="paragraph">
<p>The present mode flags are also used when presenting an image, in
<a href="#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a>::<code>mode</code>.</p>
</div>
<div class="paragraph">
<p>If a device group only includes a single physical device, then <code>modes</code>
<strong>must</strong> equal <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType" href="#VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupPresentCapabilitiesKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext" href="#VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext"></a> <span class="vuid">VUID-VkDeviceGroupPresentCapabilitiesKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>modes</code>, indicating which
device group presentation modes are supported, are:</p>
</div>
<div id="VkDeviceGroupPresentModeFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
typedef enum VkDeviceGroupPresentModeFlagBitsKHR {
    VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR = 0x00000001,
    VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR = 0x00000002,
    VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR = 0x00000004,
    VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR = 0x00000008,
} VkDeviceGroupPresentModeFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong>can</strong> present its own
swapchain images.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong>can</strong> present swapchain images
from any physical device in its <code>presentMask</code>.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code> specifies that any
physical device with a presentation engine <strong>can</strong> present the sum of
swapchain images from any physical devices in its <code>presentMask</code>.</p>
</li>
<li>
<p><code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code> specifies
that multiple physical devices with a presentation engine <strong>can</strong> each
present their own swapchain images.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDeviceGroupPresentModeFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
typedef VkFlags VkDeviceGroupPresentModeFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDeviceGroupPresentModeFlagsKHR</code> is a bitmask type for setting a mask
of zero or more <a href="#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Some surfaces <strong>may</strong> not be capable of using all the device group present
modes.</p>
</div>
<div class="paragraph">
<p>To query the supported device group present modes for a particular surface,
call:</p>
</div>
<div id="vkGetDeviceGroupSurfacePresentModesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
VkResult vkGetDeviceGroupSurfacePresentModesKHR(
    VkDevice                                    device,
    VkSurfaceKHR                                surface,
    VkDeviceGroupPresentModeFlagsKHR*           pModes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pModes</code> is a pointer to a <a href="#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> in
which the supported device group present modes for the surface are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The modes returned by this command are not invariant, and <strong>may</strong> change in
response to the surface being moved, resized, or occluded.
These modes <strong>must</strong> be a subset of the modes returned by
<a href="#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212" href="#VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-06212</span><br>

<code>surface</code> <strong>must</strong> be supported by all physical devices associated with
<code>device</code>, as reported by <a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>
or an equivalent platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-pModes-parameter</span><br>
 <code>pModes</code> <strong>must</strong> be a valid pointer to a <a href="#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent" href="#VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModesKHR-commonparent</span><br>
 Both of <code>device</code>, and <code>surface</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Alternatively, to query the supported device group presentation modes for a
surface combined with select other fixed swapchain creation parameters,
call:</p>
</div>
<div id="vkGetDeviceGroupSurfacePresentModes2EXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_full_screen_exclusive with VK_KHR_device_group or VK_VERSION_1_1
VkResult vkGetDeviceGroupSurfacePresentModes2EXT(
    VkDevice                                    device,
    const VkPhysicalDeviceSurfaceInfo2KHR*      pSurfaceInfo,
    VkDeviceGroupPresentModeFlagsKHR*           pModes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device.</p>
</li>
<li>
<p><code>pSurfaceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure describing the surface
and other fixed parameters that would be consumed by
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
<li>
<p><code>pModes</code> is a pointer to a <a href="#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> in
which the supported device group present modes for the surface are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetDeviceGroupSurfacePresentModes2EXT</code> behaves similarly to
<a href="#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a>, with the ability to specify
extended inputs via chained input structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213" href="#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-06213</span><br>

<code>pSurfaceInfo-&gt;surface</code> <strong>must</strong> be supported by all physical devices
associated with <code>device</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pSurfaceInfo-parameter</span><br>
 <code>pSurfaceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter" href="#VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter"></a> <span class="vuid">VUID-vkGetDeviceGroupSurfacePresentModes2EXT-pModes-parameter</span><br>
 <code>pModes</code> <strong>must</strong> be a valid pointer to a <a href="#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When using <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>,
the application <strong>may</strong> need to know which regions of the surface are used when
presenting locally on each physical device.
Presentation of swapchain images to this surface need only have valid
contents in the regions returned by this command.</p>
</div>
<div class="paragraph">
<p>To query a set of rectangles used in presentation on the physical device,
call:</p>
</div>
<div id="vkGetPhysicalDevicePresentRectanglesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_surface
VkResult vkGetPhysicalDevicePresentRectanglesKHR(
    VkPhysicalDevice                            physicalDevice,
    VkSurfaceKHR                                surface,
    uint32_t*                                   pRectCount,
    VkRect2D*                                   pRects);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device.</p>
</li>
<li>
<p><code>surface</code> is the surface.</p>
</li>
<li>
<p><code>pRectCount</code> is a pointer to an integer related to the number of
rectangles available or queried, as described below.</p>
</li>
<li>
<p><code>pRects</code> is either <code>NULL</code> or a pointer to an array of <a href="../fundamentals.html#VkRect2D" class="xref page">VkRect2D</a>
structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pRects</code> is <code>NULL</code>, then the number of rectangles used when
presenting the given <code>surface</code> is returned in <code>pRectCount</code>.
Otherwise, <code>pRectCount</code> <strong>must</strong> point to a variable set by the application
to the number of elements in the <code>pRects</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pRects</code>.
If the value of <code>pRectCount</code> is less than the number of rectangles, at
most <code>pRectCount</code> structures will be written, and <code>VK_INCOMPLETE</code>
will be returned instead of <code>VK_SUCCESS</code>, to indicate that not all the
available rectangles were returned.</p>
</div>
<div class="paragraph">
<p>The values returned by this command are not invariant, and <strong>may</strong> change in
response to the surface being moved, resized, or occluded.</p>
</div>
<div class="paragraph">
<p>The rectangles returned by this command <strong>must</strong> not overlap.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06523</span><br>

<code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-06211</span><br>

<code>surface</code> <strong>must</strong> be supported by <code>physicalDevice</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> or an equivalent
platform-specific mechanism</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRectCount-parameter</span><br>
 <code>pRectCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-pRects-parameter</span><br>
 If the value referenced by <code>pRectCount</code> is not <code>0</code>, and <code>pRects</code> is not <code>NULL</code>, <code>pRects</code> <strong>must</strong> be a valid pointer to an array of <code>pRectCount</code> <a href="../fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent" href="#VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent"></a> <span class="vuid">VUID-vkGetPhysicalDevicePresentRectanglesKHR-commonparent</span><br>
 Both of <code>physicalDevice</code>, and <code>surface</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>surface</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_display_timing_queries"><a class="anchor" href="#_display_timing_queries"></a>Display Timing Queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Traditional game and real-time-animation applications frequently use
<code>VK_PRESENT_MODE_FIFO_KHR</code> so that presentable images are updated during
the vertical blanking period of a given refresh cycle (RC) of the
presentation engine&#8217;s display.
This avoids the visual anomaly known as tearing.</p>
</div>
<div class="paragraph">
<p>However, synchronizing the presentation of images with the RC does not
prevent all forms of visual anomalies.
Stuttering occurs when the geometry for each presentable image is not
accurately positioned for when that image will be displayed.
The geometry may appear to move too little some RCs, and too much for
others.
Sometimes the animation appears to freeze, when the same image is used for
more than one RC.</p>
</div>
<div class="paragraph">
<p>In order to minimize stuttering, an application needs to correctly position
their geometry for when the presentable image will be displayed to the user.
To accomplish this, applications need various timing information about the
presentation engine&#8217;s display.
They need to know when presentable images were actually presented, and when
they could have been presented.
Applications also need to tell the presentation engine to display an image
no sooner than a given time.
This can allow the application&#8217;s animation to look smooth to the user, with
no stuttering.
The <code><a href="../../appendices/extensions.html#VK_GOOGLE_display_timing" class="xref page">VK_GOOGLE_display_timing</a></code> extension allows an application to
satisfy these needs.</p>
</div>
<div class="paragraph">
<p>The presentation engine&#8217;s display typically refreshes the pixels that are
displayed to the user on a periodic basis.
The period may be fixed or variable.
In many cases, the presentation engine is associated with fixed refresh rate
(FRR) display technology, with a fixed refresh rate (RR, e.g. 60Hz).
In some cases, the presentation engine is associated with variable refresh
rate (VRR) display technology, where each refresh cycle (RC) can vary in
length.
This extension treats VRR displays as if they are FRR.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the duration of a refresh cycle (RC) for the presentation engine&#8217;s
display, call:</p>
</div>
<div id="vkGetRefreshCycleDurationGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
VkResult vkGetRefreshCycleDurationGOOGLE(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    VkRefreshCycleDurationGOOGLE*               pDisplayTimingProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to obtain the refresh duration for.</p>
</li>
<li>
<p><code>pDisplayTimingProperties</code> is a pointer to a
<code>VkRefreshCycleDurationGOOGLE</code> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter" href="#VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter" href="#VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter" href="#VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-pDisplayTimingProperties-parameter</span><br>
 <code>pDisplayTimingProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkRefreshCycleDurationGOOGLE">VkRefreshCycleDurationGOOGLE</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent" href="#VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent"></a> <span class="vuid">VUID-vkGetRefreshCycleDurationGOOGLE-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRefreshCycleDurationGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkRefreshCycleDurationGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
typedef struct VkRefreshCycleDurationGOOGLE {
    uint64_t    refreshDuration;
} VkRefreshCycleDurationGOOGLE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>refreshDuration</code> is the number of nanoseconds from the start of one
refresh cycle to the next.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The rate at which an application renders and presents new images is known as
the image present rate (IPR, aka frame rate).
The inverse of IPR, or the duration between each image present, is the image
present duration (IPD).
In order to provide a smooth, stutter-free animation, an application will
want its IPD to be a multiple of <code>refreshDuration</code>.
For example, if a display has a 60Hz refresh rate, <code>refreshDuration</code>
will be a value in nanoseconds that is approximately equal to 16.67ms.
In such a case, an application will want an IPD of 16.67ms (1X multiplier of
<code>refreshDuration</code>), or 33.33ms (2X multiplier of <code>refreshDuration</code>),
or 50.0ms (3X multiplier of <code>refreshDuration</code>), etc.</p>
</div>
<div class="paragraph">
<p>In order to determine a target IPD for a display (i.e. a multiple of
<code>refreshDuration</code>), an application needs to determine when its images
are actually displayed.
Suppose an application has an initial target IPD of 16.67ms (1X multiplier
of <code>refreshDuration</code>).
It will therefore position the geometry of a new image 16.67ms later than
the previous image.
But suppose this application is running on slower hardware, so that it
actually takes 20ms to render each new image.
This will create visual anomalies, because the images will not be displayed
to the user every 16.67ms, nor every 20ms.
In this case, it is better for the application to adjust its target IPD to
33.33ms (i.e. a 2X multiplier of <code>refreshDuration</code>), and tell the
presentation engine to not present images any sooner than every 33.33ms.
This will allow the geometry to be correctly positioned for each presentable
image.</p>
</div>
<div class="paragraph">
<p>Adjustments to an application&#8217;s IPD may be needed because different views of
an application&#8217;s geometry can take different amounts of time to render.
For example, looking at the sky may take less time to render than looking at
multiple, complex items in a room.
In general, it is good to not frequently change IPD, as that can cause
visual anomalies.
Adjustments to a larger IPD because of late images should happen quickly,
but adjustments to a smaller IPD should only happen if the
<code>actualPresentTime</code> and <code>earliestPresentTime</code> members of the
<a href="#VkPastPresentationTimingGOOGLE">VkPastPresentationTimingGOOGLE</a> structure are consistently different,
and if <code>presentMargin</code> is consistently large, over multiple images.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The implementation will maintain a limited amount of history of timing
information about previous presents.
Because of the asynchronous nature of the presentation engine, the timing
information for a given <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> command will become
available some time later.
These time values can be asynchronously queried, and will be returned if
available.
All time values are in nanoseconds, relative to a monotonically-increasing
clock (e.g. <code>CLOCK_MONOTONIC</code> (see clock_gettime(2)) on Android and Linux).</p>
</div>
<div class="paragraph">
<p>To asynchronously query the presentation engine, for newly-available timing
information about one or more previous presents to a given swapchain, call:</p>
</div>
<div id="vkGetPastPresentationTimingGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
VkResult vkGetPastPresentationTimingGOOGLE(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint32_t*                                   pPresentationTimingCount,
    VkPastPresentationTimingGOOGLE*             pPresentationTimings);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to obtain presentation timing
information duration for.</p>
</li>
<li>
<p><code>pPresentationTimingCount</code> is a pointer to an integer related to the
number of <code>VkPastPresentationTimingGOOGLE</code> structures to query, as
described below.</p>
</li>
<li>
<p><code>pPresentationTimings</code> is either <code>NULL</code> or a pointer to an array of
<code>VkPastPresentationTimingGOOGLE</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentationTimings</code> is <code>NULL</code>, then the number of newly-available
timing records for the given <code>swapchain</code> is returned in
<code>pPresentationTimingCount</code>.
Otherwise, <code>pPresentationTimingCount</code> <strong>must</strong> point to a variable set by
the user to the number of elements in the <code>pPresentationTimings</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pPresentationTimings</code>.
If the value of <code>pPresentationTimingCount</code> is less than the number of
newly-available timing records, at most <code>pPresentationTimingCount</code>
structures will be written, and <code>VK_INCOMPLETE</code> will be returned instead
of <code>VK_SUCCESS</code>, to indicate that not all the available timing records
were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-device-parameter" href="#VUID-vkGetPastPresentationTimingGOOGLE-device-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter" href="#VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter" href="#VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimingCount-parameter</span><br>
 <code>pPresentationTimingCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter" href="#VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-pPresentationTimings-parameter</span><br>
 If the value referenced by <code>pPresentationTimingCount</code> is not <code>0</code>, and <code>pPresentationTimings</code> is not <code>NULL</code>, <code>pPresentationTimings</code> <strong>must</strong> be a valid pointer to an array of <code>pPresentationTimingCount</code> <a href="#VkPastPresentationTimingGOOGLE">VkPastPresentationTimingGOOGLE</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent" href="#VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent"></a> <span class="vuid">VUID-vkGetPastPresentationTimingGOOGLE-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPastPresentationTimingGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPastPresentationTimingGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
typedef struct VkPastPresentationTimingGOOGLE {
    uint32_t    presentID;
    uint64_t    desiredPresentTime;
    uint64_t    actualPresentTime;
    uint64_t    earliestPresentTime;
    uint64_t    presentMargin;
} VkPastPresentationTimingGOOGLE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>presentID</code> is an application-provided value that was given to a
previous <code>vkQueuePresentKHR</code> command via
<a href="#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>presentID</code> (see below).
It <strong>can</strong> be used to uniquely identify a previous present with the
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> command.</p>
</li>
<li>
<p><code>desiredPresentTime</code> is an application-provided value that was given
to a previous <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> command via
<a href="#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>desiredPresentTime</code>.
If non-zero, it was used by the application to indicate that an image
not be presented any sooner than <code>desiredPresentTime</code>.</p>
</li>
<li>
<p><code>actualPresentTime</code> is the time when the image of the
<code>swapchain</code> was actually displayed.</p>
</li>
<li>
<p><code>earliestPresentTime</code> is the time when the image of the
<code>swapchain</code> could have been displayed.
This <strong>may</strong> differ from <code>actualPresentTime</code> if the application
requested that the image be presented no sooner than
<a href="#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a>::<code>desiredPresentTime</code>.</p>
</li>
<li>
<p><code>presentMargin</code> is an indication of how early the
<code>vkQueuePresentKHR</code> command was processed compared to how soon it
needed to be processed, and still be presented at
<code>earliestPresentTime</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The results for a given <code>swapchain</code> and <code>presentID</code> are only
returned once from <code>vkGetPastPresentationTimingGOOGLE</code>.</p>
</div>
<div class="paragraph">
<p>The application <strong>can</strong> use the <code>VkPastPresentationTimingGOOGLE</code> values to
occasionally adjust its timing.
For example, if <code>actualPresentTime</code> is later than expected (e.g. one
<code>refreshDuration</code> late), the application may increase its target IPD to
a higher multiple of <code>refreshDuration</code> (e.g. decrease its frame rate
from 60Hz to 30Hz).
If <code>actualPresentTime</code> and <code>earliestPresentTime</code> are consistently
different, and if <code>presentMargin</code> is consistently large enough, the
application may decrease its target IPD to a smaller multiple of
<code>refreshDuration</code> (e.g. increase its frame rate from 30Hz to 60Hz).
If <code>actualPresentTime</code> and <code>earliestPresentTime</code> are same, and if
<code>presentMargin</code> is consistently high, the application may delay the
start of its input-render-present loop in order to decrease the latency
between user input and the corresponding present (always leaving some margin
in case a new image takes longer to render than the previous image).
An application that desires its target IPD to always be the same as
<code>refreshDuration</code>, can also adjust features until
<code>actualPresentTime</code> is never late and <code>presentMargin</code> is
satisfactory.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The full <code><a href="../../appendices/extensions.html#VK_GOOGLE_display_timing" class="xref page">VK_GOOGLE_display_timing</a></code> extension semantics are described
for swapchains created with <code>VK_PRESENT_MODE_FIFO_KHR</code>.
For example, non-zero values of
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> <strong>must</strong> be honored, and
<code>vkGetPastPresentationTimingGOOGLE</code> <strong>should</strong> return a
<code>VkPastPresentationTimingGOOGLE</code> structure with valid values for all
images presented with <code>vkQueuePresentKHR</code>.
The semantics for other present modes are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>.
The presentation engine <strong>may</strong> ignore non-zero values of
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> in favor of
presenting immediately.
The value of
<code>VkPastPresentationTimingGOOGLE</code>::<code>earliestPresentTime</code> <strong>must</strong> be
the same as
<code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code>, which
<strong>should</strong> be when the presentation engine displayed the image.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_MAILBOX_KHR</code>.
The intention of using this present mode with this extension is to
handle cases where an image is presented late, and the next image is
presented soon enough to replace it at the next vertical blanking
period.
For images that are displayed to the user, the value of
<code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code> <strong>must</strong> be
when the image was displayed.
For images that are not displayed to the user,
<code>vkGetPastPresentationTimingGOOGLE</code> <strong>may</strong> not return a
<code>VkPastPresentationTimingGOOGLE</code> structure, or it <strong>may</strong> return a
<code>VkPastPresentationTimingGOOGLE</code> structure with the value of zero
for both <code>VkPastPresentationTimingGOOGLE</code>::<code>actualPresentTime</code>
and <code>VkPastPresentationTimingGOOGLE</code>::<code>earliestPresentTime</code>.
It is possible that an application <strong>can</strong> submit images with
<code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> values such that new
images <strong>may</strong> not be displayed.
For example, if <code>VkPresentTimeGOOGLE</code>::<code>desiredPresentTime</code> is
far enough in the future that an image is not presented before
<code>vkQueuePresentKHR</code> is called to present another image, the first
image will not be displayed to the user.
If the application continues to do that, the presentation <strong>may</strong> not
display new images.</p>
</li>
<li>
<p><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>.
For images that are presented in time to be displayed at the next
vertical blanking period, the semantics are identical as for
<code>VK_PRESENT_MODE_FIFO_KHR</code>.
For images that are presented late, and are displayed after the start of
the vertical blanking period (i.e. with tearing), the values of
<code>VkPastPresentationTimingGOOGLE</code> <strong>may</strong> be treated as if the image was
displayed at the start of the vertical blanking period, or <strong>may</strong> be
treated the same as for <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="present-wait"><a class="anchor" href="#present-wait"></a>Present Wait</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Applications wanting to control the pacing of the application by monitoring
when presentation processes have completed to limit the number of
outstanding images queued for presentation, need to have a method of being
signaled during the presentation process.</p>
</div>
<div class="paragraph">
<p>Using
the <code><a href="../../appendices/extensions.html#VK_GOOGLE_display_timing" class="xref page">VK_GOOGLE_display_timing</a></code> extension
applications can discover when images were presented, but only
asynchronously.</p>
</div>
<div class="paragraph">
<p>Providing a mechanism which allows applications to block, waiting for a
specific step of the presentation process to complete allows them to control
the amount of outstanding work (and hence the potential lag in responding to
user input or changes in the rendering environment).</p>
</div>
<div class="paragraph">
<p>The <code><a href="../../appendices/extensions.html#VK_KHR_present_wait" class="xref page">VK_KHR_present_wait</a></code> extension allows applications to tell the
presentation engine at the <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> call that it plans on
waiting for presentation by passing a <a href="#VkPresentIdKHR">VkPresentIdKHR</a> structure.
The <code>presentId</code> passed in that structure may then be passed to a future
<a href="#vkWaitForPresentKHR">vkWaitForPresentKHR</a> call to cause the application to block until that
presentation is finished.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wsi-swapchain"><a class="anchor" href="#wsi-swapchain"></a>WSI Swapchain</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A swapchain object (a.k.a.
swapchain) provides the ability to present rendering results to a surface.
Swapchain objects are represented by <code>VkSwapchainKHR</code> handles:</p>
</div>
<div id="VkSwapchainKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSwapchainKHR)</code></pre>
</div>
</div>
<div class="paragraph">
<p>A swapchain is an abstraction for an array of presentable images that are
associated with a surface.
The presentable images are represented by <code>VkImage</code> objects created by
the platform.
One image (which <strong>can</strong> be an array image for multiview/stereoscopic-3D
surfaces) is displayed at a time, but multiple images <strong>can</strong> be queued for
presentation.
An application renders to the image, and then queues the image for
presentation to the surface.</p>
</div>
<div class="paragraph">
<p>A native window <strong>cannot</strong> be associated with more than one non-retired
swapchain at a time.
Further, swapchains <strong>cannot</strong> be created for native windows that have a
non-Vulkan graphics API surface associated with them.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The presentation engine is an abstraction for the platform&#8217;s compositor or
display engine.</p>
</div>
<div class="paragraph">
<p>The presentation engine <strong>may</strong> be synchronous or asynchronous with respect to
the application and/or logical device.</p>
</div>
<div class="paragraph">
<p>Some implementations <strong>may</strong> use the device&#8217;s graphics queue or dedicated
presentation hardware to perform presentation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The presentable images of a swapchain are owned by the presentation engine.
An application <strong>can</strong> acquire use of a presentable image from the presentation
engine.
Use of a presentable image <strong>must</strong> occur only after the image is returned by
<a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>, and before it is released by
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>.
This includes transitioning the image layout and rendering commands.</p>
</div>
<div class="paragraph">
<p>An application <strong>can</strong> acquire use of a presentable image with
<a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>.
After acquiring a presentable image and before modifying it, the application
<strong>must</strong> use a synchronization primitive to ensure that the presentation engine
has finished reading from the image.
The application <strong>can</strong> then transition the image&#8217;s layout, queue rendering
commands to it, etc.
Finally, the application presents the image with <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>,
which releases the acquisition of the image.
The application <strong>can</strong> also release the acquisition of the image through
<a href="#vkReleaseSwapchainImagesEXT">vkReleaseSwapchainImagesEXT</a>, if the image is not in use by the device,
and skip the present operation.</p>
</div>
<div class="paragraph">
<p>The presentation engine controls the order in which presentable images are
acquired for use by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This allows the platform to handle situations which require out-of-order
return of images after presentation.
At the same time, it allows the application to generate command buffers
referencing all of the images in the swapchain at initialization time,
rather than in its main loop.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>How this all works is described below.</p>
</div>
<div class="paragraph">
<p>If a swapchain is created with <code>presentMode</code> set to either
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, a single presentable
image <strong>can</strong> be acquired, referred to as a shared presentable image.
A shared presentable image <strong>may</strong> be concurrently accessed by the application
and the presentation engine, without transitioning the image&#8217;s layout after
it is initially presented.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>, the presentation
engine is only required to update to the latest contents of a shared
presentable image after a present.
The application <strong>must</strong> call <code>vkQueuePresentKHR</code> to guarantee an
update.
However, the presentation engine <strong>may</strong> update from it at any time.</p>
</li>
<li>
<p>With <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, the
presentation engine will automatically present the latest contents of a
shared presentable image during every refresh cycle.
The application is only required to make one initial call to
<code>vkQueuePresentKHR</code>, after which the presentation engine will update
from it without any need for further present calls.
The application <strong>can</strong> indicate the image contents have been updated by
calling <code>vkQueuePresentKHR</code>, but this does not guarantee the timing
of when updates will occur.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The presentation engine <strong>may</strong> access a shared presentable image at any time
after it is first presented.
To avoid tearing, an application <strong>should</strong> coordinate access with the
presentation engine.
This requires presentation engine timing information through
platform-specific mechanisms and ensuring that color attachment writes are
made available during the portion of the presentation engine&#8217;s refresh cycle
they are intended for.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code><a href="../../appendices/extensions.html#VK_KHR_shared_presentable_image" class="xref page">VK_KHR_shared_presentable_image</a></code> extension does not provide
functionality for determining the timing of the presentation engine&#8217;s
refresh cycles.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In order to query a swapchain&#8217;s status when rendering to a shared
presentable image, call:</p>
</div>
<div id="vkGetSwapchainStatusKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_shared_presentable_image
VkResult vkGetSwapchainStatusKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to query.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-device-parameter" href="#VUID-vkGetSwapchainStatusKHR-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-swapchain-parameter" href="#VUID-vkGetSwapchainStatusKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainStatusKHR-swapchain-parent" href="#VUID-vkGetSwapchainStatusKHR-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainStatusKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The possible return values for <code>vkGetSwapchainStatusKHR</code> <strong>should</strong> be
interpreted as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code> specifies the presentation engine is presenting the
contents of the shared presentable image, as per the swapchain&#8217;s
<a href="#VkPresentModeKHR">VkPresentModeKHR</a>.</p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> the swapchain no longer matches the surface
properties exactly, but the presentation engine is presenting the
contents of the shared presentable image, as per the swapchain&#8217;s
<a href="#VkPresentModeKHR">VkPresentModeKHR</a>.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> the surface has changed in such a way
that it is no longer compatible with the swapchain.</p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code> the surface is no longer available.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The swapchain state <strong>may</strong> be cached by implementations, so applications
<strong>should</strong> regularly call <code>vkGetSwapchainStatusKHR</code> when using a swapchain
with <a href="#VkPresentModeKHR">VkPresentModeKHR</a> equal to
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a swapchain, call:</p>
</div>
<div id="vkCreateSwapchainKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
VkResult vkCreateSwapchainKHR(
    VkDevice                                    device,
    const VkSwapchainCreateInfoKHR*             pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkSwapchainKHR*                             pSwapchain);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device to create the swapchain for.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>
structure specifying the parameters of the created swapchain.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSwapchain</code> is a pointer to a <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle in which
the created swapchain object will be returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As mentioned above, if <code>vkCreateSwapchainKHR</code> succeeds, it will return a
handle to a swapchain containing an array of at least
<code>pCreateInfo-&gt;minImageCount</code> presentable images.</p>
</div>
<div class="paragraph">
<p>While acquired by the application, presentable images <strong>can</strong> be used in any
way that equivalent non-presentable images <strong>can</strong> be used.
A presentable image is equivalent to a non-presentable image created with
the following <a href="../resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a> parameters:</p>
</div>
<table id="swapchain-wsi-image-create-info" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>VkImageCreateInfo</code> Field</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT</code> is set if
<code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code> is set</p>
<p class="tableblock"><code>VK_IMAGE_CREATE_PROTECTED_BIT</code> is set if
<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> is set</p>
<p class="tableblock"><code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code> are both set if
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> is set</p>
<p class="tableblock">all other bits are unset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_TYPE_2D</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageFormat</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{<code>pCreateInfo-&gt;imageExtent.width</code>, <code>pCreateInfo-&gt;imageExtent.height</code>, <code>1</code>}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mipLevels</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>arrayLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageArrayLayers</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>samples</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tiling</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_TILING_OPTIMAL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageUsage</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sharingMode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;imageSharingMode</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queueFamilyIndexCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;queueFamilyIndexCount</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pQueueFamilyIndices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pCreateInfo-&gt;pQueueFamilyIndices</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initialLayout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_IMAGE_LAYOUT_UNDEFINED</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>pCreateInfo-&gt;surface</code> <strong>must</strong> not be destroyed until after the
swapchain is destroyed.</p>
</div>
<div class="paragraph">
<p>If <code>oldSwapchain</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
the native window referred to by <code>pCreateInfo-&gt;surface</code> is already
associated with a Vulkan swapchain, <code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>
<strong>must</strong> be returned.</p>
</div>
<div class="paragraph">
<p>If the native window referred to by <code>pCreateInfo-&gt;surface</code> is already
associated with a non-Vulkan graphics API surface,
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code> <strong>must</strong> be returned.</p>
</div>
<div class="paragraph">
<p>The native window referred to by <code>pCreateInfo-&gt;surface</code> <strong>must</strong> not become
associated with a non-Vulkan graphics API surface before all associated
Vulkan swapchains have been destroyed.</p>
</div>
<div class="paragraph">
<p><code>vkCreateSwapchainKHR</code> will return <code>VK_ERROR_DEVICE_LOST</code> if the
logical device was lost.
The <code>VkSwapchainKHR</code> is a child of the <code>device</code>, and <strong>must</strong> be
destroyed before the <code>device</code>.
However, <code>VkSurfaceKHR</code> is not a child of any <code>VkDevice</code> and is not
affected by the lost device.
After successfully recreating a <code>VkDevice</code>, the same <code>VkSurfaceKHR</code>
<strong>can</strong> be used to create a new <code>VkSwapchainKHR</code>, provided the previous one
was destroyed.</p>
</div>
<div class="paragraph">
<p>If the <code>oldSwapchain</code> parameter of <code>pCreateInfo</code> is a valid
swapchain, which has exclusive full-screen access, that access is released
from <code>pCreateInfo-&gt;oldSwapchain</code>.
If the command succeeds in this case, the newly created swapchain will
automatically acquire exclusive full-screen access from
<code>pCreateInfo-&gt;oldSwapchain</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This implicit transfer is intended to avoid exiting and entering full-screen
exclusive mode, which may otherwise cause unwanted visual updates to the
display.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In some cases, swapchain creation <strong>may</strong> fail if exclusive full-screen mode is
requested for application control, but for some implementation-specific
reason exclusive full-screen access is unavailable for the particular
combination of parameters provided.
If this occurs, <code>VK_ERROR_INITIALIZATION_FAILED</code> will be returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In particular, it will fail if the <code>imageExtent</code> member of
<code>pCreateInfo</code> does not match the extents of the monitor.
Other reasons for failure may include the application not being set as
high-dpi aware, or if the physical device and monitor are not compatible in
this mode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<a href="#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure, then that structure
includes additional swapchain creation parameters specific to the present
barrier.
Swapchain creation <strong>may</strong> fail if the state of the current system restricts
the usage of the present barrier feature
<a href="#VkSurfaceCapabilitiesPresentBarrierNV">VkSurfaceCapabilitiesPresentBarrierNV</a>, or a swapchain itself does not
satisfy all the required conditions.
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
<div class="paragraph">
<p>When the <a href="#VkSurfaceKHR">VkSurfaceKHR</a> in <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> is a display
surface, then the <a href="#VkDisplayModeKHR">VkDisplayModeKHR</a> in display surface&#8217;s
<a href="#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a> is associated with a particular
<a href="#VkDisplayKHR">VkDisplayKHR</a>.
Swapchain creation <strong>may</strong> fail if that <a href="#VkDisplayKHR">VkDisplayKHR</a> is not acquired by
the application.
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-device-parameter" href="#VUID-vkCreateSwapchainKHR-device-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pCreateInfo-parameter" href="#VUID-vkCreateSwapchainKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pAllocator-parameter" href="#VUID-vkCreateSwapchainKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSwapchainKHR-pSwapchain-parameter" href="#VUID-vkCreateSwapchainKHR-pSwapchain-parameter"></a> <span class="vuid">VUID-vkCreateSwapchainKHR-pSwapchain-parameter</span><br>
 <code>pSwapchain</code> <strong>must</strong> be a valid pointer to a <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pCreateInfo-&gt;surface</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pCreateInfo-&gt;oldSwapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_COMPRESSION_EXHAUSTED_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkSwapchainCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
typedef struct VkSwapchainCreateInfoKHR {
    VkStructureType                  sType;
    const void*                      pNext;
    VkSwapchainCreateFlagsKHR        flags;
    VkSurfaceKHR                     surface;
    uint32_t                         minImageCount;
    VkFormat                         imageFormat;
    VkColorSpaceKHR                  imageColorSpace;
    VkExtent2D                       imageExtent;
    uint32_t                         imageArrayLayers;
    VkImageUsageFlags                imageUsage;
    VkSharingMode                    imageSharingMode;
    uint32_t                         queueFamilyIndexCount;
    const uint32_t*                  pQueueFamilyIndices;
    VkSurfaceTransformFlagBitsKHR    preTransform;
    VkCompositeAlphaFlagBitsKHR      compositeAlpha;
    VkPresentModeKHR                 presentMode;
    VkBool32                         clipped;
    VkSwapchainKHR                   oldSwapchain;
} VkSwapchainCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>
indicating parameters of the swapchain creation.</p>
</li>
<li>
<p><code>surface</code> is the surface onto which the swapchain will present
images.
If the creation succeeds, the swapchain becomes associated with
<code>surface</code>.</p>
</li>
<li>
<p><code>minImageCount</code> is the minimum number of presentable images that the
application needs.
The implementation will either create the swapchain with at least that
many images, or it will fail to create the swapchain.</p>
</li>
<li>
<p><code>imageFormat</code> is a <a href="../formats.html#VkFormat" class="xref page">VkFormat</a> value specifying the format the
swapchain image(s) will be created with.</p>
</li>
<li>
<p><code>imageColorSpace</code> is a <a href="#VkColorSpaceKHR">VkColorSpaceKHR</a> value specifying the
way the swapchain interprets image data.</p>
</li>
<li>
<p><code>imageExtent</code> is the size (in pixels) of the swapchain image(s).
The behavior is platform-dependent if the image extent does not match
the surface&#8217;s <code>currentExtent</code> as returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On some platforms, it is normal that <code>maxImageExtent</code> <strong>may</strong> become <code>(0,
0)</code>, for example when the window is minimized.
In such a case, it is not possible to create a swapchain due to the Valid
Usage requirements
, unless scaling is selected through
<a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>, if supported
.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>imageArrayLayers</code> is the number of views in a multiview/stereo
surface.
For non-stereoscopic-3D applications, this value is 1.</p>
</li>
<li>
<p><code>imageUsage</code> is a bitmask of <a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> describing
the intended usage of the (acquired) swapchain images.</p>
</li>
<li>
<p><code>imageSharingMode</code> is the sharing mode used for the image(s) of the
swapchain.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of queue families having
access to the image(s) of the swapchain when <code>imageSharingMode</code> is
<code>VK_SHARING_MODE_CONCURRENT</code>.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a pointer to an array of queue family
indices having access to the images(s) of the swapchain when
<code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>.</p>
</li>
<li>
<p><code>preTransform</code> is a <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value
describing the transform, relative to the presentation engine&#8217;s natural
orientation, applied to the image content prior to presentation.
If it does not match the <code>currentTransform</code> value returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>, the presentation engine
will transform the image content as part of the presentation operation.</p>
</li>
<li>
<p><code>compositeAlpha</code> is a <a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a> value
indicating the alpha compositing mode to use when this surface is
composited together with other surfaces on certain window systems.</p>
</li>
<li>
<p><code>presentMode</code> is the presentation mode the swapchain will use.
A swapchain&#8217;s present mode determines how incoming present requests will
be processed and queued internally.</p>
</li>
<li>
<p><code>clipped</code> specifies whether the Vulkan implementation is allowed to
discard rendering operations that affect regions of the surface that are
not visible.</p>
<div class="ulist">
<ul>
<li>
<p>If <code>clipped</code> is <code>VK_TRUE</code>, the presentable images associated
with the swapchain <strong>may</strong> not own all of their pixels.
Pixels in the presentable images that correspond to regions of the
target surface obscured by another window on the desktop, or subject to
some other clipping mechanism will have <strong>undefined</strong> content when read
back.
Fragment shaders <strong>may</strong> not execute for these pixels, and thus any side
effects they would have had will not occur.
Setting <code>VK_TRUE</code> does not guarantee any clipping will occur, but
allows more efficient presentation methods to be used on some
platforms.</p>
</li>
<li>
<p>If <code>clipped</code> is <code>VK_FALSE</code>, presentable images associated with
the swapchain will own all of the pixels they contain.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications <strong>should</strong> set this value to <code>VK_TRUE</code> if they do not expect
to read back the content of presentable images before presenting them or
after reacquiring them, and if their fragment shaders do not have any side
effects that require them to run for all pixels in the presentable image.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>oldSwapchain</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, or the existing non-retired
swapchain currently associated with <code>surface</code>.
Providing a valid <code>oldSwapchain</code> <strong>may</strong> aid in the resource reuse, and
also allows the application to still present any images that are already
acquired from it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upon calling <code>vkCreateSwapchainKHR</code> with an <code>oldSwapchain</code> that is
not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>oldSwapchain</code> is retired&#8201;&#8212;&#8201;even if creation
of the new swapchain fails.
The new swapchain is created in the non-retired state whether or not
<code>oldSwapchain</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>Upon calling <code>vkCreateSwapchainKHR</code> with an <code>oldSwapchain</code> that is
not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, any images from <code>oldSwapchain</code> that are not
acquired by the application <strong>may</strong> be freed by the implementation, which <strong>may</strong>
occur even if creation of the new swapchain fails.
The application <strong>can</strong> destroy <code>oldSwapchain</code> to free all memory
associated with <code>oldSwapchain</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Multiple retired swapchains <strong>can</strong> be associated with the same
<code>VkSurfaceKHR</code> through multiple uses of <code>oldSwapchain</code> that
outnumber calls to <a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.</p>
</div>
<div class="paragraph">
<p>After <code>oldSwapchain</code> is retired, the application <strong>can</strong> pass to
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> any images it had already acquired from
<code>oldSwapchain</code>.
E.g., an application may present an image from the old swapchain before an
image from the new swapchain is ready to be presented.
As usual, <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> <strong>may</strong> fail if <code>oldSwapchain</code> has
entered a state that causes <code>VK_ERROR_OUT_OF_DATE_KHR</code> to be returned.</p>
</div>
<div class="paragraph">
<p>The application <strong>can</strong> continue to use a shared presentable image obtained
from <code>oldSwapchain</code> until a presentable image is acquired from the new
swapchain, as long as it has not entered a state that causes it to return
<code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-surface-01270" href="#VUID-VkSwapchainCreateInfoKHR-surface-01270"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-surface-01270</span><br>

<code>surface</code> <strong>must</strong> be a surface that is supported by the device as
determined using <a href="#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-minImageCount-01272" href="#VUID-VkSwapchainCreateInfoKHR-minImageCount-01272"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-minImageCount-01272</span><br>

<code>minImageCount</code> <strong>must</strong> be less than or equal to the value returned in
the <code>maxImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface if the returned <code>maxImageCount</code> is not zero</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10155" href="#VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10155"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10155</span><br>

If the <a href="../features.html#features-swapchainMaintenance1" class="xref page"><code>swapchainMaintenance1</code></a>
feature is not enabled, then the <code>pNext</code> chain <strong>must</strong> not include a
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-02839" href="#VUID-VkSwapchainCreateInfoKHR-presentMode-02839"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-02839</span><br>

If <code>presentMode</code> is not
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> nor
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, then
<code>minImageCount</code> <strong>must</strong> be greater than or equal to the value returned
in the <code>minImageCount</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-minImageCount-01383" href="#VUID-VkSwapchainCreateInfoKHR-minImageCount-01383"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-minImageCount-01383</span><br>

<code>minImageCount</code> <strong>must</strong> be <code>1</code> if <code>presentMode</code> is either
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-01273" href="#VUID-VkSwapchainCreateInfoKHR-imageFormat-01273"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-01273</span><br>

<code>imageFormat</code> and <code>imageColorSpace</code> <strong>must</strong> match the <code>format</code>
and <code>colorSpace</code> members, respectively, of one of the
<code>VkSurfaceFormatKHR</code> structures returned by
<code>vkGetPhysicalDeviceSurfaceFormatsKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-07781" href="#VUID-VkSwapchainCreateInfoKHR-pNext-07781"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-07781</span><br>

If a <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure was not
included in the <code>pNext</code> chain, or it is included and
<a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code> is
zero then
<code>imageExtent</code> <strong>must</strong> be between <code>minImageExtent</code> and
<code>maxImageExtent</code>, inclusive, where <code>minImageExtent</code> and
<code>maxImageExtent</code> are members of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-07782" href="#VUID-VkSwapchainCreateInfoKHR-pNext-07782"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-07782</span><br>

If a <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure was included
in the <code>pNext</code> chain and
<a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code> is
not zero then <code>imageExtent</code> <strong>must</strong> be between
<code>minScaledImageExtent</code> and <code>maxScaledImageExtent</code>, inclusive,
where <code>minScaledImageExtent</code> and <code>maxScaledImageExtent</code> are
members of the <code>VkSurfacePresentScalingCapabilitiesEXT</code> structure
returned by <code>vkGetPhysicalDeviceSurfaceCapabilities2KHR</code> for the
surface and <code>presentMode</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10157" href="#VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10157"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-swapchainMaintenance1-10157</span><br>

If the <a href="../features.html#features-swapchainMaintenance1" class="xref page"><code>swapchainMaintenance1</code></a>
feature is not enabled, then <code>flags</code> <strong>must</strong> not include
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageExtent-01689" href="#VUID-VkSwapchainCreateInfoKHR-imageExtent-01689"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageExtent-01689</span><br>

<code>imageExtent</code> members <code>width</code> and <code>height</code> <strong>must</strong> both be
non-zero</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275" href="#VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageArrayLayers-01275</span><br>

<code>imageArrayLayers</code> <strong>must</strong> be greater than <code>0</code> and less than or equal
to the <code>maxImageArrayLayers</code> member of the
<code>VkSurfaceCapabilitiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-01427" href="#VUID-VkSwapchainCreateInfoKHR-presentMode-01427"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-01427</span><br>

If <code>presentMode</code> is
<code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>,
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>, <code>VK_PRESENT_MODE_MAILBOX_KHR</code>,
<code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>, <code>imageUsage</code> <strong>must</strong> be a
subset of the supported usage flags present in the
<code>supportedUsageFlags</code> member of the <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>
structure returned by <a href="#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>
for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-01384" href="#VUID-VkSwapchainCreateInfoKHR-imageUsage-01384"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-01384</span><br>

If <code>presentMode</code> is <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>
or <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>, <code>imageUsage</code>
<strong>must</strong> be a subset of the supported usage flags present in the
<code>sharedPresentSupportedUsageFlags</code> member of the
<a href="#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a> structure returned by
<a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277" href="#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01277</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong>must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278" href="#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01278</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong>must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428" href="#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-01428</span><br>

If <code>imageSharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each
element of <code>pQueueFamilyIndices</code> <strong>must</strong> be unique and <strong>must</strong> be less
than <code>pQueueFamilyPropertyCount</code> returned by either
<a href="../devsandqueues.html#vkGetPhysicalDeviceQueueFamilyProperties" class="xref page">vkGetPhysicalDeviceQueueFamilyProperties</a>
or <a href="../devsandqueues.html#vkGetPhysicalDeviceQueueFamilyProperties2" class="xref page">vkGetPhysicalDeviceQueueFamilyProperties2</a>
for the <code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-preTransform-01279" href="#VUID-VkSwapchainCreateInfoKHR-preTransform-01279"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-preTransform-01279</span><br>

<code>preTransform</code> <strong>must</strong> be one of the bits present in the
<code>supportedTransforms</code> member of the <code>VkSurfaceCapabilitiesKHR</code>
structure returned by <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code>
for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280" href="#VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-compositeAlpha-01280</span><br>

<code>compositeAlpha</code> <strong>must</strong> be one of the bits present in the
<code>supportedCompositeAlpha</code> member of the
<code>VkSurfaceCapabilitiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR</code> for the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-01281" href="#VUID-VkSwapchainCreateInfoKHR-presentMode-01281"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-01281</span><br>

<code>presentMode</code> <strong>must</strong> be one of the <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values
returned by <code>vkGetPhysicalDeviceSurfacePresentModesKHR</code> for the
surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentModeFifoLatestReady-10161" href="#VUID-VkSwapchainCreateInfoKHR-presentModeFifoLatestReady-10161"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentModeFifoLatestReady-10161</span><br>

If the <a href="../features.html#features-presentModeFifoLatestReady" class="xref page">    <code>presentModeFifoLatestReady</code></a> feature is not enabled,
<code>presentMode</code> <strong>must</strong> not be
<code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429" href="#VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-physicalDeviceCount-01429</span><br>

If the logical device was created with
<a href="../devsandqueues.html#VkDeviceGroupDeviceCreateInfo" class="xref page">VkDeviceGroupDeviceCreateInfo</a>::<code>physicalDeviceCount</code> equal to
1,
<code>flags</code> <strong>must</strong> not contain
<code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933" href="#VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-oldSwapchain-01933</span><br>

If <code>oldSwapchain</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>oldSwapchain</code>
<strong>must</strong> be a non-retired swapchain associated with native window referred
to by <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-01778" href="#VUID-VkSwapchainCreateInfoKHR-imageFormat-01778"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-01778</span><br>

The <a href="#swapchain-wsi-image-create-info">implied image creation    parameters</a> of the swapchain <strong>must</strong> be supported as reported by
<a href="../capabilities.html#vkGetPhysicalDeviceImageFormatProperties" class="xref page">vkGetPhysicalDeviceImageFormatProperties</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-03168" href="#VUID-VkSwapchainCreateInfoKHR-flags-03168"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-03168</span><br>

If <code>flags</code> contains <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>
then the <code>pNext</code> chain <strong>must</strong> include a
<a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a> structure with a <code>viewFormatCount</code>
greater than zero and <code>pViewFormats</code> <strong>must</strong> have an element equal to
<code>imageFormat</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-04099" href="#VUID-VkSwapchainCreateInfoKHR-pNext-04099"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-04099</span><br>

If a <a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a> structure was included in the
<code>pNext</code> chain and
<a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>::<code>viewFormatCount</code> is not zero
then all of the formats in
<a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>::<code>pViewFormats</code> <strong>must</strong> be
compatible with the <code>format</code> as described in the
<a href="../formats.html#formats-compatibility" class="xref page">compatibility table</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-04100" href="#VUID-VkSwapchainCreateInfoKHR-flags-04100"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-04100</span><br>

If <code>flags</code> does not contain
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> and the <code>pNext</code>
chain include a <a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a> structure then
<a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>::<code>viewFormatCount</code> <strong>must</strong> be <code>0</code> or
<code>1</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-03187" href="#VUID-VkSwapchainCreateInfoKHR-flags-03187"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-03187</span><br>

If <code>flags</code> contains <code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code>,
then <code>VkSurfaceProtectedCapabilitiesKHR</code>::<code>supportsProtected</code>
<strong>must</strong> be <code>VK_TRUE</code> in the <a href="#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a>
structure returned by <a href="#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>
for <code>surface</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-02679" href="#VUID-VkSwapchainCreateInfoKHR-pNext-02679"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-02679</span><br>

If the <code>pNext</code> chain includes a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure with its
<code>fullScreenExclusive</code> member set to
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>, and
<code>surface</code> was created using <a href="#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a>, a
<a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a> structure <strong>must</strong> be
included in the <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-06752" href="#VUID-VkSwapchainCreateInfoKHR-pNext-06752"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-06752</span><br>

If the <a href="../features.html#features-imageCompressionControlSwapchain" class="xref page">    <code>imageCompressionControlSwapchain</code></a> feature is not enabled, the
<code>pNext</code> chain <strong>must</strong> not include an
<a href="../resources.html#VkImageCompressionControlEXT" class="xref page">VkImageCompressionControlEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-sType-sType" href="#VUID-VkSwapchainCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-pNext-pNext" href="#VUID-VkSwapchainCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a>, <a href="../resources.html#VkImageCompressionControlEXT" class="xref page">VkImageCompressionControlEXT</a>, <a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>, <a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a>, <a href="#VkSurfaceFullScreenExclusiveWin32InfoEXT">VkSurfaceFullScreenExclusiveWin32InfoEXT</a>, <a href="#VkSwapchainCounterCreateInfoEXT">VkSwapchainCounterCreateInfoEXT</a>, <a href="#VkSwapchainDisplayNativeHdrCreateInfoAMD">VkSwapchainDisplayNativeHdrCreateInfoAMD</a>, <a href="#VkSwapchainLatencyCreateInfoNV">VkSwapchainLatencyCreateInfoNV</a>, <a href="#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a>, <a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, or <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-sType-unique" href="#VUID-VkSwapchainCreateInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-flags-parameter" href="#VUID-VkSwapchainCreateInfoKHR-flags-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-surface-parameter" href="#VUID-VkSwapchainCreateInfoKHR-surface-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-surface-parameter</span><br>
 <code>surface</code> <strong>must</strong> be a valid <a href="#VkSurfaceKHR">VkSurfaceKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter" href="#VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageFormat-parameter</span><br>
 <code>imageFormat</code> <strong>must</strong> be a valid <a href="../formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter" href="#VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageColorSpace-parameter</span><br>
 <code>imageColorSpace</code> <strong>must</strong> be a valid <a href="#VkColorSpaceKHR">VkColorSpaceKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter" href="#VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-parameter</span><br>
 <code>imageUsage</code> <strong>must</strong> be a valid combination of <a href="../resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask" href="#VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageUsage-requiredbitmask</span><br>
 <code>imageUsage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter" href="#VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-imageSharingMode-parameter</span><br>
 <code>imageSharingMode</code> <strong>must</strong> be a valid <a href="../resources.html#VkSharingMode" class="xref page">VkSharingMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-preTransform-parameter" href="#VUID-VkSwapchainCreateInfoKHR-preTransform-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-preTransform-parameter</span><br>
 <code>preTransform</code> <strong>must</strong> be a valid <a href="#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter" href="#VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-compositeAlpha-parameter</span><br>
 <code>compositeAlpha</code> <strong>must</strong> be a valid <a href="#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-presentMode-parameter" href="#VUID-VkSwapchainCreateInfoKHR-presentMode-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-presentMode-parameter</span><br>
 <code>presentMode</code> <strong>must</strong> be a valid <a href="#VkPresentModeKHR">VkPresentModeKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter" href="#VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-oldSwapchain-parameter</span><br>
 If <code>oldSwapchain</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>oldSwapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSwapchainCreateInfoKHR-commonparent" href="#VUID-VkSwapchainCreateInfoKHR-commonparent"></a> <span class="vuid">VUID-VkSwapchainCreateInfoKHR-commonparent</span><br>
 Both of <code>oldSwapchain</code>, and <code>surface</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../initialization.html#VkInstance" class="xref page">VkInstance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>flags</code>,
specifying parameters of swapchain creation, are:</p>
</div>
<div id="VkSwapchainCreateFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
typedef enum VkSwapchainCreateFlagBitsKHR {
  // Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain
    VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR = 0x00000001,
  // Provided by VK_VERSION_1_1 with VK_KHR_swapchain
    VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR = 0x00000002,
  // Provided by VK_KHR_swapchain_mutable_format
    VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR = 0x00000004,
  // Provided by VK_EXT_swapchain_maintenance1
    VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT = 0x00000008,
} VkSwapchainCreateFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code> specifies
that images created from the swapchain (i.e. with the <code>swapchain</code>
member of <a href="../resources.html#VkImageSwapchainCreateInfoKHR" class="xref page">VkImageSwapchainCreateInfoKHR</a> set to this swapchain&#8217;s
handle) <strong>must</strong> use <code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT</code>.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> specifies that images
created from the swapchain are protected images.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> specifies that the
images of the swapchain <strong>can</strong> be used to create a <code>VkImageView</code> with
a different format than what the swapchain was created with.
The list of allowed image view formats is specified by adding a
<a href="../resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a> structure to the <code>pNext</code> chain of
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.
In addition, this flag also specifies that the swapchain <strong>can</strong> be created
with usage flags that are not supported for the format the swapchain is
created with but are supported for at least one of the allowed image
view formats.</p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> specifies
    that the implementation <strong>may</strong> defer allocation of memory associated with
    each swapchain image until its index is to be returned from
    <a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>
or <a href="#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a>
    for the first time.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSwapchainCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
typedef VkFlags VkSwapchainCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSwapchainCreateFlagsKHR</code> is a bitmask type for setting a mask of zero
or more <a href="#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkDeviceGroupSwapchainCreateInfoKHR</code> structure, then that structure
includes a set of device group present modes that the swapchain <strong>can</strong> be used
with.</p>
</div>
<div class="paragraph">
<p>The <code>VkDeviceGroupSwapchainCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupSwapchainCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain
typedef struct VkDeviceGroupSwapchainCreateInfoKHR {
    VkStructureType                     sType;
    const void*                         pNext;
    VkDeviceGroupPresentModeFlagsKHR    modes;
} VkDeviceGroupSwapchainCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>modes</code> is a bitfield of modes that the swapchain <strong>can</strong> be used with.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>modes</code> is considered to be
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType" href="#VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter" href="#VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-parameter</span><br>
 <code>modes</code> <strong>must</strong> be a valid combination of <a href="#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask" href="#VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask"></a> <span class="vuid">VUID-VkDeviceGroupSwapchainCreateInfoKHR-modes-requiredbitmask</span><br>
 <code>modes</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<code>VkSwapchainDisplayNativeHdrCreateInfoAMD</code> structure, then that
structure includes additional swapchain creation parameters specific to
display native HDR support.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainDisplayNativeHdrCreateInfoAMD</code> structure is defined as:</p>
</div>
<div id="VkSwapchainDisplayNativeHdrCreateInfoAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_display_native_hdr
typedef struct VkSwapchainDisplayNativeHdrCreateInfoAMD {
    VkStructureType    sType;
    const void*        pNext;
    VkBool32           localDimmingEnable;
} VkSwapchainDisplayNativeHdrCreateInfoAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>localDimmingEnable</code> specifies whether local dimming is enabled for
the swapchain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does not include
this structure, the default value for <code>localDimmingEnable</code> is
<code>VK_TRUE</code>, meaning local dimming is initially enabled for the swapchain.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType" href="#VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType"></a> <span class="vuid">VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_DISPLAY_NATIVE_HDR_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449" href="#VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449"></a> <span class="vuid">VUID-VkSwapchainDisplayNativeHdrCreateInfoAMD-localDimmingEnable-04449</span><br>

It is only valid to set <code>localDimmingEnable</code> to <code>VK_TRUE</code> if
<a href="#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>::<code>localDimmingSupport</code>
is supported</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The local dimming HDR setting may also be changed over the life of a
swapchain by calling:</p>
</div>
<div id="vkSetLocalDimmingAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_display_native_hdr
void vkSetLocalDimmingAMD(
    VkDevice                                    device,
    VkSwapchainKHR                              swapChain,
    VkBool32                                    localDimmingEnable);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapChain</code>.</p>
</li>
<li>
<p><code>swapChain</code> handle to enable local dimming.</p>
</li>
<li>
<p><code>localDimmingEnable</code> specifies whether local dimming is enabled for
the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-device-parameter" href="#VUID-vkSetLocalDimmingAMD-device-parameter"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-swapChain-parameter" href="#VUID-vkSetLocalDimmingAMD-swapChain-parameter"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-swapChain-parameter</span><br>
 <code>swapChain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-swapChain-parent" href="#VUID-vkSetLocalDimmingAMD-swapChain-parent"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-swapChain-parent</span><br>
 <code>swapChain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618" href="#VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618"></a> <span class="vuid">VUID-vkSetLocalDimmingAMD-localDimmingSupport-04618</span><br>

<a href="#VkDisplayNativeHdrSurfaceCapabilitiesAMD">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a>::<code>localDimmingSupport</code>
<strong>must</strong> be supported</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> includes a
<a href="#VkSurfaceFullScreenExclusiveInfoEXT">VkSurfaceFullScreenExclusiveInfoEXT</a> structure, then that structure
specifies the application&#8217;s preferred full-screen presentation behavior.
If this structure is not present, <code>fullScreenExclusive</code> is considered to
be <code>VK_FULL_SCREEN_EXCLUSIVE_DEFAULT_EXT</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enable surface counters when creating a swapchain, add a
<code>VkSwapchainCounterCreateInfoEXT</code> structure to the <code>pNext</code> chain of
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.
<code>VkSwapchainCounterCreateInfoEXT</code> is defined as:</p>
</div>
<div id="VkSwapchainCounterCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_control
typedef struct VkSwapchainCounterCreateInfoEXT {
    VkStructureType             sType;
    const void*                 pNext;
    VkSurfaceCounterFlagsEXT    surfaceCounters;
} VkSwapchainCounterCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>surfaceCounters</code> is a bitmask of <a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a>
specifying surface counters to enable for the swapchain.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244" href="#VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-01244</span><br>

The bits in <code>surfaceCounters</code> <strong>must</strong> be supported by
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>surface</code>, as reported by
<a href="#vkGetPhysicalDeviceSurfaceCapabilities2EXT">vkGetPhysicalDeviceSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-sType-sType" href="#VUID-VkSwapchainCounterCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_COUNTER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter" href="#VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter"></a> <span class="vuid">VUID-VkSwapchainCounterCreateInfoEXT-surfaceCounters-parameter</span><br>
 <code>surfaceCounters</code> <strong>must</strong> be a valid combination of <a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The requested counters become active when the first presentation command for
the associated swapchain is processed by the presentation engine.
To query the value of an active counter, use:</p>
</div>
<div id="vkGetSwapchainCounterEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_display_control
VkResult vkGetSwapchainCounterEXT(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    VkSurfaceCounterFlagBitsEXT                 counter,
    uint64_t*                                   pCounterValue);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain from which to query the counter value.</p>
</li>
<li>
<p><code>counter</code> is a <a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> value specifying
the counter to query.</p>
</li>
<li>
<p><code>pCounterValue</code> will return the current value of the counter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a counter is not available because the swapchain is out of date, the
implementation <strong>may</strong> return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-01245" href="#VUID-vkGetSwapchainCounterEXT-swapchain-01245"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-01245</span><br>

One or more present commands on <code>swapchain</code> <strong>must</strong> have been
processed by the presentation engine</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-device-parameter" href="#VUID-vkGetSwapchainCounterEXT-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-parameter" href="#VUID-vkGetSwapchainCounterEXT-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-counter-parameter" href="#VUID-vkGetSwapchainCounterEXT-counter-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-counter-parameter</span><br>
 <code>counter</code> <strong>must</strong> be a valid <a href="#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter" href="#VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-pCounterValue-parameter</span><br>
 <code>pCounterValue</code> <strong>must</strong> be a valid pointer to a <code>uint64_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainCounterEXT-swapchain-parent" href="#VUID-vkGetSwapchainCounterEXT-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainCounterEXT-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To specify compression properties for the swapchain images in this
swapchain, add a <a href="../resources.html#VkImageCompressionControlEXT" class="xref page">VkImageCompressionControlEXT</a> structure to the
<code>pNext</code> chain of the <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Applications <strong>can</strong> modify the presentation mode used by the swapchain on a
per-presentation basis.
However, all presentation modes the application intends to use with the
swapchain <strong>must</strong> be specified at swapchain creation time.
To specify more than one presentation mode when creating a swapchain,
include the <code>VkSwapchainPresentModesCreateInfoEXT</code> structure in the
<code>pNext</code> chain of the <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainPresentModesCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentModesCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
typedef struct VkSwapchainPresentModesCreateInfoEXT {
    VkStructureType            sType;
    const void*                pNext;
    uint32_t                   presentModeCount;
    const VkPresentModeKHR*    pPresentModes;
} VkSwapchainPresentModesCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentModeCount</code> is the number of presentation modes provided.</p>
</li>
<li>
<p><code>pPresentModes</code> is a list of presentation modes with
<code>presentModeCount</code> entries</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-None-07762</span><br>

Each entry in pPresentModes <strong>must</strong> be one of the <a href="#VkPresentModeKHR">VkPresentModeKHR</a>
values returned by <code>vkGetPhysicalDeviceSurfacePresentModesKHR</code> for
the surface</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeFifoLatestReady-10160" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeFifoLatestReady-10160"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeFifoLatestReady-10160</span><br>

If the <a href="../features.html#features-presentModeFifoLatestReady" class="xref page">    <code>presentModeFifoLatestReady</code></a> feature is not enabled, pPresentModes
<strong>must</strong> not contain <code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-07763</span><br>

The entries in pPresentModes <strong>must</strong> be a subset of the present modes
returned in
<a href="#VkSurfacePresentModeCompatibilityEXT">VkSurfacePresentModeCompatibilityEXT</a>::<code>pPresentModes</code>, given
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-presentMode-07764</span><br>

<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> <strong>must</strong> be included in
<code>pPresentModes</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODES_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-pPresentModes-parameter</span><br>
 <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>presentModeCount</code> valid <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength" href="#VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentModesCreateInfoEXT-presentModeCount-arraylength</span><br>
 <code>presentModeCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When an application presents a swapchain image with dimensions different
than those of the target surface, different behavior is possible on
different platforms per their respective specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Presentation fails and <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned</p>
</li>
<li>
<p>Scaling is done and <code>VK_SUCCESS</code> or <code>VK_SUBOPTIMAL_KHR</code> is
returned</p>
</li>
<li>
<p>Unspecified scaling using an arbitrary combination of stretching,
centering and/or clipping.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applications <strong>can</strong> define specific behavior when creating a swapchain by
including the <code>VkSwapchainPresentScalingCreateInfoEXT</code> structure in the
<code>pNext</code> chain of the <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainPresentScalingCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentScalingCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
typedef struct VkSwapchainPresentScalingCreateInfoEXT {
    VkStructureType             sType;
    const void*                 pNext;
    VkPresentScalingFlagsEXT    scalingBehavior;
    VkPresentGravityFlagsEXT    presentGravityX;
    VkPresentGravityFlagsEXT    presentGravityY;
} VkSwapchainPresentScalingCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>scalingBehavior</code> is <code>0</code> or the scaling method to use when the
dimensions of the surface and swapchain images differ.</p>
</li>
<li>
<p><code>presentGravityX</code> is <code>0</code> or the x-axis direction in which swapchain
image pixels gravitate relative to the surface when
<code>scalingBehavior</code> does not result in a one-to-one pixel mapping
between the scaled swapchain image and the surface.</p>
</li>
<li>
<p><code>presentGravityY</code> is <code>0</code> or the y-axis direction in which swapchain
image pixels gravitate relative to the surface when
<code>scalingBehavior</code> does not result in a one-to-one pixel mapping
between the scaled swapchain image and the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>scalingBehavior</code> is <code>0</code>, the result of presenting a swapchain image
with dimensions that do not match the surface dimensions is implementation
and platform-dependent.
If <code>presentGravityX</code> or <code>presentGravityY</code> are <code>0</code>, the presentation
gravity <strong>must</strong> match that defined by the native platform surface on platforms
which define surface gravity.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07765</span><br>

If <code>presentGravityX</code> is <code>0</code>, <code>presentGravityY</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07766</span><br>

If <code>presentGravityX</code> is not <code>0</code>, <code>presentGravityY</code> <strong>must</strong> not be
<code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07767</span><br>

<code>scalingBehavior</code> <strong>must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07768</span><br>

<code>presentGravityX</code> <strong>must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07769</span><br>

<code>presentGravityY</code> <strong>must</strong> not have more than one bit set</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07770</span><br>

<code>scalingBehavior</code> <strong>must</strong> be <code>0</code> or a valid scaling method for the
surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
given <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-07771</span><br>

If the swapchain is created with
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>scalingBehavior</code> <strong>must</strong>
be <code>0</code> or a valid scaling method for the surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentScaling</code>,
given each present mode in
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07772</span><br>

<code>presentGravityX</code> <strong>must</strong> be <code>0</code> or a valid x-axis present gravity for
the surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>,
given <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-07773</span><br>

If the swapchain is created with
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>presentGravityX</code> <strong>must</strong>
be <code>0</code> or a valid x-axis present gravity for the surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityX</code>,
given each present mode in
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07774</span><br>

<code>presentGravityY</code> <strong>must</strong> be <code>0</code> or a valid y-axis present gravity for
the surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityY</code>,
given <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>presentMode</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-07775</span><br>

If the swapchain is created with
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, <code>presentGravityY</code> <strong>must</strong>
be <code>0</code> or a valid y-axis present gravity for the surface as returned in
<a href="#VkSurfacePresentScalingCapabilitiesEXT">VkSurfacePresentScalingCapabilitiesEXT</a>::<code>supportedPresentGravityY</code>,
given each present mode in
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-swapchainMaintenance1-10154" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-swapchainMaintenance1-10154"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-swapchainMaintenance1-10154</span><br>

If the <a href="../features.html#features-swapchainMaintenance1" class="xref page"><code>swapchainMaintenance1</code></a>
feature is not enabled, then <code>presentScaling</code>,
<code>presentGravityX</code>, and <code>presentGravityY</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_SCALING_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-scalingBehavior-parameter</span><br>
 <code>scalingBehavior</code> <strong>must</strong> be a valid combination of <a href="#VkPresentScalingFlagBitsEXT">VkPresentScalingFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityX-parameter</span><br>
 <code>presentGravityX</code> <strong>must</strong> be a valid combination of <a href="#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter" href="#VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentScalingCreateInfoEXT-presentGravityY-parameter</span><br>
 <code>presentGravityY</code> <strong>must</strong> be a valid combination of <a href="#VkPresentGravityFlagBitsEXT">VkPresentGravityFlagBitsEXT</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a swapchain object call:</p>
</div>
<div id="vkDestroySwapchainKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
void vkDestroySwapchainKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain object when there is no more specific allocator available (see
<a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application <strong>must</strong> not destroy a swapchain until after completion of all
outstanding operations on images that were acquired from the swapchain.
<code>swapchain</code> and all associated <code>VkImage</code> handles are destroyed, and
<strong>must</strong> not be acquired or used any more by the application.
The memory of each <code>VkImage</code> will only be freed after that image is no
longer used by the presentation engine.
For example, if one image of the swapchain is being displayed in a window,
the memory for that image <strong>may</strong> not be freed until the window is destroyed,
or another swapchain is created for the window.
Destroying the swapchain does not invalidate the parent <code>VkSurfaceKHR</code>,
and a new swapchain <strong>can</strong> be created with it.</p>
</div>
<div class="paragraph">
<p>When a swapchain associated with a display surface is destroyed, if the
image most recently presented to the display surface is from the swapchain
being destroyed, then either any display resources modified by presenting
images from any swapchain associated with the display surface <strong>must</strong> be
reverted by the implementation to their state prior to the first present
performed on one of these swapchains, or such resources <strong>must</strong> be left in
their current state.</p>
</div>
<div class="paragraph">
<p>If <code>swapchain</code> has exclusive full-screen access, it is released before
the swapchain is destroyed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01282" href="#VUID-vkDestroySwapchainKHR-swapchain-01282"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01282</span><br>

All uses of presentable images acquired from <code>swapchain</code> <strong>must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01283" href="#VUID-vkDestroySwapchainKHR-swapchain-01283"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01283</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-01284" href="#VUID-vkDestroySwapchainKHR-swapchain-01284"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-01284</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>swapchain</code> was
created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-device-parameter" href="#VUID-vkDestroySwapchainKHR-device-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-parameter" href="#VUID-vkDestroySwapchainKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-parameter</span><br>
 If <code>swapchain</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-pAllocator-parameter" href="#VUID-vkDestroySwapchainKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySwapchainKHR-swapchain-parent" href="#VUID-vkDestroySwapchainKHR-swapchain-parent"></a> <span class="vuid">VUID-vkDestroySwapchainKHR-swapchain-parent</span><br>
 If <code>swapchain</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="create_shared_swapchains" class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="../../appendices/extensions.html#VK_KHR_display_swapchain" class="xref page">VK_KHR_display_swapchain</a></code> extension is enabled, multiple
swapchains that share presentable images are created by calling:</p>
</div>
<div id="vkCreateSharedSwapchainsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display_swapchain
VkResult vkCreateSharedSwapchainsKHR(
    VkDevice                                    device,
    uint32_t                                    swapchainCount,
    const VkSwapchainCreateInfoKHR*             pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkSwapchainKHR*                             pSwapchains);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device to create the swapchains for.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains to create.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures specifying the parameters of
the created swapchains.</p>
</li>
<li>
<p><code>pAllocator</code> is the allocator used for host memory allocated for the
swapchain objects when there is no more specific allocator available
(see <a href="../memory.html#memory-allocation" class="xref page">Memory Allocation</a>).</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <a href="#VkSwapchainKHR">VkSwapchainKHR</a>
handles in which the created swapchain objects will be returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCreateSharedSwapchainsKHR</code> is similar to <a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>,
except that it takes an array of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures,
and returns an array of swapchain objects.</p>
</div>
<div class="paragraph">
<p>The swapchain creation parameters that affect the properties and number of
presentable images <strong>must</strong> match between all the swapchains.
If the displays used by any of the swapchains do not use the same
presentable image layout or are incompatible in a way that prevents sharing
images, swapchain creation will fail with the result code
<code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code>.
If any error occurs, no swapchains will be created.
Images presented to multiple swapchains <strong>must</strong> be re-acquired from all of
them before being modified.
After destroying one or more of the swapchains, the remaining swapchains and
the presentable images <strong>can</strong> continue to be used.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-device-parameter" href="#VUID-vkCreateSharedSwapchainsKHR-device-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter" href="#VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter" href="#VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter" href="#VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength" href="#VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-vkCreateSharedSwapchainsKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pCreateInfos</code>[].surface <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pCreateInfos</code>[].oldSwapchain <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To obtain the array of presentable images associated with a swapchain, call:</p>
</div>
<div id="vkGetSwapchainImagesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
VkResult vkGetSwapchainImagesKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint32_t*                                   pSwapchainImageCount,
    VkImage*                                    pSwapchainImages);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to query.</p>
</li>
<li>
<p><code>pSwapchainImageCount</code> is a pointer to an integer related to the
number of presentable images available or queried, as described below.</p>
</li>
<li>
<p><code>pSwapchainImages</code> is either <code>NULL</code> or a pointer to an array of
<code>VkImage</code> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSwapchainImages</code> is <code>NULL</code>, then the number of presentable images
for <code>swapchain</code> is returned in <code>pSwapchainImageCount</code>.
Otherwise, <code>pSwapchainImageCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pSwapchainImages</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pSwapchainImages</code>.
If the value of <code>pSwapchainImageCount</code> is less than the number of
presentable images for <code>swapchain</code>, at most <code>pSwapchainImageCount</code>
structures will be written, and <code>VK_INCOMPLETE</code> will be returned instead
of <code>VK_SUCCESS</code>, to indicate that not all the available presentable
images were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-device-parameter" href="#VUID-vkGetSwapchainImagesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-swapchain-parameter" href="#VUID-vkGetSwapchainImagesKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter" href="#VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-pSwapchainImageCount-parameter</span><br>
 <code>pSwapchainImageCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter" href="#VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-pSwapchainImages-parameter</span><br>
 If the value referenced by <code>pSwapchainImageCount</code> is not <code>0</code>, and <code>pSwapchainImages</code> is not <code>NULL</code>, <code>pSwapchainImages</code> <strong>must</strong> be a valid pointer to an array of <code>pSwapchainImageCount</code> <a href="../resources.html#VkImage" class="xref page">VkImage</a> handles</p>
</li>
<li>
<p><a id="VUID-vkGetSwapchainImagesKHR-swapchain-parent" href="#VUID-vkGetSwapchainImagesKHR-swapchain-parent"></a> <span class="vuid">VUID-vkGetSwapchainImagesKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By knowing all presentable images used in the swapchain, the application can
create command buffers that reference these images prior to entering its
main rendering loop.
However, command buffers are not allowed to reference presentable images
created with <code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code>
until their indices have been returned from <a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> at
least once.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Images returned by <a href="#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a> are fully backed by memory
before they are passed to the application, as if they are each bound
completely and contiguously to a single <code>VkDeviceMemory</code> object
, unless the swapchain is created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag
.
All presentable images are initially in the <code>VK_IMAGE_LAYOUT_UNDEFINED</code>
layout, thus before using presentable images, the application <strong>must</strong>
transition them to a valid layout for the intended use.</p>
</div>
<div class="paragraph">
<p>Further, the lifetime of presentable images is controlled by the
implementation, so applications <strong>must</strong> not destroy a presentable image.
See <a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a> for further details on the lifetime of
presentable images.</p>
</div>
<div class="paragraph">
<p>Images <strong>can</strong> also be created by using <a href="../resources.html#vkCreateImage" class="xref page">vkCreateImage</a> with
<a href="../resources.html#VkImageSwapchainCreateInfoKHR" class="xref page">VkImageSwapchainCreateInfoKHR</a> and bound to swapchain memory using
<a href="../resources.html#vkBindImageMemory2" class="xref page">vkBindImageMemory2</a> with <a href="../resources.html#VkBindImageMemorySwapchainInfoKHR" class="xref page">VkBindImageMemorySwapchainInfoKHR</a>.
These images <strong>can</strong> be used anywhere swapchain images are used, and are useful
in logical devices with multiple physical devices to create peer memory
bindings of swapchain memory.
These images and bindings have no effect on what memory is presented.
Unlike images retrieved from <code>vkGetSwapchainImagesKHR</code>, these images
<strong>must</strong> be destroyed with <a href="../resources.html#vkDestroyImage" class="xref page">vkDestroyImage</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p>
</div>
<div id="vkAcquireNextImageKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
VkResult vkAcquireNextImageKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint64_t                                    timeout,
    VkSemaphore                                 semaphore,
    VkFence                                     fence,
    uint32_t*                                   pImageIndex);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the non-retired swapchain from which an image is
being acquired.</p>
</li>
<li>
<p><code>timeout</code> specifies how long the function waits, in nanoseconds, if
no image is available.</p>
</li>
<li>
<p><code>semaphore</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or a semaphore to signal.</p>
</li>
<li>
<p><code>fence</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or a fence to signal.</p>
</li>
<li>
<p><code>pImageIndex</code> is a pointer to a <code>uint32_t</code> in which the index of
the next image to use (i.e. an index into the array of images returned
by <code>vkGetSwapchainImagesKHR</code>) is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>swapchain</code> has been created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag, the image
whose index is returned in <code>pImageIndex</code> will be fully backed by memory
before this call returns to the application, as if it is bound completely
and contiguously to a single <code>VkDeviceMemory</code> object.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-01285" href="#VUID-vkAcquireNextImageKHR-swapchain-01285"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-01285</span><br>

<code>swapchain</code> <strong>must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01286" href="#VUID-vkAcquireNextImageKHR-semaphore-01286"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01286</span><br>

If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, it <strong>must</strong> be unsignaled</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01779" href="#VUID-vkAcquireNextImageKHR-semaphore-01779"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01779</span><br>

If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, it <strong>must</strong> not have any
uncompleted signal or wait operations pending</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-01287" href="#VUID-vkAcquireNextImageKHR-fence-01287"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-01287</span><br>

If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> be
unsignaled</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-10066" href="#VUID-vkAcquireNextImageKHR-fence-10066"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-10066</span><br>

If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> not be
associated with any other queue command that has not yet completed
execution on that queue</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-01780" href="#VUID-vkAcquireNextImageKHR-semaphore-01780"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-01780</span><br>

<code>semaphore</code> and <code>fence</code> <strong>must</strong> not both be equal to
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-surface-07783" href="#VUID-vkAcquireNextImageKHR-surface-07783"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-surface-07783</span><br>

If <a href="#swapchain-acquire-forward-progress">forward progress</a> cannot be
guaranteed for the <code>surface</code> used to create the <code>swapchain</code>
member of <code>pAcquireInfo</code>, <code>timeout</code> <strong>must</strong> not be <code>UINT64_MAX</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-03265" href="#VUID-vkAcquireNextImageKHR-semaphore-03265"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-03265</span><br>

<code>semaphore</code> <strong>must</strong> have a <a href="../synchronization.html#VkSemaphoreType" class="xref page">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-device-parameter" href="#VUID-vkAcquireNextImageKHR-device-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-parameter" href="#VUID-vkAcquireNextImageKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-parameter" href="#VUID-vkAcquireNextImageKHR-semaphore-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-parameter</span><br>
 If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>semaphore</code> <strong>must</strong> be a valid <a href="../synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-parameter" href="#VUID-vkAcquireNextImageKHR-fence-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-parameter</span><br>
 If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> be a valid <a href="../synchronization.html#VkFence" class="xref page">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-pImageIndex-parameter" href="#VUID-vkAcquireNextImageKHR-pImageIndex-parameter"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-pImageIndex-parameter</span><br>
 <code>pImageIndex</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-swapchain-parent" href="#VUID-vkAcquireNextImageKHR-swapchain-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-semaphore-parent" href="#VUID-vkAcquireNextImageKHR-semaphore-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-semaphore-parent</span><br>
 If <code>semaphore</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImageKHR-fence-parent" href="#VUID-vkAcquireNextImageKHR-fence-parent"></a> <span class="vuid">VUID-vkAcquireNextImageKHR-fence-parent</span><br>
 If <code>fence</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>semaphore</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If an image is acquired successfully, <code>vkAcquireNextImageKHR</code> <strong>must</strong>
either return <code>VK_SUCCESS</code> or <code>VK_SUBOPTIMAL_KHR</code>.
The implementation <strong>may</strong> return <code>VK_SUBOPTIMAL_KHR</code> if the swapchain no
longer matches the surface properties exactly, but <strong>can</strong> still be used for
presentation.</p>
</div>
<div class="paragraph">
<p>When successful, <code>vkAcquireNextImageKHR</code> acquires a presentable image
from <code>swapchain</code> that an application <strong>can</strong> use, and sets
<code>pImageIndex</code> to the index of that image within the swapchain.
The presentation engine <strong>may</strong> not have finished reading from the image at the
time it is acquired, so the application <strong>must</strong> use <code>semaphore</code> and/or
<code>fence</code> to ensure that the image layout and contents are not modified
until the presentation engine reads have completed.
Once <code>vkAcquireNextImageKHR</code> successfully acquires an image, the
semaphore signal operation referenced by <code>semaphore</code>, if not
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and the fence signal operation referenced by
<code>fence</code>, if not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, are submitted for execution.
If <code>vkAcquireNextImageKHR</code> does not successfully acquire an image,
<code>semaphore</code> and <code>fence</code> are unaffected.
The order in which images are acquired is implementation-dependent, and <strong>may</strong>
be different than the order the images were presented.</p>
</div>
<div class="paragraph">
<p>If <code>timeout</code> is zero, then <code>vkAcquireNextImageKHR</code> does not wait,
and will either successfully acquire an image, or fail and return
<code>VK_NOT_READY</code> if no image is available.</p>
</div>
<div class="paragraph">
<p>If the specified timeout period expires before an image is acquired,
<code>vkAcquireNextImageKHR</code> returns <code>VK_TIMEOUT</code>.
If <code>timeout</code> is <code>UINT64_MAX</code>, the timeout period is treated as
infinite, and <code>vkAcquireNextImageKHR</code> will block until an image is
acquired or an error occurs.</p>
</div>
<div id="swapchain-acquire-forward-progress" class="paragraph">
<p>Let <span class="eq">S</span> be the number of images in <code>swapchain</code>.
If <code>swapchain</code> is created with
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, let <span class="eq">M</span> be the maximum of
the values in <a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code> when
queried with each present mode in
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> in
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a>.
Otherwise, let <span class="eq">M</span> be the value of
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>minImageCount</code> without a
<a href="#VkSurfacePresentModeEXT">VkSurfacePresentModeEXT</a> as part of the query input.</p>
</div>
<div class="paragraph">
<p><code>vkAcquireNextImageKHR</code> <strong>should</strong> not be called if the number of images
that the application has currently acquired is greater than <span class="eq">S-M</span>.
If <code>vkAcquireNextImageKHR</code> is called when the number of images that the
application has currently acquired is less than or equal to <span class="eq">S-M</span>,
<code>vkAcquireNextImageKHR</code> <strong>must</strong> return in finite time with an allowed
<code>VkResult</code> code.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Returning a result in finite time guarantees that the implementation cannot
deadlock an application, or suspend its execution indefinitely with correct
API usage.
Acquiring too many images at once may block indefinitely, which is covered
by valid usage when attempting to use <code>UINT64_MAX</code>.
For example, a scenario here is when a compositor holds on to images which
are currently being presented, and there are not any vacant images left to
be acquired.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the swapchain images no longer match native surface properties, either
<code>VK_SUBOPTIMAL_KHR</code> or <code>VK_ERROR_OUT_OF_DATE_KHR</code> <strong>must</strong> be returned.
If <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned, no image is acquired and
attempts to present previously acquired images to the swapchain will also
fail with <code>VK_ERROR_OUT_OF_DATE_KHR</code>.
Applications need to create a new swapchain for the surface to continue
presenting if <code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>VK_SUBOPTIMAL_KHR</code> <strong>may</strong> happen, for example, if the platform surface
has been resized but the platform is able to scale the presented images to
the new size to produce valid surface updates.
It is up to the application to decide whether it prefers to continue using
the current swapchain in this state, or to re-create the swapchain to better
match the platform surface properties.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If device loss occurs (see <a href="../devsandqueues.html#devsandqueues-lost-device" class="xref page">Lost Device</a>) before
the timeout has expired, <code>vkAcquireNextImageKHR</code> <strong>must</strong> return in finite
time with either one of the allowed success codes, or
<code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="paragraph">
<p>If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the semaphore <strong>must</strong> be
unsignaled, with no signal or wait operations pending.
It will become signaled when the application <strong>can</strong> use the image.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use of <code>semaphore</code> allows rendering operations to be recorded and
submitted before the presentation engine has completed its use of the image.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If <code>fence</code> is not equal to <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the fence <strong>must</strong> be
unsignaled, with no signal operations pending.
It will become signaled when the application <strong>can</strong> use the image.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications <strong>should</strong> not rely on <code>vkAcquireNextImageKHR</code> blocking in
order to meter their rendering speed.
The implementation <strong>may</strong> return from this function immediately regardless of
how many presentation requests are queued, and regardless of when queued
presentation requests will complete relative to the call.
Instead, applications <strong>can</strong> use <code>fence</code> to meter their frame generation
work to match the presentation rate.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An application <strong>must</strong> wait until either the <code>semaphore</code> or <code>fence</code> is
signaled before accessing the image&#8217;s data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the presentable image will be accessed by some stage <span class="eq">S</span>, the
recommended idiom for ensuring correct synchronization is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="../cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a> used to submit the image layout transition for
execution includes <code>vkAcquireNextImageKHR</code>::<code>semaphore</code> in its
<code>pWaitSemaphores</code> member, with the corresponding element of
<code>pWaitDstStageMask</code> including <span class="eq">S</span>.</p>
</li>
<li>
<p>The <a href="../synchronization.html#synchronization" class="xref page">synchronization command</a> that performs any
necessary image layout transition includes <span class="eq">S</span> in both the
<code>srcStageMask</code> and <code>dstStageMask</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After a successful return, the image indicated by <code>pImageIndex</code> and its
data will be unmodified compared to when it was presented.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Exclusive ownership of presentable images corresponding to a swapchain
created with <code>VK_SHARING_MODE_EXCLUSIVE</code> as defined in
<a href="../resources.html#resources-sharing" class="xref page">Resource Sharing</a> is not altered by a call to
<code>vkAcquireNextImageKHR</code>.
That means upon the first acquisition from such a swapchain presentable
images are not owned by any queue family, while at subsequent acquisitions
the presentable images remain owned by the queue family the image was
previously presented on.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The possible return values for <code>vkAcquireNextImageKHR</code> depend on the
<code>timeout</code> provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code> is returned if an image became available.</p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code> is returned if the surface becomes no
longer available.</p>
</li>
<li>
<p><code>VK_NOT_READY</code> is returned if <code>timeout</code> is zero and no image was
available.</p>
</li>
<li>
<p><code>VK_TIMEOUT</code> is returned if <code>timeout</code> is greater than zero and
less than <code>UINT64_MAX</code>, and no image became available within the time
allowed.</p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> is returned if an image became available, and
the swapchain no longer matches the surface properties exactly, but <strong>can</strong>
still be used to present to the surface successfully.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This <strong>may</strong> happen, for example, if the platform surface has been resized but
the platform is able to scale the presented images to the new size to
produce valid surface updates.
It is up to the application to decide whether it prefers to continue using
the current swapchain indefinitely or temporarily in this state, or to
re-create the swapchain to better match the platform surface properties.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned if the surface has changed in
such a way that it is no longer compatible with the swapchain, and
further presentation requests using the swapchain will fail.
Applications <strong>must</strong> query the new surface properties and recreate their
swapchain if they wish to continue presenting to the surface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the native surface and presented image sizes no longer match,
presentation <strong>may</strong> fail
unless the swapchain is created with a non-zero value in
<a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a>::<code>scalingBehavior</code>
.
If presentation does succeed, the mapping from the presented image to the
native surface is
defined by the <a href="#VkSwapchainPresentScalingCreateInfoEXT">VkSwapchainPresentScalingCreateInfoEXT</a> structure if
provided.
Otherwise it is
implementation-defined.
It is the application&#8217;s responsibility to detect surface size changes and
react appropriately.
If presentation fails because of a mismatch in the surface and presented
image sizes, a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error will be returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, consider a 4x3 window/surface that gets resized to be 3x4
(taller than wider).
On some window systems, the portion of the window/surface that was
previously and still is visible (the 3x3 part) will contain the same
contents as before, while the remaining parts of the window will have
<strong>undefined</strong> contents.
Other window systems <strong>may</strong> squash/stretch the image to fill the new window
size without any <strong>undefined</strong> contents, or apply some other mapping.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To acquire an available presentable image to use, and retrieve the index of
that image, call:</p>
</div>
<div id="vkAcquireNextImage2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain
VkResult vkAcquireNextImage2KHR(
    VkDevice                                    device,
    const VkAcquireNextImageInfoKHR*            pAcquireInfo,
    uint32_t*                                   pImageIndex);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>pAcquireInfo</code> is a pointer to a <a href="#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a>
structure containing parameters of the acquire.</p>
</li>
<li>
<p><code>pImageIndex</code> is a pointer to a <code>uint32_t</code> value specifying the
index of the next image to use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>swapchain</code> has been created with the
<code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code> flag, the image
whose index is returned in <code>pImageIndex</code> will be fully backed by memory
before this call returns to the application.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-surface-07784" href="#VUID-vkAcquireNextImage2KHR-surface-07784"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-surface-07784</span><br>

If <a href="#swapchain-acquire-forward-progress">forward progress</a> cannot be
guaranteed for the <code>surface</code> used to create <code>swapchain</code>, the
<code>timeout</code> member of <code>pAcquireInfo</code> <strong>must</strong> not be <code>UINT64_MAX</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-device-parameter" href="#VUID-vkAcquireNextImage2KHR-device-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter" href="#VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-pAcquireInfo-parameter</span><br>
 <code>pAcquireInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAcquireNextImage2KHR-pImageIndex-parameter" href="#VUID-vkAcquireNextImage2KHR-pImageIndex-parameter"></a> <span class="vuid">VUID-vkAcquireNextImage2KHR-pImageIndex-parameter</span><br>
 <code>pImageIndex</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAcquireNextImageInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkAcquireNextImageInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain
typedef struct VkAcquireNextImageInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkSwapchainKHR     swapchain;
    uint64_t           timeout;
    VkSemaphore        semaphore;
    VkFence            fence;
    uint32_t           deviceMask;
} VkAcquireNextImageInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchain</code> is a non-retired swapchain from which an image is
acquired.</p>
</li>
<li>
<p><code>timeout</code> specifies how long the function waits, in nanoseconds, if
no image is available.</p>
</li>
<li>
<p><code>semaphore</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or a semaphore to signal.</p>
</li>
<li>
<p><code>fence</code> is <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or a fence to signal.</p>
</li>
<li>
<p><code>deviceMask</code> is a mask of physical devices for which the swapchain
image will be ready to use when the semaphore or fence is signaled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> is used, the device mask is considered to
include all physical devices in the logical device.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a> signals at most one semaphore, even if the
application requests waiting for multiple physical devices to be ready via
the <code>deviceMask</code>.
However, only a single physical device <strong>can</strong> wait on that semaphore, since
the semaphore becomes unsignaled when the wait succeeds.
For other physical devices to wait for the image to be ready, it is
necessary for the application to submit semaphore signal operation(s) to
that first physical device to signal additional semaphore(s) after the wait
succeeds, which the other physical device(s) <strong>can</strong> wait upon.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-swapchain-01675" href="#VUID-VkAcquireNextImageInfoKHR-swapchain-01675"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-swapchain-01675</span><br>

<code>swapchain</code> <strong>must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01288" href="#VUID-VkAcquireNextImageInfoKHR-semaphore-01288"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01288</span><br>

If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, it <strong>must</strong> be unsignaled</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01781" href="#VUID-VkAcquireNextImageInfoKHR-semaphore-01781"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01781</span><br>

If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, it <strong>must</strong> not have any
uncompleted signal or wait operations pending</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-fence-01289" href="#VUID-VkAcquireNextImageInfoKHR-fence-01289"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-fence-01289</span><br>

If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> be
unsignaled</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-fence-10067" href="#VUID-VkAcquireNextImageInfoKHR-fence-10067"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-fence-10067</span><br>

If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> not be
associated with any other queue command that has not yet completed
execution on that queue</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-01782" href="#VUID-VkAcquireNextImageInfoKHR-semaphore-01782"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-01782</span><br>

<code>semaphore</code> and <code>fence</code> <strong>must</strong> not both be equal to
<a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-deviceMask-01290" href="#VUID-VkAcquireNextImageInfoKHR-deviceMask-01290"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-deviceMask-01290</span><br>

<code>deviceMask</code> <strong>must</strong> be a valid device mask</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-deviceMask-01291" href="#VUID-VkAcquireNextImageInfoKHR-deviceMask-01291"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-deviceMask-01291</span><br>

<code>deviceMask</code> <strong>must</strong> not be zero</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-03266" href="#VUID-VkAcquireNextImageInfoKHR-semaphore-03266"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-03266</span><br>

<code>semaphore</code> <strong>must</strong> have a <a href="../synchronization.html#VkSemaphoreType" class="xref page">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-sType-sType" href="#VUID-VkAcquireNextImageInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-pNext-pNext" href="#VUID-VkAcquireNextImageInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-swapchain-parameter" href="#VUID-VkAcquireNextImageInfoKHR-swapchain-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-semaphore-parameter" href="#VUID-VkAcquireNextImageInfoKHR-semaphore-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-semaphore-parameter</span><br>
 If <code>semaphore</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>semaphore</code> <strong>must</strong> be a valid <a href="../synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-fence-parameter" href="#VUID-VkAcquireNextImageInfoKHR-fence-parameter"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-fence-parameter</span><br>
 If <code>fence</code> is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>fence</code> <strong>must</strong> be a valid <a href="../synchronization.html#VkFence" class="xref page">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAcquireNextImageInfoKHR-commonparent" href="#VUID-VkAcquireNextImageInfoKHR-commonparent"></a> <span class="vuid">VUID-VkAcquireNextImageInfoKHR-commonparent</span><br>
 Each of <code>fence</code>, <code>semaphore</code>, and <code>swapchain</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>semaphore</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>After queueing all rendering commands and transitioning the image to the
correct layout, to queue an image for presentation, call:</p>
</div>
<div id="vkQueuePresentKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
VkResult vkQueuePresentKHR(
    VkQueue                                     queue,
    const VkPresentInfoKHR*                     pPresentInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is a queue that is capable of presentation to the target
surface&#8217;s platform on the same device as the image&#8217;s swapchain.</p>
</li>
<li>
<p><code>pPresentInfo</code> is a pointer to a <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure
specifying parameters of the presentation.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is no requirement for an application to present images in the same
order that they were acquired - applications can arbitrarily present any
image that is currently acquired.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The origin of the native orientation of the surface coordinate system is not
specified in the Vulkan specification; it depends on the platform.
For most platforms the origin is by default upper-left, meaning the pixel of
the presented <a href="../resources.html#VkImage" class="xref page">VkImage</a> at coordinates <span class="eq">(0,0)</span> would appear at the
upper left pixel of the platform surface (assuming
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, and the display standing the
right way up).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result codes <code>VK_ERROR_OUT_OF_DATE_KHR</code> and <code>VK_SUBOPTIMAL_KHR</code>
have the same meaning when returned by <code>vkQueuePresentKHR</code> as they do
when returned by <code>vkAcquireNextImageKHR</code>.
If any <code>swapchain</code> member of <code>pPresentInfo</code> was created with
<code>VK_FULL_SCREEN_EXCLUSIVE_APPLICATION_CONTROLLED_EXT</code>,
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> will be returned if that
swapchain does not have exclusive full-screen access, possibly for
implementation-specific reasons outside of the application&#8217;s control.
If multiple swapchains are presented, the result code is determined by
applying the following rules in order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the device is lost, <code>VK_ERROR_DEVICE_LOST</code> is returned.</p>
</li>
<li>
<p>If any of the target surfaces are no longer available the error
<code>VK_ERROR_SURFACE_LOST_KHR</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of
<code>VK_ERROR_OUT_OF_DATE_KHR</code> if issued separately then
<code>VK_ERROR_OUT_OF_DATE_KHR</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> if issued separately
then <code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code> is returned.</p>
</li>
<li>
<p>If any of the presents would have a result of <code>VK_SUBOPTIMAL_KHR</code> if
issued separately then <code>VK_SUBOPTIMAL_KHR</code> is returned.</p>
</li>
<li>
<p>Otherwise <code>VK_SUCCESS</code> is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any writes to memory backing the images referenced by the
<code>pImageIndices</code> and <code>pSwapchains</code> members of <code>pPresentInfo</code>,
that are available before <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> is executed, are
automatically made visible to the read access performed by the presentation
engine.
This automatic visibility operation for an image happens-after the semaphore
signal operation, and happens-before the presentation engine accesses the
image.</p>
</div>
<div class="paragraph">
<p>Presentation is a read-only operation that will not affect the content of
the presentable images.
Upon reacquiring the image and transitioning it away from the
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code> layout, the contents will be the same
as they were prior to transitioning the image to the present source layout
and presenting it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes <strong>undefined</strong>.</p>
</div>
<div class="paragraph">
<p>Calls to <code>vkQueuePresentKHR</code> <strong>may</strong> block, but <strong>must</strong> return in finite
time.
The processing of the presentation happens in issue order with other queue
operations, but semaphores <strong>must</strong> be used to ensure that prior rendering and
other commands in the specified queue complete before the presentation
begins.
The presentation command itself does not delay processing of subsequent
commands on the queue.
However, presentation requests sent to a particular queue are always
performed in order.
Exact presentation timing is controlled by the semantics of the presentation
engine and native platform in use.</p>
</div>
<div class="paragraph">
<p>If an image is presented to a swapchain created from a display surface, the
mode of the associated display will be updated, if necessary, to match the
mode specified when creating the display surface.
The mode switch and presentation of the specified image will be performed as
one atomic operation.</p>
</div>
<div class="paragraph">
<p>Queueing an image for presentation defines a set of <em>queue operations</em>,
including waiting on the semaphores and submitting a presentation request to
the presentation engine.
However, the scope of this set of queue operations does not include the
actual processing of the image by the presentation engine.</p>
</div>
<div class="paragraph">
<p>If <code>vkQueuePresentKHR</code> fails to enqueue the corresponding set of queue
operations, it <strong>may</strong> return <code>VK_ERROR_OUT_OF_HOST_MEMORY</code> or
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
If it does, the implementation <strong>must</strong> ensure that the state and contents of
any resources or synchronization primitives referenced is unaffected by the
call or its failure.</p>
</div>
<div class="paragraph">
<p>If <code>vkQueuePresentKHR</code> fails in such a way that the implementation is
unable to make that guarantee, the implementation <strong>must</strong> return
<code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="paragraph">
<p>However, if the presentation request is rejected by the presentation engine
with an error <code>VK_ERROR_OUT_OF_DATE_KHR</code>,
<code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code>,
or <code>VK_ERROR_SURFACE_LOST_KHR</code>, the set of queue operations are still
considered to be enqueued and thus any semaphore wait operation specified in
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> will execute when the corresponding queue operation
is complete.</p>
</div>
<div class="paragraph">
<p><code>vkQueuePresentKHR</code> releases the acquisition of the images referenced by
<code>imageIndices</code>.
The queue family corresponding to the queue <code>vkQueuePresentKHR</code> is
executed on <strong>must</strong> have ownership of the presented images as defined in
<a href="../resources.html#resources-sharing" class="xref page">Resource Sharing</a>.
<code>vkQueuePresentKHR</code> does not alter the queue family ownership, but the
presented images <strong>must</strong> not be used again before they have been reacquired
using <code>vkAcquireNextImageKHR</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The application <strong>can</strong> continue to present any acquired images from a retired
swapchain as long as the swapchain has not entered a state that causes
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> to return <code>VK_ERROR_OUT_OF_DATE_KHR</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueuePresentKHR-pSwapchains-01292" href="#VUID-vkQueuePresentKHR-pSwapchains-01292"></a> <span class="vuid">VUID-vkQueuePresentKHR-pSwapchains-01292</span><br>

Each element of <code>pSwapchains</code> member of <code>pPresentInfo</code> <strong>must</strong> be
a swapchain that is created for a surface for which presentation is
supported from <code>queue</code> as determined using a call to
<code>vkGetPhysicalDeviceSurfaceSupportKHR</code></p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pSwapchains-01293" href="#VUID-vkQueuePresentKHR-pSwapchains-01293"></a> <span class="vuid">VUID-vkQueuePresentKHR-pSwapchains-01293</span><br>

If more than one member of <code>pSwapchains</code> was created from a display
surface, all display surfaces referenced that refer to the same display
<strong>must</strong> use the same display mode</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pSwapchains-10285" href="#VUID-vkQueuePresentKHR-pSwapchains-10285"></a> <span class="vuid">VUID-vkQueuePresentKHR-pSwapchains-10285</span><br>

If more than one member of <code>pSwapchains</code> was created from a display
surface, all display surfaces referenced that refer to the same display
<strong>must</strong> use the same <a href="#wsi-displaySurfaceStereoType"><code>stereoType</code></a></p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-01294" href="#VUID-vkQueuePresentKHR-pWaitSemaphores-01294"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-01294</span><br>

When a semaphore wait operation referring to a binary semaphore defined
by the elements of the <code>pWaitSemaphores</code> member of
<code>pPresentInfo</code> executes on <code>queue</code>, there <strong>must</strong> be no other
queues waiting on the same semaphore</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-03267" href="#VUID-vkQueuePresentKHR-pWaitSemaphores-03267"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-03267</span><br>

All elements of the <code>pWaitSemaphores</code> member of <code>pPresentInfo</code>
<strong>must</strong> be created with a <a href="../synchronization.html#VkSemaphoreType" class="xref page">VkSemaphoreType</a> of
<code>VK_SEMAPHORE_TYPE_BINARY</code></p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pWaitSemaphores-03268" href="#VUID-vkQueuePresentKHR-pWaitSemaphores-03268"></a> <span class="vuid">VUID-vkQueuePresentKHR-pWaitSemaphores-03268</span><br>

All elements of the <code>pWaitSemaphores</code> member of <code>pPresentInfo</code>
<strong>must</strong> reference a semaphore signal operation that has been submitted for
execution and any <a href="../synchronization.html#synchronization-semaphores-signaling" class="xref page">semaphore    signal operations</a> on which it depends <strong>must</strong> have also been submitted
for execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueuePresentKHR-queue-parameter" href="#VUID-vkQueuePresentKHR-queue-parameter"></a> <span class="vuid">VUID-vkQueuePresentKHR-queue-parameter</span><br>
 <code>queue</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkQueue" class="xref page">VkQueue</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueuePresentKHR-pPresentInfo-parameter" href="#VUID-vkQueuePresentKHR-pPresentInfo-parameter"></a> <span class="vuid">VUID-vkQueuePresentKHR-pPresentInfo-parameter</span><br>
 <code>pPresentInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queue</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pPresentInfo-&gt;pWaitSemaphores</code>[] <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pPresentInfo-&gt;pSwapchains</code>[] <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="../cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="../renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="../fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_swapchain
typedef struct VkPresentInfoKHR {
    VkStructureType          sType;
    const void*              pNext;
    uint32_t                 waitSemaphoreCount;
    const VkSemaphore*       pWaitSemaphores;
    uint32_t                 swapchainCount;
    const VkSwapchainKHR*    pSwapchains;
    const uint32_t*          pImageIndices;
    VkResult*                pResults;
} VkPresentInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>waitSemaphoreCount</code> is the number of semaphores to wait for before
issuing the present request.
The number <strong>may</strong> be zero.</p>
</li>
<li>
<p><code>pWaitSemaphores</code> is <code>NULL</code> or a pointer to an array of
<a href="../synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a> objects with <code>waitSemaphoreCount</code> entries, and
specifies the semaphores to wait for before issuing the present request.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <a href="#VkSwapchainKHR">VkSwapchainKHR</a>
objects with <code>swapchainCount</code> entries.</p>
</li>
<li>
<p><code>pImageIndices</code> is a pointer to an array of indices into the array
of each swapchain&#8217;s presentable images, with <code>swapchainCount</code>
entries.
Each entry in this array identifies the image to present on the
corresponding entry in the <code>pSwapchains</code> array.</p>
</li>
<li>
<p><code>pResults</code> is a pointer to an array of <a href="../fundamentals.html#VkResult" class="xref page">VkResult</a> typed elements
with <code>swapchainCount</code> entries.
Applications that do not need per-swapchain results <strong>can</strong> use <code>NULL</code> for
<code>pResults</code>.
If non-<code>NULL</code>, each entry in <code>pResults</code> will be set to the
<a href="../fundamentals.html#VkResult" class="xref page">VkResult</a> for presenting the swapchain corresponding to the same
index in <code>pSwapchains</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before an application <strong>can</strong> present an image, the image&#8217;s layout <strong>must</strong> be
transitioned to the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
layout, or for a shared presentable image the
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code>
layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When transitioning the image to
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> or
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>, there is no need to delay subsequent
processing, or perform any visibility operations (as <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>
performs automatic visibility operations).
To achieve this, the <code>dstAccessMask</code> member of the
<a href="../synchronization.html#VkImageMemoryBarrier" class="xref page">VkImageMemoryBarrier</a> <strong>should</strong> be <code>0</code>, and the <code>dstStageMask</code>
parameter <strong>should</strong> be <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentInfoKHR-pSwapchain-09231" href="#VUID-VkPresentInfoKHR-pSwapchain-09231"></a> <span class="vuid">VUID-VkPresentInfoKHR-pSwapchain-09231</span><br>

Elements of <code>pSwapchain</code> <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pImageIndices-01430" href="#VUID-VkPresentInfoKHR-pImageIndices-01430"></a> <span class="vuid">VUID-VkPresentInfoKHR-pImageIndices-01430</span><br>

Each element of <code>pImageIndices</code> <strong>must</strong> be the index of a presentable
image acquired from the swapchain specified by the corresponding element
of the <code>pSwapchains</code> array, and the presented image subresource
<strong>must</strong> be in the <code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>
or <code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code>
layout at the time the operation is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pNext-06235" href="#VUID-VkPresentInfoKHR-pNext-06235"></a> <span class="vuid">VUID-VkPresentInfoKHR-pNext-06235</span><br>

If a <a href="#VkPresentIdKHR">VkPresentIdKHR</a> structure is included in the <code>pNext</code>
chain, and the <a href="../features.html#features-presentId" class="xref page"><code>presentId</code></a> feature is not
enabled, each <code>presentIds</code> entry in that structure <strong>must</strong> be NULL</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-swapchainMaintenance1-10158" href="#VUID-VkPresentInfoKHR-swapchainMaintenance1-10158"></a> <span class="vuid">VUID-VkPresentInfoKHR-swapchainMaintenance1-10158</span><br>

If the <a href="../features.html#features-swapchainMaintenance1" class="xref page"><code>swapchainMaintenance1</code></a>
feature is not enabled, then the <code>pNext</code> chain <strong>must</strong> not include a
<a href="#VkSwapchainPresentFenceInfoEXT">VkSwapchainPresentFenceInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pSwapchains-09199" href="#VUID-VkPresentInfoKHR-pSwapchains-09199"></a> <span class="vuid">VUID-VkPresentInfoKHR-pSwapchains-09199</span><br>

If any element of the <code>pSwapchains</code> array has been created with
<a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>, all of the elements of this
array <strong>must</strong> be created with <a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentInfoKHR-sType-sType" href="#VUID-VkPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pNext-pNext" href="#VUID-VkPresentInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPresentInfoKHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a>, <a href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a>, <a href="../debugging.html#VkFrameBoundaryEXT" class="xref page">VkFrameBoundaryEXT</a>, <a href="#VkPresentFrameTokenGGP">VkPresentFrameTokenGGP</a>, <a href="#VkPresentIdKHR">VkPresentIdKHR</a>, <a href="#VkPresentRegionsKHR">VkPresentRegionsKHR</a>, <a href="#VkPresentTimesInfoGOOGLE">VkPresentTimesInfoGOOGLE</a>, <a href="#VkSwapchainPresentFenceInfoEXT">VkSwapchainPresentFenceInfoEXT</a>, or <a href="#VkSwapchainPresentModeInfoEXT">VkSwapchainPresentModeInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-sType-unique" href="#VUID-VkPresentInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkPresentInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pWaitSemaphores-parameter" href="#VUID-VkPresentInfoKHR-pWaitSemaphores-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pWaitSemaphores-parameter</span><br>
 If <code>waitSemaphoreCount</code> is not <code>0</code>, <code>pWaitSemaphores</code> <strong>must</strong> be a valid pointer to an array of <code>waitSemaphoreCount</code> valid <a href="../synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pSwapchains-parameter" href="#VUID-VkPresentInfoKHR-pSwapchains-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pImageIndices-parameter" href="#VUID-VkPresentInfoKHR-pImageIndices-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pImageIndices-parameter</span><br>
 <code>pImageIndices</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-pResults-parameter" href="#VUID-VkPresentInfoKHR-pResults-parameter"></a> <span class="vuid">VUID-VkPresentInfoKHR-pResults-parameter</span><br>
 If <code>pResults</code> is not <code>NULL</code>, <code>pResults</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="../fundamentals.html#VkResult" class="xref page">VkResult</a> values</p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-swapchainCount-arraylength" href="#VUID-VkPresentInfoKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentInfoKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPresentInfoKHR-commonparent" href="#VUID-VkPresentInfoKHR-commonparent"></a> <span class="vuid">VUID-VkPresentInfoKHR-commonparent</span><br>
 Both of the elements of <code>pSwapchains</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="../../appendices/extensions.html#VK_KHR_incremental_present" class="xref page">VK_KHR_incremental_present</a></code> extension is enabled,
additional fields <strong>can</strong> be specified that allow an application to specify
that only certain rectangular regions of the presentable images of a
swapchain are changed.
This is an optimization hint that a presentation engine <strong>may</strong> use to only
update the region of a surface that is actually changing.
The application still <strong>must</strong> ensure that all pixels of a presented image
contain the desired values, in case the presentation engine ignores this
hint.
An application <strong>can</strong> provide this hint by adding a <code>VkPresentRegionsKHR</code>
structure to the <code>pNext</code> chain of the <code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentRegionsKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentRegionsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_incremental_present
typedef struct VkPresentRegionsKHR {
    VkStructureType              sType;
    const void*                  pNext;
    uint32_t                     swapchainCount;
    const VkPresentRegionKHR*    pRegions;
} VkPresentRegionsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pRegions</code> is <code>NULL</code> or a pointer to an array of
<code>VkPresentRegionKHR</code> elements with <code>swapchainCount</code> entries.
If not <code>NULL</code>, each element of <code>pRegions</code> contains the region that
has changed since the last present to the swapchain in the corresponding
entry in the <code>VkPresentInfoKHR</code>::<code>pSwapchains</code> array.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionsKHR-swapchainCount-01260" href="#VUID-VkPresentRegionsKHR-swapchainCount-01260"></a> <span class="vuid">VUID-VkPresentRegionsKHR-swapchainCount-01260</span><br>

<code>swapchainCount</code> <strong>must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where
<code>VkPresentInfoKHR</code> is included in the <code>pNext</code> chain of this
<code>VkPresentRegionsKHR</code> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionsKHR-sType-sType" href="#VUID-VkPresentRegionsKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentRegionsKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentRegionsKHR-pRegions-parameter" href="#VUID-VkPresentRegionsKHR-pRegions-parameter"></a> <span class="vuid">VUID-VkPresentRegionsKHR-pRegions-parameter</span><br>
 If <code>pRegions</code> is not <code>NULL</code>, <code>pRegions</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkPresentRegionKHR">VkPresentRegionKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPresentRegionsKHR-swapchainCount-arraylength" href="#VUID-VkPresentRegionsKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentRegionsKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>For a given image and swapchain, the region to present is specified by the
<code>VkPresentRegionKHR</code> structure, which is defined as:</p>
</div>
<div id="VkPresentRegionKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_incremental_present
typedef struct VkPresentRegionKHR {
    uint32_t                 rectangleCount;
    const VkRectLayerKHR*    pRectangles;
} VkPresentRegionKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rectangleCount</code> is the number of rectangles in <code>pRectangles</code>,
or zero if the entire image has changed and should be presented.</p>
</li>
<li>
<p><code>pRectangles</code> is either <code>NULL</code> or a pointer to an array of
<code>VkRectLayerKHR</code> structures.
The <code>VkRectLayerKHR</code> structure is the framebuffer coordinates, plus
layer, of a portion of a presentable image that has changed and <strong>must</strong> be
presented.
If non-<code>NULL</code>, each entry in <code>pRectangles</code> is a rectangle of the
given image that has changed since the last image was presented to the
given swapchain.
The rectangles <strong>must</strong> be specified relative to
<a href="#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code>, regardless of
the swapchain&#8217;s <code>preTransform</code>.
The presentation engine will apply the <code>preTransform</code> transformation
to the rectangles, along with any further transformation it applies to
the image content.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentRegionKHR-pRectangles-parameter" href="#VUID-VkPresentRegionKHR-pRectangles-parameter"></a> <span class="vuid">VUID-VkPresentRegionKHR-pRectangles-parameter</span><br>
 If <code>rectangleCount</code> is not <code>0</code>, and <code>pRectangles</code> is not <code>NULL</code>, <code>pRectangles</code> <strong>must</strong> be a valid pointer to an array of <code>rectangleCount</code> valid <a href="#VkRectLayerKHR">VkRectLayerKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRectLayerKHR</code> structure is defined as:</p>
</div>
<div id="VkRectLayerKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_incremental_present
typedef struct VkRectLayerKHR {
    VkOffset2D    offset;
    VkExtent2D    extent;
    uint32_t      layer;
} VkRectLayerKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>offset</code> is the origin of the rectangle, in pixels.</p>
</li>
<li>
<p><code>extent</code> is the size of the rectangle, in pixels.</p>
</li>
<li>
<p><code>layer</code> is the layer of the image.
For images with only one layer, the value of <code>layer</code> <strong>must</strong> be 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some platforms allow the size of a surface to change, and then scale the
pixels of the image to fit the surface.
<code>VkRectLayerKHR</code> specifies pixels of the swapchain&#8217;s image(s), which
will be constant for the life of the swapchain.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRectLayerKHR-offset-04864" href="#VUID-VkRectLayerKHR-offset-04864"></a> <span class="vuid">VUID-VkRectLayerKHR-offset-04864</span><br>

The sum of <code>offset</code> and <code>extent</code>, after being transformed
according to the <code>preTransform</code> member of the
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure, <strong>must</strong> be no greater than the
<code>imageExtent</code> member of the <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure
passed to <a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a id="VUID-VkRectLayerKHR-layer-01262" href="#VUID-VkRectLayerKHR-layer-01262"></a> <span class="vuid">VUID-VkRectLayerKHR-layer-01262</span><br>

<code>layer</code> <strong>must</strong> be less than the <code>imageArrayLayers</code> member of the
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure passed to
<a href="#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="display_swapchain_present" class="paragraph">
<p>When the <code><a href="../../appendices/extensions.html#VK_KHR_display_swapchain" class="xref page">VK_KHR_display_swapchain</a></code> extension is enabled, additional
fields <strong>can</strong> be specified when presenting an image to a swapchain by setting
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>pNext</code> to point to a
<a href="#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDisplayPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDisplayPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_display_swapchain
typedef struct VkDisplayPresentInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkRect2D           srcRect;
    VkRect2D           dstRect;
    VkBool32           persistent;
} VkDisplayPresentInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>srcRect</code> is a rectangular region of pixels to present.
It <strong>must</strong> be a subset of the image being presented.
If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
assumed to be the entire presentable image.</p>
</li>
<li>
<p><code>dstRect</code> is a rectangular region within the visible region of the
swapchain&#8217;s display mode.
If <code>VkDisplayPresentInfoKHR</code> is not specified, this region will be
assumed to be the entire visible region of the swapchain&#8217;s mode.
If the specified rectangle is a subset of the display mode&#8217;s visible
region, content from display planes below the swapchain&#8217;s plane will be
visible outside the rectangle.
If there are no planes below the swapchain&#8217;s, the area outside the
specified rectangle will be black.
If portions of the specified rectangle are outside of the display&#8217;s
visible region, pixels mapping only to those portions of the rectangle
will be discarded.</p>
</li>
<li>
<p><code>persistent</code>: If this is <code>VK_TRUE</code>, the display engine will
enable buffered mode on displays that support it.
This allows the display engine to stop sending content to the display
until a new image is presented.
The display will instead maintain a copy of the last presented image.
This allows less power to be used, but <strong>may</strong> increase presentation
latency.
If <code>VkDisplayPresentInfoKHR</code> is not specified, persistent mode will
not be used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the extent of the <code>srcRect</code> and <code>dstRect</code> are not equal, the
presented pixels will be scaled accordingly.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-srcRect-01257" href="#VUID-VkDisplayPresentInfoKHR-srcRect-01257"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-srcRect-01257</span><br>

<code>srcRect</code> <strong>must</strong> specify a rectangular region that is a subset of the
image being presented</p>
</li>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-dstRect-01258" href="#VUID-VkDisplayPresentInfoKHR-dstRect-01258"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-dstRect-01258</span><br>

<code>dstRect</code> <strong>must</strong> specify a rectangular region that is a subset of the
<code>visibleRegion</code> parameter of the display mode the swapchain being
presented uses</p>
</li>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-persistentContent-01259" href="#VUID-VkDisplayPresentInfoKHR-persistentContent-01259"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-persistentContent-01259</span><br>

If the <code>persistentContent</code> member of the
<code>VkDisplayPropertiesKHR</code> structure returned by
<code>vkGetPhysicalDeviceDisplayPropertiesKHR</code> for the display the
present operation targets is <code>VK_FALSE</code>, then <code>persistent</code> <strong>must</strong>
be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDisplayPresentInfoKHR-sType-sType" href="#VUID-VkDisplayPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDisplayPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> includes a
<code>VkDeviceGroupPresentInfoKHR</code> structure, then that structure includes an
array of device masks and a device group present mode.</p>
</div>
<div class="paragraph">
<p>The <code>VkDeviceGroupPresentInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkDeviceGroupPresentInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_swapchain, VK_KHR_device_group with VK_KHR_swapchain
typedef struct VkDeviceGroupPresentInfoKHR {
    VkStructureType                        sType;
    const void*                            pNext;
    uint32_t                               swapchainCount;
    const uint32_t*                        pDeviceMasks;
    VkDeviceGroupPresentModeFlagBitsKHR    mode;
} VkDeviceGroupPresentInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is zero or the number of elements in
<code>pDeviceMasks</code>.</p>
</li>
<li>
<p><code>pDeviceMasks</code> is a pointer to an array of device masks, one for
each element of <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>pSwapchains</code>.</p>
</li>
<li>
<p><code>mode</code> is a <a href="#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> value
specifying the device group present mode that will be used for this
present.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instance of the swapchain image
is presented.
Each element of <code>pDeviceMasks</code> <strong>must</strong> have exactly one bit set, and the
corresponding physical device <strong>must</strong> have a presentation engine as reported
by <a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> selects which instance of the swapchain
image is presented.
Each element of <code>pDeviceMasks</code> <strong>must</strong> have exactly one bit set, and some
physical device in the logical device <strong>must</strong> include that bit in its
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instances of the swapchain image
are component-wise summed and the sum of those images is presented.
If the sum in any component is outside the representable range, the value of
that component is <strong>undefined</strong>.
Each element of <code>pDeviceMasks</code> <strong>must</strong> have a value for which all set bits
are set in one of the elements of
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>.</p>
</div>
<div class="paragraph">
<p>If <code>mode</code> is
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>, then each
element of <code>pDeviceMasks</code> selects which instance(s) of the swapchain
images are presented.
For each bit set in each element of <code>pDeviceMasks</code>, the corresponding
physical device <strong>must</strong> have a presentation engine as reported by
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>If <code>VkDeviceGroupPresentInfoKHR</code> is not provided or <code>swapchainCount</code>
is zero then the masks are considered to be <code>1</code>.
If <code>VkDeviceGroupPresentInfoKHR</code> is not provided, <code>mode</code> is
considered to be <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297" href="#VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-swapchainCount-01297</span><br>

<code>swapchainCount</code> <strong>must</strong> equal <code>0</code> or
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01298" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-01298"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01298</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong>must</strong> have exactly one bit set, and
the corresponding element of
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code> <strong>must</strong> be
non-zero</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01299" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-01299"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01299</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_REMOTE_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong>must</strong> have exactly one bit set, and
some physical device in the logical device <strong>must</strong> include that bit in its
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01300" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-01300"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01300</span><br>

If <code>mode</code> is <code>VK_DEVICE_GROUP_PRESENT_MODE_SUM_BIT_KHR</code>, then
each element of <code>pDeviceMasks</code> <strong>must</strong> have a value for which all set
bits are set in one of the elements of
<a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01301" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-01301"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01301</span><br>

If <code>mode</code> is
<code>VK_DEVICE_GROUP_PRESENT_MODE_LOCAL_MULTI_DEVICE_BIT_KHR</code>, then for
each bit set in each element of <code>pDeviceMasks</code>, the corresponding
element of <a href="#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a>::<code>presentMask</code>
<strong>must</strong> be non-zero</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302" href="#VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-01302</span><br>

The value of each element of <code>pDeviceMasks</code> <strong>must</strong> be equal to the
device mask passed in <a href="#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a>::<code>deviceMask</code>
when the image index was last acquired</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-01303" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-01303"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-01303</span><br>

<code>mode</code> <strong>must</strong> have exactly one bit set, and that bit <strong>must</strong> have been
included in <a href="#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a>::<code>modes</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-sType-sType" href="#VUID-VkDeviceGroupPresentInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter" href="#VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-pDeviceMasks-parameter</span><br>
 If <code>swapchainCount</code> is not <code>0</code>, <code>pDeviceMasks</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkDeviceGroupPresentInfoKHR-mode-parameter" href="#VUID-VkDeviceGroupPresentInfoKHR-mode-parameter"></a> <span class="vuid">VUID-VkDeviceGroupPresentInfoKHR-mode-parameter</span><br>
 <code>mode</code> <strong>must</strong> be a valid <a href="#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="../../appendices/extensions.html#VK_GOOGLE_display_timing" class="xref page">VK_GOOGLE_display_timing</a></code> extension is enabled, additional
fields <strong>can</strong> be specified that allow an application to specify the earliest
time that an image should be displayed.
This allows an application to avoid stutter that is caused by an image being
displayed earlier than planned.
Such stuttering can occur with both fixed and variable-refresh-rate
displays, because stuttering occurs when the geometry is not correctly
positioned for when the image is displayed.
An application <strong>can</strong> instruct the presentation engine that an image should
not be displayed earlier than a specified time by adding a
<code>VkPresentTimesInfoGOOGLE</code> structure to the <code>pNext</code> chain of the
<code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentTimesInfoGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPresentTimesInfoGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
typedef struct VkPresentTimesInfoGOOGLE {
    VkStructureType               sType;
    const void*                   pNext;
    uint32_t                      swapchainCount;
    const VkPresentTimeGOOGLE*    pTimes;
} VkPresentTimesInfoGOOGLE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pTimes</code> is <code>NULL</code> or a pointer to an array of
<code>VkPresentTimeGOOGLE</code> elements with <code>swapchainCount</code> entries.
If not <code>NULL</code>, each element of <code>pTimes</code> contains the earliest time
to present the image corresponding to the entry in the
<code>VkPresentInfoKHR</code>::<code>pImageIndices</code> array.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247" href="#VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-swapchainCount-01247</span><br>

<code>swapchainCount</code> <strong>must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where
<code>VkPresentInfoKHR</code> is included in the <code>pNext</code> chain of this
<code>VkPresentTimesInfoGOOGLE</code> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-sType-sType" href="#VUID-VkPresentTimesInfoGOOGLE-sType-sType"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_TIMES_INFO_GOOGLE</code></p>
</li>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter" href="#VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-pTimes-parameter</span><br>
 If <code>pTimes</code> is not <code>NULL</code>, <code>pTimes</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <a href="#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength" href="#VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentTimesInfoGOOGLE-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentTimeGOOGLE</code> structure is defined as:</p>
</div>
<div id="VkPresentTimeGOOGLE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GOOGLE_display_timing
typedef struct VkPresentTimeGOOGLE {
    uint32_t    presentID;
    uint64_t    desiredPresentTime;
} VkPresentTimeGOOGLE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>presentID</code> is an application-provided identification value, that
<strong>can</strong> be used with the results of
<a href="#vkGetPastPresentationTimingGOOGLE">vkGetPastPresentationTimingGOOGLE</a>, in order to uniquely identify
this present.
In order to be useful to the application, it <strong>should</strong> be unique within
some period of time that is meaningful to the application.</p>
</li>
<li>
<p><code>desiredPresentTime</code> specifies that the image given <strong>should</strong> not be
displayed to the user any earlier than this time.
<code>desiredPresentTime</code> is a time in nanoseconds, relative to a
monotonically-increasing clock (e.g. <code>CLOCK_MONOTONIC</code> (see
clock_gettime(2)) on Android and Linux).
A value of zero specifies that the presentation engine <strong>may</strong> display the
image at any time.
This is useful when the application desires to provide <code>presentID</code>,
but does not need a specific <code>desiredPresentTime</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPresentIdKHR</code> structure is defined as:</p>
</div>
<div id="VkPresentIdKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_present_id
typedef struct VkPresentIdKHR {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           swapchainCount;
    const uint64_t*    pPresentIds;
} VkPresentIdKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to the
<code>vkQueuePresentKHR</code> command.</p>
</li>
<li>
<p><code>pPresentIds</code> is <code>NULL</code> or a pointer to an array of <code>uint64_t</code>
with <code>swapchainCount</code> entries.
If not <code>NULL</code>, each non-zero value in <code>pPresentIds</code> specifies the
present id to be associated with the presentation of the swapchain with
the same index in the <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For applications to be able to reference specific presentation events queued
by a call to <code>vkQueuePresentKHR</code>, an identifier needs to be associated
with them.
When the <a href="../features.html#features-presentId" class="xref page"><code>presentId</code></a> feature is enabled,
applications <strong>can</strong> include the <code>VkPresentIdKHR</code> structure in the
<code>pNext</code> chain of the <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure to supply
identifiers.</p>
</div>
<div class="paragraph">
<p>Each <code>VkSwapchainKHR</code> has a presentId associated with it.
This value is initially zero when the <code>VkSwapchainKHR</code> is created.</p>
</div>
<div class="paragraph">
<p>When a <code>VkPresentIdKHR</code> structure with a non-NULL <code>pPresentIds</code> is
included in the <code>pNext</code> chain of a <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure,
each <code>pSwapchains</code> entry has a presentId associated in the
<code>pPresentIds</code> array at the same index as the swapchain in the
<code>pSwapchains</code> array.
If this presentId is non-zero, then the application <strong>can</strong> later use this
value to refer to that image presentation.
A value of zero indicates that this presentation has no associated
presentId.
A non-zero presentId <strong>must</strong> be greater than any non-zero presentId passed
previously by the application for the same swapchain.</p>
</div>
<div class="paragraph">
<p>There is no requirement for any precise timing relationship between the
presentation of the image to the user and the update of the presentId value,
but implementations <strong>should</strong> make this as close as possible to the
presentation of the first pixel in the new image to the user.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentIdKHR-swapchainCount-04998" href="#VUID-VkPresentIdKHR-swapchainCount-04998"></a> <span class="vuid">VUID-VkPresentIdKHR-swapchainCount-04998</span><br>

<code>swapchainCount</code> <strong>must</strong> be the same value as
<code>VkPresentInfoKHR</code>::<code>swapchainCount</code>, where this
<code>VkPresentIdKHR</code> is in the <code>pNext</code> chain of the
<code>VkPresentInfoKHR</code> structure</p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-presentIds-04999" href="#VUID-VkPresentIdKHR-presentIds-04999"></a> <span class="vuid">VUID-VkPresentIdKHR-presentIds-04999</span><br>

Each <code>presentIds</code> entry <strong>must</strong> be greater than any previous
<code>presentIds</code> entry passed for the associated <code>pSwapchains</code> entry</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentIdKHR-sType-sType" href="#VUID-VkPresentIdKHR-sType-sType"></a> <span class="vuid">VUID-VkPresentIdKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_ID_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-pPresentIds-parameter" href="#VUID-VkPresentIdKHR-pPresentIds-parameter"></a> <span class="vuid">VUID-VkPresentIdKHR-pPresentIds-parameter</span><br>
 If <code>pPresentIds</code> is not <code>NULL</code>, <code>pPresentIds</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> <code>uint64_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkPresentIdKHR-swapchainCount-arraylength" href="#VUID-VkPresentIdKHR-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkPresentIdKHR-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <a href="../features.html#features-presentWait" class="xref page"><code>presentWait</code></a> feature is enabled, an
application <strong>can</strong> wait for an image to be presented to the user by first
specifying a presentId for the target presentation by adding a
<code>VkPresentIdKHR</code> structure to the <code>pNext</code> chain of the
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure and then waiting for that presentation to
complete by calling:</p>
</div>
<div id="vkWaitForPresentKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_present_wait
VkResult vkWaitForPresentKHR(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    uint64_t                                    presentId,
    uint64_t                                    timeout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the non-retired swapchain on which an image was
queued for presentation.</p>
</li>
<li>
<p><code>presentId</code> is the presentation presentId to wait for.</p>
</li>
<li>
<p><code>timeout</code> is the timeout period in units of nanoseconds.
<code>timeout</code> is adjusted to the closest value allowed by the
implementation-dependent timeout accuracy, which <strong>may</strong> be substantially
longer than one nanosecond, and <strong>may</strong> be longer than the requested
period.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkWaitForPresentKHR</code> waits for the presentId associated with
<code>swapchain</code> to be increased in value so that it is at least equal to
<code>presentId</code>.</p>
</div>
<div class="paragraph">
<p>For <code>VK_PRESENT_MODE_MAILBOX_KHR</code> (or other present mode where images
may be replaced in the presentation queue) any wait of this type associated
with such an image <strong>must</strong> be signaled no later than a wait associated with
the replacing image would be signaled.</p>
</div>
<div class="paragraph">
<p>When the presentation has completed, the presentId associated with the
related <code>pSwapchains</code> entry will be increased in value so that it is at
least equal to the value provided in the <code>VkPresentIdKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>There is no requirement for any precise timing relationship between the
presentation of the image to the user and the update of the presentId value,
but implementations <strong>should</strong> make this as close as possible to the
presentation of the first pixel in the next image being presented to the
user.</p>
</div>
<div class="paragraph">
<p>The call to <code>vkWaitForPresentKHR</code> will block until either the presentId
associated with <code>swapchain</code> is greater than or equal to <code>presentId</code>,
or <code>timeout</code> nanoseconds passes.
When the swapchain becomes OUT_OF_DATE, the call will either return
<code>VK_SUCCESS</code> (if the image was delivered to the presentation engine and
may have been presented to the user) or will return early with status
<code>VK_ERROR_OUT_OF_DATE_KHR</code> (if the image was not presented to the user).</p>
</div>
<div class="paragraph">
<p>As an exception to the normal rules for objects which are externally
synchronized, the <code>swapchain</code> passed to <code>vkWaitForPresentKHR</code> <strong>may</strong>
be simultaneously used by other threads in calls to functions other than
<a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.
Access to the swapchain data associated with this extension <strong>must</strong> be atomic
within the implementation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-04997" href="#VUID-vkWaitForPresentKHR-swapchain-04997"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-04997</span><br>

<code>swapchain</code> <strong>must</strong> not be in the retired state</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-presentWait-06234" href="#VUID-vkWaitForPresentKHR-presentWait-06234"></a> <span class="vuid">VUID-vkWaitForPresentKHR-presentWait-06234</span><br>

The <a href="../features.html#features-presentWait" class="xref page"><code>presentWait</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkWaitForPresentKHR-device-parameter" href="#VUID-vkWaitForPresentKHR-device-parameter"></a> <span class="vuid">VUID-vkWaitForPresentKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-parameter" href="#VUID-vkWaitForPresentKHR-swapchain-parameter"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkWaitForPresentKHR-swapchain-parent" href="#VUID-vkWaitForPresentKHR-swapchain-parent"></a> <span class="vuid">VUID-vkWaitForPresentKHR-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <code><a href="../../appendices/extensions.html#VK_GGP_frame_token" class="xref page">VK_GGP_frame_token</a></code> extension is enabled, a Google Games
Platform frame token <strong>can</strong> be specified when presenting an image to a
swapchain by adding a <code>VkPresentFrameTokenGGP</code> structure to the
<code>pNext</code> chain of the <code>VkPresentInfoKHR</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPresentFrameTokenGGP</code> structure is defined as:</p>
</div>
<div id="VkPresentFrameTokenGGP" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_GGP_frame_token
typedef struct VkPresentFrameTokenGGP {
    VkStructureType    sType;
    const void*        pNext;
    GgpFrameToken      frameToken;
} VkPresentFrameTokenGGP;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>frameToken</code> is the Google Games Platform frame token.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentFrameTokenGGP-frameToken-02680" href="#VUID-VkPresentFrameTokenGGP-frameToken-02680"></a> <span class="vuid">VUID-VkPresentFrameTokenGGP-frameToken-02680</span><br>

<code>frameToken</code> <strong>must</strong> be a valid <code>GgpFrameToken</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPresentFrameTokenGGP-sType-sType" href="#VUID-VkPresentFrameTokenGGP-sType-sType"></a> <span class="vuid">VUID-VkPresentFrameTokenGGP-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PRESENT_FRAME_TOKEN_GGP</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainPresentModeInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentModeInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
typedef struct VkSwapchainPresentModeInfoEXT {
    VkStructureType            sType;
    const void*                pNext;
    uint32_t                   swapchainCount;
    const VkPresentModeKHR*    pPresentModes;
} VkSwapchainPresentModeInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pPresentModes</code> is a list of presentation modes with
<code>swapchainCount</code> entries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> includes a
<code>VkSwapchainPresentModeInfoEXT</code> structure, then that structure defines
the presentation modes used for the current and subsequent presentation
operations.</p>
</div>
<div class="paragraph">
<p>When the application changes present modes with
<a href="#VkSwapchainPresentModeInfoEXT">VkSwapchainPresentModeInfoEXT</a>, images that have already been queued
for presentation will continue to be presented according to the previous
present mode.
The current image being queued for presentation and subsequent images will
be presented according to the new present mode.
The behavior during the transition between the two modes is defined as
follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transition from <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> to
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>: the presentation engine
updates the shared presentable image according to the behavior of
<code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code>.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> to
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>: the presentation
engine <strong>may</strong> update the shared presentable image or defer that to its
regular refresh cycle, according to the behavior of
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</li>
<li>
<p>Transition between <code>VK_PRESENT_MODE_FIFO_KHR</code> and
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>: Images continue to be appended
to the same FIFO queue, and the behavior with respect to waiting for
vertical blanking period will follow the new mode for current and
subsequent images.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> to
<code>VK_PRESENT_MODE_FIFO_KHR</code> or <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
or <code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>
: As all prior present requests in the
<code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> mode are applied immediately, there
are no outstanding present operations in this mode, and current and
subsequent images are appended to the FIFO queue and presented according
to the new mode.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_MAILBOX_KHR</code> to
<code>VK_PRESENT_MODE_FIFO_KHR</code> or <code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
or <code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>
: Presentation in FIFO modes require waiting for the next vertical
blanking period, with <code>VK_PRESENT_MODE_MAILBOX_KHR</code> allowing the
pending present operation to be replaced by a new one.
In this case, the current present operation will replace the pending
present operation and is applied according to the new mode.</p>
</li>
<li>
<p>Transition from <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
or <code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>
to <code>VK_PRESENT_MODE_IMMEDIATE_KHR</code> or
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>: If the FIFO queue is empty,
presentation is done according to the behavior of the new mode.
If there are present operations in the FIFO queue, once the last present
operation is performed based on the respective vertical blanking period,
the current and subsequent updates are applied according to the new
mode.</p>
</li>
<li>
<p>Transition between <code>VK_PRESENT_MODE_FIFO_KHR</code> or
<code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>, and
<code>VK_PRESENT_MODE_FIFO_LATEST_READY_EXT</code>: Images continue to be
appended to the same FIFO queue, and the behavior with respect to
waiting for vertical blanking period and dequeuing requests will follow
the new mode for current and subsequent images.</p>
</li>
<li>
<p>The behavior during transition between any other present modes, if
possible, is implementation defined.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760" href="#VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-07760</span><br>

<code>swapchainCount</code> <strong>must</strong> be equal to
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761" href="#VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-07761</span><br>

Each entry in <code>pPresentModes</code> <strong>must</strong> be a presentation mode specified
in <a href="#VkSwapchainPresentModesCreateInfoEXT">VkSwapchainPresentModesCreateInfoEXT</a>::<code>pPresentModes</code> when
creating the entry&#8217;s corresponding swapchain</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-sType-sType" href="#VUID-VkSwapchainPresentModeInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter" href="#VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-pPresentModes-parameter</span><br>
 <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength" href="#VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentModeInfoEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSwapchainPresentFenceInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentFenceInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
typedef struct VkSwapchainPresentFenceInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           swapchainCount;
    const VkFence*     pFences;
} VkSwapchainPresentFenceInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains being presented to by
this command.</p>
</li>
<li>
<p><code>pFences</code> is a list of fences with <code>swapchainCount</code> entries.
Each entry <strong>must</strong> be <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or the handle of a fence to
signal when the relevant operations on the associated swapchain have
completed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The set of <em>queue operations</em> defined by queuing an image for presentation,
as well as operations performed by the presentation engine access the
payloads of objects associated with the presentation operation.
The associated objects include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The swapchain image, its implicitly bound memory, and any other
resources bound to that memory.</p>
</li>
<li>
<p>The wait semaphores specified when queuing the image for presentation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application <strong>can</strong> provide a fence that the implementation will signal
when all such queue operations have completed and the presentation engine
has taken a reference to the payload of any objects it accesses as part of
the present operation.
For all
binary
wait semaphores imported by the presentation engine using the equivalent of
reference transference, as described in
<a href="../synchronization.html#synchronization-semaphores-importing" class="xref page">Importing Semaphore Payloads</a>, this
fence <strong>must</strong> not signal until all such semaphore payloads have been reset by
the presentation engine.</p>
</div>
<div class="paragraph">
<p>The application <strong>can</strong> destroy the wait semaphores associated with a given
presentation operation when at least one of the associated fences is
signaled, and <strong>can</strong> destroy the swapchain when the fences associated with all
past presentation requests referring to that swapchain have signaled.</p>
</div>
<div class="paragraph">
<p>Fences associated with presentations to the same swapchain on the same
<a href="../devsandqueues.html#VkQueue" class="xref page">VkQueue</a> <strong>must</strong> be signaled in the same order as the present operations.</p>
</div>
<div class="paragraph">
<p>To specify a fence for each swapchain in a present operation, include the
<code>VkSwapchainPresentFenceInfoEXT</code> structure in the <code>pNext</code> chain of
the <a href="#VkPresentInfoKHR">VkPresentInfoKHR</a> structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757" href="#VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-07757</span><br>

<code>swapchainCount</code> <strong>must</strong> be equal to
<a href="#VkPresentInfoKHR">VkPresentInfoKHR</a>::<code>swapchainCount</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758" href="#VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-07758</span><br>

Each element of <code>pFences</code> that is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> be
unsignaled</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759" href="#VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-07759</span><br>

Each element of <code>pFences</code> that is not <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> not
be associated with any other queue command that has not yet completed
execution on that queue</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-sType-sType" href="#VUID-VkSwapchainPresentFenceInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_FENCE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter" href="#VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-pFences-parameter</span><br>
 <code>pFences</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid or <a href="../../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <a href="../synchronization.html#VkFence" class="xref page">VkFence</a> handles</p>
</li>
<li>
<p><a id="VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength" href="#VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-VkSwapchainPresentFenceInfoEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release images previously acquired through
<a href="#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a> or
<a href="#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>, call:</p>
</div>
<div id="vkReleaseSwapchainImagesEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
VkResult vkReleaseSwapchainImagesEXT(
    VkDevice                                    device,
    const VkReleaseSwapchainImagesInfoEXT*      pReleaseInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with
<a href="#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a>::<code>swapchain</code>.</p>
</li>
<li>
<p><code>pReleaseInfo</code> is a pointer to a
<a href="#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a> structure containing parameters of
the release.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only images that are not in use by the device <strong>can</strong> be released.</p>
</div>
<div class="paragraph">
<p>Releasing images is a read-only operation that will not affect the content
of the released images.
Upon reacquiring the image, the image contents and its layout will be the
same as they were prior to releasing it.
However, if a mechanism other than Vulkan is used to modify the platform
window associated with the swapchain, the content of all presentable images
in the swapchain becomes <strong>undefined</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This functionality is useful during swapchain recreation, where acquired
images from the old swapchain can be released instead of presented.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseSwapchainImagesEXT-swapchainMaintenance1-10159" href="#VUID-vkReleaseSwapchainImagesEXT-swapchainMaintenance1-10159"></a> <span class="vuid">VUID-vkReleaseSwapchainImagesEXT-swapchainMaintenance1-10159</span><br>

Feature <a href="../features.html#features-swapchainMaintenance1" class="xref page"><code>swapchainMaintenance1</code></a>
<strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseSwapchainImagesEXT-device-parameter" href="#VUID-vkReleaseSwapchainImagesEXT-device-parameter"></a> <span class="vuid">VUID-vkReleaseSwapchainImagesEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter" href="#VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter"></a> <span class="vuid">VUID-vkReleaseSwapchainImagesEXT-pReleaseInfo-parameter</span><br>
 <code>pReleaseInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkReleaseSwapchainImagesInfoEXT">VkReleaseSwapchainImagesInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkReleaseSwapchainImagesInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkReleaseSwapchainImagesInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_swapchain_maintenance1
typedef struct VkReleaseSwapchainImagesInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkSwapchainKHR     swapchain;
    uint32_t           imageIndexCount;
    const uint32_t*    pImageIndices;
} VkReleaseSwapchainImagesInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>swapchain</code> is a swapchain to which images are being released.</p>
</li>
<li>
<p><code>imageIndexCount</code> is the number of image indices to be released.</p>
</li>
<li>
<p><code>pImageIndices</code> is a pointer to an array of indices into the array
of <code>swapchain</code>&#8217;s presentable images, with <code>imageIndexCount</code>
entries.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785" href="#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07785</span><br>

Each element of <code>pImageIndices</code> <strong>must</strong> be the index of a presentable
image acquired from the swapchain specified by <code>swapchain</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786" href="#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-07786</span><br>

All uses of presentable images identified by elements of
<code>pImageIndices</code> <strong>must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType" href="#VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RELEASE_SWAPCHAIN_IMAGES_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext" href="#VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter" href="#VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter" href="#VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-pImageIndices-parameter</span><br>
 <code>pImageIndices</code> <strong>must</strong> be a valid pointer to an array of <code>imageIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength" href="#VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength"></a> <span class="vuid">VUID-VkReleaseSwapchainImagesInfoEXT-imageIndexCount-arraylength</span><br>
 <code>imageIndexCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>swapchain</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hdr_metadata"><a class="anchor" href="#_hdr_metadata"></a>HDR Metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to improve color reproduction of content to
better reproduce colors as seen on the display used to originally optimize
the content.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To provide HDR metadata to an implementation, call:</p>
</div>
<div id="vkSetHdrMetadataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_hdr_metadata
void vkSetHdrMetadataEXT(
    VkDevice                                    device,
    uint32_t                                    swapchainCount,
    const VkSwapchainKHR*                       pSwapchains,
    const VkHdrMetadataEXT*                     pMetadata);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device where the swapchain(s) were created.</p>
</li>
<li>
<p><code>swapchainCount</code> is the number of swapchains included in
<code>pSwapchains</code>.</p>
</li>
<li>
<p><code>pSwapchains</code> is a pointer to an array of <code>swapchainCount</code>
<a href="#VkSwapchainKHR">VkSwapchainKHR</a> handles.</p>
</li>
<li>
<p><code>pMetadata</code> is a pointer to an array of <code>swapchainCount</code>
<a href="#VkHdrMetadataEXT">VkHdrMetadataEXT</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The metadata will be applied to the specified <a href="#VkSwapchainKHR">VkSwapchainKHR</a> objects
at the next <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> call using that <a href="#VkSwapchainKHR">VkSwapchainKHR</a>
object.
The metadata will persist until a subsequent <code>vkSetHdrMetadataEXT</code>
changes it.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-device-parameter" href="#VUID-vkSetHdrMetadataEXT-device-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pSwapchains-parameter" href="#VUID-vkSetHdrMetadataEXT-pSwapchains-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pSwapchains-parameter</span><br>
 <code>pSwapchains</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pMetadata-parameter" href="#VUID-vkSetHdrMetadataEXT-pMetadata-parameter"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pMetadata-parameter</span><br>
 <code>pMetadata</code> <strong>must</strong> be a valid pointer to an array of <code>swapchainCount</code> valid <a href="#VkHdrMetadataEXT">VkHdrMetadataEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength" href="#VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-swapchainCount-arraylength</span><br>
 <code>swapchainCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkSetHdrMetadataEXT-pSwapchains-parent" href="#VUID-vkSetHdrMetadataEXT-pSwapchains-parent"></a> <span class="vuid">VUID-vkSetHdrMetadataEXT-pSwapchains-parent</span><br>
 Each element of <code>pSwapchains</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkHdrMetadataEXT</code> structure is defined as:</p>
</div>
<div id="VkHdrMetadataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_hdr_metadata
typedef struct VkHdrMetadataEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkXYColorEXT       displayPrimaryRed;
    VkXYColorEXT       displayPrimaryGreen;
    VkXYColorEXT       displayPrimaryBlue;
    VkXYColorEXT       whitePoint;
    float              maxLuminance;
    float              minLuminance;
    float              maxContentLightLevel;
    float              maxFrameAverageLightLevel;
} VkHdrMetadataEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>displayPrimaryRed</code> is a <a href="#VkXYColorEXT">VkXYColorEXT</a> structure specifying the
red primary of the display used to optimize the content</p>
</li>
<li>
<p><code>displayPrimaryGreen</code> is a <a href="#VkXYColorEXT">VkXYColorEXT</a> structure specifying
the green primary of the display used to optimize the content</p>
</li>
<li>
<p><code>displayPrimaryBlue</code> is a <a href="#VkXYColorEXT">VkXYColorEXT</a> structure specifying
the blue primary of the display used to optimize the content</p>
</li>
<li>
<p><code>whitePoint</code> is a <a href="#VkXYColorEXT">VkXYColorEXT</a> structure specifying the
white-point of the display used to optimize the content</p>
</li>
<li>
<p><code>maxLuminance</code> is the maximum luminance of the display used to
optimize the content in nits</p>
</li>
<li>
<p><code>minLuminance</code> is the minimum luminance of the display used to
optimize the content in nits</p>
</li>
<li>
<p><code>maxContentLightLevel</code> is the value in nits of the desired luminance
for the brightest pixels in the displayed image.</p>
</li>
<li>
<p><code>maxFrameAverageLightLevel</code> is the value in nits of the average
luminance of the frame which has the brightest average luminance
anywhere in the content.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If any of the above values are unknown, they <strong>can</strong> be set to 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The meta-data provided here is intended to be used as defined in the SMPTE
2086, CTA 861.3 and CIE 15:2004 specifications.
The validity and use of this data is outside the scope of Vulkan.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHdrMetadataEXT-sType-sType" href="#VUID-VkHdrMetadataEXT-sType-sType"></a> <span class="vuid">VUID-VkHdrMetadataEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_HDR_METADATA_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkHdrMetadataEXT-pNext-pNext" href="#VUID-VkHdrMetadataEXT-pNext-pNext"></a> <span class="vuid">VUID-VkHdrMetadataEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkHdrVividDynamicMetadataHUAWEI">VkHdrVividDynamicMetadataHUAWEI</a></p>
</li>
<li>
<p><a id="VUID-VkHdrMetadataEXT-sType-unique" href="#VUID-VkHdrMetadataEXT-sType-unique"></a> <span class="vuid">VUID-VkHdrMetadataEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When <a href="../features.html#features-hdrVivid" class="xref page"><code>hdrVivid</code></a> feature is enabled, HDR Vivid
dynamic metadata <strong>can</strong> be set to control the reproduction of content by
including the <code>VkHdrVividDynamicMetadataHUAWEI</code> in the <code>pNext</code> chain
of <a href="#VkHdrMetadataEXT">VkHdrMetadataEXT</a>.</p>
</div>
<div class="paragraph">
<p>The <code>VkHdrVividDynamicMetadataHUAWEI</code> structure is defined as:</p>
</div>
<div id="VkHdrVividDynamicMetadataHUAWEI" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_HUAWEI_hdr_vivid
typedef struct VkHdrVividDynamicMetadataHUAWEI {
    VkStructureType    sType;
    const void*        pNext;
    size_t             dynamicMetadataSize;
    const void*        pDynamicMetadata;
} VkHdrVividDynamicMetadataHUAWEI;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>dynamicMetadataSize</code> is the size in bytes of the dynamic metadata.</p>
</li>
<li>
<p><code>pDynamicMetadata</code> is a pointer to the dynamic metadata.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The HDR Vivid metadata is intended to be used as defined in the T/UWA
005.1-2022 specification.
The validity and use of this data is outside the scope of Vulkan.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHdrVividDynamicMetadataHUAWEI-sType-sType" href="#VUID-VkHdrVividDynamicMetadataHUAWEI-sType-sType"></a> <span class="vuid">VUID-VkHdrVividDynamicMetadataHUAWEI-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_HDR_VIVID_DYNAMIC_METADATA_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-VkHdrVividDynamicMetadataHUAWEI-pDynamicMetadata-parameter" href="#VUID-VkHdrVividDynamicMetadataHUAWEI-pDynamicMetadata-parameter"></a> <span class="vuid">VUID-VkHdrVividDynamicMetadataHUAWEI-pDynamicMetadata-parameter</span><br>
 <code>pDynamicMetadata</code> <strong>must</strong> be a valid pointer to an array of <code>dynamicMetadataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkHdrVividDynamicMetadataHUAWEI-dynamicMetadataSize-arraylength" href="#VUID-VkHdrVividDynamicMetadataHUAWEI-dynamicMetadataSize-arraylength"></a> <span class="vuid">VUID-VkHdrVividDynamicMetadataHUAWEI-dynamicMetadataSize-arraylength</span><br>
 <code>dynamicMetadataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkXYColorEXT</code> structure is defined as:</p>
</div>
<div id="VkXYColorEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_hdr_metadata
typedef struct VkXYColorEXT {
    float    x;
    float    y;
} VkXYColorEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the <span class="eq">x</span> chromaticity coordinate.</p>
</li>
<li>
<p><code>y</code> is the <span class="eq">y</span> chromaticity coordinate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Chromaticity coordinates are as specified in CIE 15:2004 &#8220;Calculation of
chromaticity coordinates&#8221; (Section 7.3) and are limited to between 0 and 1
for real colors.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lag-control"><a class="anchor" href="#lag-control"></a>Lag Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some implementations support extensions to reduce display latency and
control the swapchain present interval, as described in the remainder of
this section.</p>
</div>
<div class="sect2">
<h3 id="anti-lag"><a class="anchor" href="#anti-lag"></a>Anti-Lag</h3>
<div class="paragraph">
<p>The <a href="../../appendices/extensions.html#VK_AMD_anti_lag" class="xref page">VK_AMD_anti_lag</a> extension lowers latency between receiving input
and displaying on the screen.
It adds a command to indicate when input is being processed for a frame, and
when that frame&#8217;s images are presented.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To lower latency, call:</p>
</div>
<div id="vkAntiLagUpdateAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_anti_lag
void vkAntiLagUpdateAMD(
    VkDevice                                    device,
    const VkAntiLagDataAMD*                     pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device</p>
</li>
<li>
<p><code>pData</code> is a pointer to a <a href="#VkAntiLagDataAMD">VkAntiLagDataAMD</a> structure
containing latency reduction parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command should be executed immediately before the application processes
user input.
If <code>pData</code> is not <code>NULL</code> and
<a href="#VkAntiLagDataAMD">VkAntiLagDataAMD</a>::<code>presentationInfo</code> is not <code>NULL</code>, this command
<strong>should</strong> be executed again before <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>, with
<code>pPresentationInfo</code> set to matching values.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAntiLagUpdateAMD-antiLag-10061" href="#VUID-vkAntiLagUpdateAMD-antiLag-10061"></a> <span class="vuid">VUID-vkAntiLagUpdateAMD-antiLag-10061</span><br>

The <a href="../features.html#features-antiLag" class="xref page"><code>antiLag</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAntiLagUpdateAMD-device-parameter" href="#VUID-vkAntiLagUpdateAMD-device-parameter"></a> <span class="vuid">VUID-vkAntiLagUpdateAMD-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAntiLagUpdateAMD-pData-parameter" href="#VUID-vkAntiLagUpdateAMD-pData-parameter"></a> <span class="vuid">VUID-vkAntiLagUpdateAMD-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkAntiLagDataAMD">VkAntiLagDataAMD</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAntiLagDataAMD</code> structure is defined as:</p>
</div>
<div id="VkAntiLagDataAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_anti_lag
typedef struct VkAntiLagDataAMD {
    VkStructureType                        sType;
    const void*                            pNext;
    VkAntiLagModeAMD                       mode;
    uint32_t                               maxFPS;
    const VkAntiLagPresentationInfoAMD*    pPresentationInfo;
} VkAntiLagDataAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>mode</code> is a <a href="#VkAntiLagModeAMD">VkAntiLagModeAMD</a> value specifying the anti-lag
status.</p>
</li>
<li>
<p><code>maxFPS</code> is the framerate limit, in frames per second, used by the
application.
This limit will be imposed if anti-lag is enabled.
If the application tries to render faster, the framerate will be reduced
to match this limit.
A value of 0 will disable the limit.</p>
</li>
<li>
<p><code>pPresentationInfo</code> is a pointer to a
<a href="#VkAntiLagPresentationInfoAMD">VkAntiLagPresentationInfoAMD</a> structure containing information
about the application stage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure specifies anti-lag parameters.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAntiLagDataAMD-sType-sType" href="#VUID-VkAntiLagDataAMD-sType-sType"></a> <span class="vuid">VUID-VkAntiLagDataAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ANTI_LAG_DATA_AMD</code></p>
</li>
<li>
<p><a id="VUID-VkAntiLagDataAMD-mode-parameter" href="#VUID-VkAntiLagDataAMD-mode-parameter"></a> <span class="vuid">VUID-VkAntiLagDataAMD-mode-parameter</span><br>
 <code>mode</code> <strong>must</strong> be a valid <a href="#VkAntiLagModeAMD">VkAntiLagModeAMD</a> value</p>
</li>
<li>
<p><a id="VUID-VkAntiLagDataAMD-pPresentationInfo-parameter" href="#VUID-VkAntiLagDataAMD-pPresentationInfo-parameter"></a> <span class="vuid">VUID-VkAntiLagDataAMD-pPresentationInfo-parameter</span><br>
 If <code>pPresentationInfo</code> is not <code>NULL</code>, <code>pPresentationInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkAntiLagPresentationInfoAMD">VkAntiLagPresentationInfoAMD</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkAntiLagDataAMD">VkAntiLagDataAMD</a>::<code>mode</code>, specifying the
anti-lag status, are:</p>
</div>
<div id="VkAntiLagModeAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_anti_lag
typedef enum VkAntiLagModeAMD {
    VK_ANTI_LAG_MODE_DRIVER_CONTROL_AMD = 0,
    VK_ANTI_LAG_MODE_ON_AMD = 1,
    VK_ANTI_LAG_MODE_OFF_AMD = 2,
} VkAntiLagModeAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ANTI_LAG_MODE_DRIVER_CONTROL_AMD</code> specifies that anti-lag will
be enabled or disabled depending on driver settings.</p>
</li>
<li>
<p><code>VK_ANTI_LAG_MODE_ON_AMD</code> specifies that anti-lag will be enabled.</p>
</li>
<li>
<p><code>VK_ANTI_LAG_MODE_OFF_AMD</code> specifies that anti-lag will be disabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAntiLagPresentationInfoAMD</code> structure is defined as:</p>
</div>
<div id="VkAntiLagPresentationInfoAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_anti_lag
typedef struct VkAntiLagPresentationInfoAMD {
    VkStructureType      sType;
    void*                pNext;
    VkAntiLagStageAMD    stage;
    uint64_t             frameIndex;
} VkAntiLagPresentationInfoAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkAntiLagStageAMD">VkAntiLagStageAMD</a> value specifying the current
application stage.</p>
</li>
<li>
<p><code>frameIndex</code> is set just before the application processes input data
(<code>VK_ANTI_LAG_STAGE_INPUT_AMD</code>).
The same <code>frameIndex</code> value <strong>should</strong> be set before the frame with
current input data will be presented by <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>
(<code>VK_ANTI_LAG_STAGE_PRESENT_AMD</code>).
This <strong>should</strong> be done for each frame.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure specifies information about the presentation stage for which
anti-lag parameters are being set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAntiLagPresentationInfoAMD-sType-sType" href="#VUID-VkAntiLagPresentationInfoAMD-sType-sType"></a> <span class="vuid">VUID-VkAntiLagPresentationInfoAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ANTI_LAG_PRESENTATION_INFO_AMD</code></p>
</li>
<li>
<p><a id="VUID-VkAntiLagPresentationInfoAMD-stage-parameter" href="#VUID-VkAntiLagPresentationInfoAMD-stage-parameter"></a> <span class="vuid">VUID-VkAntiLagPresentationInfoAMD-stage-parameter</span><br>
 <code>stage</code> <strong>must</strong> be a valid <a href="#VkAntiLagStageAMD">VkAntiLagStageAMD</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkAntiLagPresentationInfoAMD">VkAntiLagPresentationInfoAMD</a>::<code>stage</code>,
specifying the current application stage, are:</p>
</div>
<div id="VkAntiLagStageAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_anti_lag
typedef enum VkAntiLagStageAMD {
    VK_ANTI_LAG_STAGE_INPUT_AMD = 0,
    VK_ANTI_LAG_STAGE_PRESENT_AMD = 1,
} VkAntiLagStageAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ANTI_LAG_STAGE_INPUT_AMD</code> specifies the stage before processing
input.</p>
</li>
<li>
<p><code>VK_ANTI_LAG_STAGE_PRESENT_AMD</code> specifies the stage before
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="low-latency2"><a class="anchor" href="#low-latency2"></a>Latency Reduction</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enable or disable low latency mode on a swapchain, call:</p>
</div>
<div id="vkSetLatencySleepModeNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
VkResult vkSetLatencySleepModeNV(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    const VkLatencySleepModeInfoNV*             pSleepModeInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to enable or disable low latency mode
on.</p>
</li>
<li>
<p><code>pSleepModeInfo</code> is <code>NULL</code> or a pointer to a
<a href="#VkLatencySleepModeInfoNV">VkLatencySleepModeInfoNV</a> structure specifying the parameters of
the latency sleep mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSleepModeInfo</code> is <code>NULL</code>, <code>vkSetLatencySleepModeNV</code> will
disable low latency mode, low latency boost, and set the minimum present
interval previously specified by <a href="#VkLatencySleepModeInfoNV">VkLatencySleepModeInfoNV</a> to zero on
<code>swapchain</code>.
As an exception to the normal rules for objects which are externally
synchronized, the swapchain passed to <code>vkSetLatencySleepModeNV</code> <strong>may</strong> be
simultaneously used by other threads in calls to functions other than
<a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.
Access to the swapchain data associated with this extension <strong>must</strong> be atomic
within the implementation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLatencySleepModeNV-device-parameter" href="#VUID-vkSetLatencySleepModeNV-device-parameter"></a> <span class="vuid">VUID-vkSetLatencySleepModeNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLatencySleepModeNV-swapchain-parameter" href="#VUID-vkSetLatencySleepModeNV-swapchain-parameter"></a> <span class="vuid">VUID-vkSetLatencySleepModeNV-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLatencySleepModeNV-pSleepModeInfo-parameter" href="#VUID-vkSetLatencySleepModeNV-pSleepModeInfo-parameter"></a> <span class="vuid">VUID-vkSetLatencySleepModeNV-pSleepModeInfo-parameter</span><br>
 <code>pSleepModeInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkLatencySleepModeInfoNV">VkLatencySleepModeInfoNV</a> structure</p>
</li>
<li>
<p><a id="VUID-vkSetLatencySleepModeNV-swapchain-parent" href="#VUID-vkSetLatencySleepModeNV-swapchain-parent"></a> <span class="vuid">VUID-vkSetLatencySleepModeNV-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkLatencySleepModeInfoNV</code> structure is defined as:</p>
</div>
<div id="VkLatencySleepModeInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkLatencySleepModeInfoNV {
    VkStructureType    sType;
    const void*        pNext;
    VkBool32           lowLatencyMode;
    VkBool32           lowLatencyBoost;
    uint32_t           minimumIntervalUs;
} VkLatencySleepModeInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>lowLatencyMode</code> is the toggle to enable or disable low latency
mode.</p>
</li>
<li>
<p><code>lowLatencyBoost</code> allows an application to hint to the GPU to
increase performance to provide additional latency savings at a cost of
increased power consumption.</p>
</li>
<li>
<p><code>minimumIntervalUs</code> is the microseconds between
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> calls for a given swapchain that
<a href="#vkLatencySleepNV">vkLatencySleepNV</a> will enforce.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>lowLatencyMode</code> is <code>VK_FALSE</code>, <code>lowLatencyBoost</code> will still
hint to the GPU to increase its power state and <code>vkLatencySleepNV</code> will
still enforce <code>minimumIntervalUs</code> between <code>vkQueuePresentKHR</code> calls.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencySleepModeInfoNV-sType-sType" href="#VUID-VkLatencySleepModeInfoNV-sType-sType"></a> <span class="vuid">VUID-VkLatencySleepModeInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_LATENCY_SLEEP_MODE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To provide the synchronization primitive used to delay host CPU work for
lower latency rendering, call:</p>
</div>
<div id="vkLatencySleepNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
VkResult vkLatencySleepNV(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    const VkLatencySleepInfoNV*                 pSleepInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to delay associated CPU work based on
<a href="#VkLatencySubmissionPresentIdNV">VkLatencySubmissionPresentIdNV</a> submissions.</p>
</li>
<li>
<p><code>pSleepInfo</code> is a pointer to a <a href="#VkLatencySleepInfoNV">VkLatencySleepInfoNV</a> structure
specifying the parameters of the latency sleep.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkLatencySleepNV</code> returns immediately.
Applications <strong>should</strong> use <a href="../synchronization.html#vkWaitSemaphores" class="xref page">vkWaitSemaphores</a> with
<code>pSleepInfo-&gt;signalSemaphore</code> to delay host CPU work.
CPU work refers to application work done before presenting which includes
but is not limited to: input sampling, simulation, command buffer recording,
command buffer submission, and present submission.
Applications <strong>should</strong> call this function before input sampling, and exactly
once between presents.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkLatencySleepNV-device-parameter" href="#VUID-vkLatencySleepNV-device-parameter"></a> <span class="vuid">VUID-vkLatencySleepNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkLatencySleepNV-swapchain-parameter" href="#VUID-vkLatencySleepNV-swapchain-parameter"></a> <span class="vuid">VUID-vkLatencySleepNV-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkLatencySleepNV-pSleepInfo-parameter" href="#VUID-vkLatencySleepNV-pSleepInfo-parameter"></a> <span class="vuid">VUID-vkLatencySleepNV-pSleepInfo-parameter</span><br>
 <code>pSleepInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkLatencySleepInfoNV">VkLatencySleepInfoNV</a> structure</p>
</li>
<li>
<p><a id="VUID-vkLatencySleepNV-swapchain-parent" href="#VUID-vkLatencySleepNV-swapchain-parent"></a> <span class="vuid">VUID-vkLatencySleepNV-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkLatencySleepInfoNV</code> structure is defined as:</p>
</div>
<div id="VkLatencySleepInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkLatencySleepInfoNV {
    VkStructureType    sType;
    const void*        pNext;
    VkSemaphore        signalSemaphore;
    uint64_t           value;
} VkLatencySleepInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>signalSemaphore</code> is a semaphore that is signaled to indicate that
the application <strong>should</strong> resume input sampling work.</p>
</li>
<li>
<p><code>value</code> is the value that <code>signalSemaphore</code> is set to for
resuming sampling work.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencySleepInfoNV-signalSemaphore-09361" href="#VUID-VkLatencySleepInfoNV-signalSemaphore-09361"></a> <span class="vuid">VUID-VkLatencySleepInfoNV-signalSemaphore-09361</span><br>

<code>signalSemaphore</code> <strong>must</strong> be a timeline semaphore</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencySleepInfoNV-sType-sType" href="#VUID-VkLatencySleepInfoNV-sType-sType"></a> <span class="vuid">VUID-VkLatencySleepInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_LATENCY_SLEEP_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkLatencySleepInfoNV-signalSemaphore-parameter" href="#VUID-VkLatencySleepInfoNV-signalSemaphore-parameter"></a> <span class="vuid">VUID-VkLatencySleepInfoNV-signalSemaphore-parameter</span><br>
 <code>signalSemaphore</code> <strong>must</strong> be a valid <a href="../synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An application <strong>can</strong> provide timestamps at various stages of its frame
generation work by calling:</p>
</div>
<div id="vkSetLatencyMarkerNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
void vkSetLatencyMarkerNV(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    const VkSetLatencyMarkerInfoNV*             pLatencyMarkerInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to capture timestamps on.</p>
</li>
<li>
<p><code>pSetLatencyMarkerInfo</code> is a pointer to a
<a href="#VkSetLatencyMarkerInfoNV">VkSetLatencyMarkerInfoNV</a> structure specifying the parameters of
the marker to set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>At the beginning and end of simulation and render threads and beginning and
end of <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> calls, <code>vkSetLatencyMarkerNV</code> <strong>can</strong> be
called to provide timestamps for the application&#8217;s reference.
These timestamps are returned with a call to <a href="#vkGetLatencyTimingsNV">vkGetLatencyTimingsNV</a>
alongside driver provided timestamps at various points of interest with
regards to latency within the application.
As an exception to the normal rules for objects which are externally
synchronized, the swapchain passed to <code>vkSetLatencyMarkerNV</code> <strong>may</strong> be
simultaneously used by other threads in calls to functions other than
<a href="#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a>.
Access to the swapchain data associated with this extension <strong>must</strong> be atomic
within the implementation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetLatencyMarkerNV-device-parameter" href="#VUID-vkSetLatencyMarkerNV-device-parameter"></a> <span class="vuid">VUID-vkSetLatencyMarkerNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLatencyMarkerNV-swapchain-parameter" href="#VUID-vkSetLatencyMarkerNV-swapchain-parameter"></a> <span class="vuid">VUID-vkSetLatencyMarkerNV-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetLatencyMarkerNV-pLatencyMarkerInfo-parameter" href="#VUID-vkSetLatencyMarkerNV-pLatencyMarkerInfo-parameter"></a> <span class="vuid">VUID-vkSetLatencyMarkerNV-pLatencyMarkerInfo-parameter</span><br>
 <code>pLatencyMarkerInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkSetLatencyMarkerInfoNV">VkSetLatencyMarkerInfoNV</a> structure</p>
</li>
<li>
<p><a id="VUID-vkSetLatencyMarkerNV-swapchain-parent" href="#VUID-vkSetLatencyMarkerNV-swapchain-parent"></a> <span class="vuid">VUID-vkSetLatencyMarkerNV-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSetLatencyMarkerInfoNV</code> structure is defined as:</p>
</div>
<div id="VkSetLatencyMarkerInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkSetLatencyMarkerInfoNV {
    VkStructureType      sType;
    const void*          pNext;
    uint64_t             presentID;
    VkLatencyMarkerNV    marker;
} VkSetLatencyMarkerInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentID</code> is an application provided value that is used to
associate the timestamp with a <code>vkQueuePresentKHR</code> command using
<a href="#VkPresentIdKHR">VkPresentIdKHR</a>::<code>pPresentIds</code> for a given present.</p>
</li>
<li>
<p><code>marker</code> is the type of timestamp to be recorded.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSetLatencyMarkerInfoNV-sType-sType" href="#VUID-VkSetLatencyMarkerInfoNV-sType-sType"></a> <span class="vuid">VUID-VkSetLatencyMarkerInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SET_LATENCY_MARKER_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkSetLatencyMarkerInfoNV-marker-parameter" href="#VUID-VkSetLatencyMarkerInfoNV-marker-parameter"></a> <span class="vuid">VUID-VkSetLatencyMarkerInfoNV-marker-parameter</span><br>
 <code>marker</code> <strong>must</strong> be a valid <a href="#VkLatencyMarkerNV">VkLatencyMarkerNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkLatencyMarkerNV">VkLatencyMarkerNV</a> enum is defined as:</p>
</div>
<div id="VkLatencyMarkerNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef enum VkLatencyMarkerNV {
    VK_LATENCY_MARKER_SIMULATION_START_NV = 0,
    VK_LATENCY_MARKER_SIMULATION_END_NV = 1,
    VK_LATENCY_MARKER_RENDERSUBMIT_START_NV = 2,
    VK_LATENCY_MARKER_RENDERSUBMIT_END_NV = 3,
    VK_LATENCY_MARKER_PRESENT_START_NV = 4,
    VK_LATENCY_MARKER_PRESENT_END_NV = 5,
    VK_LATENCY_MARKER_INPUT_SAMPLE_NV = 6,
    VK_LATENCY_MARKER_TRIGGER_FLASH_NV = 7,
    VK_LATENCY_MARKER_OUT_OF_BAND_RENDERSUBMIT_START_NV = 8,
    VK_LATENCY_MARKER_OUT_OF_BAND_RENDERSUBMIT_END_NV = 9,
    VK_LATENCY_MARKER_OUT_OF_BAND_PRESENT_START_NV = 10,
    VK_LATENCY_MARKER_OUT_OF_BAND_PRESENT_END_NV = 11,
} VkLatencyMarkerNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The members of the <a href="#VkLatencyMarkerNV">VkLatencyMarkerNV</a> are used as arguments for
<a href="#vkSetLatencyMarkerNV">vkSetLatencyMarkerNV</a> in the use cases described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_LATENCY_MARKER_SIMULATION_START_NV</code> <strong>should</strong> be called at the
start of the simulation execution each frame, but after the call to
<code>vkLatencySleepNV</code>.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_SIMULATION_END_NV</code> <strong>should</strong> be called at the end
of the simulation execution each frame.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_RENDERSUBMIT_START_NV</code> <strong>should</strong> be called at the
beginning of the render submission execution each frame.
This <strong>should</strong> be wherever Vulkan API calls are made and <strong>must</strong> not span
into asynchronous rendering.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_RENDERSUBMIT_END_NV</code> <strong>should</strong> be called at the end
of the render submission execution each frame.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_PRESENT_START_NV</code> <strong>should</strong> be called just before
<code>vkQueuePresentKHR</code>.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_PRESENT_END_NV</code> <strong>should</strong> be called when
<code>vkQueuePresentKHR</code> returns.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_INPUT_SAMPLE_NV</code> <strong>should</strong> be called just before
the application gathers input data.</p>
</li>
<li>
<p><code>VK_LATENCY_MARKER_TRIGGER_FLASH_NV</code> <strong>should</strong> be called anywhere
between <code>VK_LATENCY_MARKER_SIMULATION_START_NV</code> and
<code>VK_LATENCY_MARKER_SIMULATION_END_NV</code> whenever a left mouse click
occurs.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get an array containing the newest collected latency data, call:</p>
</div>
<div id="vkGetLatencyTimingsNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
void vkGetLatencyTimingsNV(
    VkDevice                                    device,
    VkSwapchainKHR                              swapchain,
    VkGetLatencyMarkerInfoNV*                   pLatencyMarkerInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device associated with <code>swapchain</code>.</p>
</li>
<li>
<p><code>swapchain</code> is the swapchain to return data from.</p>
</li>
<li>
<p><code>pGetLatencyMarkerInfo</code> is a pointer to a
<a href="#VkGetLatencyMarkerInfoNV">VkGetLatencyMarkerInfoNV</a> structure specifying the parameters for
returning latency information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The timings returned by <code>vkGetLatencyTimingsNV</code> contain the timestamps
requested from <a href="#vkSetLatencyMarkerNV">vkSetLatencyMarkerNV</a> and additional
implementation-specific markers defined in
<a href="#VkLatencyTimingsFrameReportNV">VkLatencyTimingsFrameReportNV</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetLatencyTimingsNV-device-parameter" href="#VUID-vkGetLatencyTimingsNV-device-parameter"></a> <span class="vuid">VUID-vkGetLatencyTimingsNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetLatencyTimingsNV-swapchain-parameter" href="#VUID-vkGetLatencyTimingsNV-swapchain-parameter"></a> <span class="vuid">VUID-vkGetLatencyTimingsNV-swapchain-parameter</span><br>
 <code>swapchain</code> <strong>must</strong> be a valid <a href="#VkSwapchainKHR">VkSwapchainKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetLatencyTimingsNV-pLatencyMarkerInfo-parameter" href="#VUID-vkGetLatencyTimingsNV-pLatencyMarkerInfo-parameter"></a> <span class="vuid">VUID-vkGetLatencyTimingsNV-pLatencyMarkerInfo-parameter</span><br>
 <code>pLatencyMarkerInfo</code> <strong>must</strong> be a valid pointer to a <a href="#VkGetLatencyMarkerInfoNV">VkGetLatencyMarkerInfoNV</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetLatencyTimingsNV-swapchain-parent" href="#VUID-vkGetLatencyTimingsNV-swapchain-parent"></a> <span class="vuid">VUID-vkGetLatencyTimingsNV-swapchain-parent</span><br>
 <code>swapchain</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGetLatencyMarkerInfoNV</code> structure is defined as:</p>
</div>
<div id="VkGetLatencyMarkerInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkGetLatencyMarkerInfoNV {
    VkStructureType                   sType;
    const void*                       pNext;
    uint32_t                          timingCount;
    VkLatencyTimingsFrameReportNV*    pTimings;
} VkGetLatencyMarkerInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is either <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>timingCount</code> is an integer related to the number of previous frames
of latency data available or queried, as described below.</p>
</li>
<li>
<p><code>pTimings</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkLatencyTimingsFrameReportNV">VkLatencyTimingsFrameReportNV</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pTimings</code> is <code>NULL</code> then the maximum number of queryable frame data
is returned in <code>timingCount</code>.
Otherwise, <code>timingCount</code> <strong>must</strong> be set by the application to the number
of elements in the <code>pTimings</code> array, and on return the variable is
overwritten with the number of values actually written to <code>pTimings</code>.
The elements of <code>pTimings</code> are arranged in the order they were requested
in, with the oldest data in the first entry.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGetLatencyMarkerInfoNV-sType-sType" href="#VUID-VkGetLatencyMarkerInfoNV-sType-sType"></a> <span class="vuid">VUID-VkGetLatencyMarkerInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GET_LATENCY_MARKER_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGetLatencyMarkerInfoNV-pTimings-parameter" href="#VUID-VkGetLatencyMarkerInfoNV-pTimings-parameter"></a> <span class="vuid">VUID-VkGetLatencyMarkerInfoNV-pTimings-parameter</span><br>
 If <code>timingCount</code> is not <code>0</code>, and <code>pTimings</code> is not <code>NULL</code>, <code>pTimings</code> <strong>must</strong> be a valid pointer to an array of <code>timingCount</code> <a href="#VkLatencyTimingsFrameReportNV">VkLatencyTimingsFrameReportNV</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkLatencyTimingsFrameReportNV">VkLatencyTimingsFrameReportNV</a> structure describes latency data
returned by <a href="#vkGetLatencyTimingsNV">vkGetLatencyTimingsNV</a></p>
</div>
<div id="VkLatencyTimingsFrameReportNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkLatencyTimingsFrameReportNV {
    VkStructureType    sType;
    const void*        pNext;
    uint64_t           presentID;
    uint64_t           inputSampleTimeUs;
    uint64_t           simStartTimeUs;
    uint64_t           simEndTimeUs;
    uint64_t           renderSubmitStartTimeUs;
    uint64_t           renderSubmitEndTimeUs;
    uint64_t           presentStartTimeUs;
    uint64_t           presentEndTimeUs;
    uint64_t           driverStartTimeUs;
    uint64_t           driverEndTimeUs;
    uint64_t           osRenderQueueStartTimeUs;
    uint64_t           osRenderQueueEndTimeUs;
    uint64_t           gpuRenderStartTimeUs;
    uint64_t           gpuRenderEndTimeUs;
} VkLatencyTimingsFrameReportNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The members of the <a href="#VkLatencyTimingsFrameReportNV">VkLatencyTimingsFrameReportNV</a> structure describe
the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>presentID</code> is the application provided value that is used to
associate the timestamp with a <code>vkQueuePresentKHR</code> command using
<a href="#VkPresentIdKHR">VkPresentIdKHR</a>::<code>pPresentIds</code> for a given present.</p>
</li>
<li>
<p><code>simStartTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_SIMULATION_START_NV</code>.</p>
</li>
<li>
<p><code>simEndTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_SIMULATION_END_NV</code></p>
</li>
<li>
<p><code>renderStartTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_RENDERSUBMIT_START_NV</code>.</p>
</li>
<li>
<p><code>renderEndTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_RENDERSUBMIT_END_NV</code>.</p>
</li>
<li>
<p><code>presentStartTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_PRESENT_START_NV</code>.</p>
</li>
<li>
<p><code>presentEndTimeUs</code> is the timestamp written when
<code>vkSetLatencyMarkerNV</code> is called with the <code>VkLatencyMarkerNV</code>
enum <code>VK_LATENCY_MARKER_PRESENT_END_NV</code>.</p>
</li>
<li>
<p><code>driverStartTimeUs</code> is the timestamp written when the first
<code>vkQueueSubmit</code> for the frame is called.</p>
</li>
<li>
<p><code>driverEndTimeUs</code> is the timestamp written when the final
<code>vkQueueSubmit</code> hands off from the Vulkan Driver.</p>
</li>
<li>
<p><code>osRenderQueueStartTimeUs</code> is the timestamp written when the final
<code>vkQueueSubmit</code> hands off from the Vulkan Driver.</p>
</li>
<li>
<p><code>osRenderQueueEndTimeUs</code> is the timestamp written when the first
submission reaches the GPU.</p>
</li>
<li>
<p><code>gpuRenderStartTimeUs</code> is the timestamp written when the first
submission reaches the GPU.</p>
</li>
<li>
<p><code>gpuRenderEndTimeUs</code> is the timestamp written when the final
submission finishes on the GPU for the frame.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencyTimingsFrameReportNV-sType-sType" href="#VUID-VkLatencyTimingsFrameReportNV-sType-sType"></a> <span class="vuid">VUID-VkLatencyTimingsFrameReportNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_LATENCY_TIMINGS_FRAME_REPORT_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkLatencySubmissionPresentIdNV">VkLatencySubmissionPresentIdNV</a> structure is defined as:</p>
</div>
<div id="VkLatencySubmissionPresentIdNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkLatencySubmissionPresentIdNV {
    VkStructureType    sType;
    const void*        pNext;
    uint64_t           presentID;
} VkLatencySubmissionPresentIdNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentID</code> is used to associate the <code>vkQueueSubmit</code> with the
presentId used for a given <code>vkQueuePresentKHR</code> via
<a href="#VkPresentIdKHR">VkPresentIdKHR</a>::<code>pPresentIds</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For any submission to be tracked with low latency mode pacing, it needs to
be associated with other submissions in a given present.
To associate a submission with <code>presentID</code> for low latency mode, the
<code>pNext</code> chain of <a href="../cmdbuffers.html#vkQueueSubmit" class="xref page">vkQueueSubmit</a> <strong>must</strong> include a
<code>VkLatencySubmissionPresentIdNV</code> structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencySubmissionPresentIdNV-sType-sType" href="#VUID-VkLatencySubmissionPresentIdNV-sType-sType"></a> <span class="vuid">VUID-VkLatencySubmissionPresentIdNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_LATENCY_SUBMISSION_PRESENT_ID_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To mark a queue as <em>out of band</em>, so that all <code>vkQueueSubmit</code> calls on
the queue are ignored for latency evaluation, call:</p>
</div>
<div id="vkQueueNotifyOutOfBandNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
void vkQueueNotifyOutOfBandNV(
    VkQueue                                     queue,
    const VkOutOfBandQueueTypeInfoNV*           pQueueTypeInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is the VkQueue to be marked as out of band.</p>
</li>
<li>
<p><code>pQueueTypeInfo</code> is a pointer to a <a href="#VkOutOfBandQueueTypeInfoNV">VkOutOfBandQueueTypeInfoNV</a>
structure specifying the queue type.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueNotifyOutOfBandNV-queue-parameter" href="#VUID-vkQueueNotifyOutOfBandNV-queue-parameter"></a> <span class="vuid">VUID-vkQueueNotifyOutOfBandNV-queue-parameter</span><br>
 <code>queue</code> <strong>must</strong> be a valid <a href="../devsandqueues.html#VkQueue" class="xref page">VkQueue</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueueNotifyOutOfBandNV-pQueueTypeInfo-parameter" href="#VUID-vkQueueNotifyOutOfBandNV-pQueueTypeInfo-parameter"></a> <span class="vuid">VUID-vkQueueNotifyOutOfBandNV-pQueueTypeInfo-parameter</span><br>
 <code>pQueueTypeInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkOutOfBandQueueTypeInfoNV">VkOutOfBandQueueTypeInfoNV</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="../cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="../renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="../fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkOutOfBandQueueTypeInfoNV">VkOutOfBandQueueTypeInfoNV</a> structure is defined as:</p>
</div>
<div id="VkOutOfBandQueueTypeInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkOutOfBandQueueTypeInfoNV {
    VkStructureType           sType;
    const void*               pNext;
    VkOutOfBandQueueTypeNV    queueType;
} VkOutOfBandQueueTypeInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>queueType</code> describes the usage of the queue to be marked as out of
band.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkOutOfBandQueueTypeInfoNV-sType-sType" href="#VUID-VkOutOfBandQueueTypeInfoNV-sType-sType"></a> <span class="vuid">VUID-VkOutOfBandQueueTypeInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_OUT_OF_BAND_QUEUE_TYPE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkOutOfBandQueueTypeInfoNV-queueType-parameter" href="#VUID-VkOutOfBandQueueTypeInfoNV-queueType-parameter"></a> <span class="vuid">VUID-VkOutOfBandQueueTypeInfoNV-queueType-parameter</span><br>
 <code>queueType</code> <strong>must</strong> be a valid <a href="#VkOutOfBandQueueTypeNV">VkOutOfBandQueueTypeNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkOutOfBandQueueTypeNV">VkOutOfBandQueueTypeNV</a> enum is defined as:</p>
</div>
<div id="VkOutOfBandQueueTypeNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef enum VkOutOfBandQueueTypeNV {
    VK_OUT_OF_BAND_QUEUE_TYPE_RENDER_NV = 0,
    VK_OUT_OF_BAND_QUEUE_TYPE_PRESENT_NV = 1,
} VkOutOfBandQueueTypeNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The members of the <a href="#VkOutOfBandQueueTypeNV">VkOutOfBandQueueTypeNV</a> are used to describe the
queue type in <a href="#VkOutOfBandQueueTypeInfoNV">VkOutOfBandQueueTypeInfoNV</a> as described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_OUT_OF_BAND_QUEUE_TYPE_RENDER_NV</code> specifies that work will be
submitted to this queue.</p>
</li>
<li>
<p><code>VK_OUT_OF_BAND_QUEUE_TYPE_PRESENT_NV</code> specifies that this queue
will be presented from.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allow low latency mode to be used by a swapchain, add a
<code>VkSwapchainLatencyCreateInfoNV</code> structure to the <code>pNext</code> chain of
<a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSwapchainLatencyCreateInfoNV</code> structure is defined as:</p>
</div>
<div id="VkSwapchainLatencyCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkSwapchainLatencyCreateInfoNV {
    VkStructureType    sType;
    const void*        pNext;
    VkBool32           latencyModeEnable;
} VkSwapchainLatencyCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>latencyModeEnable</code> is <code>VK_TRUE</code> if the created swapchain will
utilize low latency mode, <code>VK_FALSE</code> otherwise.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainLatencyCreateInfoNV-sType-sType" href="#VUID-VkSwapchainLatencyCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkSwapchainLatencyCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_LATENCY_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkLatencySurfaceCapabilitiesNV</code> structure is defined as:</p>
</div>
<div id="VkLatencySurfaceCapabilitiesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_low_latency2
typedef struct VkLatencySurfaceCapabilitiesNV {
    VkStructureType      sType;
    const void*          pNext;
    uint32_t             presentModeCount;
    VkPresentModeKHR*    pPresentModes;
} VkLatencySurfaceCapabilitiesNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentModeCount</code> is the number of presentation modes provided.</p>
</li>
<li>
<p><code>pPresentModes</code> is list of presentation modes optimized for use with
low latency mode with <code>presentModeCount</code> entries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPresentModes</code> is <code>NULL</code>, then the number of present modes that are
optimized for use with low latency mode returned in <code>presentModeCount</code>.
Otherwise, <code>presentModeCount</code> <strong>must</strong> be set by the application to the
number of elements in the <code>pPresentModes</code> array, and on return the
variable is overwritten with the number of values actually written to
<code>pPresentModes</code>.
If the value of <code>presentModeCount</code> is less than the number of optimized
present modes, at most <code>presentModeCount</code> values will be written to
<code>pPresentModes</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkLatencySurfaceCapabilitiesNV-sType-sType" href="#VUID-VkLatencySurfaceCapabilitiesNV-sType-sType"></a> <span class="vuid">VUID-VkLatencySurfaceCapabilitiesNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_LATENCY_SURFACE_CAPABILITIES_NV</code></p>
</li>
<li>
<p><a id="VUID-VkLatencySurfaceCapabilitiesNV-pPresentModes-parameter" href="#VUID-VkLatencySurfaceCapabilitiesNV-pPresentModes-parameter"></a> <span class="vuid">VUID-VkLatencySurfaceCapabilitiesNV-pPresentModes-parameter</span><br>
 If <code>presentModeCount</code> is not <code>0</code>, and <code>pPresentModes</code> is not <code>NULL</code>, <code>pPresentModes</code> <strong>must</strong> be a valid pointer to an array of <code>presentModeCount</code> <a href="#VkPresentModeKHR">VkPresentModeKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="present-barrier"><a class="anchor" href="#present-barrier"></a>Present Barrier</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code><a href="../../appendices/extensions.html#VK_NV_present_barrier" class="xref page">VK_NV_present_barrier</a></code> extension allows applications to
synchronize corresponding presentation requests across multiple swapchains
using the <em>present barrier</em>.
A swapchain is said to be using the <em>present barrier</em> if the swapchain is
created by adding a <a href="#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure to
the <code>pNext</code> chain of the <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure, and
setting
<a href="#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a>::<code>presentBarrierEnable</code> to
true.</p>
</div>
<div class="paragraph">
<p>A set of corresponding presentation requests is defined as exactly one
queued presentation request associated with each swapchain using the present
barrier, whether or not that queued request has executed.
A given presentation request is added, when created by calling
<a href="#vkQueuePresentKHR">vkQueuePresentKHR</a> and specifying a swapchain using the present
barrier, either to the oldest existing set of corresponding requests for
which there is no existing member associated with the request&#8217;s swapchain,
or to a new set of corresponding requests if no such set exists.</p>
</div>
<div class="paragraph">
<p>A set of corresponding requests is said to be <em>full</em> when it contains one
request from each swapchain using the present barrier.
Queued presentation of an image to a swapchain using the <em>present barrier</em>
is <em>deferred</em> by the implementation until the set of corresponding requests
is full, and the visibility operations associated with all requests in that
set, as described by <a href="#vkQueuePresentKHR">vkQueuePresentKHR</a>, have completed.</p>
</div>
<div class="paragraph">
<p>Additionally, the set of swapchains using the present barrier can be in the
same process, or different processes running under the same operating
system.
And if the required synchronization hardware is connected and correctly
configured, this extension also supports applications to synchronize
corresponding presentation requests using the <em>present barrier</em> across
distributed systems.
However, the configuration mechanism of the required hardware is outside the
scope of the Vulkan specification and this extension.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkSwapchainPresentBarrierCreateInfoNV">VkSwapchainPresentBarrierCreateInfoNV</a> structure is defined as:</p>
</div>
<div id="VkSwapchainPresentBarrierCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_present_barrier
typedef struct VkSwapchainPresentBarrierCreateInfoNV {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           presentBarrierEnable;
} VkSwapchainPresentBarrierCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="../fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>presentBarrierEnable</code> is a boolean value indicating a request for
using the <em>present barrier</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does not include
this structure, the default value for <code>presentBarrierEnable</code> is
<code>VK_FALSE</code>, meaning the swapchain does not request to use the present
barrier.
Additionally, when recreating a swapchain that was using the present
barrier, and the <code>pNext</code> chain of <a href="#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> does
not include this structure, it means the swapchain will stop using the
present barrier.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType" href="#VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkSwapchainPresentBarrierCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_BARRIER_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <!--
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
    -->
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
