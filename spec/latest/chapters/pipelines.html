<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pipelines :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="pipelines.html">Pipelines</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Pipelines</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The following <a href="#pipelines-block-diagram">figure</a> shows a block diagram of
the Vulkan pipelines.
Some Vulkan commands specify geometric objects to be drawn or computational
work to be performed, while others specify state controlling how objects are
handled by the various pipeline stages, or control data transfer between
memory organized as images and buffers.
Commands are effectively sent through a processing pipeline, either a
<em>graphics pipeline</em>,
a <em>ray tracing pipeline</em>,
or a <em>compute pipeline</em>.</p>
</div>
<div class="paragraph">
<p>The graphics pipeline can be operated in two modes, as either <em>primitive
shading</em> or <em>mesh shading</em> pipeline.</p>
</div>
<div class="paragraph">
<p><strong>Primitive Shading</strong></p>
</div>
<div class="paragraph">
<p>The first stage of the <a href="#pipelines-graphics">graphics pipeline</a>
(<a href="drawing.html#drawing" class="xref page">Input Assembler</a>) assembles vertices to form geometric
primitives such as points, lines, and triangles, based on a requested
primitive topology.
In the next stage (<a href="shaders.html#shaders-vertex" class="xref page">Vertex Shader</a>) vertices <strong>can</strong> be
transformed, computing positions and attributes for each vertex.
If <a href="tessellation.html#tessellation" class="xref page">tessellation</a> and/or <a href="geometry.html#geometry" class="xref page">geometry</a> shaders are
supported, they <strong>can</strong> then generate multiple primitives from a single input
primitive, possibly changing the primitive topology or generating additional
attribute data in the process.</p>
</div>
<div class="paragraph">
<p><strong>Cluster Culling Shading</strong></p>
</div>
<div class="paragraph">
<p>When using the Cluster Culling Shader, a compute-like shader will perform
cluster-based culling, a set of new built-in output variables are used to
express visible cluster, in addition, a new built-in function is used to
emit these variables from the cluster culling shader to the Input
Assembler(IA) stage, then IA can use these variables to fetches vertices of
visible cluster and drive vertex shader to work.</p>
</div>
<div class="paragraph">
<p><strong>Mesh Shading</strong></p>
</div>
<div class="paragraph">
<p>When using the <a href="VK_NV_mesh_shader/mesh.html#mesh" class="xref page"><em>mesh shading</em></a> pipeline input primitives are not
assembled implicitly, but explicitly through the (<a href="shaders.html#shaders-mesh" class="xref page">Mesh Shader</a>).
The work on the mesh pipeline is initiated by the application
<a href="drawing.html#drawing-mesh-shading" class="xref page">drawing</a> a set of mesh tasks.</p>
</div>
<div class="paragraph">
<p>If an optional (<a href="shaders.html#shaders-task" class="xref page">Task Shader</a>) is active, each task triggers
the execution of a task shader workgroup that will generate a new set of
tasks upon completion.
Each of these spawned tasks, or each of the original dispatched tasks if no
task shader is present, triggers the execution of a mesh shader workgroup
that produces an output mesh with a variable-sized number of primitives
assembled from vertices stored in the output mesh.</p>
</div>
<div class="paragraph">
<p><strong>Common</strong></p>
</div>
<div class="paragraph">
<p>The final resulting primitives are <a href="vertexpostproc.html#vertexpostproc-clipping" class="xref page">clipped</a> to a
clip volume in preparation for the next stage, <a href="primsrast.html#primsrast" class="xref page">Rasterization</a>.
The rasterizer produces a series of <em>fragments</em> associated with a region of
the framebuffer, from a two-dimensional description of a point, line
segment, or triangle.
These fragments are processed by <a href="fragops.html#fragops" class="xref page">fragment operations</a> to
determine whether generated values will be written to the framebuffer.
<a href="fragops.html#fragops-shader" class="xref page">Fragment shading</a> determines the values to be written to
the framebuffer attachments.
Framebuffer operations then read and write the color and depth/stencil
attachments of the framebuffer for a given subpass of a <a href="renderpass.html#renderpass" class="xref page">render pass instance</a>.
The attachments <strong>can</strong> be used as input attachments in the fragment shader in
a later subpass of the same render pass.</p>
</div>
<div class="paragraph">
<p>The <a href="#pipelines-compute">compute pipeline</a> is a separate pipeline from the
graphics pipeline, which operates on one-, two-, or three-dimensional
workgroups which <strong>can</strong> read from and write to buffer and image memory.</p>
</div>
<div class="paragraph">
<p>This ordering is meant only as a tool for describing Vulkan, not as a strict
rule of how Vulkan is implemented, and we present it only as a means to
organize the various operations of the pipelines.
Actual ordering guarantees between pipeline stages are explained in detail
in the <a href="synchronization.html#synchronization-pipeline-stages-order" class="xref page">synchronization chapter</a>.</p>
</div>
<div id="pipelines-block-diagram" class="imageblock text-center">
<div class="content">
<img src="../_images/pipelinemesh.svg" alt="pipelinemesh">
</div>
<div class="title">Figure 1. Block diagram of the Vulkan pipeline</div>
</div>
<div class="paragraph">
<p>Each pipeline is controlled by a monolithic object created from a
description of all of the shader stages and any relevant fixed-function
stages.
<a href="interfaces.html#interfaces" class="xref page">Linking</a> the whole pipeline together allows the optimization
of shaders based on their input/outputs and eliminates expensive draw time
state validation.</p>
</div>
<div class="paragraph">
<p>A pipeline object is bound to the current state using
<a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>.
Any pipeline object state that is specified as <a href="#pipelines-dynamic-state">dynamic</a> is not applied to the current state when the pipeline object is
bound, but is instead set by dynamic state setting commands.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-commandBufferInheritance" class="xref page"><code>commandBufferInheritance</code></a>
feature is not enabled, then no
state, including dynamic state, is inherited from one command buffer to
another.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-commandBufferInheritance" class="xref page"><code>commandBufferInheritance</code></a>
feature is enabled, then all graphics and compute state that is valid at the
end of the command buffer executed in a queue is inherited and valid at
beginning of the command buffer next executed in the same queue.
This applies to both primary and secondary command buffers, where a primary
command buffer submitted to a queue will inherit state from the previously
submitted command buffer to that queue, secondary command buffers will
inherit state from the primary or seconard command buffer they are executed
in, and after a seconard command buffer is executed, its state inherited by
the primary or secondary command buffer that executed it.
Command buffers executed in one queue do not inherit state from any command
buffers executed in another queue.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Compute,
ray tracing,
and graphics pipelines are each represented by <code>VkPipeline</code> handles:</p>
</div>
<div id="VkPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipeline)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-multiple"><a class="anchor" href="#pipelines-multiple"></a>Multiple Pipeline Creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multiple pipelines <strong>can</strong> be created in a single call by commands such as
<a href="executiongraphs.html#vkCreateExecutionGraphPipelinesAMDX" class="xref page">vkCreateExecutionGraphPipelinesAMDX</a>,
<a href="#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a>,
<a href="#vkCreateRayTracingPipelinesNV">vkCreateRayTracingPipelinesNV</a>,
<a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>, and <a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>.</p>
</div>
<div class="paragraph">
<p>The creation commands are passed an array <code>pCreateInfos</code> of
<code>Vk*PipelineCreateInfo</code> structures specifying parameters of each
pipeline to be created, and return a corresponding array of handles in
<code>pPipelines</code>.
Each element index <em>i</em> of <code>pPipelines</code> is created based on the
corresponding element <em>i</em> of <code>pCreateInfos</code>.</p>
</div>
<div class="paragraph">
<p>Applications <strong>can</strong> group together similar pipelines to be created in a single
call, and implementations are encouraged to look for reuse opportunities
when creating a group.</p>
</div>
<div class="paragraph">
<p>When attempting to create many pipelines in a single command, it is possible
that creation <strong>may</strong> fail for a subset of them.
In this case, the corresponding elements of <code>pPipelines</code> will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.
If creation fails for a pipeline despite valid arguments (for example, due
to out of memory errors), the <a href="fundamentals.html#VkResult" class="xref page">VkResult</a> code returned by the pipeline
creation command will indicate why.
The implementation will attempt to create all pipelines, and only return
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> values for those that actually failed.</p>
</div>
<div class="paragraph">
<p>If creation fails for a pipeline that has the
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code> set in its
<code>Vk*PipelineCreateInfo</code>, pipelines at an index in the <code>pPipelines</code>
array greater than or equal to that of the failing pipeline will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>If creation fails for multiple pipelines, the returned <a href="fundamentals.html#VkResult" class="xref page">VkResult</a> <strong>must</strong>
be the return value of any one of the pipelines which did not succeed.
An application <strong>can</strong> reliably clean up from a failed call by iterating over
the <code>pPipelines</code> array and destroying every element that is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>If the entire command fails and no pipelines are created, all elements of
<code>pPipelines</code> will be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-compute"><a class="anchor" href="#pipelines-compute"></a>Compute Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Compute pipelines consist of a single static compute shader stage and the
pipeline layout.</p>
</div>
<div class="paragraph">
<p>The compute pipeline represents a compute shader and is created by calling
<code>vkCreateComputePipelines</code>
with <code>module</code> and <code>pName</code> selecting an entry point from a shader
module, where that entry point defines a valid compute shader, in the
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure contained within the
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create compute pipelines, call:</p>
</div>
<div id="vkCreateComputePipelines" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateComputePipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkComputePipelineCreateInfo*          pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the compute pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting compute pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-device-09661" href="#VUID-vkCreateComputePipelines-device-09661"></a> <span class="vuid">VUID-vkCreateComputePipelines-device-09661</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_COMPUTE_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00695" href="#VUID-vkCreateComputePipelines-flags-00695"></a> <span class="vuid">VUID-vkCreateComputePipelines-flags-00695</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00696" href="#VUID-vkCreateComputePipelines-flags-00696"></a> <span class="vuid">VUID-vkCreateComputePipelines-flags-00696</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-02873" href="#VUID-vkCreateComputePipelines-pipelineCache-02873"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-02873</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-pNext-09616" href="#VUID-vkCreateComputePipelines-pNext-09616"></a> <span class="vuid">VUID-vkCreateComputePipelines-pNext-09616</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>, <code>pipelineCache</code> <strong>must</strong> be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pNext-09617" href="#VUID-vkCreateComputePipelines-pNext-09617"></a> <span class="vuid">VUID-vkCreateComputePipelines-pNext-09617</span><br>

If a <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure with the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>pipelineCache</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-binaryCount-09620" href="#VUID-vkCreateComputePipelines-binaryCount-09620"></a> <span class="vuid">VUID-vkCreateComputePipelines-binaryCount-09620</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
<strong>must</strong> not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-binaryCount-09621" href="#VUID-vkCreateComputePipelines-binaryCount-09621"></a> <span class="vuid">VUID-vkCreateComputePipelines-binaryCount-09621</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-binaryCount-09622" href="#VUID-vkCreateComputePipelines-binaryCount-09622"></a> <span class="vuid">VUID-vkCreateComputePipelines-binaryCount-09622</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-device-parameter" href="#VUID-vkCreateComputePipelines-device-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parameter" href="#VUID-vkCreateComputePipelines-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pCreateInfos-parameter" href="#VUID-vkCreateComputePipelines-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pAllocator-parameter" href="#VUID-vkCreateComputePipelines-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pPipelines-parameter" href="#VUID-vkCreateComputePipelines-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-createInfoCount-arraylength" href="#VUID-vkCreateComputePipelines-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateComputePipelines-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parent" href="#VUID-vkCreateComputePipelines-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComputePipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkComputePipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkComputePipelineCreateInfo {
    VkStructureType                    sType;
    const void*                        pNext;
    VkPipelineCreateFlags              flags;
    VkPipelineShaderStageCreateInfo    stage;
    VkPipelineLayout                   layout;
    VkPipeline                         basePipelineHandle;
    int32_t                            basePipelineIndex;
} VkComputePipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure
describing the compute shader.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain includes a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code> from that structure
is used instead of <code>flags</code> from this structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-None-09497" href="#VUID-VkComputePipelineCreateInfo-None-09497"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-None-09497</span><br>


If the <code>pNext</code> chain does not include a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07984" href="#VUID-VkComputePipelineCreateInfo-flags-07984"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid compute <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07985" href="#VUID-VkComputePipelineCreateInfo-flags-07985"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07986" href="#VUID-VkComputePipelineCreateInfo-flags-07986"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07987" href="#VUID-VkComputePipelineCreateInfo-layout-07987"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-10069" href="#VUID-VkComputePipelineCreateInfo-layout-10069"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07988" href="#VUID-VkComputePipelineCreateInfo-layout-07988"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07990" href="#VUID-VkComputePipelineCreateInfo-layout-07990"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
and the descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07991" href="#VUID-VkComputePipelineCreateInfo-layout-07991"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03365" href="#VUID-VkComputePipelineCreateInfo-flags-03365"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03365</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03366" href="#VUID-VkComputePipelineCreateInfo-flags-03366"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03366</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03367" href="#VUID-VkComputePipelineCreateInfo-flags-03367"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03367</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03368" href="#VUID-VkComputePipelineCreateInfo-flags-03368"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03368</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03369" href="#VUID-VkComputePipelineCreateInfo-flags-03369"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03369</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03370" href="#VUID-VkComputePipelineCreateInfo-flags-03370"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03370</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-03576" href="#VUID-VkComputePipelineCreateInfo-flags-03576"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-03576</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-04945" href="#VUID-VkComputePipelineCreateInfo-flags-04945"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-04945</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-09007" href="#VUID-VkComputePipelineCreateInfo-flags-09007"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-09007</span><br>

If the <a href="features.html#features-deviceGeneratedComputePipelines" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</code>::<code>deviceGeneratedComputePipelines</code></a>
is not enabled,
<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-09008" href="#VUID-VkComputePipelineCreateInfo-flags-09008"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-09008</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code>, then the <code>pNext</code>
chain <strong>must</strong> include a pointer to a valid instance of
<a href="#VkComputePipelineIndirectBufferInfoNV">VkComputePipelineIndirectBufferInfoNV</a> specifying the address where
the pipeline&#8217;s metadata will be saved</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-11007" href="#VUID-VkComputePipelineCreateInfo-flags-11007"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-11007</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code>, then the
<a href="features.html#features-deviceGeneratedCommands" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875" href="#VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00701" href="#VUID-VkComputePipelineCreateInfo-stage-00701"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-00701</span><br>

The <code>stage</code> member of <code>stage</code> <strong>must</strong> be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00702" href="#VUID-VkComputePipelineCreateInfo-stage-00702"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-00702</span><br>

The shader code for the entry point identified by <code>stage</code> and the
rest of the state identified by this structure <strong>must</strong> adhere to the
pipeline linking rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-01687" href="#VUID-VkComputePipelineCreateInfo-layout-01687"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-01687</span><br>

The number of resources in <code>layout</code> accessible to the compute shader
stage <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-shaderEnqueue-09177" href="#VUID-VkComputePipelineCreateInfo-shaderEnqueue-09177"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-shaderEnqueue-09177</span><br>

If <a href="features.html#features-shaderEnqueue" class="xref page"><code>shaderEnqueue</code></a> is not enabled,
<code>flags</code> <strong>must</strong> not include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-09178" href="#VUID-VkComputePipelineCreateInfo-flags-09178"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-09178</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>, the shader specified by
<code>stage</code> <strong>must</strong> not declare the <code>ShaderEnqueueAMDX</code> capability</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566" href="#VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07367" href="#VUID-VkComputePipelineCreateInfo-flags-07367"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07367</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07996" href="#VUID-VkComputePipelineCreateInfo-flags-07996"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07996</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-sType-sType" href="#VUID-VkComputePipelineCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pNext-pNext" href="#VUID-VkComputePipelineCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkComputePipelineIndirectBufferInfoNV">VkComputePipelineIndirectBufferInfoNV</a>, <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>, <a href="#VkPipelineCompilerControlCreateInfoAMD">VkPipelineCompilerControlCreateInfoAMD</a>, <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>, <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>, <a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a>, or <a href="#VkSubpassShadingPipelineCreateInfoHUAWEI">VkSubpassShadingPipelineCreateInfoHUAWEI</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-sType-unique" href="#VUID-VkComputePipelineCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-parameter" href="#VUID-VkComputePipelineCreateInfo-stage-parameter"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-parameter</span><br>
 <code>stage</code> <strong>must</strong> be a valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-parameter" href="#VUID-VkComputePipelineCreateInfo-layout-parameter"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-commonparent" href="#VUID-VkComputePipelineCreateInfo-commonparent"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-commonparent</span><br>
 Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineShaderStageCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineShaderStageCreateInfo {
    VkStructureType                     sType;
    const void*                         pNext;
    VkPipelineShaderStageCreateFlags    flags;
    VkShaderStageFlagBits               stage;
    VkShaderModule                      module;
    const char*                         pName;
    const VkSpecializationInfo*         pSpecializationInfo;
} VkPipelineShaderStageCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>
specifying how the pipeline shader stage will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value specifying a single
pipeline stage.</p>
</li>
<li>
<p><code>module</code> is optionally a <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a> object containing the
shader code for this stage.</p>
</li>
<li>
<p><code>pName</code> is a pointer to a null-terminated UTF-8 string specifying
the entry point name of the shader for this stage.</p>
</li>
<li>
<p><code>pSpecializationInfo</code> is a pointer to a <a href="#VkSpecializationInfo">VkSpecializationInfo</a>
structure, as described in
<a href="#pipelines-specialization-constants">Specialization Constants</a>, or
<code>NULL</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>module</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the shader code used by the
pipeline is defined by <code>module</code>.
If <code>module</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the shader code is defined by the
chained <a href="shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a> if present.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-shaderModuleIdentifier" class="xref page"><code>shaderModuleIdentifier</code></a>
feature is enabled, applications <strong>can</strong> omit shader code for <code>stage</code> and
instead provide a module identifier.
This is done by including a
<a href="#VkPipelineShaderStageModuleIdentifierCreateInfoEXT">VkPipelineShaderStageModuleIdentifierCreateInfoEXT</a> struct with
<code>identifierSize</code> not equal to 0 in the <code>pNext</code> chain.
A shader stage created in this way is equivalent to one created using a
shader module with the same identifier.
The identifier allows an implementation to look up a pipeline without
consuming a valid SPIR-V module.
If a pipeline is not found, pipeline compilation is not possible and the
implementation <strong>must</strong> fail as specified by
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code>.</p>
</div>
<div class="paragraph">
<p>When an identifier is used in lieu of a shader module, implementations <strong>may</strong>
fail pipeline compilation with <code>VK_PIPELINE_COMPILE_REQUIRED</code> for any
reason.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The rationale for the relaxed requirement on implementations to return a
pipeline with <a href="#VkPipelineShaderStageModuleIdentifierCreateInfoEXT">VkPipelineShaderStageModuleIdentifierCreateInfoEXT</a> is
that layers or tools may intercept pipeline creation calls and require the
full SPIR-V context to operate correctly.
ICDs are not expected to fail pipeline compilation if the pipeline exists in
a cache somewhere.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applications <strong>can</strong> use identifiers when creating pipelines with
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>.
When creating such pipelines, <code>VK_SUCCESS</code> <strong>may</strong> be returned, but
subsequently fail when referencing the pipeline in a
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> struct.
Applications <strong>must</strong> allow pipeline compilation to fail during link steps with
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> as it <strong>may</strong>
not be possible to determine if a pipeline <strong>can</strong> be created from identifiers
until the link step.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00704" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00704"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00704</span><br>

If the <a href="features.html#features-geometryShader" class="xref page"><code>geometryShader</code></a> feature is not
enabled, <code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00705" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00705"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00705</span><br>

If the <a href="features.html#features-tessellationShader" class="xref page"><code>tessellationShader</code></a> feature
is not enabled, <code>stage</code> <strong>must</strong> not be
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02091" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02091"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02091</span><br>

If the <a href="features.html#features-meshShader" class="xref page"><code>meshShaders</code></a> feature is not
enabled, <code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02092" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02092"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02092</span><br>

If the <a href="features.html#features-taskShader" class="xref page"><code>taskShaders</code></a> feature is not
enabled, <code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_TASK_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-clustercullingShader-07813" href="#VUID-VkPipelineShaderStageCreateInfo-clustercullingShader-07813"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-clustercullingShader-07813</span><br>

If the <a href="features.html#features-clustercullingShader" class="xref page"><code>clustercullingShader</code></a>
feature is not enabled, <code>stage</code> <strong>must</strong> not be
<code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00706" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00706"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00706</span><br>

<code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_ALL_GRAPHICS</code>, or
<code>VK_SHADER_STAGE_ALL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-00707" href="#VUID-VkPipelineShaderStageCreateInfo-pName-00707"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pName-00707</span><br>

<code>pName</code> <strong>must</strong> be the name of an <code>OpEntryPoint</code> in <code>module</code>
with an execution model that matches <code>stage</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708" href="#VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration,
that variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709" href="#VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>CullDistance</code> <code>BuiltIn</code> decoration,
that variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710" href="#VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710</span><br>

If the identified entry point includes variables in its interface that
are declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration and
variables in its interface that are declared with the <code>CullDistance</code>
<code>BuiltIn</code> decoration, those variables <strong>must</strong> not have array sizes
which sum to more than
<code>VkPhysicalDeviceLimits</code>::<code>maxCombinedClipAndCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711" href="#VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>SampleMask</code> <code>BuiltIn</code> decoration, that
variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxSampleMaskWords</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00713" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00713"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00713</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified
entry point has an <code>OpExecutionMode</code> instruction specifying a patch
size with <code>OutputVertices</code>, the patch size <strong>must</strong> be greater than <code>0</code>
and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00714" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00714"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00714</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong>must</strong> have an <code>OpExecutionMode</code> instruction specifying a
maximum output vertex count that is greater than <code>0</code> and less than or
equal to <code>VkPhysicalDeviceLimits</code>::<code>maxGeometryOutputVertices</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00715" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00715"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00715</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong>must</strong> have an <code>OpExecutionMode</code> instruction specifying an
invocation count that is greater than <code>0</code> and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxGeometryShaderInvocations</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02596" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02596"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02596</span><br>

If <code>stage</code> is either <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point
writes to <code>Layer</code> for any primitive, it <strong>must</strong> write the same value to
<code>Layer</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02597" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02597"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02597</span><br>

If <code>stage</code> is either <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point
writes to <code>ViewportIndex</code> for any primitive, it <strong>must</strong> write the same
value to <code>ViewportIndex</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06685" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06685"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06685</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
entry point writes to <code>FragDepth</code> in any execution path, all
execution paths that are not exclusive to helper invocations <strong>must</strong>
either discard the fragment, or write or initialize the value of
<code>FragDepth</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06686" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06686"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06686</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
entry point writes to <code>FragStencilRefEXT</code> in any execution path, all
execution paths that are not exclusive to helper invocations <strong>must</strong>
either discard the fragment, or write or initialize the value of
<code>FragStencilRefEXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02784" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02784"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02784</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set, the <a href="features.html#features-subgroupSizeControl" class="xref page">    <code>subgroupSizeControl</code></a> feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02785" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02785"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02785</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set, the <a href="features.html#features-computeFullSubgroups" class="xref page"><code>computeFullSubgroups</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-08988" href="#VUID-VkPipelineShaderStageCreateInfo-flags-08988"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-08988</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>,
<code>stage</code> <strong>must</strong> be
one of <code>VK_SHADER_STAGE_MESH_BIT_EXT</code>,
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code>, or
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02754" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02754"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02754</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, <code>flags</code> <strong>must</strong> not have the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02755" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02755"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02755</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, the
<a href="features.html#features-subgroupSizeControl" class="xref page"><code>subgroupSizeControl</code></a> feature
<strong>must</strong> be enabled, and <code>stage</code> <strong>must</strong> be a valid bit specified in
<a href="devsandqueues.html#limits-requiredSubgroupSizeStages" class="xref page"><code>requiredSubgroupSizeStages</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02756" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02756"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02756</span><br>

    If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
    is included in the <code>pNext</code> chain and <code>stage</code> is
    <code>VK_SHADER_STAGE_COMPUTE_BIT</code>,
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, or <code>VK_SHADER_STAGE_TASK_BIT_EXT</code>,
    the local workgroup size of the shader <strong>must</strong> be less than or equal to
    the product of
    <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>::<code>requiredSubgroupSize</code>
    and <a href="devsandqueues.html#limits-maxComputeWorkgroupSubgroups" class="xref page">    <code>maxComputeWorkgroupSubgroups</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02757" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02757"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02757</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, and <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set, the local workgroup size in the X dimension of the pipeline <strong>must</strong>
be a multiple of
<a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>::<code>requiredSubgroupSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02758" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02758"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02758</span><br>

If <code>flags</code> has both the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> and
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flags set, the local workgroup size in the X dimension of the pipeline
<strong>must</strong> be a multiple of <a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02759" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02759"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02759</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set and <code>flags</code> does not have the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set and no
<a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure is
included in the <code>pNext</code> chain, the local workgroup size in the X
dimension of the pipeline <strong>must</strong> be a multiple of <a href="devsandqueues.html#limits-subgroupSize" class="xref page">    <code>subgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-module-08987" href="#VUID-VkPipelineShaderStageCreateInfo-module-08987"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-module-08987</span><br>

If <code>module</code> uses the <code>OpTypeCooperativeMatrixKHR</code> instruction
with a <code>Scope</code> equal to <code>Subgroup</code>, then the local workgroup size
in the X dimension of the pipeline <strong>must</strong> be a multiple of
<a href="devsandqueues.html#limits-subgroupSize" class="xref page"><code>subgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-module-10169" href="#VUID-VkPipelineShaderStageCreateInfo-module-10169"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-module-10169</span><br>

If <code>module</code> uses the <code>OpTypeCooperativeMatrixKHR</code> instruction
with a <code>Scope</code> equal to <code>Workgroup</code>, then the local workgroup size
in the X dimension of the pipeline <strong>must</strong> be a multiple of
<a href="devsandqueues.html#limits-subgroupSize" class="xref page"><code>subgroupSize</code></a> and the total local workgroup
size <strong>must</strong> be a power of two multiple of
<a href="devsandqueues.html#limits-subgroupSize" class="xref page"><code>subgroupSize</code></a> and <strong>must</strong> be less than or
equal to
<a href="limits.html#limits-cooperativeMatrixWorkgroupScopeMaxWorkgroupSize" class="xref page">cooperativeMatrixWorkgroupScopeMaxWorkgroupSize</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-08771" href="#VUID-VkPipelineShaderStageCreateInfo-stage-08771"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-08771</span><br>

If a shader module identifier is not specified for this <code>stage</code>,
<code>module</code> <strong>must</strong> be a valid <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a>
, or the <code>pNext</code> chain of the parent <code>Vk*CreateInfo</code> structure
<strong>must</strong> set <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> to a value
greater than <code>0</code>,
if none of the following features are enabled:</p>
<div class="ulist">
<ul>
<li>
<p><a href="features.html#features-graphicsPipelineLibrary" class="xref page"><code>graphicsPipelineLibrary</code></a></p>
</li>
<li>
<p><a href="features.html#features-maintenance5" class="xref page"><code>maintenance5</code></a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06845" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06845"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06845</span><br>

If a shader module identifier is not specified for this <code>stage</code>,
<code>module</code> <strong>must</strong> be a valid <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a>, or
there <strong>must</strong> be a valid <a href="shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a> structure in the
<code>pNext</code> chain
, or the <code>pNext</code> chain of the parent <code>Vk*CreateInfo</code> structure
<strong>must</strong> set <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> to a value
greater than <code>0</code>,</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06844" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06844"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06844</span><br>

If a shader module identifier is specified for this <code>stage</code>, the
<code>pNext</code> chain <strong>must</strong> not include a <a href="shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a>
structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06848" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06848"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06848</span><br>

If a shader module identifier is specified for this <code>stage</code>,
<code>module</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849" href="#VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849</span><br>

If a shader module identifier is not specified, the
shader code used by the pipeline <strong>must</strong> be valid as described by the
<a href="introduction.html#spirv-spec" class="xref page">Khronos SPIR-V Specification</a> after applying the
specializations provided in <code>pSpecializationInfo</code>, if any, and then
converting all specialization constants into fixed constants</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-sType-sType" href="#VUID-VkPipelineShaderStageCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-pNext" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="debugging.html#VkDebugUtilsObjectNameInfoEXT" class="xref page">VkDebugUtilsObjectNameInfoEXT</a>, <a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a>, <a href="#VkPipelineShaderStageModuleIdentifierCreateInfoEXT">VkPipelineShaderStageModuleIdentifierCreateInfoEXT</a>, <a href="executiongraphs.html#VkPipelineShaderStageNodeCreateInfoAMDX" class="xref page">VkPipelineShaderStageNodeCreateInfoAMDX</a>, <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>, <a href="shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a>, or <a href="shaders.html#VkShaderModuleValidationCacheCreateInfoEXT" class="xref page">VkShaderModuleValidationCacheCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-sType-unique" href="#VUID-VkPipelineShaderStageCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-stage-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-parameter</span><br>
 <code>stage</code> <strong>must</strong> be a valid <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-module-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-module-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-module-parameter</span><br>
 If <code>module</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>module</code> <strong>must</strong> be a valid <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pName-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pName-parameter</span><br>
 <code>pName</code> <strong>must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter</span><br>
 If <code>pSpecializationInfo</code> is not <code>NULL</code>, <code>pSpecializationInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkSpecializationInfo">VkSpecializationInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineShaderStageCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineShaderStageCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineShaderStageCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> specifying how a pipeline shader stage
is created, are:</p>
</div>
<div id="VkPipelineShaderStageCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineShaderStageCreateFlagBits {
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT = 0x00000001,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT = 0x00000002,
  // Provided by VK_EXT_subgroup_size_control
    VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT = VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT,
  // Provided by VK_EXT_subgroup_size_control
    VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT = VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT,
} VkPipelineShaderStageCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
specifies that the
<a href="interfaces.html#interfaces-builtin-variables-sgs" class="xref page"><code>SubgroupSize</code></a> <strong>may</strong> vary in the
shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>
    specifies that the subgroup sizes <strong>must</strong> be launched with all invocations
    active in the
task, mesh, or
    compute stage.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code>
and <code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code> are
specified and <a href="devsandqueues.html#limits-minSubgroupSize" class="xref page"><code>minSubgroupSize</code></a> does not
equal <a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a> and no
<a href="#pipelines-required-subgroup-size">required subgroup size</a> is specified,
then the only way to guarantee that the 'X' dimension of the local workgroup
size is a multiple of <a href="interfaces.html#interfaces-builtin-variables-sgs" class="xref page"><code>SubgroupSize</code></a> is to make it a multiple of <code>maxSubgroupSize</code>.
Under these conditions, you are guaranteed full subgroups but not any
particular subgroup size.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set by commands and structures, specifying one or more
shader stages, are:</p>
</div>
<div id="VkShaderStageFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkShaderStageFlagBits {
    VK_SHADER_STAGE_VERTEX_BIT = 0x00000001,
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT = 0x00000002,
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT = 0x00000004,
    VK_SHADER_STAGE_GEOMETRY_BIT = 0x00000008,
    VK_SHADER_STAGE_FRAGMENT_BIT = 0x00000010,
    VK_SHADER_STAGE_COMPUTE_BIT = 0x00000020,
    VK_SHADER_STAGE_ALL_GRAPHICS = 0x0000001F,
    VK_SHADER_STAGE_ALL = 0x7FFFFFFF,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_RAYGEN_BIT_KHR = 0x00000100,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_ANY_HIT_BIT_KHR = 0x00000200,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR = 0x00000400,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_MISS_BIT_KHR = 0x00000800,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_INTERSECTION_BIT_KHR = 0x00001000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_SHADER_STAGE_CALLABLE_BIT_KHR = 0x00002000,
  // Provided by VK_EXT_mesh_shader
    VK_SHADER_STAGE_TASK_BIT_EXT = 0x00000040,
  // Provided by VK_EXT_mesh_shader
    VK_SHADER_STAGE_MESH_BIT_EXT = 0x00000080,
  // Provided by VK_HUAWEI_subpass_shading
    VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI = 0x00004000,
  // Provided by VK_HUAWEI_cluster_culling_shader
    VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI = 0x00080000,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_RAYGEN_BIT_NV = VK_SHADER_STAGE_RAYGEN_BIT_KHR,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_ANY_HIT_BIT_NV = VK_SHADER_STAGE_ANY_HIT_BIT_KHR,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_CLOSEST_HIT_BIT_NV = VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_MISS_BIT_NV = VK_SHADER_STAGE_MISS_BIT_KHR,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_INTERSECTION_BIT_NV = VK_SHADER_STAGE_INTERSECTION_BIT_KHR,
  // Provided by VK_NV_ray_tracing
    VK_SHADER_STAGE_CALLABLE_BIT_NV = VK_SHADER_STAGE_CALLABLE_BIT_KHR,
  // Provided by VK_NV_mesh_shader
    VK_SHADER_STAGE_TASK_BIT_NV = VK_SHADER_STAGE_TASK_BIT_EXT,
  // Provided by VK_NV_mesh_shader
    VK_SHADER_STAGE_MESH_BIT_NV = VK_SHADER_STAGE_MESH_BIT_EXT,
} VkShaderStageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_VERTEX_BIT</code> specifies the vertex stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> specifies the
tessellation control stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> specifies the
tessellation evaluation stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_GEOMETRY_BIT</code> specifies the geometry stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_FRAGMENT_BIT</code> specifies the fragment stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code> specifies the compute stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> is a combination of bits used as
shorthand to specify all graphics stages defined above (excluding the
compute stage).</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL</code> is a combination of bits used as shorthand to
specify all shader stages supported by the device, including all
additional stages which are introduced by extensions.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TASK_BIT_EXT</code> specifies the task stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MESH_BIT_EXT</code> specifies the mesh stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code> specifies the cluster
culling stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code> specifies the ray generation stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code> specifies the any-hit stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code> specifies the closest hit
stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_KHR</code> specifies the miss stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code> specifies the intersection
stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code> specifies the callable stage.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> only includes the original five graphics
stages included in Vulkan 1.0, and not any stages added by extensions.
Thus, it may not have the desired effect in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderStageFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkShaderStageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderStageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</code> structure is
defined as:</p>
</div>
<div id="VkPipelineShaderStageRequiredSubgroupSizeCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineShaderStageRequiredSubgroupSizeCreateInfo {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           requiredSubgroupSize;
} VkPipelineShaderStageRequiredSubgroupSizeCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_subgroup_size_control
typedef VkPipelineShaderStageRequiredSubgroupSizeCreateInfo VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equiavlent</p>
</div>
<div id="VkShaderRequiredSubgroupSizeCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_shader_object
typedef VkPipelineShaderStageRequiredSubgroupSizeCreateInfo VkShaderRequiredSubgroupSizeCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><a id="pipelines-required-subgroup-size"></a> <code>requiredSubgroupSize</code> is an
unsigned integer value specifying the required subgroup size for the
newly created pipeline shader stage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</code> structure is
included in the <code>pNext</code> chain of <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>,
it specifies that the pipeline shader stage being compiled has a required
subgroup size.</p>
</div>
<div class="paragraph">
<p>If a <code>VkShaderRequiredSubgroupSizeCreateInfoEXT</code> structure is included
in the <code>pNext</code> chain of <a href="shaders.html#VkShaderCreateInfoEXT" class="xref page">VkShaderCreateInfoEXT</a>, it specifies that
the shader being compiled has a required subgroup size.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be a power-of-two integer</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be greater or equal to
<a href="devsandqueues.html#limits-minSubgroupSize" class="xref page"><code>minSubgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be less than or equal to
<a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_REQUIRED_SUBGROUP_SIZE_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A subpass shading pipeline is a compute pipeline which <strong>must</strong> be called only
in a subpass of a render pass with work dimensions specified by render area
size.
The subpass shading pipeline shader is a compute shader allowed to access
input attachments specified in the calling subpass.
To create a subpass shading pipeline, call <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>
with <a href="#VkSubpassShadingPipelineCreateInfoHUAWEI">VkSubpassShadingPipelineCreateInfoHUAWEI</a> in the <code>pNext</code> chain
of <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSubpassShadingPipelineCreateInfoHUAWEI</code> structure is defined as:</p>
</div>
<div id="VkSubpassShadingPipelineCreateInfoHUAWEI" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_HUAWEI_subpass_shading
typedef struct VkSubpassShadingPipelineCreateInfoHUAWEI {
    VkStructureType    sType;
    void*              pNext;
    VkRenderPass       renderPass;
    uint32_t           subpass;
} VkSubpassShadingPipelineCreateInfoHUAWEI;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass object describing the
environment in which the pipeline will be used.
The pipeline <strong>must</strong> only be used with a render pass instance compatible
with the one provided.
See <a href="renderpass.html#renderpass-compatibility" class="xref page">Render Pass Compatibility</a> for more
information.</p>
</li>
<li>
<p><code>subpass</code> is the index of the subpass in the render pass where this
pipeline will be used.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-subpass-04946" href="#VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-subpass-04946"></a> <span class="vuid">VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-subpass-04946</span><br>

<code>subpass</code> <strong>must</strong> be created with
<code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code> bind point</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-sType-sType" href="#VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-sType-sType"></a> <span class="vuid">VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SUBPASS_SHADING_PIPELINE_CREATE_INFO_HUAWEI</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-renderPass-parameter" href="#VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-renderPass-parameter"></a> <span class="vuid">VUID-VkSubpassShadingPipelineCreateInfoHUAWEI-renderPass-parameter</span><br>
 <code>renderPass</code> <strong>must</strong> be a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A subpass shading pipeline&#8217;s workgroup size is a 2D vector with number of
power-of-two in width and height.
The maximum number of width and height is implementation-dependent, and <strong>may</strong>
vary for different formats and sample counts of attachments in a render
pass.</p>
</div>
<div class="paragraph">
<p>To query the maximum workgroup size, call:</p>
</div>
<div id="vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_HUAWEI_subpass_shading
VkResult vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI(
    VkDevice                                    device,
    VkRenderPass                                renderpass,
    VkExtent2D*                                 pMaxWorkgroupSize);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is a handle to a local device object that was used to
create the given render pass.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass object describing the
environment in which the pipeline will be used.
The pipeline <strong>must</strong> only be used with a render pass instance compatible
with the one provided.
See <a href="renderpass.html#renderpass-compatibility" class="xref page">Render Pass Compatibility</a> for more
information.</p>
</li>
<li>
<p><code>pMaxWorkgroupSize</code> is a pointer to a <a href="fundamentals.html#VkExtent2D" class="xref page">VkExtent2D</a> structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-device-parameter" href="#VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-device-parameter"></a> <span class="vuid">VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parameter" href="#VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parameter"></a> <span class="vuid">VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parameter</span><br>
 <code>renderpass</code> <strong>must</strong> be a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-pMaxWorkgroupSize-parameter" href="#VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-pMaxWorkgroupSize-parameter"></a> <span class="vuid">VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-pMaxWorkgroupSize-parameter</span><br>
 <code>pMaxWorkgroupSize</code> <strong>must</strong> be a valid pointer to <a href="fundamentals.html#VkExtent2D" class="xref page">VkExtent2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parent" href="#VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parent"></a> <span class="vuid">VUID-vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI-renderpass-parent</span><br>
 <code>renderpass</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineRobustnessCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkPipelineRobustnessCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_robustness
typedef struct VkPipelineRobustnessCreateInfoEXT {
    VkStructureType                          sType;
    const void*                              pNext;
    VkPipelineRobustnessBufferBehaviorEXT    storageBuffers;
    VkPipelineRobustnessBufferBehaviorEXT    uniformBuffers;
    VkPipelineRobustnessBufferBehaviorEXT    vertexInputs;
    VkPipelineRobustnessImageBehaviorEXT     images;
} VkPipelineRobustnessCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>storageBuffers</code> sets the behavior of out of bounds accesses made to
resources bound as:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>uniformBuffers</code> describes the behavior of out of bounds accesses
made to resources bound as:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>vertexInputs</code> describes the behavior of out of bounds accesses made
to vertex input attributes</p>
</li>
<li>
<p><code>images</code> describes the behavior of out of bounds accesses made to
resources bound as:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resources bound as <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> will have the
robustness behavior that covers its active descriptor type.</p>
</div>
<div class="paragraph">
<p>The scope of the effect of <code>VkPipelineRobustnessCreateInfoEXT</code> depends
on which structure&#8217;s <code>pNext</code> chain it is included in.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkGraphicsPipelineCreateInfo</code>,
<code>VkRayTracingPipelineCreateInfoKHR</code>,
    <code>VkComputePipelineCreateInfo</code>:<br>
    The robustness behavior described by
    <code>VkPipelineRobustnessCreateInfoEXT</code> applies to all accesses through
    this pipeline</p>
</li>
<li>
<p><code>VkPipelineShaderStageCreateInfo</code>:<br>
The robustness behavior described by
<code>VkPipelineRobustnessCreateInfoEXT</code> applies to all accesses
emanating from the shader code of this shader stage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>VkPipelineRobustnessCreateInfoEXT</code> is specified for both a pipeline
and a pipeline stage, the <code>VkPipelineRobustnessCreateInfoEXT</code> specified
for the pipeline stage will take precedence.</p>
</div>
<div class="paragraph">
<p>When <code>VkPipelineRobustnessCreateInfoEXT</code> is specified for a pipeline, it
only affects the subset of the pipeline that is specified by the create
info, as opposed to subsets linked from pipeline libraries.
For <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, that subset is specified by
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code>.
For <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>, that subset is specified by the
specific stages in <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06926" href="#VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06926"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06926</span><br>

If the <a href="features.html#features-pipelineRobustness" class="xref page"><code>pipelineRobustness</code></a> feature
is not enabled, <code>storageBuffers</code> <strong>must</strong> be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DEVICE_DEFAULT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06927" href="#VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06927"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06927</span><br>

If the <a href="features.html#features-pipelineRobustness" class="xref page"><code>pipelineRobustness</code></a> feature
is not enabled, <code>uniformBuffers</code> <strong>must</strong> be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DEVICE_DEFAULT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06928" href="#VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06928"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06928</span><br>

If the <a href="features.html#features-pipelineRobustness" class="xref page"><code>pipelineRobustness</code></a> feature
is not enabled, <code>vertexInputs</code> <strong>must</strong> be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DEVICE_DEFAULT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06929" href="#VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06929"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-pipelineRobustness-06929</span><br>

If the <a href="features.html#features-pipelineRobustness" class="xref page"><code>pipelineRobustness</code></a> feature
is not enabled, <code>images</code> <strong>must</strong> be
<code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_DEVICE_DEFAULT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess-06930" href="#VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess-06930"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess-06930</span><br>

If the <a href="features.html#features-robustImageAccess" class="xref page"><code>robustImageAccess</code></a> feature
is not supported, <code>images</code> <strong>must</strong> not be
<code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06931" href="#VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06931"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06931</span><br>

If the <a href="features.html#features-robustBufferAccess2" class="xref page"><code>robustBufferAccess2</code></a>
feature is not supported, <code>storageBuffers</code> <strong>must</strong> not be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06932" href="#VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06932"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06932</span><br>

If the <a href="features.html#features-robustBufferAccess2" class="xref page"><code>robustBufferAccess2</code></a>
feature is not supported, <code>uniformBuffers</code> <strong>must</strong> not be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06933" href="#VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06933"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-robustBufferAccess2-06933</span><br>

If the <a href="features.html#features-robustBufferAccess2" class="xref page"><code>robustBufferAccess2</code></a>
feature is not supported, <code>vertexInputs</code> <strong>must</strong> not be
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess2-06934" href="#VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess2-06934"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-robustImageAccess2-06934</span><br>

If the <a href="features.html#features-robustImageAccess2" class="xref page"><code>robustImageAccess2</code></a> feature
is not supported, <code>images</code> <strong>must</strong> not be
<code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_2_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-sType-sType" href="#VUID-VkPipelineRobustnessCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_ROBUSTNESS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-storageBuffers-parameter" href="#VUID-VkPipelineRobustnessCreateInfoEXT-storageBuffers-parameter"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-storageBuffers-parameter</span><br>
 <code>storageBuffers</code> <strong>must</strong> be a valid <a href="#VkPipelineRobustnessBufferBehaviorEXT">VkPipelineRobustnessBufferBehaviorEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-uniformBuffers-parameter" href="#VUID-VkPipelineRobustnessCreateInfoEXT-uniformBuffers-parameter"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-uniformBuffers-parameter</span><br>
 <code>uniformBuffers</code> <strong>must</strong> be a valid <a href="#VkPipelineRobustnessBufferBehaviorEXT">VkPipelineRobustnessBufferBehaviorEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-vertexInputs-parameter" href="#VUID-VkPipelineRobustnessCreateInfoEXT-vertexInputs-parameter"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-vertexInputs-parameter</span><br>
 <code>vertexInputs</code> <strong>must</strong> be a valid <a href="#VkPipelineRobustnessBufferBehaviorEXT">VkPipelineRobustnessBufferBehaviorEXT</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineRobustnessCreateInfoEXT-images-parameter" href="#VUID-VkPipelineRobustnessCreateInfoEXT-images-parameter"></a> <span class="vuid">VUID-VkPipelineRobustnessCreateInfoEXT-images-parameter</span><br>
 <code>images</code> <strong>must</strong> be a valid <a href="#VkPipelineRobustnessImageBehaviorEXT">VkPipelineRobustnessImageBehaviorEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>storageBuffers</code>, <code>uniformBuffers</code>, and
<code>vertexInputs</code> members of <a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a> are:</p>
</div>
<div id="VkPipelineRobustnessBufferBehaviorEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_robustness
typedef enum VkPipelineRobustnessBufferBehaviorEXT {
    VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DEVICE_DEFAULT_EXT = 0,
    VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DISABLED_EXT = 1,
    VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_EXT = 2,
    VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2_EXT = 3,
} VkPipelineRobustnessBufferBehaviorEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DEVICE_DEFAULT_EXT</code>
specifies that this pipeline stage follows the behavior of robustness
features that are enabled on the device that created this pipeline</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_DISABLED_EXT</code> specifies that
buffer accesses by this pipeline stage to the relevant resource types
<strong>must</strong> not be out of bounds</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_EXT</code>
specifies that out of bounds accesses by this pipeline stage to the
relevant resource types behave as if the <a href="features.html#features-robustBufferAccess" class="xref page">    <code>robustBufferAccess</code></a> feature is enabled</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2_EXT</code>
specifies that out of bounds accesses by this pipeline stage to the
relevant resource types behave as if the <a href="features.html#features-robustBufferAccess2" class="xref page">    <code>robustBufferAccess2</code></a> feature is enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>images</code> member of
<a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a> are:</p>
</div>
<div id="VkPipelineRobustnessImageBehaviorEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_robustness
typedef enum VkPipelineRobustnessImageBehaviorEXT {
    VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_DEVICE_DEFAULT_EXT = 0,
    VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_DISABLED_EXT = 1,
    VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_EXT = 2,
    VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_2_EXT = 3,
} VkPipelineRobustnessImageBehaviorEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_DEVICE_DEFAULT_EXT</code> specifies
that this pipeline stage follows the behavior of robustness features
that are enabled on the device that created this pipeline</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_DISABLED_EXT</code> specifies that
image accesses by this pipeline stage to the relevant resource types
<strong>must</strong> not be out of bounds</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_EXT</code>
specifies that out of bounds accesses by this pipeline stage to images
behave as if the <a href="features.html#features-robustImageAccess" class="xref page"><code>robustImageAccess</code></a>
feature is enabled</p>
</li>
<li>
<p><code>VK_PIPELINE_ROBUSTNESS_IMAGE_BEHAVIOR_ROBUST_IMAGE_ACCESS_2_EXT</code>
specifies that out of bounds accesses by this pipeline stage to images
behave as if the <a href="features.html#features-robustImageAccess2" class="xref page">    <code>robustImageAccess2</code></a> feature is enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An identifier <strong>can</strong> be provided instead of shader code in an attempt to
compile pipelines without providing complete SPIR-V to the implementation.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineShaderStageModuleIdentifierCreateInfoEXT</code> structure is
defined as:</p>
</div>
<div id="VkPipelineShaderStageModuleIdentifierCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_shader_module_identifier
typedef struct VkPipelineShaderStageModuleIdentifierCreateInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           identifierSize;
    const uint8_t*     pIdentifier;
} VkPipelineShaderStageModuleIdentifierCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>identifierSize</code> is the size, in bytes, of the buffer pointed to by
<code>pIdentifier</code>.</p>
</li>
<li>
<p><code>pIdentifier</code> is a pointer to a buffer of opaque data specifying an
identifier.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any identifier <strong>can</strong> be used.
If the pipeline being created with identifier requires compilation to
complete the pipeline creation call, pipeline compilation <strong>must</strong> fail as
defined by <code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code>.</p>
</div>
<div class="paragraph">
<p><code>pIdentifier</code> and <code>identifierSize</code> <strong>can</strong> be obtained from an
<a href="shaders.html#VkShaderModuleIdentifierEXT" class="xref page">VkShaderModuleIdentifierEXT</a> queried earlier.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06850" href="#VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06850"></a> <span class="vuid">VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06850</span><br>

If this structure is included in a <code>pNext</code> chain and
<code>identifierSize</code> is not equal to 0, the
<a href="features.html#features-shaderModuleIdentifier" class="xref page"><code>shaderModuleIdentifier</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06851" href="#VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06851"></a> <span class="vuid">VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pNext-06851</span><br>

If this struct is included in a <code>pNext</code> chain of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> and <code>identifierSize</code> is not
equal to 0, the pipeline <strong>must</strong> be created with the
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-identifierSize-06852" href="#VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-identifierSize-06852"></a> <span class="vuid">VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-identifierSize-06852</span><br>

<code>identifierSize</code> <strong>must</strong> be less-or-equal to
<code>VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-sType-sType" href="#VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_MODULE_IDENTIFIER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pIdentifier-parameter" href="#VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pIdentifier-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageModuleIdentifierCreateInfoEXT-pIdentifier-parameter</span><br>
 If <code>identifierSize</code> is not <code>0</code>, <code>pIdentifier</code> <strong>must</strong> be a valid pointer to an array of <code>identifierSize</code> <code>uint8_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If a compute pipeline is going to be used in <a href="device_generated_commands/generatedcommands.html#device-generated-commands" class="xref page">Device-Generated Commands</a> by specifying its pipeline token with
<a href="device_generated_commands/generatedcommands.html#VkBindPipelineIndirectCommandNV" class="xref page">VkBindPipelineIndirectCommandNV</a>, then that pipeline&#8217;s associated
metadata <strong>must</strong> be saved at a specified buffer device address for later use
in indirect command generation.
The buffer device address <strong>must</strong> be specified at the time of compute pipeline
creation with <a href="#VkComputePipelineIndirectBufferInfoNV">VkComputePipelineIndirectBufferInfoNV</a> structure in the
<code>pNext</code> chain of <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComputePipelineIndirectBufferInfoNV</code> structure is defined as:</p>
</div>
<div id="VkComputePipelineIndirectBufferInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_device_generated_commands_compute
typedef struct VkComputePipelineIndirectBufferInfoNV {
    VkStructureType    sType;
    const void*        pNext;
    VkDeviceAddress    deviceAddress;
    VkDeviceSize       size;
    VkDeviceAddress    pipelineDeviceAddressCaptureReplay;
} VkComputePipelineIndirectBufferInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>deviceAddress</code> is the address where the pipeline&#8217;s metadata will be
stored.</p>
</li>
<li>
<p><code>size</code> is the size of pipeline&#8217;s metadata that was queried using
<a href="device_generated_commands/generatedcommands.html#vkGetPipelineIndirectMemoryRequirementsNV" class="xref page">vkGetPipelineIndirectMemoryRequirementsNV</a>.</p>
</li>
<li>
<p><code>pipelineDeviceAddressCaptureReplay</code> is the device address where
pipeline&#8217;s metadata was originally saved and can now be used to
re-populate <code>deviceAddress</code> for replay.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pipelineDeviceAddressCaptureReplay</code> is zero, no specific address is
requested.
If <code>pipelineDeviceAddressCaptureReplay</code> is not zero, then it <strong>must</strong> be an
address retrieved from an identically created pipeline on the same
implementation.
The pipeline metadata <strong>must</strong> also be placed on an identically created buffer
and at the same offset using the <a href="#vkCmdUpdatePipelineIndirectBufferNV">vkCmdUpdatePipelineIndirectBufferNV</a>
command.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-deviceGeneratedComputePipelines-09009" href="#VUID-VkComputePipelineIndirectBufferInfoNV-deviceGeneratedComputePipelines-09009"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-deviceGeneratedComputePipelines-09009</span><br>

The <a href="features.html#features-deviceGeneratedComputePipelines" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</code>::<code>deviceGeneratedComputePipelines</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-flags-09010" href="#VUID-VkComputePipelineIndirectBufferInfoNV-flags-09010"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-flags-09010</span><br>

The pipeline creation flags in
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>::<code>flags</code> <strong>must</strong> include
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09011" href="#VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09011"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09011</span><br>

<code>deviceAddress</code> <strong>must</strong> be aligned to the
<a href="resources.html#VkMemoryRequirements2" class="xref page">VkMemoryRequirements2</a>::<code>alignment</code>, as returned by
<a href="device_generated_commands/generatedcommands.html#vkGetPipelineIndirectMemoryRequirementsNV" class="xref page">vkGetPipelineIndirectMemoryRequirementsNV</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09012" href="#VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09012"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-deviceAddress-09012</span><br>

<code>deviceAddress</code> <strong>must</strong> have been allocated from a buffer that was
created with usage <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> and
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-size-09013" href="#VUID-VkComputePipelineIndirectBufferInfoNV-size-09013"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-size-09013</span><br>

<code>size</code> <strong>must</strong> be greater than or equal to the
<a href="resources.html#VkMemoryRequirements2" class="xref page">VkMemoryRequirements2</a>::<code>size</code>, as returned by
<a href="device_generated_commands/generatedcommands.html#vkGetPipelineIndirectMemoryRequirementsNV" class="xref page">vkGetPipelineIndirectMemoryRequirementsNV</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09014" href="#VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09014"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09014</span><br>

If <code>pipelineDeviceAddressCaptureReplay</code> is non-zero then the
<a href="features.html#features-deviceGeneratedComputePipelines" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</code>::<code>deviceGeneratedComputeCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09015" href="#VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09015"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09015</span><br>

If <code>pipelineDeviceAddressCaptureReplay</code> is non-zero then that
address <strong>must</strong> have been allocated with flag
<code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09016" href="#VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09016"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09016</span><br>

If <code>pipelineDeviceAddressCaptureReplay</code> is non-zero, the
<code>pipeline</code> <strong>must</strong> have been recreated for replay</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09017" href="#VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09017"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-pipelineDeviceAddressCaptureReplay-09017</span><br>

<code>pipelineDeviceAddressCaptureReplay</code> <strong>must</strong> satisfy the
<code>alignment</code> and <code>size</code> requirements similar to
<code>deviceAddress</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineIndirectBufferInfoNV-sType-sType" href="#VUID-VkComputePipelineIndirectBufferInfoNV-sType-sType"></a> <span class="vuid">VUID-VkComputePipelineIndirectBufferInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_INDIRECT_BUFFER_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To save a compute pipeline&#8217;s metadata at a device address call:</p>
</div>
<div id="vkCmdUpdatePipelineIndirectBufferNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_device_generated_commands_compute
void vkCmdUpdatePipelineIndirectBufferNV(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
the type of pipeline whose metadata will be saved.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline whose metadata will be saved.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdUpdatePipelineIndirectBufferNV</code> is only allowed outside of a
render pass.
This command is treated as a &#8220;transfer&#8221; operation for the purposes of
synchronization barriers.
The writes to the address <strong>must</strong> be synchronized using stages
<code>VK_PIPELINE_STAGE_2_COPY_BIT</code> and
<code>VK_PIPELINE_STAGE_COMMAND_PREPROCESS_BIT_NV</code> and with access masks
<code>VK_ACCESS_MEMORY_WRITE_BIT</code> and
<code>VK_ACCESS_COMMAND_PREPROCESS_READ_BIT_NV</code> respectively before using the
results in preprocessing.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-09018" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-09018"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-09018</span><br>

<code>pipelineBindPoint</code> <strong>must</strong> be <code>VK_PIPELINE_BIND_POINT_COMPUTE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09019" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09019"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09019</span><br>

<code>pipeline</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09020" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09020"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-09020</span><br>

<code>pipeline</code> <strong>must</strong> have been created with
<a href="#VkComputePipelineIndirectBufferInfoNV">VkComputePipelineIndirectBufferInfoNV</a> structure specifying a valid
address where its metadata will be saved</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-deviceGeneratedComputePipelines-09021" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-deviceGeneratedComputePipelines-09021"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-deviceGeneratedComputePipelines-09021</span><br>

The <a href="features.html#features-deviceGeneratedComputePipelines" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</code>::<code>deviceGeneratedComputePipelines</code></a>
feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-parameter" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-parameter" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-parameter" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-parameter"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-recording" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-cmdpool" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-renderpass" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-renderpass"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-videocoding" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-videocoding"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdatePipelineIndirectBufferNV-commonparent" href="#VUID-vkCmdUpdatePipelineIndirectBufferNV-commonparent"></a> <span class="vuid">VUID-vkCmdUpdatePipelineIndirectBufferNV-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-graphics"><a class="anchor" href="#pipelines-graphics"></a>Graphics Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Graphics pipelines consist of multiple shader stages, multiple
fixed-function pipeline stages, and a pipeline layout.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create graphics pipelines, call:</p>
</div>
<div id="vkCreateGraphicsPipelines" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateGraphicsPipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkGraphicsPipelineCreateInfo*         pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the graphics pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting graphics pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structure includes an array of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures for each of the desired
active shader stages, as well as creation information for all relevant
fixed-function stages, and a pipeline layout.</p>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-device-09662" href="#VUID-vkCreateGraphicsPipelines-device-09662"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-device-09662</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_GRAPHICS_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00720" href="#VUID-vkCreateGraphicsPipelines-flags-00720"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-flags-00720</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00721" href="#VUID-vkCreateGraphicsPipelines-flags-00721"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-flags-00721</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-02876" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-02876"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-02876</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pNext-09616" href="#VUID-vkCreateGraphicsPipelines-pNext-09616"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pNext-09616</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>, <code>pipelineCache</code> <strong>must</strong> be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pNext-09617" href="#VUID-vkCreateGraphicsPipelines-pNext-09617"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pNext-09617</span><br>

If a <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure with the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>pipelineCache</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-binaryCount-09620" href="#VUID-vkCreateGraphicsPipelines-binaryCount-09620"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-binaryCount-09620</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
<strong>must</strong> not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-binaryCount-09621" href="#VUID-vkCreateGraphicsPipelines-binaryCount-09621"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-binaryCount-09621</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-binaryCount-09622" href="#VUID-vkCreateGraphicsPipelines-binaryCount-09622"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-binaryCount-09622</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>An implicit cache may be provided by the implementation or a layer.
For this reason, it is still valid to set
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> on
<code>flags</code> for any element of <code>pCreateInfos</code> while passing
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> for <code>pipelineCache</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-device-parameter" href="#VUID-vkCreateGraphicsPipelines-device-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parameter" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter" href="#VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pAllocator-parameter" href="#VUID-vkCreateGraphicsPipelines-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pPipelines-parameter" href="#VUID-vkCreateGraphicsPipelines-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength" href="#VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parent" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsPipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkGraphicsPipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkGraphicsPipelineCreateInfo {
    VkStructureType                                  sType;
    const void*                                      pNext;
    VkPipelineCreateFlags                            flags;
    uint32_t                                         stageCount;
    const VkPipelineShaderStageCreateInfo*           pStages;
    const VkPipelineVertexInputStateCreateInfo*      pVertexInputState;
    const VkPipelineInputAssemblyStateCreateInfo*    pInputAssemblyState;
    const VkPipelineTessellationStateCreateInfo*     pTessellationState;
    const VkPipelineViewportStateCreateInfo*         pViewportState;
    const VkPipelineRasterizationStateCreateInfo*    pRasterizationState;
    const VkPipelineMultisampleStateCreateInfo*      pMultisampleState;
    const VkPipelineDepthStencilStateCreateInfo*     pDepthStencilState;
    const VkPipelineColorBlendStateCreateInfo*       pColorBlendState;
    const VkPipelineDynamicStateCreateInfo*          pDynamicState;
    VkPipelineLayout                                 layout;
    VkRenderPass                                     renderPass;
    uint32_t                                         subpass;
    VkPipeline                                       basePipelineHandle;
    int32_t                                          basePipelineIndex;
} VkGraphicsPipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <code>stageCount</code>
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures describing the set of
the shader stages to be included in the graphics pipeline.</p>
</li>
<li>
<p><code>pVertexInputState</code> is a pointer to a
<a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a> structure.
It is ignored if the pipeline includes a mesh shader stage.
It <strong>can</strong> be <code>NULL</code> if the pipeline is created with the
<code>VK_DYNAMIC_STATE_VERTEX_INPUT_EXT</code> dynamic state set.</p>
</li>
<li>
<p><code>pInputAssemblyState</code> is a pointer to a
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure which determines
input assembly behavior for vertex shading, as described in <a href="drawing.html#drawing" class="xref page">    Drawing Commands</a>.
<a id="pipelines-pInputAssemblyState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with both
<code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code>, and
<code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> dynamic states set and
<a href="limits.html#limits-dynamicPrimitiveTopologyUnrestricted" class="xref page">    <code>dynamicPrimitiveTopologyUnrestricted</code></a> is <code>VK_TRUE</code>.
It is ignored if the pipeline includes a mesh shader stage.</p>
</li>
<li>
<p><code>pTessellationState</code> is a pointer to a
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure defining
tessellation state used by tessellation shaders.
It <strong>can</strong> be <code>NULL</code> if the pipeline is created with the
<code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code> dynamic state set.</p>
</li>
<li>
<p><code>pViewportState</code> is a pointer to a
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> structure defining viewport
state used when rasterization is enabled.
<a id="pipelines-pViewportState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with both
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> dynamic states set.</p>
</li>
<li>
<p><code>pRasterizationState</code> is a pointer to a
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure defining
rasterization state.
<a id="pipelines-pRasterizationState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with all of
<code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code>,
<code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code>,
<code>VK_DYNAMIC_STATE_CULL_MODE</code>, <code>VK_DYNAMIC_STATE_FRONT_FACE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and <code>VK_DYNAMIC_STATE_LINE_WIDTH</code>
dynamic states set.</p>
</li>
<li>
<p><code>pMultisampleState</code> is a pointer to a
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure defining
multisample state used when rasterization is enabled.
<a id="pipelines-pMultisampleState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with all of
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code>,
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code>, and
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic states set,
and either <a href="features.html#features-alphaToOne" class="xref page">alphaToOne</a> is disabled on the device
or <code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> is set, in which case
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>::<code>sampleShadingEnable</code> is
assumed to be <code>VK_FALSE</code>.</p>
</li>
<li>
<p><code>pDepthStencilState</code> is a pointer to a
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure defining
depth/stencil state used when rasterization is enabled for depth or
stencil attachments accessed during rendering.
<a id="pipelines-pDepthStencilState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with all of
<code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_OP</code>, and
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic states set.</p>
</li>
<li>
<p><code>pColorBlendState</code> is a pointer to a
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure defining color blend
state used when rasterization is enabled for any color attachments
accessed during rendering.
<a id="pipelines-pColorBlendState-null"></a> If the
<code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is enabled, it <strong>can</strong> be
<code>NULL</code> if the pipeline is created with all of
<code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code>, and
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic states set.</p>
</li>
<li>
<p><code>pDynamicState</code> is a pointer to a
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure defining which
properties of the pipeline state object are dynamic and <strong>can</strong> be changed
independently of the pipeline state.
This <strong>can</strong> be <code>NULL</code>, which means no state in the pipeline is considered
dynamic.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass object describing the
environment in which the pipeline will be used.
The pipeline <strong>must</strong> only be used with a render pass instance compatible
with the one provided.
See <a href="renderpass.html#renderpass-compatibility" class="xref page">Render Pass Compatibility</a> for more
information.</p>
</li>
<li>
<p><code>subpass</code> is the index of the subpass in the render pass where this
pipeline will be used.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div class="paragraph">
<p>If any shader stage fails to compile,
the compile log will be reported back to the application, and
<code>VK_ERROR_INVALID_SHADER_NV</code> will be generated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>With <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code>, it is possible that many of
the <code>VkGraphicsPipelineCreateInfo</code> members above <strong>can</strong> be <code>NULL</code> because
all their state is dynamic and therefore ignored.
This is optional so the application <strong>can</strong> still use a valid pointer if it
needs to set the <code>pNext</code> or <code>flags</code> fields to specify state for
other extensions.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="pipelines-graphics-subsets" class="paragraph">
<p>The state required for a graphics pipeline is divided into
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>, and <a href="#pipelines-graphics-subsets-fragment-output">fragment output state</a>.</p>
</div>
<div id="pipelines-graphics-subsets-vertex-input" class="paragraph">
<div class="title">Vertex Input State</div>
<p>Vertex input state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
this pipeline specifies
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a>
either directly or by including it as a pipeline library and its
<code>pStages</code> includes a vertex shader, this state <strong>must</strong> be specified to
create a <a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div class="paragraph">
<p>If a pipeline includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_VERTEX_INPUT_INTERFACE_BIT_EXT</code> in
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> either explicitly
or as a default, and either the conditions requiring this state for a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a> are met
or this pipeline does not specify
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a> in
any way, that pipeline <strong>must</strong> specify this state directly.</p>
</div>
<div id="pipelines-graphics-subsets-pre-rasterization" class="paragraph">
<div class="title">Pre-Rasterization Shader State</div>
<p>Pre-rasterization shader state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> entries for:</p>
<div class="ulist">
<ul>
<li>
<p>Vertex shaders</p>
</li>
<li>
<p>Tessellation control shaders</p>
</li>
<li>
<p>Tessellation evaluation shaders</p>
</li>
<li>
<p>Geometry shaders</p>
</li>
<li>
<p>Task shaders</p>
</li>
<li>
<p>Mesh shaders</p>
</li>
</ul>
</div>
</li>
<li>
<p>Within the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>, all descriptor sets with
pre-rasterization shader bindings if
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code> was specified.</p>
<div class="ulist">
<ul>
<li>
<p>If <code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code> was not
specified, the full pipeline layout <strong>must</strong> be specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p>The <code>viewMask</code> parameter of <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>
(formats are ignored)</p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div class="paragraph">
<p>If either the <code>pNext</code> chain includes a
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a> structure with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>
included in <code>flags</code>, or it is not specified and would default to include
that value, this state <strong>must</strong> be specified in the pipeline.</p>
</div>
<div id="pipelines-graphics-subsets-fragment-shader" class="paragraph">
<div class="title">Fragment Shader State</div>
<p>Fragment shader state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> entry for the fragment shader</p>
</li>
<li>
<p>Within the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>, all descriptor sets with fragment
shader bindings if
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code> was specified.</p>
<div class="ulist">
<ul>
<li>
<p>If <code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code> was not
specified, the full pipeline layout <strong>must</strong> be specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>
if <a href="primsrast.html#primsrast-sampleshading" class="xref page">sample shading</a> is enabled or
<code>renderpass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p>The <code>viewMask</code> parameter of <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>
(formats are ignored)</p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineRepresentativeFragmentTestStateCreateInfoNV" class="xref page">VkPipelineRepresentativeFragmentTestStateCreateInfoNV</a></p>
</li>
<li>
<p>Inclusion/omission of the
<code>VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code>
flag</p>
</li>
<li>
<p>Inclusion/omission of the
<code>VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code>
flag</p>
</li>
<li>
<p><a href="interfaces.html#VkRenderingInputAttachmentIndexInfoKHR" class="xref page">VkRenderingInputAttachmentIndexInfoKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
a pipeline specifies
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a>
either directly or by including it as a pipeline library and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>
or <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> is used,
this state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div class="paragraph">
<p>If a pipeline includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code> in
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> either explicitly
or as a default, and either the conditions requiring this state for a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a> are met
or this pipeline does not specify
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a> in
any way, that pipeline <strong>must</strong> specify this state directly.</p>
</div>
<div id="pipelines-graphics-subsets-fragment-output" class="paragraph">
<div class="title">Fragment Output State</div>
<p>Fragment output state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a></p>
</li>
<li>
<p><a href="cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a></p>
</li>
<li>
<p><a href="cmdbuffers.html#VkAttachmentSampleCountInfoNV" class="xref page">VkAttachmentSampleCountInfoNV</a></p>
</li>
<li>
<p><a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a></p>
</li>
<li>
<p>Inclusion/omission of the
<code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code> and
<code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
flags</p>
</li>
<li>
<p>Inclusion/omission of the
<code>VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT</code> flag</p>
</li>
<li>
<p><a href="interfaces.html#VkRenderingAttachmentLocationInfoKHR" class="xref page">VkRenderingAttachmentLocationInfoKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
a pipeline specifies
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a>
either directly or by including it as a pipeline library and
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>
or <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> is used,
this state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div class="paragraph">
<p>If a pipeline includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code> in
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> either explicitly
or as a default, and either the conditions requiring this state for a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a> are met
or this pipeline does not specify
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization state</a> in
any way, that pipeline <strong>must</strong> specify this state directly.</p>
</div>
<div id="pipelines-graphics-subsets-dynamic-state" class="paragraph">
<div class="title">Dynamic State</div>
<p>Dynamic state values set via <code>pDynamicState</code> <strong>must</strong> be ignored if the
state they correspond to is not otherwise statically set by one of the state
subsets used to create the pipeline.
Additionally, setting dynamic state values <strong>must</strong> not modify whether state in
a linked library is static or dynamic; this is set and unchangeable when the
library is created.
For example, if a pipeline only included
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, then any dynamic state value corresponding to depth or stencil
testing has no effect.
Any linked library that has dynamic state enabled that same dynamic state
<strong>must</strong> also be enabled in all the other linked libraries to which that
dynamic state applies.</p>
</div>
<div id="pipelines-graphics-subsets-complete" class="paragraph">
<div class="title">Complete Graphics Pipelines</div>
<p>A complete graphics pipeline always includes
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, with other subsets included depending on that state as specified in
the above sections.</p>
</div>
<div class="paragraph">
<div class="title">Graphics Pipeline Library Layouts</div>
<p>If different subsets are linked together with pipeline layouts created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, the final
effective pipeline layout is effectively the union of the linked pipeline
layouts.
When binding descriptor sets for this pipeline, the pipeline layout used
<strong>must</strong> be compatible with this union.
This pipeline layout <strong>can</strong> be overridden when linking with
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> by providing a
<a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">compatible</a>
with this union other than
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, or when linking
without <code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> by providing
a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is fully
<a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">compatible</a> with this union.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain includes a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code> from that structure
is used instead of <code>flags</code> from this structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-09497" href="#VUID-VkGraphicsPipelineCreateInfo-None-09497"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-09497</span><br>


If the <code>pNext</code> chain does not include a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07984" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07984"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid graphics <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07985" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07985"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07986" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07986"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07987" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07987"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-10069" href="#VUID-VkGraphicsPipelineCreateInfo-layout-10069"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07988" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07988"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07990" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07990"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
and the descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07991" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07991"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-02096" href="#VUID-VkGraphicsPipelineCreateInfo-stage-02096"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stage-02096</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> the <code>stage</code> member of one element
of <code>pStages</code> <strong>must</strong> be <code>VK_SHADER_STAGE_VERTEX_BIT</code>
or <code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02095" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02095"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-02095</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> the geometric shader stages provided in
<code>pStages</code> <strong>must</strong> be either from the mesh shading pipeline
(<code>stage</code> is <code>VK_SHADER_STAGE_TASK_BIT_EXT</code> or
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code>) or from the primitive shading
pipeline (<code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>)</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-09631" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-09631"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-09631</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> contains both
<code>VK_SHADER_STAGE_TASK_BIT_EXT</code> and
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code>, then the mesh shader&#8217;s entry point
<strong>must</strong> not declare a variable with a <code>DrawIndex</code> <code>BuiltIn</code>
decoration</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-TaskNV-07063" href="#VUID-VkGraphicsPipelineCreateInfo-TaskNV-07063"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-TaskNV-07063</span><br>

The shader stages for <code>VK_SHADER_STAGE_TASK_BIT_EXT</code> or
<code>VK_SHADER_STAGE_MESH_BIT_EXT</code> <strong>must</strong> use either the <code>TaskNV</code> and
<code>MeshNV</code> <code>Execution</code> <code>Model</code> or the <code>TaskEXT</code> and <code>MeshEXT</code>
<code>Execution</code> <code>Model</code>, but <strong>must</strong> not use both</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00729" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00729"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00729</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation control shader stage, it <strong>must</strong> include a tessellation
evaluation shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00730" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00730"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00730</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation evaluation shader stage, it <strong>must</strong> include a tessellation
control shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-09022" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-09022"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-09022</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation control shader stage,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not enabled
or the <code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code> dynamic state is
not set,
<code>pTessellationState</code> <strong>must</strong> be a valid pointer to a valid
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pTessellationState-09023" href="#VUID-VkGraphicsPipelineCreateInfo-pTessellationState-09023"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pTessellationState-09023</span><br>

If <code>pTessellationState</code> is not <code>NULL</code> it <strong>must</strong> be a pointer to a
valid <a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00732" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00732"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00732</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, the shader code of at least one stage <strong>must</strong> contain an
<code>OpExecutionMode</code> instruction specifying the type of subdivision in
the pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00733" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00733"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00733</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, and the shader code of both stages contain an
<code>OpExecutionMode</code> instruction specifying the type of subdivision in
the pipeline, they <strong>must</strong> both specify the same subdivision mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00734" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00734"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00734</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, the shader code of at least one stage <strong>must</strong> contain an
<code>OpExecutionMode</code> instruction specifying the output patch size in the
pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00735" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00735"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00735</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, and the shader code of both contain an
<code>OpExecutionMode</code> instruction specifying the out patch size in the
pipeline, they <strong>must</strong> both specify the same patch size</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-08888" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-08888"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-08888</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-vertex-input">vertex input    state</a> and <code>pStages</code> includes tessellation shader stages,
and either <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> dynamic state is
not enabled or
<a href="limits.html#limits-dynamicPrimitiveTopologyUnrestricted" class="xref page"><code>dynamicPrimitiveTopologyUnrestricted</code></a>
is <code>VK_FALSE</code>,
the <code>topology</code> member of <code>pInputAssembly</code> <strong>must</strong> be
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-topology-08889" href="#VUID-VkGraphicsPipelineCreateInfo-topology-08889"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-topology-08889</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-vertex-input">vertex input    state</a> and the <code>topology</code> member of <code>pInputAssembly</code> is
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>,
and either <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> dynamic state is
not enabled or
<a href="limits.html#limits-dynamicPrimitiveTopologyUnrestricted" class="xref page"><code>dynamicPrimitiveTopologyUnrestricted</code></a>
is <code>VK_FALSE</code>,
then <code>pStages</code> <strong>must</strong> include tessellation shader stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723" href="#VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723</span><br>

If the pipeline is being created with a <code>TessellationEvaluation</code>
<code>Execution</code> <code>Model</code>, no <code>Geometry</code> <code>Execution</code> <code>Model</code>, uses the
<code>PointMode</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> be written to
if <a href="features.html#features-maintenance5" class="xref page"><code>maintenance5</code></a> is not enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-topology-08773" href="#VUID-VkGraphicsPipelineCreateInfo-topology-08773"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-topology-08773</span><br>

If the pipeline is being created with a <code>Vertex</code> <code>Execution</code> <code>Model</code> and
no <code>TessellationEvaluation</code> or <code>Geometry</code> <code>Execution</code> <code>Model</code>, and
the <code>topology</code> member of <code>pInputAssembly</code> is
<code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>,
and either <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> dynamic state is
not enabled or
<a href="limits.html#limits-dynamicPrimitiveTopologyUnrestricted" class="xref page"><code>dynamicPrimitiveTopologyUnrestricted</code></a>
is <code>VK_FALSE</code>,
a <code>PointSize</code> decorated variable <strong>must</strong> be written to
if <a href="features.html#features-maintenance5" class="xref page"><code>maintenance5</code></a> is not enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-maintenance5-08775" href="#VUID-VkGraphicsPipelineCreateInfo-maintenance5-08775"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-maintenance5-08775</span><br>

If <a href="features.html#features-maintenance5" class="xref page"><code>maintenance5</code></a> is enabled and a
<code>PointSize</code> decorated variable is written to, all execution paths
<strong>must</strong> write to a <code>PointSize</code> decorated variable</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724" href="#VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724</span><br>

If the pipeline is being created with a <code>TessellationEvaluation</code>
<code>Execution</code> <code>Model</code>, no <code>Geometry</code> <code>Execution</code> <code>Model</code>, uses the
<code>PointMode</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is not enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> not be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776" href="#VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776</span><br>

If the pipeline is being created with a <code>Geometry</code> <code>Execution</code> <code>Model</code>,
uses the <code>OutputPoints</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> be written to for every vertex
emitted
if <a href="features.html#features-maintenance5" class="xref page"><code>maintenance5</code></a> is not enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Geometry-07726" href="#VUID-VkGraphicsPipelineCreateInfo-Geometry-07726"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Geometry-07726</span><br>

If the pipeline is being created with a <code>Geometry</code> <code>Execution</code> <code>Model</code>,
uses the <code>OutputPoints</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is not enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> not be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00738" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00738"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00738</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a geometry
shader stage, and does not include any tessellation shader stages, its
shader code <strong>must</strong> contain an <code>OpExecutionMode</code> instruction specifying
an input primitive type that is <a href="shaders.html#shaders-geometry-execution" class="xref page">    compatible</a> with the primitive topology specified in
<code>pInputAssembly</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00739" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00739"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00739</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a geometry
shader stage, and also includes tessellation shader stages, its shader
code <strong>must</strong> contain an <code>OpExecutionMode</code> instruction specifying an
input primitive type that is <a href="shaders.html#shaders-geometry-execution" class="xref page">compatible</a>
with the primitive topology that is output by the tessellation stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00740" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00740"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00740</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
it includes both a fragment shader and a geometry shader, and the
fragment shader code reads from an input variable that is decorated with
<code>PrimitiveId</code>, then the geometry shader code <strong>must</strong> write to a
matching output variable, decorated with <code>PrimitiveId</code>, in all
execution paths</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-PrimitiveId-06264" href="#VUID-VkGraphicsPipelineCreateInfo-PrimitiveId-06264"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-PrimitiveId-06264</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, it includes a mesh shader and the
fragment shader code reads from an input variable that is decorated with
<code>PrimitiveId</code>, then the mesh shader code <strong>must</strong> write to a matching
output variable, decorated with <code>PrimitiveId</code>, in all execution paths</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06038" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06038"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06038</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and the pipeline is
being created with <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> the fragment shader <strong>must</strong> not read from any
input attachment that is defined as <code>VK_ATTACHMENT_UNUSED</code> in
<code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00742" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00742"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00742</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and multiple pre-rasterization shader
stages are included in <code>pStages</code>, the shader code for the entry
points identified by those <code>pStages</code> and the rest of the state
identified by this structure <strong>must</strong> adhere to the pipeline linking rules
described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-04889" href="#VUID-VkGraphicsPipelineCreateInfo-None-04889"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-04889</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the fragment shader and last
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    stage</a> and any relevant state <strong>must</strong> adhere to the pipeline linking
rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06041" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06041"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06041</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and the pipeline is
being created with <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, then for each color attachment in the
subpass, if the <a href="formats.html#potential-format-features" class="xref page">potential format features</a>
of the format of the corresponding attachment description do not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
<code>blendEnable</code> member of the corresponding element of the
<code>pAttachments</code> member of <code>pColorBlendState</code> <strong>must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-07609" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-07609"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-07609</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, the <code>pColorBlendState</code> pointer is not
<code>NULL</code>, the <code>attachmentCount</code> member of <code>pColorBlendState</code> is
not ignored, and the subpass uses color attachments, the
<code>attachmentCount</code> member of <code>pColorBlendState</code> <strong>must</strong> be equal to
the <code>colorAttachmentCount</code> used to create <code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>pViewportState-&gt;pViewports</code>
is not dynamic, then <code>pViewportState-&gt;pViewports</code> <strong>must</strong> be a valid
pointer to an array of <code>pViewportState-&gt;viewportCount</code> valid
<code>VkViewport</code> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>pViewportState-&gt;pScissors</code> is
not dynamic, then <code>pViewportState-&gt;pScissors</code> <strong>must</strong> be a valid
pointer to an array of <code>pViewportState-&gt;scissorCount</code> <code>VkRect2D</code>
structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and the <a href="features.html#features-wideLines" class="xref page">    <code>wideLines</code></a> feature is not enabled, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code>, the <code>lineWidth</code> member of
<code>pRasterizationState</code> <strong>must</strong> be <code>1.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
the <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> dynamic state is
enabled or
the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code> is
<code>VK_FALSE</code>,
and <a href="#pipelines-pViewportState-null">related dynamic state is not set</a>,
<code>pViewportState</code> <strong>must</strong> be a valid pointer to a valid
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pViewportState-09025" href="#VUID-VkGraphicsPipelineCreateInfo-pViewportState-09025"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pViewportState-09025</span><br>

If <code>pViewportState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to a
valid <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026" href="#VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not enabled
or any of the <code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code>,
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code>, or
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic states is
not set, or <a href="features.html#features-alphaToOne" class="xref page">alphaToOne</a> is enabled on the device
and <code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> is not set,
<code>pMultisampleState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027" href="#VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027</span><br>

If <code>pMultisampleState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891" href="#VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>::<code>alphaToCoverageEnable</code>
is not ignored and is <code>VK_TRUE</code>, then the
<a href="interfaces.html#interfaces-fragmentoutput" class="xref page">Fragment Output Interface</a> <strong>must</strong> contain a
variable for the alpha <code>Component</code> word in <code>Location</code> 0 at
<code>Index</code> 0</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09028" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09028"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09028</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a>, and <code>subpass</code> uses a depth/stencil attachment,
and <a href="#pipelines-pDepthStencilState-null">related dynamic state is not    set</a>,
<code>pDepthStencilState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029" href="#VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029</span><br>

If <code>pDepthStencilState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09030" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09030"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09030</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, and <code>subpass</code> uses color attachments,
and <a href="#pipelines-pColorBlendState-null">related dynamic state is not    set</a>,
<code>pColorBlendState</code> <strong>must</strong> be a valid pointer to a valid
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, the <a href="features.html#features-depthBiasClamp" class="xref page">    <code>depthBiasClamp</code></a> feature is not enabled, no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and the <code>depthBiasEnable</code> member
of <code>pRasterizationState</code> is <code>VK_TRUE</code>, the <code>depthBiasClamp</code>
member of <code>pRasterizationState</code> <strong>must</strong> be <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>,
the <code><a href="../appendices/extensions.html#VK_EXT_depth_range_unrestricted" class="xref page">VK_EXT_depth_range_unrestricted</a></code> extension is not enabled
and no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code>, and the
<code>depthBoundsTestEnable</code> member of <code>pDepthStencilState</code> is
<code>VK_TRUE</code>, the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members
of <code>pDepthStencilState</code> <strong>must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07610" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07610"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07610</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> or <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>rasterizationSamples</code> and
<code>sampleLocationsInfo</code> are not dynamic, and
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
included in the <code>pNext</code> chain of <code>pMultisampleState</code> is
<code>VK_TRUE</code>, <code>sampleLocationsInfo.sampleLocationGridSize.width</code>
<strong>must</strong> evenly divide
<a href="limits.html#VkMultisamplePropertiesEXT" class="xref page">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.width</code> as
returned by <a href="limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT" class="xref page">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling <code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07611" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07611"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07611</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> or <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>rasterizationSamples</code> and
<code>sampleLocationsInfo</code> are not dynamic, and
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
the included in the <code>pNext</code> chain of <code>pMultisampleState</code> is
<code>VK_TRUE</code> or <code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> is
used, <code>sampleLocationsInfo.sampleLocationGridSize.height</code> <strong>must</strong>
evenly divide
<a href="limits.html#VkMultisamplePropertiesEXT" class="xref page">VkMultisamplePropertiesEXT</a>::<code>sampleLocationGridSize.height</code> as
returned by <a href="limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT" class="xref page">vkGetPhysicalDeviceMultisamplePropertiesEXT</a> with a
<code>samples</code> parameter equaling <code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07612" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07612"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07612</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> or <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>rasterizationSamples</code> and
<code>sampleLocationsInfo</code> are not dynamic, and
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
included in the <code>pNext</code> chain of <code>pMultisampleState</code> is
<code>VK_TRUE</code> or <code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> is
used, <code>sampleLocationsInfo.sampleLocationsPerPixel</code> <strong>must</strong> equal
<code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sampleLocationsEnable-01524" href="#VUID-VkGraphicsPipelineCreateInfo-sampleLocationsEnable-01524"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sampleLocationsEnable-01524</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the <code>sampleLocationsEnable</code> member of a
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a> structure included in
the <code>pNext</code> chain of <code>pMultisampleState</code> is <code>VK_TRUE</code>, the
fragment shader code <strong>must</strong> not statically use the extended instruction
<code>InterpolateAtSample</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-multisampledRenderToSingleSampled-06853" href="#VUID-VkGraphicsPipelineCreateInfo-multisampledRenderToSingleSampled-06853"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-multisampledRenderToSingleSampled-06853</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and none of the
<code><a href="../appendices/extensions.html#VK_AMD_mixed_attachment_samples" class="xref page">VK_AMD_mixed_attachment_samples</a></code> extension, the
<code><a href="../appendices/extensions.html#VK_NV_framebuffer_mixed_samples" class="xref page">VK_NV_framebuffer_mixed_samples</a></code> extension, or the
<a href="features.html#features-multisampledRenderToSingleSampled" class="xref page">    <code>multisampledRenderToSingleSampled</code></a> feature are enabled,
<code>rasterizationSamples</code> is not dynamic, and if <code>subpass</code> uses
color and/or depth/stencil attachments, then the
<code>rasterizationSamples</code> member of <code>pMultisampleState</code> <strong>must</strong> be
the same as the sample count for those subpass attachments</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-01505" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-01505"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-subpass-01505</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and the
<code><a href="../appendices/extensions.html#VK_AMD_mixed_attachment_samples" class="xref page">VK_AMD_mixed_attachment_samples</a></code> extension is enabled,
<code>rasterizationSamples</code> is not dynamic, and if <code>subpass</code> uses
color and/or depth/stencil attachments, then the
<code>rasterizationSamples</code> member of <code>pMultisampleState</code> <strong>must</strong> equal
the maximum of the sample counts of those subpass attachments</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06854" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06854"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06854</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the
<code><a href="../appendices/extensions.html#VK_EXT_multisampled_render_to_single_sampled" class="xref page">VK_EXT_multisampled_render_to_single_sampled</a></code> extension is
enabled, <code>rasterizationSamples</code> is not dynamic, and <code>subpass</code>
has a <a href="renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT" class="xref page">VkMultisampledRenderToSingleSampledInfoEXT</a> structure
included in the <a href="renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>::<code>pNext</code> chain with
<code>multisampledRenderToSingleSampledEnable</code> equal to <code>VK_TRUE</code>,
then the <code>rasterizationSamples</code> member of <code>pMultisampleState</code>
<strong>must</strong> be equal to
<a href="renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT" class="xref page">VkMultisampledRenderToSingleSampledInfoEXT</a>::<code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-01411" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-01411"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-subpass-01411</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, the
<code><a href="../appendices/extensions.html#VK_NV_framebuffer_mixed_samples" class="xref page">VK_NV_framebuffer_mixed_samples</a></code> extension is enabled,
<code>rasterizationSamples</code> is not dynamic, and if <code>subpass</code> has a
depth/stencil attachment and depth test, stencil test, or depth bounds
test are enabled, then the <code>rasterizationSamples</code> member of
<code>pMultisampleState</code> <strong>must</strong> be the same as the sample count of the
depth/stencil attachment</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-01412" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-01412"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-subpass-01412</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, the
<code><a href="../appendices/extensions.html#VK_NV_framebuffer_mixed_samples" class="xref page">VK_NV_framebuffer_mixed_samples</a></code> extension is enabled,
<code>rasterizationSamples</code> is not dynamic, and if <code>subpass</code> has any
color attachments, then the <code>rasterizationSamples</code> member of
<code>pMultisampleState</code> <strong>must</strong> be greater than or equal to the sample
count for those subpass attachments</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-coverageReductionMode-02722" href="#VUID-VkGraphicsPipelineCreateInfo-coverageReductionMode-02722"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-coverageReductionMode-02722</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, the
<code><a href="../appendices/extensions.html#VK_NV_coverage_reduction_mode" class="xref page">VK_NV_coverage_reduction_mode</a></code> extension is enabled, and
<code>rasterizationSamples</code> is not dynamic, the coverage reduction mode
specified by
<a href="fragops.html#VkPipelineCoverageReductionStateCreateInfoNV" class="xref page">VkPipelineCoverageReductionStateCreateInfoNV</a>::<code>coverageReductionMode</code>,
the <code>rasterizationSamples</code> member of <code>pMultisampleState</code> and the
sample counts for the color and depth/stencil attachments (if the
subpass has them) <strong>must</strong> be a valid combination returned by
<code>vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00758" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00758"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-subpass-00758</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>rasterizationSamples</code> is not
dynamic, and <code>subpass</code> does not use any color and/or depth/stencil
attachments, then the <code>rasterizationSamples</code> member of
<code>pMultisampleState</code> <strong>must</strong> follow the rules for a
<a href="renderpass.html#renderpass-noattachments" class="xref page">zero-attachment subpass</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06046" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06046"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06046</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code> <strong>must</strong> be
a valid subpass within <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06047" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06047"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06047</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>subpass</code> viewMask is not <code>0</code>, and
<code>multiviewTessellationShader</code> is not enabled, then <code>pStages</code>
<strong>must</strong> not include tessellation shaders</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06048" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06048"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06048</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>subpass</code> viewMask is not <code>0</code>, and
<code>multiviewGeometryShader</code> is not enabled, then <code>pStages</code> <strong>must</strong>
not include a geometry shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06050" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06050"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06050</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and the pipeline is
being created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>subpass</code> viewMask is not <code>0</code>,
then all of the shaders in the pipeline <strong>must</strong> not include variables
decorated with the <code>Layer</code> built-in decoration in their interfaces</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-07064" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-07064"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-07064</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>subpass</code> viewMask is not <code>0</code>, and
<code>multiviewMeshShader</code> is not enabled, then <code>pStages</code> <strong>must</strong> not
include a mesh shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00764" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00764"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-00764</span><br>

<code>flags</code> <strong>must</strong> not contain the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code>
flag</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-01565" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-01565"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-01565</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and an input attachment was referenced by an
<code>aspectMask</code> at <code>renderPass</code> creation time, the fragment shader
<strong>must</strong> only read from the aspects that were specified for that input
attachment</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-01688" href="#VUID-VkGraphicsPipelineCreateInfo-layout-01688"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-01688</span><br>

The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-01715" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-01715"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-01715</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code>, and the
<code>viewportWScalingEnable</code> member of a
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a> structure, included in
the <code>pNext</code> chain of <code>pViewportState</code>, is <code>VK_TRUE</code>, the
<code>pViewportWScalings</code> member of the
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a> <strong>must</strong> be a pointer to
an array of
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a>::<code>viewportCount</code>
valid <a href="vertexpostproc.html#VkViewportWScalingNV" class="xref page">VkViewportWScalingNV</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04056" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04056"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04056</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code>, and if
<code>pViewportState-&gt;pNext</code> chain includes a
<a href="fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV" class="xref page">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a> structure, and
if its <code>exclusiveScissorCount</code> member is not <code>0</code>, then its
<code>pExclusiveScissors</code> member <strong>must</strong> be a valid pointer to an array of
<code>exclusiveScissorCount</code> <a href="fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07854" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07854"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07854</span><br>

If <code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV</code> is included in the
<code>pDynamicStates</code> array then the implementation <strong>must</strong> support at
least <code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_NV_scissor_exclusive" class="xref page">VK_NV_scissor_exclusive</a></code>
extension</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04057" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04057"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04057</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV</code>, and if
<code>pViewportState-&gt;pNext</code> chain includes a
<a href="primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV" class="xref page">VkPipelineViewportShadingRateImageStateCreateInfoNV</a> structure,
then its <code>pShadingRatePalettes</code> member <strong>must</strong> be a valid pointer to
an array of <code>viewportCount</code> valid <a href="primsrast.html#VkShadingRatePaletteNV" class="xref page">VkShadingRatePaletteNV</a>
structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04058" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04058"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04058</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code>, and if <code>pNext</code> chain
includes a <a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a> structure,
and if its <code>discardRectangleCount</code> member is not <code>0</code>, then its
<code>pDiscardRectangles</code> member <strong>must</strong> be a valid pointer to an array of
<code>discardRectangleCount</code> <a href="fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07855" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07855"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07855</span><br>

If <code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code> is included in
the <code>pDynamicStates</code> array then the implementation <strong>must</strong> support at
least <code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_EXT_discard_rectangles" class="xref page">VK_EXT_discard_rectangles</a></code>
extension</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07856" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07856"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07856</span><br>

If <code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code> is included in the
<code>pDynamicStates</code> array then the implementation <strong>must</strong> support at
least <code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_EXT_discard_rectangles" class="xref page">VK_EXT_discard_rectangles</a></code>
extension</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02097" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02097"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-02097</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a>, and <code>pVertexInputState</code> is not dynamic, then
<code>pVertexInputState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Input-07904" href="#VUID-VkGraphicsPipelineCreateInfo-Input-07904"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Input-07904</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, then all variables with the
<code>Input</code> storage class decorated with <code>Location</code> in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> <strong>must</strong> contain a location in
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>location</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Input-08733" href="#VUID-VkGraphicsPipelineCreateInfo-Input-08733"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Input-08733</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a> and <code>pVertexInputState</code> is not dynamic, then
the numeric type associated with all <code>Input</code> variables of the
corresponding <code>Location</code> in the <code>Vertex</code> <code>Execution</code> <code>Model</code>
<code>OpEntryPoint</code> <strong>must</strong> be the same as
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> has a 64-bit
component, then the scalar width associated with all <code>Input</code>
variables of the corresponding <code>Location</code> in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> <strong>must</strong> be 64-bit</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and the scalar width associated
with a <code>Location</code> decorated <code>Input</code> variable in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> is 64-bit, then the corresponding
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> <strong>must</strong> have a
64-bit component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> has a 64-bit
component, then all <code>Input</code> variables at the corresponding
<code>Location</code> in the <code>Vertex</code> <code>Execution</code> <code>Model</code> <code>OpEntryPoint</code>
<strong>must</strong> not use components that are not present in the format</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031" href="#VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a>,
and <a href="#pipelines-pInputAssemblyState-null">related dynamic state is not    set</a>,
<code>pInputAssemblyState</code> <strong>must</strong> be a valid pointer to a valid
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032" href="#VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032</span><br>

If <code>pInputAssemblyState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer
to a valid <a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02317" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02317"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-02317</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, the <code>Xfb</code> execution mode <strong>can</strong> be
specified by no more than one shader stage in <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02318" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02318"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-02318</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and any shader stage in <code>pStages</code>
specifies <code>Xfb</code> execution mode it <strong>must</strong> be the last
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    stage</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02319" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02319"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02319</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and a
<a href="primsrast.html#VkPipelineRasterizationStateStreamCreateInfoEXT" class="xref page">VkPipelineRasterizationStateStreamCreateInfoEXT</a>::<code>rasterizationStream</code>
value other than zero is specified, all variables in the output
interface of the entry point being compiled decorated with
<code>Position</code>, <code>PointSize</code>, <code>ClipDistance</code>, or <code>CullDistance</code>
<strong>must</strong> be decorated with identical <code>Stream</code> values that match the
<code>rasterizationStream</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02320" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02320"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-rasterizationStream-02320</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<a href="primsrast.html#VkPipelineRasterizationStateStreamCreateInfoEXT" class="xref page">VkPipelineRasterizationStateStreamCreateInfoEXT</a>::<code>rasterizationStream</code>
is zero, or not specified, all variables in the output interface of the
entry point being compiled decorated with <code>Position</code>, <code>PointSize</code>,
<code>ClipDistance</code>, or <code>CullDistance</code> <strong>must</strong> be decorated with a
<code>Stream</code> value of zero, or <strong>must</strong> not specify the <code>Stream</code>
decoration</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-geometryStreams-02321" href="#VUID-VkGraphicsPipelineCreateInfo-geometryStreams-02321"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-geometryStreams-02321</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and the last
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    stage</a> is a geometry shader, and that geometry shader uses the
<code>GeometryStreams</code> capability, then
<code>VkPhysicalDeviceTransformFeedbackFeaturesEXT</code>::<code>geometryStreams</code>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-02322" href="#VUID-VkGraphicsPipelineCreateInfo-None-02322"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-02322</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and there are any mesh shader stages
in the pipeline there <strong>must</strong> not be any shader stage in the pipeline with
a <code>Xfb</code> execution mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-lineRasterizationMode-02766" href="#VUID-VkGraphicsPipelineCreateInfo-lineRasterizationMode-02766"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-lineRasterizationMode-02766</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and at least one of
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a> or <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader    state</a>, and <code>pMultisampleState</code> is not <code>NULL</code>, the
<code>lineRasterizationMode</code> member of a
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> structure included
in the <code>pNext</code> chain of <code>pRasterizationState</code> is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_KHR</code> or
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_KHR</code>, then the
<code>alphaToCoverageEnable</code>, <code>alphaToOneEnable</code>, and
<code>sampleShadingEnable</code> members of <code>pMultisampleState</code> <strong>must</strong> all
be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stippledLineEnable-02767" href="#VUID-VkGraphicsPipelineCreateInfo-stippledLineEnable-02767"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stippledLineEnable-02767</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, the <code>stippledLineEnable</code> member of
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> is <code>VK_TRUE</code>,
and no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_LINE_STIPPLE_EXT</code>, then the
<code>lineStippleFactor</code> member of
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> <strong>must</strong> be in the
range <span class="eq">[1,256]</span></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-shaderMeshEnqueue-10187" href="#VUID-VkGraphicsPipelineCreateInfo-shaderMeshEnqueue-10187"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-shaderMeshEnqueue-10187</span><br>

If <a href="features.html#features-shaderMeshEnqueue" class="xref page"><code>shaderMeshEnqueue</code></a> is not
enabled, shaders specified by <code>pStages</code> <strong>must</strong> not declare the
<code>ShaderEnqueueAMDX</code> capability</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-10188" href="#VUID-VkGraphicsPipelineCreateInfo-flags-10188"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-10188</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>, shaders specified by
<code>pStages</code> <strong>must</strong> not declare the <code>ShaderEnqueueAMDX</code> capability</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-10189" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-10189"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-10189</span><br>

If any shader stages in <code>pStages</code> declare the <code>ShaderEnqueueAMDX</code>
capability, <code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code> and
<code>VK_PIPELINE_CREATE_2_LIBRARY_BIT_KHR</code> <strong>must</strong> be included in
<code>flags</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-10190" href="#VUID-VkGraphicsPipelineCreateInfo-flags-10190"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-10190</span><br>

If <code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code> is included in
<code>flags</code>, and the pipeline requires
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, there <strong>must</strong> not be a task or vertex shader specified in
<code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-10191" href="#VUID-VkGraphicsPipelineCreateInfo-flags-10191"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-10191</span><br>

If <code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code> is included in
<code>flags</code>, all elements of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> <strong>must</strong> have been
created with <code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03372" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03372"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03372</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03373" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03373"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03373</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03374" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03374"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03374</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03375" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03375"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03375</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03376" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03376"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03376</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03377" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03377"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03377</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-03577" href="#VUID-VkGraphicsPipelineCreateInfo-flags-03577"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-03577</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-04947" href="#VUID-VkGraphicsPipelineCreateInfo-flags-04947"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-04947</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378</span><br>

    If
    the <a href="features.html#features-extendedDynamicState" class="xref page"><code>extendedDynamicState</code></a>
    feature is not enabled,
and
    the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
    the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> is less than Version 1.3
    there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
    <code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_CULL_MODE</code>,
    <code>VK_DYNAMIC_STATE_FRONT_FACE</code>,
    <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code>,
    <code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code>,
    <code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code>,
    <code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code>,
    <code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code>,
    <code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code>,
    <code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code>,
    <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code>,
    <code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code>, or
    <code>VK_DYNAMIC_STATE_STENCIL_OP</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>viewportCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>scissorCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>VK_DYNAMIC_STATE_VIEWPORT</code> <strong>must</strong>
not be present</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>VK_DYNAMIC_STATE_SCISSOR</code> <strong>must</strong> not
be present</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07065" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07065"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07065</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and includes a mesh shader, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code>, or
<code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868</span><br>

    If
    the <a href="features.html#features-extendedDynamicState2" class="xref page"><code>extendedDynamicState2</code></a>
    feature is not enabled,
and
    the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
    the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> is less than Version 1.3
    there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
    <code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code>,
    <code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code>, or
    <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869</span><br>

If the <a href="features.html#features-extendedDynamicState2LogicOp" class="xref page">    <code>extendedDynamicState2LogicOp</code></a> feature is not enabled, there <strong>must</strong>
be no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
set to <code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870</span><br>

If the <a href="features.html#features-extendedDynamicState2PatchControlPoints" class="xref page">    <code>extendedDynamicState2PatchControlPoints</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07066" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07066"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07066</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and includes a mesh shader, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code>, or
<code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-02877" href="#VUID-VkGraphicsPipelineCreateInfo-flags-02877"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-02877</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code>, then the
<a href="features.html#features-deviceGeneratedCommandsNV" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesNV</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-02966" href="#VUID-VkGraphicsPipelineCreateInfo-flags-02966"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-02966</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>flags</code> includes
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code>, then all stages <strong>must</strong>
not specify <code>Xfb</code> execution mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-libraryCount-06648" href="#VUID-VkGraphicsPipelineCreateInfo-libraryCount-06648"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-libraryCount-06648</span><br>

If the pipeline is not created with a
<a href="#pipelines-graphics-subsets-complete">complete set of state</a>,
or <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>libraryCount</code> is not <code>0</code>,
<a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>::<code>groupCount</code> and
<a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>::<code>pipelineCount</code>
<strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-libraryCount-06649" href="#VUID-VkGraphicsPipelineCreateInfo-libraryCount-06649"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-libraryCount-06649</span><br>

If the pipeline is created with a <a href="#pipelines-graphics-subsets-complete">    complete set of state</a>,
and <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>libraryCount</code> is <code>0</code>,
and the <code>pNext</code> chain includes an instance of
<a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>,
<a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>::<code>groupCount</code> <strong>must</strong>
be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-11000" href="#VUID-VkGraphicsPipelineCreateInfo-flags-11000"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-11000</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code>, then the
<a href="features.html#features-deviceGeneratedCommands" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-11001" href="#VUID-VkGraphicsPipelineCreateInfo-flags-11001"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-11001</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>flags</code> includes
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code>, then all stages
<strong>must</strong> not specify <code>Xfb</code> execution mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878" href="#VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pipelineProtectedAccess-07368" href="#VUID-VkGraphicsPipelineCreateInfo-pipelineProtectedAccess-07368"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pipelineProtectedAccess-07368</span><br>

If the <a href="features.html#features-pipelineProtectedAccess" class="xref page">    <code>pipelineProtectedAccess</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include <code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code>
or <code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07369" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07369"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07369</span><br>

<code>flags</code> <strong>must</strong> not include both
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code> and
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04494" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04494"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04494</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.width</code>
<strong>must</strong> be greater than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04495" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04495"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04495</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.height</code>
<strong>must</strong> be greater than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04496" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04496"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04496</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.width</code>
<strong>must</strong> be a power-of-two value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04497" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04497"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04497</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.height</code>
<strong>must</strong> be a power-of-two value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04498" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04498"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04498</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.width</code>
<strong>must</strong> be less than or equal to <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04499" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04499"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04499</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.height</code>
<strong>must</strong> be less than or equal to <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04500" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04500"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04500</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-pipelineFragmentShadingRate" class="xref page">    <code>pipelineFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.width</code>
and
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>fragmentSize.height</code>
<strong>must</strong> both be equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06567" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06567"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06567</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>combinerOps</code>[0]
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateCombinerOpKHR" class="xref page">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06568" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06568"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06568</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>combinerOps</code>[1]
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateCombinerOpKHR" class="xref page">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04501" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04501"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04501</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-primitiveFragmentShadingRate" class="xref page">    <code>primitiveFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>combinerOps</code>[0]
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04502" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04502"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04502</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-attachmentFragmentShadingRate" class="xref page">    <code>attachmentFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>combinerOps</code>[1]
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04503" href="#VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04503"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04503</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and the
<a href="limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports" class="xref page">    <code>primitiveFragmentShadingRateWithMultipleViewports</code></a> limit is not
supported, <code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>::<code>viewportCount</code> is greater
than <code>1</code>, entry points specified in <code>pStages</code> <strong>must</strong> not write to the
<code>PrimitiveShadingRateKHR</code> built-in</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04504" href="#VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04504"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04504</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and the
<a href="limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports" class="xref page">    <code>primitiveFragmentShadingRateWithMultipleViewports</code></a> limit is not
supported, and entry points specified in <code>pStages</code> write to the
<code>ViewportIndex</code> built-in, they <strong>must</strong> not also write to the
<code>PrimitiveShadingRateKHR</code> built-in</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04505" href="#VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04505"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-primitiveFragmentShadingRateWithMultipleViewports-04505</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and the
<a href="limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports" class="xref page">    <code>primitiveFragmentShadingRateWithMultipleViewports</code></a> limit is not
supported, and entry points specified in <code>pStages</code> write to the
<code>ViewportMaskNV</code> built-in, they <strong>must</strong> not also write to the
<code>PrimitiveShadingRateKHR</code> built-in</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04506" href="#VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04506"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04506</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the <a href="limits.html#limits-fragmentShadingRateNonTrivialCombinerOps" class="xref page">    <code>fragmentShadingRateNonTrivialCombinerOps</code></a> limit is not supported,
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, elements of
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>combinerOps</code>
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code> or
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-06569" href="#VUID-VkGraphicsPipelineCreateInfo-None-06569"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-06569</span><br>

 If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">     fragment shader state</a>
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRateType</code>
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateTypeNV" class="xref page">VkFragmentShadingRateTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06570" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06570"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06570</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRate</code>
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateNV" class="xref page">VkFragmentShadingRateNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06571" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06571"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06571</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>combinerOps</code>[0]
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateCombinerOpKHR" class="xref page">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06572" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06572"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-06572</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>combinerOps</code>[1]
<strong>must</strong> be a valid <a href="primsrast.html#VkFragmentShadingRateCombinerOpKHR" class="xref page">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04569" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04569"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04569</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-fragmentShadingRateEnums" class="xref page"><code>fragmentShadingRateEnums</code></a>
feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRateType</code>
<strong>must</strong> be equal to <code>VK_FRAGMENT_SHADING_RATE_TYPE_FRAGMENT_SIZE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04570" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04570"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04570</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-pipelineFragmentShadingRate" class="xref page">    <code>pipelineFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRate</code>
<strong>must</strong> be equal to
<code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_PIXEL_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04571" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04571"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04571</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-primitiveFragmentShadingRate" class="xref page">    <code>primitiveFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>combinerOps</code>[0]
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04572" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04572"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-04572</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, and the
<a href="features.html#features-attachmentFragmentShadingRate" class="xref page">    <code>attachmentFragmentShadingRate</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>combinerOps</code>[1]
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04573" href="#VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04573"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-fragmentShadingRateNonTrivialCombinerOps-04573</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the
<a href="limits.html#limits-fragmentShadingRateNonTrivialCombinerOps" class="xref page">    <code>fragmentShadingRateNonTrivialCombinerOps</code></a> limit is not supported
and <code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> is not included in
<code>pDynamicState-&gt;pDynamicStates</code>, elements of
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>combinerOps</code>
<strong>must</strong> be <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code> or
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-04574" href="#VUID-VkGraphicsPipelineCreateInfo-None-04574"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-04574</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the
<a href="features.html#features-supersampleFragmentShadingRates" class="xref page">    <code>supersampleFragmentShadingRates</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRate</code>
<strong>must</strong> not be equal to
<code>VK_FRAGMENT_SHADING_RATE_2_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_4_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_8_INVOCATIONS_PER_PIXEL_NV</code>, or
<code>VK_FRAGMENT_SHADING_RATE_16_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-04575" href="#VUID-VkGraphicsPipelineCreateInfo-None-04575"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-04575</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the
<a href="features.html#features-noInvocationFragmentShadingRates" class="xref page">    <code>noInvocationFragmentShadingRates</code></a> feature is not enabled,
<a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>::<code>shadingRate</code>
<strong>must</strong> not be equal to <code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03578" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03578"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03578</span><br>

All elements of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
<strong>must</strong> not be <code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04807" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04807"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04807</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and the
<a href="features.html#features-vertexInputDynamicState" class="xref page"><code>vertexInputDynamicState</code></a>
feature is not enabled, there <strong>must</strong> be no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_VERTEX_INPUT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07067" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07067"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07067</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and includes a mesh shader, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_VERTEX_INPUT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04800" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04800"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04800</span><br>

If the <a href="features.html#features-colorWriteEnable" class="xref page"><code>colorWriteEnable</code></a> feature is
not enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code>
member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizationSamples-04899" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizationSamples-04899"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-rasterizationSamples-04899</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the
<code><a href="../appendices/extensions.html#VK_QCOM_render_pass_shader_resolve" class="xref page">VK_QCOM_render_pass_shader_resolve</a></code> extension is enabled,
<code>rasterizationSamples</code> is not dynamic, and if subpass has any input
attachments, and if the subpass description contains
<code>VK_SUBPASS_DESCRIPTION_FRAGMENT_REGION_BIT_QCOM</code>, then the sample
count of the input attachments <strong>must</strong> equal <code>rasterizationSamples</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sampleShadingEnable-04900" href="#VUID-VkGraphicsPipelineCreateInfo-sampleShadingEnable-04900"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sampleShadingEnable-04900</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and the
<code><a href="../appendices/extensions.html#VK_QCOM_render_pass_shader_resolve" class="xref page">VK_QCOM_render_pass_shader_resolve</a></code> extension is enabled, and if
the subpass description contains
<code>VK_SUBPASS_DESCRIPTION_FRAGMENT_REGION_BIT_QCOM</code>, then
<code>sampleShadingEnable</code> <strong>must</strong> be false</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-04901" href="#VUID-VkGraphicsPipelineCreateInfo-flags-04901"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-04901</span><br>

If <code>flags</code> includes
<code>VK_SUBPASS_DESCRIPTION_SHADER_RESOLVE_BIT_QCOM</code>, then the subpass
<strong>must</strong> be the last subpass in a subpass dependency chain</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-04902" href="#VUID-VkGraphicsPipelineCreateInfo-flags-04902"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-04902</span><br>

If <code>flags</code> includes
<code>VK_SUBPASS_DESCRIPTION_SHADER_RESOLVE_BIT_QCOM</code>, and if
<code>pResolveAttachments</code> is not <code>NULL</code>, then each resolve attachment
<strong>must</strong> be <code>VK_ATTACHMENT_UNUSED</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576" href="#VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576</span><br>

If the <a href="features.html#features-dynamicRendering" class="xref page"><code>dynamicRendering</code></a> feature is
not enabled and the pipeline requires
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader    state</a>, or <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, <code>renderPass</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-multiview-06577" href="#VUID-VkGraphicsPipelineCreateInfo-multiview-06577"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-multiview-06577</span><br>

If the <a href="features.html#features-multiview" class="xref page"><code>multiview</code></a> feature is not enabled,
the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06578" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06578"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06578</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the
index of the most significant bit in
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> <strong>must</strong> be less than
<a href="devsandqueues.html#limits-maxMultiviewViewCount" class="xref page"><code>maxMultiviewViewCount</code></a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06579" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06579"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06579</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code> is not
0, <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code>
<strong>must</strong> be a valid pointer to an array of <code>colorAttachmentCount</code> valid
<a href="formats.html#VkFormat" class="xref page">VkFormat</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06580" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06580"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06580</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, each element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06582" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06582"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06582</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and any element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> is
not <code>VK_FORMAT_UNDEFINED</code>, that format <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>
or <code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06583" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06583"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06583</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06584" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06584"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06584</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06585" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06585"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06585</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06586" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06586"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06586</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06587" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06587"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06587</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format that includes a depth
component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06588" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06588"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06588</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format that includes a
stencil component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06589" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06589"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06589</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, <code>depthAttachmentFormat</code> <strong>must</strong> equal
<code>stencilAttachmentFormat</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09033" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09033"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09033</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a> and <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and either of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> or
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> are
not <code>VK_FORMAT_UNDEFINED</code>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not enabled
or any of the <code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_OP</code>, or
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic states are not set,
<code>pDepthStencilState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034" href="#VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034</span><br>

If <code>pDepthStencilState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09035" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09035"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09035</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a> but not <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not
enabled, or any of the <code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_OP</code>, or
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic states are not set,
<code>pDepthStencilState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09036" href="#VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09036"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09036</span><br>

If <code>pDepthStencilState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09037" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09037"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09037</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, and any element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> is
not <code>VK_FORMAT_UNDEFINED</code>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not
enabled, or any of the <code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code>,
<code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code>, or
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic states are not set,
<code>pColorBlendState</code> <strong>must</strong> be a valid pointer to a valid
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038" href="#VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038</span><br>

If <code>pColorBlendState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to a
valid <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06055" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06055"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06055</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pColorBlendState</code> is
not dynamic, and the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>pColorBlendState-&gt;attachmentCount</code> <strong>must</strong> be equal to
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06057" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06057"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06057</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, and the
<a href="features.html#features-multiview-tess" class="xref page"><code>multiviewTessellationShader</code></a> feature
is not enabled, then <code>pStages</code> <strong>must</strong> not include tessellation
shaders</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06058" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06058"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06058</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, and the
<a href="features.html#features-multiview-gs" class="xref page"><code>multiviewGeometryShader</code></a> feature is not
enabled, then <code>pStages</code> <strong>must</strong> not include a geometry shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06059" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06059"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06059</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, all of
the shaders in the pipeline <strong>must</strong> not include variables decorated with
the <code>Layer</code> built-in decoration in their interfaces</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-07720" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-07720"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-07720</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, and
<code>multiviewMeshShader</code> is not enabled, then <code>pStages</code> <strong>must</strong> not
include a mesh shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06061" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06061"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06061</span><br>

If
the <a href="features.html#features-dynamicRenderingLocalRead" class="xref page">    <code>dynamicRenderingLocalRead</code></a> feature is not enabled,
the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
fragment shaders in <code>pStages</code> <strong>must</strong> not include the
<code>InputAttachment</code> capability</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-08710" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-08710"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-08710</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and <code>renderPass</code> is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, fragment shaders in <code>pStages</code> <strong>must</strong> not
include any of the <code>TileImageColorReadAccessEXT</code>,
<code>TileImageDepthReadAccessEXT</code>, or <code>TileImageStencilReadAccessEXT</code>
capabilities</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06062" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06062"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06062</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a> and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, for each color attachment format defined by the
<code>pColorAttachmentFormats</code> member of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>, if its
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> do not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
<code>blendEnable</code> member of the corresponding element of the
<code>pAttachments</code> member of <code>pColorBlendState</code> <strong>must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06063" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06063"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06063</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a> and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, if the <code>pNext</code> chain includes
<a href="cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a> or
<code>VkAttachmentSampleCountInfoNV</code>, the <code>colorAttachmentCount</code>
member of that structure <strong>must</strong> be equal to the value of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06591" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06591"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06591</span><br>

If <code>pStages</code> includes a fragment shader stage, and the fragment
shader declares the <code>EarlyFragmentTests</code> execution mode, the
<code>flags</code> member of <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> <strong>must</strong>
not include
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code>
or
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06482" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06482"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06482</span><br>

If
the <a href="features.html#features-dynamicRenderingLocalRead" class="xref page">    <code>dynamicRenderingLocalRead</code></a> feature is not enabled,
the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and the <code>flags</code> member of
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> includes
<code>VK_PIPELINE_COLOR_BLEND_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_BIT_EXT</code>,
<code>renderPass</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-09526" href="#VUID-VkGraphicsPipelineCreateInfo-None-09526"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-09526</span><br>

If
the <a href="features.html#features-dynamicRenderingLocalRead" class="xref page">    <code>dynamicRenderingLocalRead</code></a> feature is not enabled,
the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and the <code>flags</code> member of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> includes
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code>
or
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code>,
<code>renderPass</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pColorAttachmentSamples-06592" href="#VUID-VkGraphicsPipelineCreateInfo-pColorAttachmentSamples-06592"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pColorAttachmentSamples-06592</span><br>

If the <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, elements of the <code>pColorAttachmentSamples</code> member
of <a href="cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a> or
<a href="cmdbuffers.html#VkAttachmentSampleCountInfoNV" class="xref page">VkAttachmentSampleCountInfoNV</a> <strong>must</strong> be valid
<a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-depthStencilAttachmentSamples-06593" href="#VUID-VkGraphicsPipelineCreateInfo-depthStencilAttachmentSamples-06593"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-depthStencilAttachmentSamples-06593</span><br>

If the <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a> and the <code>depthStencilAttachmentSamples</code> member of
<a href="cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a> or
<a href="cmdbuffers.html#VkAttachmentSampleCountInfoNV" class="xref page">VkAttachmentSampleCountInfoNV</a> is not 0, it <strong>must</strong> be a valid
<a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09527" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09527"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09527</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and the <code>flags</code> member of
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> includes
<code>VK_PIPELINE_COLOR_BLEND_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_BIT_EXT</code>
<code>subpass</code> <strong>must</strong> have been created with
<code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_COLOR_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09528" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09528"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09528</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
and the <code>flags</code> member of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> includes
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code>,
<code>subpass</code> <strong>must</strong> have been created with
<code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09529" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09529"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09529</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
and the <code>flags</code> member of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> includes
<code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code>,
<code>subpass</code> <strong>must</strong> have been created with
<code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594" href="#VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be equal to <code>stageCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06595" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06595"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06595</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
and
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributesPositionXOnly</code>
is <code>VK_TRUE</code> then
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributes</code> <strong>must</strong>
also be <code>VK_TRUE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06596" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06596"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06596</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, the value of
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributes</code>
specified in both this pipeline and the library <strong>must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06597" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06597"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06597</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, the value of
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributes</code>
specified in both libraries <strong>must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06598" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06598"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06598</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, the value of
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributesPositionXOnly</code>
specified in both this pipeline and the library <strong>must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06599" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06599"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06599</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, the value of
<a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>::<code>perViewAttributesPositionXOnly</code>
specified in both libraries <strong>must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06600" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06600"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06600</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
<code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code>
valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stageCount-09587" href="#VUID-VkGraphicsPipelineCreateInfo-stageCount-09587"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stageCount-09587</span><br>

If the pipeline does not require
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> or <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader    state</a>, <code>stageCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601" href="#VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
and <a href="#pipelines-pRasterizationState-null">related dynamic state is not    set</a>,
<code>pRasterizationState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09039" href="#VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09039"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09039</span><br>

If
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
and
<a href="#pipelines-pMultisampleState-null">related dynamic state is not set</a>,
then <code>pMultisampleState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09040" href="#VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09040"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-09040</span><br>

If <code>pRasterizationState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer
to a valid <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-06602" href="#VUID-VkGraphicsPipelineCreateInfo-layout-06602"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-06602</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06603" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06603"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06603</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    state</a>,
and <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>renderPass</code> <strong>must</strong> be a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stageCount-09530" href="#VUID-VkGraphicsPipelineCreateInfo-stageCount-09530"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stageCount-09530</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>stageCount</code> <strong>must</strong> be greater than
<code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-graphicsPipelineLibrary-06606" href="#VUID-VkGraphicsPipelineCreateInfo-graphicsPipelineLibrary-06606"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-graphicsPipelineLibrary-06606</span><br>

    If the <a href="features.html#features-graphicsPipelineLibrary" class="xref page">    <code>graphicsPipelineLibrary</code></a> feature is not enabled,
and if
    the <a href="features.html#features-shaderMeshEnqueue" class="xref page"><code>shaderMeshEnqueue</code></a> feature is
    not enabled,
    <code>flags</code> <strong>must</strong> not include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06608" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06608"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06608</span><br>


If <a href="features.html#features-shaderMeshEnqueue" class="xref page"><code>shaderMeshEnqueue</code> feature</a> is not
enabled, and
the pipeline is being created with
<a href="#pipelines-graphics-subsets-complete">all possible state subsets</a>,
<code>flags</code> <strong>must</strong> not include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06609" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06609"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06609</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code>, pipeline
libraries included via <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> <strong>must</strong> have
been created with
<code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-09245" href="#VUID-VkGraphicsPipelineCreateInfo-flags-09245"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-09245</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code>,
<code>flags</code> <strong>must</strong> also include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06610" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06610"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06610</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code>,
pipeline libraries included via <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>
<strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06611" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06611"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06611</span><br>

Any pipeline libraries included via
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> <strong>must</strong> not include
any <a href="#pipelines-graphics-subsets">state subset</a> already defined by this
structure or defined by any other pipeline library in
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06612" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06612"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06612</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, and <code>layout</code> was not created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then the
<code>layout</code> used by this pipeline and the library <strong>must</strong> be <em>identically
defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06613" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06613"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06613</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and the
<code>layout</code> specified by either library was not created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then the
<code>layout</code> used by each library <strong>must</strong> be <em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06614" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06614"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06614</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, an element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes the
other subset, and <code>layout</code> was created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then the
<code>layout</code> used by the library <strong>must</strong> also have been created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06615" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06615"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06615</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and the
<code>layout</code> specified by either library was created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then the
<code>layout</code> used by both libraries <strong>must</strong> have been created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06616" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06616"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06616</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, an element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes the
other subset, and <code>layout</code> was created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, elements of
the <code>pSetLayouts</code> array which <code>layout</code> was created with that are
not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> be <em>identically defined</em> to the element
at the same index of <code>pSetLayouts</code> used to create the library&#8217;s
<code>layout</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06617" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06617"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06617</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and the
<code>layout</code> specified by either library was created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, elements of
the <code>pSetLayouts</code> array which either <code>layout</code> was created with
that are not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>must</strong> be <em>identically defined</em> to the
element at the same index of <code>pSetLayouts</code> used to create the other
library&#8217;s <code>layout</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06618" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06618"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06618</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, any descriptor set layout <em>N</em> specified by
<code>layout</code> in both this pipeline and the library which include
bindings accessed by shader stages in each <strong>must</strong> be <em>identically
defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06619" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06619"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06619</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, any
descriptor set layout <em>N</em> specified by <code>layout</code> in both libraries
which include bindings accessed by shader stages in each <strong>must</strong> be
<em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06620" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06620"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06620</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, push constants specified in <code>layout</code> in
both this pipeline and the library which are available to shader stages
in each <strong>must</strong> be <em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06621" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06621"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06621</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, push
constants specified in <code>layout</code> in both this pipeline and the
library which are available to shader stages in each <strong>must</strong> be
<em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06679" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06679"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06679</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, an element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes the
other subset, any element of the <code>pSetLayouts</code> array when
<code>layout</code> was created and the corresponding element of the
<code>pSetLayouts</code> array used to create the library&#8217;s <code>layout</code> <strong>must</strong>
not both be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06681" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06681"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06681</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and any
element of the <code>pSetLayouts</code> array used to create each library&#8217;s
<code>layout</code> was <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, then the corresponding element of
the <code>pSetLayouts</code> array used to create the other library&#8217;s
<code>layout</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06756" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06756"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06756</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, an element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes the
other subset, and any element of the <code>pSetLayouts</code> array which
<code>layout</code> was created with was <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, then the
corresponding element of the <code>pSetLayouts</code> array used to create the
library&#8217;s <code>layout</code> <strong>must</strong> not have shader bindings for shaders in the
other subset</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06757" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06757"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06757</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, an element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes the
other subset, and any element of the <code>pSetLayouts</code> array used to
create the library&#8217;s <code>layout</code> was <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, then the
corresponding element of the <code>pSetLayouts</code> array used to create this
pipeline&#8217;s <code>layout</code> <strong>must</strong> not have shader bindings for shaders in
the other subset</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06758" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06758"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06758</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and any
element of the <code>pSetLayouts</code> array used to create each library&#8217;s
<code>layout</code> was <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, then the corresponding element of
the <code>pSetLayouts</code> array used to create the other library&#8217;s
<code>layout</code> <strong>must</strong> not have shader bindings for shaders in the other
subset</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06682" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06682"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06682</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
both
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, <code>layout</code>
<strong>must</strong> have been created with no elements of the <code>pSetLayouts</code> array
set to <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06683" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06683"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06683</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
<code>pRasterizationState-&gt;rasterizerDiscardEnable</code> is <code>VK_TRUE</code>,
<code>layout</code> <strong>must</strong> have been created with no elements of the
<code>pSetLayouts</code> array set to <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06684" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06684"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06684</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes at
least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and an element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes one of the other flags, the value of <code>subpass</code> <strong>must</strong> be
equal to that used to create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06623" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06623"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06623</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes at least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and another element of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes one of
the other flags, the value of <code>subpass</code> used to create each library
<strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderpass-06624" href="#VUID-VkGraphicsPipelineCreateInfo-renderpass-06624"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderpass-06624</span><br>

If <code>renderpass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes at
least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and an element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes one of the other flags, <code>renderPass</code> <strong>must</strong> be compatible
with that used to create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderpass-06625" href="#VUID-VkGraphicsPipelineCreateInfo-renderpass-06625"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderpass-06625</span><br>

If <code>renderpass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes at
least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and an element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes one of the other flags, the value of <code>renderPass</code> used to
create that library <strong>must</strong> also be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06626" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06626"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06626</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes at
least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>, an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes one of the other flags, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the value of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> used by this
pipeline and that specified by the library <strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06627" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06627"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06627</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes at least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
another element of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes one of
the other flags, and <code>renderPass</code> was <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> for both
libraries, the value of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> set by each library
<strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06628" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06628"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06628</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes at least one of and no more than two of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and another element of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes one of
the other flags, the <code>renderPass</code> objects used to create each
library <strong>must</strong> be compatible or all equal to <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderpass-06631" href="#VUID-VkGraphicsPipelineCreateInfo-renderpass-06631"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderpass-06631</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not enabled
or any of the <code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code>,
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code>, or
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic states is
not set, or <a href="features.html#features-alphaToOne" class="xref page">alphaToOne</a> is enabled on the device
and <code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> is not set,
then <code>pMultisampleState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Input-06632" href="#VUID-VkGraphicsPipelineCreateInfo-Input-06632"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Input-06632</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> with a fragment shader that either enables
<a href="primsrast.html#primsrast-sampleshading" class="xref page">sample shading</a> or decorates any variable in
the <code>Input</code> storage class with <code>Sample</code>,
and the <code><a href="../appendices/extensions.html#VK_EXT_extended_dynamic_state3" class="xref page">VK_EXT_extended_dynamic_state3</a></code> extension is not enabled
or any of the <code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code>,
<code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code>, or
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> dynamic states is
not set, or <a href="features.html#features-alphaToOne" class="xref page">alphaToOne</a> is enabled on the device
and <code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> is not set,
then <code>pMultisampleState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06633" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06633"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06633</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code> with a
<code>pMultisampleState</code> that was not <code>NULL</code>, and an element of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
<code>pMultisampleState</code> <strong>must</strong> be <em>identically defined</em> to that used to
create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06634" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06634"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06634</span><br>

If an element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code> with a
<code>pMultisampleState</code> that was not <code>NULL</code>, and if
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
<code>pMultisampleState</code> <strong>must</strong> be <em>identically defined</em> to that used to
create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06635" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06635"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06635</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code> with a
<code>pMultisampleState</code> that was not <code>NULL</code>, and if a different element
of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> was created
with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
the <code>pMultisampleState</code> used to create each library <strong>must</strong> be
<em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06636" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06636"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06636</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code> and
a value of <code>pMultisampleState-&gt;sampleShadingEnable</code> equal
<code>VK_TRUE</code>, and if a different element of
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, the
<code>pMultisampleState</code> used to create each library <strong>must</strong> be
<em>identically defined</em></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06637" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06637"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06637</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
<code>pMultisampleState-&gt;sampleShadingEnable</code> is <code>VK_TRUE</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> was
created with <code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<code>pMultisampleState</code> <strong>must</strong> be <em>identically defined</em> to that used to
create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-09567" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-09567"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-09567</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
was created with
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code> and
a value of <code>pMultisampleState-&gt;sampleShadingEnable</code> equal
<code>VK_TRUE</code>, and if
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<code>pMultisampleState</code> <strong>must</strong> be <em>identically defined</em> to that used to
create the library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06638" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06638"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06638</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
only one of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and an
element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes the other flag, values specified in
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> for both this
pipeline and that library <strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06639" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06639"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06639</span><br>

If one element of <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>
includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> and
another element includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, values
specified in <a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> for
both this pipeline and that library <strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06640" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06640"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06640</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code>
valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06642" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06642"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06642</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, <code>layout</code>
<strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06643" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06643"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06643</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>, or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>renderPass</code> <strong>must</strong>
be a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06644" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06644"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06644</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> or
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<code>stageCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06645" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06645"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06645</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> is
non-zero, if <code>flags</code> includes
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code>, any
libraries <strong>must</strong> have also been created with
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06646" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06646"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06646</span><br>

If <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes more
than one library, and any library was created with
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code>, all
libraries <strong>must</strong> have also been created with
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pLibraries-06647" href="#VUID-VkGraphicsPipelineCreateInfo-pLibraries-06647"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pLibraries-06647</span><br>

If <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code> includes at
least one library,
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> is non-zero,
and any library was created with
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code>,
<code>flags</code> <strong>must</strong> include
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-07826" href="#VUID-VkGraphicsPipelineCreateInfo-None-07826"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-07826</span><br>

If the pipeline includes a <a href="#pipelines-graphics-subsets-complete">    complete set of state</a>, and there are no libraries included in
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>::<code>pLibraries</code>, then
<a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> <strong>must</strong> be a valid pipeline layout</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07827" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07827"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07827</span><br>

If the pipeline includes a <a href="#pipelines-graphics-subsets-complete">    complete set of state</a> specified entirely by libraries, and each
library was created with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> created without
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then
<code>layout</code> <strong>must</strong> be <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">compatible</a> with
the layouts in those libraries</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06729" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06729"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06729</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code>, the pipeline
includes a <a href="#pipelines-graphics-subsets-complete">complete set of    state</a> specified entirely by libraries, and each library was created
with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then
<code>layout</code> <strong>must</strong> be <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">compatible</a> with
the union of the libraries' pipeline layouts other than the
inclusion/exclusion of
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-06730" href="#VUID-VkGraphicsPipelineCreateInfo-flags-06730"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-06730</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code>, the pipeline
includes a <a href="#pipelines-graphics-subsets-complete">complete set of    state</a> specified entirely by libraries, and each library was created
with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>, then
<code>layout</code> <strong>must</strong> be <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">compatible</a> with
the union of the libraries' pipeline layouts</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-08892" href="#VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-08892"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-08892</span><br>

If <a href="limits.html#limits-conservativePointAndLineRasterization" class="xref page">    <code>conservativePointAndLineRasterization</code></a> is not supported; the
pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>; the pipeline does not include a geometry shader; and the value
of <a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a>::<code>topology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>, or
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code>,
and either <code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> dynamic state is
not enabled or
<a href="limits.html#limits-dynamicPrimitiveTopologyUnrestricted" class="xref page"><code>dynamicPrimitiveTopologyUnrestricted</code></a>
is <code>VK_FALSE</code>,
then
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>
<strong>must</strong> be <code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06760" href="#VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06760"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06760</span><br>

If <a href="limits.html#limits-conservativePointAndLineRasterization" class="xref page">    <code>conservativePointAndLineRasterization</code></a> is not supported, the
pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and the pipeline includes a geometry
shader with either the <code>OutputPoints</code> or <code>OutputLineStrip</code>
execution modes,
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>
<strong>must</strong> be <code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06761" href="#VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06761"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-conservativePointAndLineRasterization-06761</span><br>

If <a href="limits.html#limits-conservativePointAndLineRasterization" class="xref page">    <code>conservativePointAndLineRasterization</code></a> is not supported, the
pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and the pipeline includes a mesh
shader with either the <code>OutputPoints</code> or <code>OutputLinesNV</code> execution
modes,
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>
<strong>must</strong> be <code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06894" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06894"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06894</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> but not
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
elements of <code>pStages</code> <strong>must</strong> not have <code>stage</code> set to
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06895" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06895"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06895</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> but not
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, elements of <code>pStages</code> <strong>must</strong> not have <code>stage</code> set to a
shader stage which participates in pre-rasterization</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06896" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06896"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06896</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, all elements of <code>pStages</code> <strong>must</strong>
have a <code>stage</code> set to a shader stage which participates in
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a> or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-06897" href="#VUID-VkGraphicsPipelineCreateInfo-stage-06897"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stage-06897</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and/or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, any value of <code>stage</code> <strong>must</strong> not be set in more than one
element of <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3TessellationDomainOrigin-07370" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3TessellationDomainOrigin-07370"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3TessellationDomainOrigin-07370</span><br>

If the <a href="features.html#features-extendedDynamicState3TessellationDomainOrigin" class="xref page">    <code>extendedDynamicState3TessellationDomainOrigin</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClampEnable-07371" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClampEnable-07371"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClampEnable-07371</span><br>

If the <a href="features.html#features-extendedDynamicState3DepthClampEnable" class="xref page">    <code>extendedDynamicState3DepthClampEnable</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3PolygonMode-07372" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3PolygonMode-07372"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3PolygonMode-07372</span><br>

If the <a href="features.html#features-extendedDynamicState3PolygonMode" class="xref page">    <code>extendedDynamicState3PolygonMode</code></a> feature is not enabled, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationSamples-07373" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationSamples-07373"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationSamples-07373</span><br>

If the <a href="features.html#features-extendedDynamicState3RasterizationSamples" class="xref page">    <code>extendedDynamicState3RasterizationSamples</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleMask-07374" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleMask-07374"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleMask-07374</span><br>

If the <a href="features.html#features-extendedDynamicState3SampleMask" class="xref page">    <code>extendedDynamicState3SampleMask</code></a> feature is not enabled, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToCoverageEnable-07375" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToCoverageEnable-07375"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToCoverageEnable-07375</span><br>

If the <a href="features.html#features-extendedDynamicState3AlphaToCoverageEnable" class="xref page">    <code>extendedDynamicState3AlphaToCoverageEnable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToOneEnable-07376" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToOneEnable-07376"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3AlphaToOneEnable-07376</span><br>

If the <a href="features.html#features-extendedDynamicState3AlphaToOneEnable" class="xref page">    <code>extendedDynamicState3AlphaToOneEnable</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LogicOpEnable-07377" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LogicOpEnable-07377"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LogicOpEnable-07377</span><br>

If the <a href="features.html#features-extendedDynamicState3LogicOpEnable" class="xref page">    <code>extendedDynamicState3LogicOpEnable</code></a> feature is not enabled, there
<strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEnable-07378" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEnable-07378"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEnable-07378</span><br>

If the <a href="features.html#features-extendedDynamicState3ColorBlendEnable" class="xref page">    <code>extendedDynamicState3ColorBlendEnable</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEquation-07379" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEquation-07379"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendEquation-07379</span><br>

If the <a href="features.html#features-extendedDynamicState3ColorBlendEquation" class="xref page">    <code>extendedDynamicState3ColorBlendEquation</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorWriteMask-07380" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorWriteMask-07380"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorWriteMask-07380</span><br>

If the <a href="features.html#features-extendedDynamicState3ColorWriteMask" class="xref page">    <code>extendedDynamicState3ColorWriteMask</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationStream-07381" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationStream-07381"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RasterizationStream-07381</span><br>

If the <a href="features.html#features-extendedDynamicState3RasterizationStream" class="xref page">    <code>extendedDynamicState3RasterizationStream</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ConservativeRasterizationMode-07382" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ConservativeRasterizationMode-07382"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ConservativeRasterizationMode-07382</span><br>

If the <a href="features.html#features-extendedDynamicState3ConservativeRasterizationMode" class="xref page">    <code>extendedDynamicState3ConservativeRasterizationMode</code></a> feature is
not enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code>
member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ExtraPrimitiveOverestimationSize-07383" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ExtraPrimitiveOverestimationSize-07383"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ExtraPrimitiveOverestimationSize-07383</span><br>

If the <a href="features.html#features-extendedDynamicState3ExtraPrimitiveOverestimationSize" class="xref page">    <code>extendedDynamicState3ExtraPrimitiveOverestimationSize</code></a> feature is
not enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code>
member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-09639" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-09639"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-09639</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>pDynamicState</code> includes
<code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code>, and
<code>pDynamicState</code> does not include
<code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code>,
<code>pRasterizationState</code> <strong>must</strong> include a
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a> in its
<code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipEnable-07384" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipEnable-07384"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipEnable-07384</span><br>

If the <a href="features.html#features-extendedDynamicState3DepthClipEnable" class="xref page">    <code>extendedDynamicState3DepthClipEnable</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleLocationsEnable-07385" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleLocationsEnable-07385"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3SampleLocationsEnable-07385</span><br>

If the <a href="features.html#features-extendedDynamicState3SampleLocationsEnable" class="xref page">    <code>extendedDynamicState3SampleLocationsEnable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendAdvanced-07386" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendAdvanced-07386"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ColorBlendAdvanced-07386</span><br>

If the <a href="features.html#features-extendedDynamicState3ColorBlendAdvanced" class="xref page">    <code>extendedDynamicState3ColorBlendAdvanced</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ProvokingVertexMode-07387" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ProvokingVertexMode-07387"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ProvokingVertexMode-07387</span><br>

If the <a href="features.html#features-extendedDynamicState3ProvokingVertexMode" class="xref page">    <code>extendedDynamicState3ProvokingVertexMode</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineRasterizationMode-07388" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineRasterizationMode-07388"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineRasterizationMode-07388</span><br>

If the <a href="features.html#features-extendedDynamicState3LineRasterizationMode" class="xref page">    <code>extendedDynamicState3LineRasterizationMode</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineStippleEnable-07389" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineStippleEnable-07389"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3LineStippleEnable-07389</span><br>

If the <a href="features.html#features-extendedDynamicState3LineStippleEnable" class="xref page">    <code>extendedDynamicState3LineStippleEnable</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipNegativeOneToOne-07390" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipNegativeOneToOne-07390"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3DepthClipNegativeOneToOne-07390</span><br>

If the <a href="features.html#features-extendedDynamicState3DepthClipNegativeOneToOne" class="xref page">    <code>extendedDynamicState3DepthClipNegativeOneToOne</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportWScalingEnable-07391" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportWScalingEnable-07391"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportWScalingEnable-07391</span><br>

If the <a href="features.html#features-extendedDynamicState3ViewportWScalingEnable" class="xref page">    <code>extendedDynamicState3ViewportWScalingEnable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportSwizzle-07392" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportSwizzle-07392"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ViewportSwizzle-07392</span><br>

If the <a href="features.html#features-extendedDynamicState3ViewportSwizzle" class="xref page">    <code>extendedDynamicState3ViewportSwizzle</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorEnable-07393" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorEnable-07393"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorEnable-07393</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageToColorEnable" class="xref page">    <code>extendedDynamicState3CoverageToColorEnable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorLocation-07394" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorLocation-07394"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageToColorLocation-07394</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageToColorLocation" class="xref page">    <code>extendedDynamicState3CoverageToColorLocation</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationMode-07395" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationMode-07395"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationMode-07395</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageModulationMode" class="xref page">    <code>extendedDynamicState3CoverageModulationMode</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTableEnable-07396" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTableEnable-07396"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTableEnable-07396</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageModulationTableEnable" class="xref page">    <code>extendedDynamicState3CoverageModulationTableEnable</code></a> feature is
not enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code>
member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTable-07397" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTable-07397"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageModulationTable-07397</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageModulationTable" class="xref page">    <code>extendedDynamicState3CoverageModulationTable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageReductionMode-07398" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageReductionMode-07398"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3CoverageReductionMode-07398</span><br>

If the <a href="features.html#features-extendedDynamicState3CoverageReductionMode" class="xref page">    <code>extendedDynamicState3CoverageReductionMode</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RepresentativeFragmentTestEnable-07399" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RepresentativeFragmentTestEnable-07399"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3RepresentativeFragmentTestEnable-07399</span><br>

If the <a href="features.html#features-extendedDynamicState3RepresentativeFragmentTestEnable" class="xref page">    <code>extendedDynamicState3RepresentativeFragmentTestEnable</code></a> feature is
not enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code>
member of <code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ShadingRateImageEnable-07400" href="#VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ShadingRateImageEnable-07400"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-extendedDynamicState3ShadingRateImageEnable-07400</span><br>

If the <a href="features.html#features-extendedDynamicState3ShadingRateImageEnable" class="xref page">    <code>extendedDynamicState3ShadingRateImageEnable</code></a> feature is not
enabled, there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07401" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07401"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07401</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07997" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07997"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07997</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07730" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07730"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07730</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_VIEWPORT</code> or
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code>, and if
<a href="features.html#features-multiviewPerViewViewports" class="xref page"><code>multiviewPerViewViewports</code></a>
is enabled, then the index of the most significant bit in each element
of <a href="renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> <strong>must</strong> be less
than <code>pViewportState-&gt;viewportCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07731" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07731"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-07731</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_SCISSOR</code> or
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code>, and if
<a href="features.html#features-multiviewPerViewViewports" class="xref page"><code>multiviewPerViewViewports</code></a>
is enabled, then the index of the most significant bit in each element
of <a href="renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> <strong>must</strong> be less
than <code>pViewportState-&gt;scissorCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-08711" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-08711"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-08711</span><br>

If <code>pStages</code> includes a fragment shader stage,
<code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code> is not set in
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>, and the
fragment shader declares the <code>EarlyFragmentTests</code> execution mode and
uses <code>OpDepthAttachmentReadEXT</code>, the <code>depthWriteEnable</code> member of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> <strong>must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-08712" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-08712"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-08712</span><br>

If <code>pStages</code> includes a fragment shader stage,
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> is not set in
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>, and the
fragment shader declares the <code>EarlyFragmentTests</code> execution mode and
uses <code>OpStencilAttachmentReadEXT</code>, the value of
<a href="fragops.html#VkStencilOpState" class="xref page">VkStencilOpState</a>::<code>writeMask</code> for both <code>front</code> and
<code>back</code> in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-08744" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-08744"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-08744</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the pipeline enables <a href="primsrast.html#primsrast-sampleshading" class="xref page">sample shading</a>,
<code>rasterizationSamples</code> is not dynamic, and the <code>pNext</code> chain
includes a <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a> structure,
<code>rasterizationSamples</code> <strong>must</strong> be a valid <a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a>
value that is set in <code>imageCreateSampleCounts</code> (as defined in
<a href="resources.html#resources-image-creation-limits" class="xref page">Image Creation Limits</a>) for every
element of <code>depthAttachmentFormat</code>, <code>stencilAttachmentFormat</code>
and the <code>pColorAttachmentFormats</code> array which is not
<code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08897" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08897"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08897</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_VERTEX_INPUT_INTERFACE_BIT_EXT</code>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is specified either in a library or by the inclusion of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
and that state includes a vertex shader stage in <code>pStages</code>, the
pipeline <strong>must</strong> define <a href="#pipelines-graphics-subsets-vertex-input">vertex    input state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08898" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08898"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08898</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_VERTEX_INPUT_INTERFACE_BIT_EXT</code>, and
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is not specified, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08899" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08899"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08899</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is specified either in a library or by the inclusion of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
and that state includes a vertex shader stage in <code>pStages</code>, the
pipeline <strong>must</strong> either define <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a> or include that state in a linked pipeline library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08900" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08900"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08900</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code> the
pipeline <strong>must</strong> define <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08901" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08901"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08901</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>, the pipeline <strong>must</strong> either
define <a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization    shader state</a> or include that state in a linked pipeline library</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08903" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08903"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08903</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is specified either in a library or by the inclusion of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
and that state
either includes <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> or
has <code>pRasterizationState-&gt;rasterizerDiscardEnable</code> set to
<code>VK_FALSE</code>, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08904" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08904"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08904</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is not specified, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08906" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08906"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08906</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is specified either in a library or by the inclusion of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>,
and that state
either includes <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> or
has <code>pRasterizationState-&gt;rasterizerDiscardEnable</code> set to
<code>VK_FALSE</code>, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08907" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08907"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08907</span><br>

If <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>::<code>flags</code> includes
<code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code>, and
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is not specified, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-08909" href="#VUID-VkGraphicsPipelineCreateInfo-flags-08909"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-08909</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> is specified either in a library or by the inclusion of
<code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>,
and that state
either includes <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> or
has <code>pRasterizationState-&gt;rasterizerDiscardEnable</code> set to
<code>VK_FALSE</code>, the pipeline <strong>must</strong> define
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a> and <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a> or include those states in linked pipeline libraries</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-09043" href="#VUID-VkGraphicsPipelineCreateInfo-None-09043"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-09043</span><br>

If
<code>pDynamicState-&gt;pDynamicStates</code> does not include
<code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code>, and
the format of any color attachment is
<code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>, the <code>colorWriteMask</code> member
of the corresponding element of <code>pColorBlendState-&gt;pAttachments</code>
<strong>must</strong> either include all of <code>VK_COLOR_COMPONENT_R_BIT</code>,
<code>VK_COLOR_COMPONENT_G_BIT</code>, and <code>VK_COLOR_COMPONENT_B_BIT</code>, or
none of them</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09301" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09301"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09301</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09304" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09304"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09304</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, and
<code>rasterizationSamples</code> is not dynamic,
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>
<strong>must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09305" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09305"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09305</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, and
<code>blendEnable</code> is not dynamic, the <code>blendEnable</code> member of each
element of <code>pColorBlendState-&gt;pAttachments</code> <strong>must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09306" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09306"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09306</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, and
<code>pDynamicState-&gt;pDynamicStates</code> does not include
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>width</code> <strong>must</strong>
be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09307" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09307"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09307</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, and
<code>pDynamicState-&gt;pDynamicStates</code> does not include
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>height</code>
<strong>must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09308" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09308"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09308</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, the last
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    stage</a> <strong>must</strong> not statically use a variable with the
<code>PrimitiveShadingRateKHR</code> built-in</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09309" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09309"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09309</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code> <strong>must</strong> be
<code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09310" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09310"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09310</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>::<code>externalFormat</code> is not <code>0</code>, the
fragment shader <strong>must</strong> not declare the <code>DepthReplacing</code> or
<code>StencilRefReplacingEXT</code> execution modes</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09313" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09313"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09313</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code>
includes an external format resolve attachment, and
<code>rasterizationSamples</code> is not dynamic,
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>
<strong>must</strong> be <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09314" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09314"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09314</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code>
includes an external format resolve attachment, and <code>blendEnable</code> is
not dynamic, the <code>blendEnable</code> member of each element of
<code>pColorBlendState-&gt;pAttachments</code> <strong>must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09315" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09315"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09315</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code>
includes an external format resolve attachment, and
<code>pDynamicState-&gt;pDynamicStates</code> does not include
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>width</code> <strong>must</strong>
be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09316" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09316"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09316</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code>
includes an external format resolve attachment, and
<code>pDynamicState-&gt;pDynamicStates</code> does not include
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code>,
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>::<code>height</code>
<strong>must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09317" href="#VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09317"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-externalFormatResolve-09317</span><br>

If the <a href="features.html#features-externalFormatResolve" class="xref page"><code>externalFormatResolve</code></a>
feature is enabled, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
and <code>subpass</code> includes an external format resolve attachment, the
last <a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization    shader stage</a> <strong>must</strong> not statically use a variable with the
<code>PrimitiveShadingRateKHR</code> built-in</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09531" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09531"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09531</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <a href="#pipelines-graphics-subsets-fragment-output">fragment output    state</a>, the value of <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="interfaces.html#VkRenderingInputAttachmentIndexInfoKHR" class="xref page">VkRenderingInputAttachmentIndexInfoKHR</a> is included,
<a href="interfaces.html#VkRenderingInputAttachmentIndexInfoKHR" class="xref page">VkRenderingInputAttachmentIndexInfoKHR</a>::<code>colorAttachmentCount</code>
<strong>must</strong> be equal to
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09652" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09652"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09652</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <a href="#pipelines-graphics-subsets-fragment-output">fragment output    state</a>, the value of <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="interfaces.html#VkRenderingInputAttachmentIndexInfoKHR" class="xref page">VkRenderingInputAttachmentIndexInfoKHR</a> is not included, the
fragment shader <strong>must</strong> not contain any input attachments with a
<code>InputAttachmentIndex</code> greater than or equal to
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09532" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09532"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09532</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-output">fragment output state</a>,
and the value of <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="interfaces.html#VkRenderingAttachmentLocationInfoKHR" class="xref page">VkRenderingAttachmentLocationInfoKHR</a>::<code>colorAttachmentCount</code>
<strong>must</strong> be equal to
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sType-sType" href="#VUID-VkGraphicsPipelineCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pNext-pNext" href="#VUID-VkGraphicsPipelineCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a>, <a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a>, <a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>, <a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>, <a href="renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a>, <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>, <a href="#VkPipelineCompilerControlCreateInfoAMD">VkPipelineCompilerControlCreateInfoAMD</a>, <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>, <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>, <a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a>, <a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>, <a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>, <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>, <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>, <a href="fragops.html#VkPipelineRepresentativeFragmentTestStateCreateInfoNV" class="xref page">VkPipelineRepresentativeFragmentTestStateCreateInfoNV</a>, <a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a>, <a href="interfaces.html#VkRenderingAttachmentLocationInfoKHR" class="xref page">VkRenderingAttachmentLocationInfoKHR</a>, or <a href="interfaces.html#VkRenderingInputAttachmentIndexInfoKHR" class="xref page">VkRenderingInputAttachmentIndexInfoKHR</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sType-unique" href="#VUID-VkGraphicsPipelineCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter</span><br>
 If <code>pDynamicState</code> is not <code>NULL</code>, <code>pDynamicState</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-commonparent" href="#VUID-VkGraphicsPipelineCreateInfo-commonparent"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-commonparent</span><br>
 Each of <code>basePipelineHandle</code>, <code>layout</code>, and <code>renderPass</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineRenderingCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineRenderingCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineRenderingCreateInfo {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           viewMask;
    uint32_t           colorAttachmentCount;
    const VkFormat*    pColorAttachmentFormats;
    VkFormat           depthAttachmentFormat;
    VkFormat           stencilAttachmentFormat;
} VkPipelineRenderingCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineRenderingCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_dynamic_rendering
typedef VkPipelineRenderingCreateInfo VkPipelineRenderingCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>viewMask</code> is the viewMask used for rendering.</p>
</li>
<li>
<p><code>colorAttachmentCount</code> is the number of entries in
<code>pColorAttachmentFormats</code></p>
</li>
<li>
<p><code>pColorAttachmentFormats</code> is a pointer to an array of <a href="formats.html#VkFormat" class="xref page">VkFormat</a>
values defining the format of color attachments used in this pipeline.</p>
</li>
<li>
<p><code>depthAttachmentFormat</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value defining the
format of the depth attachment used in this pipeline.</p>
</li>
<li>
<p><code>stencilAttachmentFormat</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value defining the
format of the stencil attachment used in this pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pipeline is created without a <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>, if the <code>pNext</code>
chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> includes this structure, it
specifies the view mask and format of attachments used for rendering.
If this structure is not specified, and the pipeline does not include a
<a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>, <code>viewMask</code> and <code>colorAttachmentCount</code> are <code>0</code>,
and <code>depthAttachmentFormat</code> and <code>stencilAttachmentFormat</code> are
<code>VK_FORMAT_UNDEFINED</code>.
If a graphics pipeline is created with a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>,
parameters of this structure are ignored.</p>
</div>
<div class="paragraph">
<p>If <code>depthAttachmentFormat</code>, <code>stencilAttachmentFormat</code>, or any
element of <code>pColorAttachmentFormats</code> is <code>VK_FORMAT_UNDEFINED</code>, it
indicates that the corresponding attachment is unused within the render
pass.
Valid formats indicate that an attachment <strong>can</strong> be used - but it is still
valid to set the attachment to <code>NULL</code> when beginning rendering.</p>
</div>
<div class="paragraph">
<p>If the render pass is going to be used with an external format resolve
attachment, a <a href="resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a> structure <strong>must</strong> also be included
in the <code>pNext</code> chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, defining the
external format of the resolve attachment that will be used.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533" href="#VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533"></a> <span class="vuid">VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533</span><br>

<code>colorAttachmentCount</code> <strong>must</strong> be less than or equal to
<a href="limits.html#limits-maxColorAttachments" class="xref page"><code>maxColorAttachments</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRenderingCreateInfo-sType-sType" href="#VUID-VkPipelineRenderingCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineRenderingCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RENDERING_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCreateFlags2CreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreateFlags2CreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_maintenance5
typedef struct VkPipelineCreateFlags2CreateInfoKHR {
    VkStructureType              sType;
    const void*                  pNext;
    VkPipelineCreateFlags2KHR    flags;
} VkPipelineCreateFlags2CreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>
specifying how a pipeline will be generated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is included in the <code>pNext</code> chain of a pipeline
creation structure, <code>flags</code> is used instead of the corresponding
<code>flags</code> value passed in that creation structure, allowing additional
creation flags to be specified.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCreateFlags2CreateInfoKHR-sType-sType" href="#VUID-VkPipelineCreateFlags2CreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineCreateFlags2CreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CREATE_FLAGS_2_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-parameter" href="#VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-parameter"></a> <span class="vuid">VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-requiredbitmask" href="#VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-requiredbitmask"></a> <span class="vuid">VUID-VkPipelineCreateFlags2CreateInfoKHR-flags-requiredbitmask</span><br>
 <code>flags</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code>, specifying how a
pipeline is created, are:</p>
</div>
<div id="VkPipelineCreateFlagBits2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_maintenance5
// Flag bits for VkPipelineCreateFlagBits2KHR
typedef VkFlags64 VkPipelineCreateFlagBits2KHR;
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DISABLE_OPTIMIZATION_BIT_KHR = 0x00000001ULL;
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_ALLOW_DERIVATIVES_BIT_KHR = 0x00000002ULL;
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DERIVATIVE_BIT_KHR = 0x00000004ULL;
#ifdef VK_ENABLE_BETA_EXTENSIONS
// Provided by VK_KHR_maintenance5 with VK_AMDX_shader_enqueue
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX = 0x100000000ULL;
#endif
// Provided by VK_EXT_legacy_dithering with (VK_KHR_dynamic_rendering or VK_VERSION_1_3) and VK_KHR_maintenance5
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT = 0x400000000ULL;
// Provided by VK_KHR_maintenance5 with VK_VERSION_1_1 or VK_KHR_device_group
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR = 0x00000008ULL;
// Provided by VK_KHR_maintenance5 with VK_VERSION_1_1 or VK_KHR_device_group
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DISPATCH_BASE_BIT_KHR = 0x00000010ULL;
// Provided by VK_KHR_maintenance5 with VK_NV_ray_tracing
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DEFER_COMPILE_BIT_NV = 0x00000020ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_pipeline_executable_properties
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_CAPTURE_STATISTICS_BIT_KHR = 0x00000040ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_pipeline_executable_properties
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR = 0x00000080ULL;
// Provided by VK_KHR_maintenance5 with VK_VERSION_1_3 or VK_EXT_pipeline_creation_cache_control
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_KHR = 0x00000100ULL;
// Provided by VK_KHR_maintenance5 with VK_VERSION_1_3 or VK_EXT_pipeline_creation_cache_control
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_EARLY_RETURN_ON_FAILURE_BIT_KHR = 0x00000200ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_graphics_pipeline_library
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT = 0x00000400ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_graphics_pipeline_library
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT = 0x00800000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_pipeline_library
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_LIBRARY_BIT_KHR = 0x00000800ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR = 0x00001000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_AABBS_BIT_KHR = 0x00002000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR = 0x00004000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR = 0x00008000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR = 0x00010000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR = 0x00020000ULL;
// Provided by VK_KHR_maintenance5 with VK_KHR_ray_tracing_pipeline
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR = 0x00080000ULL;
// Provided by VK_KHR_maintenance5 with VK_NV_device_generated_commands
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_NV = 0x00040000ULL;
// Provided by VK_KHR_maintenance5 with VK_NV_ray_tracing_motion_blur
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_ALLOW_MOTION_BIT_NV = 0x00100000ULL;
// Provided by VK_KHR_maintenance5 with (VK_KHR_dynamic_rendering or VK_VERSION_1_3) and VK_KHR_fragment_shading_rate
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR = 0x00200000ULL;
// Provided by VK_KHR_maintenance5 with (VK_KHR_dynamic_rendering or VK_VERSION_1_3) and VK_EXT_fragment_density_map
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT = 0x00400000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_opacity_micromap
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT = 0x01000000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_attachment_feedback_loop_layout
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT = 0x02000000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_attachment_feedback_loop_layout
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT = 0x04000000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_pipeline_protected_access
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_NO_PROTECTED_ACCESS_BIT_EXT = 0x08000000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_pipeline_protected_access
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_PROTECTED_ACCESS_ONLY_BIT_EXT = 0x40000000ULL;
// Provided by VK_KHR_maintenance5 with VK_NV_displacement_micromap
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV = 0x10000000ULL;
// Provided by VK_KHR_maintenance5 with VK_EXT_descriptor_buffer
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_DESCRIPTOR_BUFFER_BIT_EXT = 0x20000000ULL;
// Provided by VK_KHR_pipeline_binary
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR = 0x80000000ULL;
// Provided by VK_EXT_device_generated_commands
static const VkPipelineCreateFlagBits2KHR VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT = 0x4000000000ULL;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_DISABLE_OPTIMIZATION_BIT_KHR</code> specifies that
the created pipeline will not be optimized.
Using this flag <strong>may</strong> reduce the time taken to create the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_ALLOW_DERIVATIVES_BIT_KHR</code> specifies that the
pipeline to be created is allowed to be the parent of a pipeline that
will be created in a subsequent pipeline creation call.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DERIVATIVE_BIT_KHR</code> specifies that the
pipeline to be created will be a child of a previously created parent
pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code>
specifies that any shader input variables decorated as <code>ViewIndex</code>
will be assigned values as if they were decorated as <code>DeviceIndex</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DISPATCH_BASE_BIT_KHR</code> specifies that a
compute pipeline <strong>can</strong> be used with <a href="dispatch.html#vkCmdDispatchBase" class="xref page">vkCmdDispatchBase</a> with a
non-zero base workgroup.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DEFER_COMPILE_BIT_NV</code> specifies that a
pipeline is created with all shaders in the deferred state.
Before using the pipeline the application <strong>must</strong> call
<a href="#vkCompileDeferredNV">vkCompileDeferredNV</a> exactly once on each shader in the pipeline
before using the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_STATISTICS_BIT_KHR</code> specifies that the
shader compiler should capture statistics for the pipeline executables
produced by the compile process which <strong>can</strong> later be retrieved by calling
<a href="#vkGetPipelineExecutableStatisticsKHR">vkGetPipelineExecutableStatisticsKHR</a>.
Enabling this flag <strong>must</strong> not affect the final compiled pipeline but <strong>may</strong>
disable pipeline caching or otherwise affect pipeline creation time.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code>
specifies that the shader compiler should capture the internal
representations of pipeline executables produced by the compile process
which <strong>can</strong> later be retrieved by calling
<a href="#vkGetPipelineExecutableInternalRepresentationsKHR">vkGetPipelineExecutableInternalRepresentationsKHR</a>.
Enabling this flag <strong>must</strong> not affect the final compiled pipeline but <strong>may</strong>
disable pipeline caching or otherwise affect pipeline creation time.
When capturing IR from pipelines created with pipeline libraries, there
is no guarantee that IR from libraries <strong>can</strong> be retrieved from the linked
pipeline.
Applications <strong>should</strong> retrieve IR from each library, and any linked
pipelines, separately.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_LIBRARY_BIT_KHR</code> specifies that the pipeline
    <strong>cannot</strong> be used directly, and instead defines a <em>pipeline library</em> that
    <strong>can</strong> be combined with other pipelines using the
    <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> structure.
    This is available in
ray tracing
and
graphics
    pipelines.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code>
specifies that an any-hit shader will always be present when an any-hit
shader would be executed.
A NULL any-hit shader is an any-hit shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>
specifies that a closest hit shader will always be present when a
closest hit shader would be executed.
A NULL closest hit shader is a closest hit shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code>
specifies that a miss shader will always be present when a miss shader
would be executed.
A NULL miss shader is a miss shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code>
specifies that an intersection shader will always be present when an
intersection shader would be executed.
A NULL intersection shader is an intersection shader which is
effectively <code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group
consisting entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code> specifies
that triangle primitives will be skipped during traversal using
<a href="../appendices/glossary.html#glossary-pipeline-trace-ray" class="xref page">pipeline trace ray</a> instructions.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_AABBS_BIT_KHR</code> specifies that
AABB primitives will be skipped during traversal using
<a href="../appendices/glossary.html#glossary-pipeline-trace-ray" class="xref page">pipeline trace ray</a> instructions.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>
specifies that the shader group handles <strong>can</strong> be saved and reused on a
subsequent run (e.g. for trace capture and replay).</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_NV</code> specifies that the
pipeline can be used in combination with <a href="device_generated_commands/generatedcommands.html#device-generated-commands" class="xref page">Device-Generated Commands</a>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code> specifies that the
pipeline <strong>can</strong> be used in a <code>VkIndirectExecutionSetEXT</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_KHR</code>
specifies that pipeline creation will fail if a compile is required for
creation of a valid <a href="#VkPipeline">VkPipeline</a> object;
<code>VK_PIPELINE_COMPILE_REQUIRED</code> will be returned by pipeline
creation, and the <a href="#VkPipeline">VkPipeline</a> will be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p>When creating multiple pipelines,
<code>VK_PIPELINE_CREATE_2_EARLY_RETURN_ON_FAILURE_BIT_KHR</code> specifies
that control will be returned to the application if any individual
pipeline returns a result which is not <code>VK_SUCCESS</code> rather than
continuing to create additional pipelines.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_ALLOW_MOTION_BIT_NV</code> specifies
that the pipeline is allowed to use <code>OpTraceRayMotionNV</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code>
specifies that the pipeline will be used with a fragment shading rate
attachment.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code>
specifies that the pipeline will be used with a fragment density map
attachment.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT</code> specifies that
pipeline libraries being linked into this library <strong>should</strong> have link time
optimizations applied.
If this bit is omitted, implementations <strong>should</strong> instead perform linking
as rapidly as possible.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code>
specifies that pipeline libraries should retain any information
necessary to later perform an optimal link with
<code>VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DESCRIPTOR_BUFFER_BIT_EXT</code> specifies that a
pipeline will be used with <a href="descriptorsets.html#descriptorbuffers" class="xref page">descriptor buffers</a>,
rather than <a href="descriptorsets.html#descriptorsets" class="xref page">descriptor sets</a>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
specifies that the pipeline <strong>may</strong> be used with an attachment feedback
loop including color attachments.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
specifies that the pipeline <strong>may</strong> be used with an attachment feedback
loop including depth-stencil attachments.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code>
specifies that the ray tracing pipeline <strong>can</strong> be used with acceleration
structures which reference an opacity micromap array.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code>
specifies that the ray tracing pipeline <strong>can</strong> be used with acceleration
structures which reference a displacement micromap array.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_NO_PROTECTED_ACCESS_BIT_EXT</code> specifies that
the pipeline <strong>must</strong> not be bound to a protected command buffer.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_PROTECTED_ACCESS_ONLY_BIT_EXT</code> specifies that
the pipeline <strong>must</strong> not be bound to an unprotected command buffer.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> specifies that
<code>VkPipelineBinaryKHR</code> objects <strong>can</strong> be created from the pipeline.
If <code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> is used,
implementations <strong>should</strong> not store pipeline data to an internal cache, if
such a cache exists as stated by
<a href="limits.html#limits-pipelineBinaryInternalCache" class="xref page"><code>pipelineBinaryInternalCache</code></a>.
If
<a href="limits.html#limits-pipelineBinaryPrefersInternalCache" class="xref page"><code>pipelineBinaryPrefersInternalCache</code></a>
is <code>VK_TRUE</code>, applications <strong>should</strong> not use
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT</code> specifies
that the pipeline will be used in a render pass that is begun with
<code>VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code> specifies that the
pipeline will be used in an <a href="executiongraphs.html#executiongraphs" class="xref page">execution graph</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is valid to set both <code>VK_PIPELINE_CREATE_2_ALLOW_DERIVATIVES_BIT_KHR</code>
and <code>VK_PIPELINE_CREATE_2_DERIVATIVE_BIT_KHR</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a> for more
information.</p>
</div>
<div class="paragraph">
<p>When an implementation is looking up a pipeline in a
<a href="#pipelines-cache">pipeline cache</a>, if that pipeline is being created using
linked libraries, implementations <strong>should</strong> always return an equivalent
pipeline created with
<code>VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT</code> if available,
whether or not that bit was specified.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using <code>VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT</code> (or not)
when linking pipeline libraries is intended as a performance tradeoff
between host and device.
If the bit is omitted, linking should be faster and produce a pipeline more
rapidly, but performance of the pipeline on the target device may be
reduced.
If the bit is included, linking may be slower but should produce a pipeline
with device performance comparable to a monolithically created pipeline.
Using both options can allow latency-sensitive applications to generate a
suboptimal but usable pipeline quickly, and then perform an optimal link in
the background, substituting the result for the suboptimally linked pipeline
as soon as it is available.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreateFlags2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_maintenance5
typedef VkFlags64 VkPipelineCreateFlags2KHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreateFlags2KHR</code> is a bitmask type for setting a mask of zero
or more <a href="#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>flags</code></p>
</li>
<li>
<p><a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>::<code>flags</code></p>
</li>
<li>
<p><a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>flags</code></p>
</li>
<li>
<p><a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>flags</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>specify how a pipeline is created, and are:</p>
</div>
<div id="VkPipelineCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineCreateFlagBits {
    VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT = 0x00000001,
    VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT = 0x00000002,
    VK_PIPELINE_CREATE_DERIVATIVE_BIT = 0x00000004,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT = 0x00000008,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_DISPATCH_BASE_BIT = 0x00000010,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT = 0x00000100,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT = 0x00000200,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR = 0x00004000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR = 0x00008000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR = 0x00010000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR = 0x00020000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR = 0x00001000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR = 0x00002000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR = 0x00080000,
  // Provided by VK_NV_ray_tracing
    VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV = 0x00000020,
  // Provided by VK_EXT_fragment_density_map with VK_VERSION_1_3 or VK_KHR_dynamic_rendering
    VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT = 0x00400000,
  // Provided by VK_KHR_fragment_shading_rate with VK_VERSION_1_3 or VK_KHR_dynamic_rendering
    VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR = 0x00200000,
  // Provided by VK_KHR_pipeline_executable_properties
    VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR = 0x00000040,
  // Provided by VK_KHR_pipeline_executable_properties
    VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR = 0x00000080,
  // Provided by VK_NV_device_generated_commands
    VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV = 0x00040000,
  // Provided by VK_KHR_pipeline_library
    VK_PIPELINE_CREATE_LIBRARY_BIT_KHR = 0x00000800,
  // Provided by VK_EXT_descriptor_buffer
    VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT = 0x20000000,
  // Provided by VK_EXT_graphics_pipeline_library
    VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT = 0x00800000,
  // Provided by VK_EXT_graphics_pipeline_library
    VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT = 0x00000400,
  // Provided by VK_NV_ray_tracing_motion_blur
    VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV = 0x00100000,
  // Provided by VK_EXT_attachment_feedback_loop_layout
    VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT = 0x02000000,
  // Provided by VK_EXT_attachment_feedback_loop_layout
    VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT = 0x04000000,
  // Provided by VK_EXT_opacity_micromap
    VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT = 0x01000000,
#ifdef VK_ENABLE_BETA_EXTENSIONS
  // Provided by VK_NV_displacement_micromap
    VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV = 0x10000000,
#endif
  // Provided by VK_EXT_pipeline_protected_access
    VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT = 0x08000000,
  // Provided by VK_EXT_pipeline_protected_access
    VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT = 0x40000000,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_DISPATCH_BASE = VK_PIPELINE_CREATE_DISPATCH_BASE_BIT,
  // Provided by VK_KHR_device_group
    VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR = VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT,
  // Provided by VK_KHR_device_group
    VK_PIPELINE_CREATE_DISPATCH_BASE_KHR = VK_PIPELINE_CREATE_DISPATCH_BASE,
  // Provided by VK_EXT_fragment_density_map with VK_VERSION_1_3 or VK_KHR_dynamic_rendering
  // VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT is a deprecated alias
    VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT = VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT,
  // Provided by VK_KHR_fragment_shading_rate with VK_VERSION_1_3 or VK_KHR_dynamic_rendering
  // VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR is a deprecated alias
    VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR = VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR,
  // Provided by VK_EXT_pipeline_creation_cache_control
    VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT = VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT,
  // Provided by VK_EXT_pipeline_creation_cache_control
    VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT_EXT = VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT,
} VkPipelineCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT</code> specifies that the
created pipeline will not be optimized.
Using this flag <strong>may</strong> reduce the time taken to create the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> specifies that the
pipeline to be created is allowed to be the parent of a pipeline that
will be created in a subsequent pipeline creation call.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> specifies that the pipeline to
be created will be a child of a previously created parent pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT</code> specifies that
any shader input variables decorated as <code>ViewIndex</code> will be assigned
values as if they were decorated as <code>DeviceIndex</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE</code> specifies that a compute pipeline
<strong>can</strong> be used with <a href="dispatch.html#vkCmdDispatchBase" class="xref page">vkCmdDispatchBase</a> with a non-zero base
workgroup.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code> specifies that a pipeline
is created with all shaders in the deferred state.
Before using the pipeline the application <strong>must</strong> call
<a href="#vkCompileDeferredNV">vkCompileDeferredNV</a> exactly once on each shader in the pipeline
before using the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR</code> specifies that the
shader compiler should capture statistics for the pipeline executables
produced by the compile process which <strong>can</strong> later be retrieved by calling
<a href="#vkGetPipelineExecutableStatisticsKHR">vkGetPipelineExecutableStatisticsKHR</a>.
Enabling this flag <strong>must</strong> not affect the final compiled pipeline but <strong>may</strong>
disable pipeline caching or otherwise affect pipeline creation time.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code>
specifies that the shader compiler should capture the internal
representations of pipeline executables produced by the compile process
which <strong>can</strong> later be retrieved by calling
<a href="#vkGetPipelineExecutableInternalRepresentationsKHR">vkGetPipelineExecutableInternalRepresentationsKHR</a>.
Enabling this flag <strong>must</strong> not affect the final compiled pipeline but <strong>may</strong>
disable pipeline caching or otherwise affect pipeline creation time.
When capturing IR from pipelines created with pipeline libraries, there
is no guarantee that IR from libraries <strong>can</strong> be retrieved from the linked
pipeline.
Applications <strong>should</strong> retrieve IR from each library, and any linked
pipelines, separately.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> specifies that the pipeline
    <strong>cannot</strong> be used directly, and instead defines a <em>pipeline library</em> that
    <strong>can</strong> be combined with other pipelines using the
    <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> structure.
    This is available in
ray tracing
and
graphics
    pipelines.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code>
specifies that an any-hit shader will always be present when an any-hit
shader would be executed.
A NULL any-hit shader is an any-hit shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>
specifies that a closest hit shader will always be present when a
closest hit shader would be executed.
A NULL closest hit shader is a closest hit shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code>
specifies that a miss shader will always be present when a miss shader
would be executed.
A NULL miss shader is a miss shader which is effectively
<code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group consisting
entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code>
specifies that an intersection shader will always be present when an
intersection shader would be executed.
A NULL intersection shader is an intersection shader which is
effectively <code>VK_SHADER_UNUSED_KHR</code>, such as from a shader group
consisting entirely of zeros.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code> specifies
that triangle primitives will be skipped during traversal using
<a href="../appendices/glossary.html#glossary-pipeline-trace-ray" class="xref page">pipeline trace ray</a> instructions.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code> specifies that
AABB primitives will be skipped during traversal using
<a href="../appendices/glossary.html#glossary-pipeline-trace-ray" class="xref page">pipeline trace ray</a> instructions.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>
specifies that the shader group handles <strong>can</strong> be saved and reused on a
subsequent run (e.g. for trace capture and replay).</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code> specifies that the
pipeline <strong>can</strong> be used in combination with <a href="device_generated_commands/generatedcommands.html#device-generated-commands" class="xref page">Device-Generated Commands</a>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> specifies
that pipeline creation will fail if a compile is required for creation
of a valid <a href="#VkPipeline">VkPipeline</a> object; <code>VK_PIPELINE_COMPILE_REQUIRED</code>
will be returned by pipeline creation, and the <a href="#VkPipeline">VkPipeline</a> will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p>When creating multiple pipelines,
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code> specifies that
control will be returned to the application if any individual pipeline
returns a result which is not <code>VK_SUCCESS</code> rather than continuing to
create additional pipelines.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code> specifies that
the pipeline is allowed to use <code>OpTraceRayMotionNV</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code>
specifies that the pipeline will be used with a fragment shading rate
attachment and dynamic rendering.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code>
specifies that the pipeline will be used with a fragment density map
attachment and dynamic rendering.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> specifies that
pipeline libraries being linked into this library <strong>should</strong> have link time
optimizations applied.
If this bit is omitted, implementations <strong>should</strong> instead perform linking
as rapidly as possible.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code>
specifies that pipeline libraries should retain any information
necessary to later perform an optimal link with
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> specifies that a
pipeline will be used with <a href="descriptorsets.html#descriptorbuffers" class="xref page">descriptor buffers</a>,
rather than <a href="descriptorsets.html#descriptorsets" class="xref page">descriptor sets</a>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
specifies that the pipeline <strong>may</strong> be used with an attachment feedback
loop including color attachments.
It is ignored if
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code> is set in
<code>pDynamicStates</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
specifies that the pipeline <strong>may</strong> be used with an attachment feedback
loop including depth-stencil attachments.
It is ignored if
<code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code> is set in
<code>pDynamicStates</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code> specifies
that the ray tracing pipeline <strong>can</strong> be used with acceleration structures
which reference an opacity micromap array.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code>
specifies that the ray tracing pipeline <strong>can</strong> be used with acceleration
structures which reference a displacement micromap array.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code> specifies that the
pipeline <strong>must</strong> not be bound to a protected command buffer.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code> specifies that
the pipeline <strong>must</strong> not be bound to an unprotected command buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is valid to set both <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> and
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a> for more
information.</p>
</div>
<div class="paragraph">
<p>When an implementation is looking up a pipeline in a
<a href="#pipelines-cache">pipeline cache</a>, if that pipeline is being created using
linked libraries, implementations <strong>should</strong> always return an equivalent
pipeline created with
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> if available,
whether or not that bit was specified.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using <code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> (or not) when
linking pipeline libraries is intended as a performance tradeoff between
host and device.
If the bit is omitted, linking should be faster and produce a pipeline more
rapidly, but performance of the pipeline on the target device may be
reduced.
If the bit is included, linking may be slower but should produce a pipeline
with device performance comparable to a monolithically created pipeline.
Using both options can allow latency-sensitive applications to generate a
suboptimal but usable pipeline quickly, and then perform an optimal link in
the background, substituting the result for the suboptimally linked pipeline
as soon as it is available.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryInfoKHR {
    VkStructureType               sType;
    const void*                   pNext;
    uint32_t                      binaryCount;
    const VkPipelineBinaryKHR*    pPipelineBinaries;
} VkPipelineBinaryInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>binaryCount</code> is the number of elements in the
<code>pPipelineBinaries</code> array.</p>
</li>
<li>
<p><code>pPipelineBinaries</code> is a pointer to an array of
<a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>VkPipelineBinaryInfoKHR</code> structure with a <code>binaryCount</code>
greater than 0 is included in the <code>pNext</code> chain of any
<code>Vk*PipelineCreateInfo</code> structure when creating a pipeline,
implementations <strong>must</strong> use the data in <code>pPipelineBinaries</code> instead of
recalculating it.
Any shader module identifiers or shader modules declared in
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> instances are ignored.</p>
</div>
<div class="paragraph">
<p>If this structure is not included in the <code>pNext</code> chain, it is equivalent
to specifying this structure with a <code>binaryCount</code> of <code>0</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryInfoKHR-binaryCount-09603" href="#VUID-VkPipelineBinaryInfoKHR-binaryCount-09603"></a> <span class="vuid">VUID-VkPipelineBinaryInfoKHR-binaryCount-09603</span><br>

<code>binaryCount</code> and the order of the elements in
<code>pPipelineBinaries</code> <strong>must</strong> exactly match that returned by
<a href="#vkCreatePipelineBinariesKHR">vkCreatePipelineBinariesKHR</a> for the matching
<code>Vk*PipelineCreateInfo</code> structure and its <code>pNext</code> chain,
ignoring the presence of the <code>VkPipelineBinaryInfoKHR</code> structure,
the presence of the <code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code>
flag, and absence of any shader module identifiers or shader modules,
for the same <a href="#global-pipeline-key">global pipeline key</a>, from either:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineBinaryCreateInfoKHR">VkPipelineBinaryCreateInfoKHR</a>::<code>pPipelineCreateInfo</code>, or</p>
</li>
<li>
<p><a href="#VkPipelineBinaryCreateInfoKHR">VkPipelineBinaryCreateInfoKHR</a>::<code>pipeline</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryInfoKHR-sType-sType" href="#VUID-VkPipelineBinaryInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineBinaryInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_BINARY_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryInfoKHR-pPipelineBinaries-parameter" href="#VUID-VkPipelineBinaryInfoKHR-pPipelineBinaries-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryInfoKHR-pPipelineBinaries-parameter</span><br>
 If <code>binaryCount</code> is not <code>0</code>, <code>pPipelineBinaries</code> <strong>must</strong> be a valid pointer to an array of <code>binaryCount</code> valid <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsPipelineLibraryCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkGraphicsPipelineLibraryCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_graphics_pipeline_library
typedef struct VkGraphicsPipelineLibraryCreateInfoEXT {
    VkStructureType                      sType;
    const void*                          pNext;
    VkGraphicsPipelineLibraryFlagsEXT    flags;
} VkGraphicsPipelineLibraryCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkGraphicsPipelineLibraryFlagBitsEXT">VkGraphicsPipelineLibraryFlagBitsEXT</a>
specifying the subsets of the graphics pipeline that are being compiled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>VkGraphicsPipelineLibraryCreateInfoEXT</code> structure is included in
the <code>pNext</code> chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, it specifies
the <a href="#pipelines-graphics-subsets">subsets of the graphics pipeline</a> being
created, excluding any subsets from linked pipeline libraries.
If the pipeline is created with pipeline libraries, state from those
libraries is aggregated with said subset.</p>
</div>
<div class="paragraph">
<p>If this structure is omitted, and either
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>flags</code> includes
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> or the
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pNext</code> chain includes a
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> structure with a <code>libraryCount</code>
greater than <code>0</code>, it is as if <code>flags</code> is <code>0</code>.
Otherwise if this structure is omitted, it is as if <code>flags</code> includes all
possible subsets of the graphics pipeline (i.e. a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineLibraryCreateInfoEXT-sType-sType" href="#VUID-VkGraphicsPipelineLibraryCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkGraphicsPipelineLibraryCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_LIBRARY_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-parameter" href="#VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-parameter"></a> <span class="vuid">VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkGraphicsPipelineLibraryFlagBitsEXT">VkGraphicsPipelineLibraryFlagBitsEXT</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-requiredbitmask" href="#VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-requiredbitmask"></a> <span class="vuid">VUID-VkGraphicsPipelineLibraryCreateInfoEXT-flags-requiredbitmask</span><br>
 <code>flags</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkGraphicsPipelineLibraryFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_graphics_pipeline_library
typedef VkFlags VkGraphicsPipelineLibraryFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkGraphicsPipelineLibraryFlagsEXT</code> is a bitmask type for setting a mask
of zero or more <a href="#VkGraphicsPipelineLibraryFlagBitsEXT">VkGraphicsPipelineLibraryFlagBitsEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkGraphicsPipelineLibraryCreateInfoEXT">VkGraphicsPipelineLibraryCreateInfoEXT</a>, specifying the subsets of a
graphics pipeline to compile are:</p>
</div>
<div id="VkGraphicsPipelineLibraryFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_graphics_pipeline_library
typedef enum VkGraphicsPipelineLibraryFlagBitsEXT {
    VK_GRAPHICS_PIPELINE_LIBRARY_VERTEX_INPUT_INTERFACE_BIT_EXT = 0x00000001,
    VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT = 0x00000002,
    VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT = 0x00000004,
    VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT = 0x00000008,
} VkGraphicsPipelineLibraryFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_GRAPHICS_PIPELINE_LIBRARY_VERTEX_INPUT_INTERFACE_BIT_EXT</code>
specifies that a pipeline will include
<a href="#pipelines-graphics-subsets-vertex-input">vertex input interface    state</a>.</p>
</li>
<li>
<p><code>VK_GRAPHICS_PIPELINE_LIBRARY_PRE_RASTERIZATION_SHADERS_BIT_EXT</code>
specifies that a pipeline will include
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>.</p>
</li>
<li>
<p><code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_SHADER_BIT_EXT</code> specifies
that a pipeline will include
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>.</p>
</li>
<li>
<p><code>VK_GRAPHICS_PIPELINE_LIBRARY_FRAGMENT_OUTPUT_INTERFACE_BIT_EXT</code>
specifies that a pipeline will include
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDynamicStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineDynamicStateCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineDynamicStateCreateInfo {
    VkStructureType                      sType;
    const void*                          pNext;
    VkPipelineDynamicStateCreateFlags    flags;
    uint32_t                             dynamicStateCount;
    const VkDynamicState*                pDynamicStates;
} VkPipelineDynamicStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dynamicStateCount</code> is the number of elements in the
<code>pDynamicStates</code> array.</p>
</li>
<li>
<p><code>pDynamicStates</code> is a pointer to an array of <a href="#VkDynamicState">VkDynamicState</a>
values specifying which pieces of pipeline state will use the values
from dynamic state commands rather than from pipeline state creation
information.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442</span><br>

Each element of <code>pDynamicStates</code> <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-sType-sType" href="#VUID-VkPipelineDynamicStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter</span><br>
 If <code>dynamicStateCount</code> is not <code>0</code>, <code>pDynamicStates</code> <strong>must</strong> be a valid pointer to an array of <code>dynamicStateCount</code> valid <a href="#VkDynamicState">VkDynamicState</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDynamicStateCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineDynamicStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDynamicStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The source of different pieces of dynamic state is specified by the
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code> property of the
currently active pipeline, each of whose elements <strong>must</strong> be one of the
values:</p>
</div>
<div id="VkDynamicState" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkDynamicState {
    VK_DYNAMIC_STATE_VIEWPORT = 0,
    VK_DYNAMIC_STATE_SCISSOR = 1,
    VK_DYNAMIC_STATE_LINE_WIDTH = 2,
    VK_DYNAMIC_STATE_DEPTH_BIAS = 3,
    VK_DYNAMIC_STATE_BLEND_CONSTANTS = 4,
    VK_DYNAMIC_STATE_DEPTH_BOUNDS = 5,
    VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK = 6,
    VK_DYNAMIC_STATE_STENCIL_WRITE_MASK = 7,
    VK_DYNAMIC_STATE_STENCIL_REFERENCE = 8,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_CULL_MODE = 1000267000,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_FRONT_FACE = 1000267001,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY = 1000267002,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT = 1000267003,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT = 1000267004,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE = 1000267005,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE = 1000267006,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE = 1000267007,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_COMPARE_OP = 1000267008,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE = 1000267009,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE = 1000267010,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_STENCIL_OP = 1000267011,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE = 1000377001,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE = 1000377002,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE = 1000377004,
  // Provided by VK_NV_clip_space_w_scaling
    VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV = 1000087000,
  // Provided by VK_EXT_discard_rectangles
    VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT = 1000099000,
  // Provided by VK_EXT_discard_rectangles
    VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT = 1000099001,
  // Provided by VK_EXT_discard_rectangles
    VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT = 1000099002,
  // Provided by VK_EXT_sample_locations
    VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT = 1000143000,
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR = 1000347000,
  // Provided by VK_NV_shading_rate_image
    VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV = 1000164004,
  // Provided by VK_NV_shading_rate_image
    VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV = 1000164006,
  // Provided by VK_NV_scissor_exclusive
    VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV = 1000205000,
  // Provided by VK_NV_scissor_exclusive
    VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV = 1000205001,
  // Provided by VK_KHR_fragment_shading_rate
    VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR = 1000226000,
  // Provided by VK_EXT_vertex_input_dynamic_state
    VK_DYNAMIC_STATE_VERTEX_INPUT_EXT = 1000352000,
  // Provided by VK_EXT_extended_dynamic_state2
    VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT = 1000377000,
  // Provided by VK_EXT_extended_dynamic_state2
    VK_DYNAMIC_STATE_LOGIC_OP_EXT = 1000377003,
  // Provided by VK_EXT_color_write_enable
    VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT = 1000381000,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT = 1000455003,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_POLYGON_MODE_EXT = 1000455004,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT = 1000455005,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_SAMPLE_MASK_EXT = 1000455006,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT = 1000455007,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT = 1000455008,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT = 1000455009,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT = 1000455010,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT = 1000455011,
  // Provided by VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT = 1000455012,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_KHR_maintenance2 or VK_VERSION_1_1
    VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT = 1000455002,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_EXT_transform_feedback
    VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT = 1000455013,
  // Provided by VK_EXT_conservative_rasterization with VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT = 1000455014,
  // Provided by VK_EXT_conservative_rasterization with VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT = 1000455015,
  // Provided by VK_EXT_depth_clip_enable with VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT = 1000455016,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_EXT_sample_locations
    VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT = 1000455017,
  // Provided by VK_EXT_blend_operation_advanced with VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT = 1000455018,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_EXT_provoking_vertex
    VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT = 1000455019,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_EXT_line_rasterization
    VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT = 1000455020,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_EXT_line_rasterization
    VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT = 1000455021,
  // Provided by VK_EXT_depth_clip_control with VK_EXT_extended_dynamic_state3
    VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT = 1000455022,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_clip_space_w_scaling
    VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV = 1000455023,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_viewport_swizzle
    VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV = 1000455024,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_fragment_coverage_to_color
    VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV = 1000455025,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_fragment_coverage_to_color
    VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV = 1000455026,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_framebuffer_mixed_samples
    VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV = 1000455027,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_framebuffer_mixed_samples
    VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV = 1000455028,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_framebuffer_mixed_samples
    VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV = 1000455029,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_shading_rate_image
    VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV = 1000455030,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_representative_fragment_test
    VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV = 1000455031,
  // Provided by VK_EXT_extended_dynamic_state3 with VK_NV_coverage_reduction_mode
    VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV = 1000455032,
  // Provided by VK_EXT_attachment_feedback_loop_dynamic_state
    VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT = 1000524000,
  // Provided by VK_KHR_line_rasterization
    VK_DYNAMIC_STATE_LINE_STIPPLE_KHR = 1000259000,
  // Provided by VK_EXT_depth_clamp_control
    VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT = 1000582000,
  // Provided by VK_EXT_line_rasterization
    VK_DYNAMIC_STATE_LINE_STIPPLE_EXT = VK_DYNAMIC_STATE_LINE_STIPPLE_KHR,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_CULL_MODE_EXT = VK_DYNAMIC_STATE_CULL_MODE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_FRONT_FACE_EXT = VK_DYNAMIC_STATE_FRONT_FACE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY_EXT = VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT_EXT = VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT_EXT = VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE_EXT = VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE_EXT = VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE_EXT = VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_DEPTH_COMPARE_OP_EXT = VK_DYNAMIC_STATE_DEPTH_COMPARE_OP,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE_EXT = VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE_EXT = VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state
    VK_DYNAMIC_STATE_STENCIL_OP_EXT = VK_DYNAMIC_STATE_STENCIL_OP,
  // Provided by VK_EXT_extended_dynamic_state2
    VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE_EXT = VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state2
    VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE_EXT = VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE,
  // Provided by VK_EXT_extended_dynamic_state2
    VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE_EXT = VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE,
} VkDynamicState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT</code> specifies that the <code>pViewports</code>
state in <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetViewport" class="xref page">vkCmdSetViewport</a> before any drawing
commands.
The number of viewports used by a pipeline is still specified by the
<code>viewportCount</code> member of <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR</code> specifies that the <code>pScissors</code> state
in <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetScissor" class="xref page">vkCmdSetScissor</a> before any drawing commands.
The number of scissor rectangles used by a pipeline is still specified
by the <code>scissorCount</code> member of
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_WIDTH</code> specifies that the <code>lineWidth</code>
state in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetLineWidth" class="xref page">vkCmdSetLineWidth</a> before any
drawing commands that generate line primitives for the rasterizer.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> specifies that
    any instance of <a href="primsrast.html#VkDepthBiasRepresentationInfoEXT" class="xref page">VkDepthBiasRepresentationInfoEXT</a> included in the
    <code>pNext</code> chain of <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> as
    well as
    the <code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code> and
    <code>depthBiasSlopeFactor</code> states in
    <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
    be set dynamically with <a href="primsrast.html#vkCmdSetDepthBias" class="xref page">vkCmdSetDepthBias</a>
or <a href="primsrast.html#vkCmdSetDepthBias2EXT" class="xref page">vkCmdSetDepthBias2EXT</a>
    before any draws are performed with <a href="primsrast.html#primsrast-depthbias-enable" class="xref page">depth    bias enabled</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> specifies that the
<code>blendConstants</code> state in <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="framebuffer.html#vkCmdSetBlendConstants" class="xref page">vkCmdSetBlendConstants</a> before any draws are performed with a
pipeline state with <code>VkPipelineColorBlendAttachmentState</code> member
<code>blendEnable</code> set to <code>VK_TRUE</code> and any of the blend functions
using a constant blend color.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> specifies that the
<code>minDepthBounds</code> and <code>maxDepthBounds</code> states of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthBounds" class="xref page">vkCmdSetDepthBounds</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>depthBoundsTestEnable</code> set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> specifies that the
<code>compareMask</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a>
for both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilCompareMask" class="xref page">vkCmdSetStencilCompareMask</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> specifies that the
<code>writeMask</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> for
both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilWriteMask" class="xref page">vkCmdSetStencilWriteMask</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> specifies that the
<code>reference</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> for
both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilReference" class="xref page">vkCmdSetStencilReference</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code> specifies that the
<code>pViewportWScalings</code> state in
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetViewportWScalingNV" class="xref page">vkCmdSetViewportWScalingNV</a> before
any draws are performed with a pipeline state with
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a> member
<code>viewportScalingEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code> specifies that the
<code>pDiscardRectangles</code> state in
<a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetDiscardRectangleEXT" class="xref page">vkCmdSetDiscardRectangleEXT</a> before
any draw or clear commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code> specifies that the
presence of the <a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a>
structure in the <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> chain with a
<code>discardRectangleCount</code> greater than zero does not implicitly enable
discard rectangles and they <strong>must</strong> be enabled dynamically with
<a href="fragops.html#vkCmdSetDiscardRectangleEnableEXT" class="xref page">vkCmdSetDiscardRectangleEnableEXT</a> before any draw commands.
This is available on implementations that support at least
<code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_EXT_discard_rectangles" class="xref page">VK_EXT_discard_rectangles</a></code>
extension.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code> specifies that the
<code>discardRectangleMode</code> state in
<a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetDiscardRectangleModeEXT" class="xref page">vkCmdSetDiscardRectangleModeEXT</a>
before any draw commands.
This is available on implementations that support at least
<code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_EXT_discard_rectangles" class="xref page">VK_EXT_discard_rectangles</a></code>
extension.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> specifies that the
<code>sampleLocationsInfo</code> state in
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetSampleLocationsEXT" class="xref page">vkCmdSetSampleLocationsEXT</a> before
any draw or clear commands.
Enabling custom sample locations is still indicated by the
<code>sampleLocationsEnable</code> member of
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code> specifies that the
<code>pExclusiveScissors</code> state in
<a href="fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV" class="xref page">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetExclusiveScissorNV" class="xref page">vkCmdSetExclusiveScissorNV</a> before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV</code> specifies that the
exclusive scissors <strong>must</strong> be explicitly enabled with
<a href="fragops.html#vkCmdSetExclusiveScissorEnableNV" class="xref page">vkCmdSetExclusiveScissorEnableNV</a> and the
<code>exclusiveScissorCount</code> value in
<a href="fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV" class="xref page">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a> will not
implicitly enable them.
This is available on implementations that support at least
<code>specVersion</code> <code>2</code> of the <code><a href="../appendices/extensions.html#VK_NV_scissor_exclusive" class="xref page">VK_NV_scissor_exclusive</a></code> extension.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV</code> specifies that
the <code>pShadingRatePalettes</code> state in
<a href="primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV" class="xref page">VkPipelineViewportShadingRateImageStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetViewportShadingRatePaletteNV" class="xref page">vkCmdSetViewportShadingRatePaletteNV</a> before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV</code> specifies that
the coarse sample order state in
<a href="primsrast.html#VkPipelineViewportCoarseSampleOrderStateCreateInfoNV" class="xref page">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetCoarseSampleOrderNV" class="xref page">vkCmdSetCoarseSampleOrderNV</a> before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_STIPPLE_EXT</code> specifies that the
<code>lineStippleFactor</code> and <code>lineStipplePattern</code> state in
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetLineStippleKHR" class="xref page">vkCmdSetLineStippleKHR</a> before any
draws are performed with a pipeline state with
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> member
<code>stippledLineEnable</code> set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_CULL_MODE</code> specifies that the <code>cullMode</code> state
in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetCullMode" class="xref page">vkCmdSetCullMode</a> before any drawing
commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_FRONT_FACE</code> specifies that the <code>frontFace</code>
state in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetFrontFace" class="xref page">vkCmdSetFrontFace</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> specifies that the
<code>topology</code> state in <a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a>
only specifies the <a href="drawing.html#drawing-primitive-topology-class" class="xref page">topology class</a>,
and the specific topology order and adjacency <strong>must</strong> be set dynamically
with <a href="drawing.html#vkCmdSetPrimitiveTopology" class="xref page">vkCmdSetPrimitiveTopology</a> before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> specifies that the
<code>viewportCount</code> and <code>pViewports</code> state in
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be set
dynamically with <a href="vertexpostproc.html#vkCmdSetViewportWithCount" class="xref page">vkCmdSetViewportWithCount</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> specifies that the
<code>scissorCount</code> and <code>pScissors</code> state in
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be set
dynamically with <a href="vertexpostproc.html#vkCmdSetScissorWithCount" class="xref page">vkCmdSetScissorWithCount</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code> specifies that the
<code>stride</code> state in <a href="fxvertex.html#VkVertexInputBindingDescription" class="xref page">VkVertexInputBindingDescription</a> will be
ignored and <strong>must</strong> be set dynamically with <a href="fxvertex.html#vkCmdBindVertexBuffers2" class="xref page">vkCmdBindVertexBuffers2</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code> specifies that the
<code>depthTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthTestEnable" class="xref page">vkCmdSetDepthTestEnable</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code> specifies that the
<code>depthWriteEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthWriteEnable" class="xref page">vkCmdSetDepthWriteEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code> specifies that the
<code>depthCompareOp</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthCompareOp" class="xref page">vkCmdSetDepthCompareOp</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code> specifies that the
<code>depthBoundsTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthBoundsTestEnable" class="xref page">vkCmdSetDepthBoundsTestEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code> specifies that the
<code>stencilTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetStencilTestEnable" class="xref page">vkCmdSetStencilTestEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_OP</code> specifies that the <code>failOp</code>,
<code>passOp</code>, <code>depthFailOp</code>, and <code>compareOp</code> states in
<code>VkPipelineDepthStencilStateCreateInfo</code> for both <code>front</code> and
<code>back</code> will be ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetStencilOp" class="xref page">vkCmdSetStencilOp</a> before any draws are performed with a pipeline
state with <code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code> specifies that the
<code>patchControlPoints</code> state in
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="shaders.html#vkCmdSetPatchControlPointsEXT" class="xref page">vkCmdSetPatchControlPointsEXT</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> specifies that the
<code>rasterizerDiscardEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="primsrast.html#vkCmdSetRasterizerDiscardEnable" class="xref page">vkCmdSetRasterizerDiscardEnable</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code> specifies that the
<code>depthBiasEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="primsrast.html#vkCmdSetDepthBiasEnable" class="xref page">vkCmdSetDepthBiasEnable</a> before any drawing
commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code> specifies that the <code>logicOp</code>
state in <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="framebuffer.html#vkCmdSetLogicOpEXT" class="xref page">vkCmdSetLogicOpEXT</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code> specifies that the
<code>primitiveRestartEnable</code> state in
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="drawing.html#vkCmdSetPrimitiveRestartEnable" class="xref page">vkCmdSetPrimitiveRestartEnable</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> specifies that state in
<a href="primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>
and <a href="primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetFragmentShadingRateKHR" class="xref page">vkCmdSetFragmentShadingRateKHR</a>
or <a href="primsrast.html#vkCmdSetFragmentShadingRateEnumNV" class="xref page">vkCmdSetFragmentShadingRateEnumNV</a>
before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code> specifies
that the default stack size computation for the pipeline will be ignored
and <strong>must</strong> be set dynamically with
<a href="#vkCmdSetRayTracingPipelineStackSizeKHR">vkCmdSetRayTracingPipelineStackSizeKHR</a> before any ray tracing
calls are performed.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VERTEX_INPUT_EXT</code> specifies that the
<code>pVertexInputState</code> state will be ignored and <strong>must</strong> be set
dynamically with <a href="fxvertex.html#vkCmdSetVertexInputEXT" class="xref page">vkCmdSetVertexInputEXT</a> before any drawing
commands</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT</code> specifies that the
<code>pColorWriteEnables</code> state in
<a href="framebuffer.html#VkPipelineColorWriteCreateInfoEXT" class="xref page">VkPipelineColorWriteCreateInfoEXT</a> will be ignored and <strong>must</strong> be set
dynamically with <a href="framebuffer.html#vkCmdSetColorWriteEnableEXT" class="xref page">vkCmdSetColorWriteEnableEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT</code> specifies that the
<code>domainOrigin</code> state in
<a href="tessellation.html#VkPipelineTessellationDomainOriginStateCreateInfo" class="xref page">VkPipelineTessellationDomainOriginStateCreateInfo</a> will be ignored
and <strong>must</strong> be set dynamically with
<a href="tessellation.html#vkCmdSetTessellationDomainOriginEXT" class="xref page">vkCmdSetTessellationDomainOriginEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code> specifies that the
<code>depthClampEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="vertexpostproc.html#vkCmdSetDepthClampEnableEXT" class="xref page">vkCmdSetDepthClampEnableEXT</a> before any
draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code> specifies that the
<code>polygonMode</code> state in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetPolygonModeEXT" class="xref page">vkCmdSetPolygonModeEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> specifies that the
<code>rasterizationSamples</code> state in
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="primsrast.html#vkCmdSetRasterizationSamplesEXT" class="xref page">vkCmdSetRasterizationSamplesEXT</a> before any
draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code> specifies that the
<code>pSampleMask</code> state in <a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetSampleMaskEXT" class="xref page">vkCmdSetSampleMaskEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code> specifies that the
<code>alphaToCoverageEnable</code> state in
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetAlphaToCoverageEnableEXT" class="xref page">vkCmdSetAlphaToCoverageEnableEXT</a> before any
draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code> specifies that the
<code>alphaToOneEnable</code> state in
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetAlphaToOneEnableEXT" class="xref page">vkCmdSetAlphaToOneEnableEXT</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code> specifies that the
<code>logicOpEnable</code> state in <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="framebuffer.html#vkCmdSetLogicOpEnableEXT" class="xref page">vkCmdSetLogicOpEnableEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code> specifies that the
<code>blendEnable</code> state in <a href="framebuffer.html#VkPipelineColorBlendAttachmentState" class="xref page">VkPipelineColorBlendAttachmentState</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="framebuffer.html#vkCmdSetColorBlendEnableEXT" class="xref page">vkCmdSetColorBlendEnableEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code> specifies that the
<code>srcColorBlendFactor</code>, <code>dstColorBlendFactor</code>,
<code>colorBlendOp</code>, <code>srcAlphaBlendFactor</code>,
<code>dstAlphaBlendFactor</code>, and <code>alphaBlendOp</code> states in
<a href="framebuffer.html#VkPipelineColorBlendAttachmentState" class="xref page">VkPipelineColorBlendAttachmentState</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="framebuffer.html#vkCmdSetColorBlendEquationEXT" class="xref page">vkCmdSetColorBlendEquationEXT</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code> specifies that the
<code>colorWriteMask</code> state in <a href="framebuffer.html#VkPipelineColorBlendAttachmentState" class="xref page">VkPipelineColorBlendAttachmentState</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="framebuffer.html#vkCmdSetColorWriteMaskEXT" class="xref page">vkCmdSetColorWriteMaskEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code> specifies that the
<code>rasterizationStream</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateStreamCreateInfoEXT" class="xref page">VkPipelineRasterizationStateStreamCreateInfoEXT</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetRasterizationStreamEXT" class="xref page">vkCmdSetRasterizationStreamEXT</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code> specifies
that the <code>conservativeRasterizationMode</code> state in
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetConservativeRasterizationModeEXT" class="xref page">vkCmdSetConservativeRasterizationModeEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code> specifies
that the <code>extraPrimitiveOverestimationSize</code> state in
<a href="primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT" class="xref page">vkCmdSetExtraPrimitiveOverestimationSizeEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT</code> specifies that the
<code>depthClipEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT" class="xref page">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetDepthClipEnableEXT" class="xref page">vkCmdSetDepthClipEnableEXT</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> specifies that the
<code>sampleLocationsEnable</code> state in
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetSampleLocationsEnableEXT" class="xref page">vkCmdSetSampleLocationsEnableEXT</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code> specifies that the
<code>colorBlendOp</code> state in <a href="framebuffer.html#VkPipelineColorBlendAttachmentState" class="xref page">VkPipelineColorBlendAttachmentState</a>,
and <code>srcPremultiplied</code>, <code>dstPremultiplied</code>, and
<code>blendOverlap</code> states in
<a href="framebuffer.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT" class="xref page">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="framebuffer.html#vkCmdSetColorBlendAdvancedEXT" class="xref page">vkCmdSetColorBlendAdvancedEXT</a> before
any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT</code> specifies that the
<code>provokingVertexMode</code> state in
<a href="vertexpostproc.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT" class="xref page">VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="vertexpostproc.html#vkCmdSetProvokingVertexModeEXT" class="xref page">vkCmdSetProvokingVertexModeEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> specifies that the
<code>lineRasterizationMode</code> state in
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetLineRasterizationModeEXT" class="xref page">vkCmdSetLineRasterizationModeEXT</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> specifies that the
<code>stippledLineEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationLineStateCreateInfoKHR" class="xref page">VkPipelineRasterizationLineStateCreateInfoKHR</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetLineStippleEnableEXT" class="xref page">vkCmdSetLineStippleEnableEXT</a> before
any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT</code> specifies that
the <code>negativeOneToOne</code> state in
<a href="vertexpostproc.html#VkPipelineViewportDepthClipControlCreateInfoEXT" class="xref page">VkPipelineViewportDepthClipControlCreateInfoEXT</a> will be ignored
and <strong>must</strong> be set dynamically with
<a href="vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT" class="xref page">vkCmdSetDepthClipNegativeOneToOneEXT</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT</code> specifies that the
<code>depthClampMode</code> and <code>pDepthClampRange</code> state in
<a href="fragops.html#VkPipelineViewportDepthClampControlCreateInfoEXT" class="xref page">VkPipelineViewportDepthClampControlCreateInfoEXT</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetDepthClampRangeEXT" class="xref page">vkCmdSetDepthClampRangeEXT</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV</code> specifies that the
<code>viewportWScalingEnable</code> state in
<a href="vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetViewportWScalingEnableNV" class="xref page">vkCmdSetViewportWScalingEnableNV</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV</code> specifies that the
<code>viewportCount</code>, and <code>pViewportSwizzles</code> states in
<a href="vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV" class="xref page">VkPipelineViewportSwizzleStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetViewportSwizzleNV" class="xref page">vkCmdSetViewportSwizzleNV</a> before any
draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV</code> specifies that the
<code>coverageToColorEnable</code> state in
<a href="fragops.html#VkPipelineCoverageToColorStateCreateInfoNV" class="xref page">VkPipelineCoverageToColorStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetCoverageToColorEnableNV" class="xref page">vkCmdSetCoverageToColorEnableNV</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV</code> specifies that the
<code>coverageToColorLocation</code> state in
<a href="fragops.html#VkPipelineCoverageToColorStateCreateInfoNV" class="xref page">VkPipelineCoverageToColorStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetCoverageToColorLocationNV" class="xref page">vkCmdSetCoverageToColorLocationNV</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV</code> specifies that the
<code>coverageModulationMode</code> state in
<a href="fragops.html#VkPipelineCoverageModulationStateCreateInfoNV" class="xref page">VkPipelineCoverageModulationStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetCoverageModulationModeNV" class="xref page">vkCmdSetCoverageModulationModeNV</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV</code> specifies
that the <code>coverageModulationTableEnable</code> state in
<a href="fragops.html#VkPipelineCoverageModulationStateCreateInfoNV" class="xref page">VkPipelineCoverageModulationStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetCoverageModulationTableEnableNV" class="xref page">vkCmdSetCoverageModulationTableEnableNV</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV</code> specifies that the
<code>coverageModulationTableCount</code>, and <code>pCoverageModulationTable</code>
states in <a href="fragops.html#VkPipelineCoverageModulationStateCreateInfoNV" class="xref page">VkPipelineCoverageModulationStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetCoverageModulationTableNV" class="xref page">vkCmdSetCoverageModulationTableNV</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV</code> specifies that the
<code>shadingRateImageEnable</code> state in
<a href="primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV" class="xref page">VkPipelineViewportShadingRateImageStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="primsrast.html#vkCmdSetShadingRateImageEnableNV" class="xref page">vkCmdSetShadingRateImageEnableNV</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV</code> specifies
that the <code>representativeFragmentTestEnable</code> state in
<a href="fragops.html#VkPipelineRepresentativeFragmentTestStateCreateInfoNV" class="xref page">VkPipelineRepresentativeFragmentTestStateCreateInfoNV</a> will be
ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV" class="xref page">vkCmdSetRepresentativeFragmentTestEnableNV</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV</code> specifies that the
<code>coverageReductionMode</code> state in
<a href="fragops.html#VkPipelineCoverageReductionStateCreateInfoNV" class="xref page">VkPipelineCoverageReductionStateCreateInfoNV</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="fragops.html#vkCmdSetCoverageReductionModeNV" class="xref page">vkCmdSetCoverageReductionModeNV</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code> specifies
that the <code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
and
<code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code>
flags will be ignored and <strong>must</strong> be set dynamically with
<a href="renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT" class="xref page">vkCmdSetAttachmentFeedbackLoopEnableEXT</a> before any draw call.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valid_combinations_of_stages_for_graphics_pipelines"><a class="anchor" href="#_valid_combinations_of_stages_for_graphics_pipelines"></a>Valid Combinations of Stages for Graphics Pipelines</h3>
<div class="paragraph">
<p>Primitive processing can be handled either on a per primitive basis by the
vertex, tessellation, and geometry shader stages, or on a per mesh basis
using task and mesh shader stages.
If the pipeline includes a mesh shader stage, it uses the mesh pipeline,
otherwise it uses the primitive pipeline.</p>
</div>
<div class="paragraph">
<p>If a task shader is omitted, the task shading stage is skipped.</p>
</div>
<div class="paragraph">
<p>If tessellation shader stages are omitted, the tessellation shading and
fixed-function stages of the pipeline are skipped.</p>
</div>
<div class="paragraph">
<p>If a geometry shader is omitted, the geometry shading stage is skipped.</p>
</div>
<div class="paragraph">
<p>If a fragment shader is omitted, fragment color outputs have <strong>undefined</strong>
values, and the fragment depth value is determined by <a href="fragops.html#fragops" class="xref page">Fragment Operations</a> state.
This <strong>can</strong> be useful for depth-only rendering.</p>
</div>
<div class="paragraph">
<p>Presence of a shader stage in a pipeline is indicated by including a valid
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> with <code>module</code> and <code>pName</code>
selecting an entry point from a shader module, where that entry point is
valid for the stage specified by <code>stage</code>.</p>
</div>
<div class="paragraph">
<p>Presence of some of the fixed-function stages in the pipeline is implicitly
derived from enabled shaders and provided state.
For example, the fixed-function tessellator is always present when the
pipeline has valid Tessellation Control and Tessellation Evaluation shaders.</p>
</div>
<div class="ulist">
<div class="title">For example:</div>
<ul>
<li>
<p>Depth/stencil-only rendering in a subpass with no color attachments</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Color-only rendering in a subpass with no depth/stencil attachment</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Rendering pipeline with tessellation and geometry shaders</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Tessellation Control Shader</p>
</li>
<li>
<p>Tessellation Evaluation Shader</p>
</li>
<li>
<p>Geometry Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Rendering pipeline with task and mesh shaders</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Task Shader</p>
</li>
<li>
<p>Mesh Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="graphics-shadergroups"><a class="anchor" href="#graphics-shadergroups"></a>Graphics Pipeline Shader Groups</h3>
<div class="paragraph">
<p>Graphics pipelines can contain multiple shader groups that can be bound
individually.
Each shader group behaves as if it was a pipeline using the shader group&#8217;s
state.
When the pipeline is bound by regular means, it behaves as if the state of
group <code>0</code> is active, use <a href="#vkCmdBindPipelineShaderGroupNV">vkCmdBindPipelineShaderGroupNV</a> to bind an
individual shader group.</p>
</div>
<div class="paragraph">
<p>The primary purpose of shader groups is allowing the device to bind
different pipeline state using <a href="device_generated_commands/generatedcommands.html#device-generated-commands" class="xref page">Device-Generated Commands</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsPipelineShaderGroupsCreateInfoNV</code> structure is defined
as:</p>
</div>
<div id="VkGraphicsPipelineShaderGroupsCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_device_generated_commands
typedef struct VkGraphicsPipelineShaderGroupsCreateInfoNV {
    VkStructureType                             sType;
    const void*                                 pNext;
    uint32_t                                    groupCount;
    const VkGraphicsShaderGroupCreateInfoNV*    pGroups;
    uint32_t                                    pipelineCount;
    const VkPipeline*                           pPipelines;
} VkGraphicsPipelineShaderGroupsCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>groupCount</code> is the number of elements in the <code>pGroups</code> array.</p>
</li>
<li>
<p><code>pGroups</code> is a pointer to an array of
<a href="#VkGraphicsShaderGroupCreateInfoNV">VkGraphicsShaderGroupCreateInfoNV</a> structures specifying which
state of the original <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> each shader
group overrides.</p>
</li>
<li>
<p><code>pipelineCount</code> is the number of elements in the <code>pPipelines</code>
array.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of graphics <code>VkPipeline</code>
structures which are referenced within the created pipeline, including
all their shader groups.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When referencing shader groups by index, groups defined in the referenced
pipelines are treated as if they were defined as additional entries in
<code>pGroups</code>.
They are appended in the order they appear in the <code>pPipelines</code> array and
in the <code>pGroups</code> array when those pipelines were defined.</p>
</div>
<div class="paragraph">
<p>The application <strong>must</strong> maintain the lifetime of all such referenced pipelines
based on the pipelines that make use of them.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02879" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02879"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02879</span><br>

<code>groupCount</code> <strong>must</strong> be at least <code>1</code> and as maximum
<code>VkPhysicalDeviceDeviceGeneratedCommandsPropertiesNV</code>::<code>maxGraphicsShaderGroupCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02880" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02880"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-groupCount-02880</span><br>

The sum of <code>groupCount</code> including those groups added from referenced
<code>pPipelines</code> <strong>must</strong> also be as maximum
<code>VkPhysicalDeviceDeviceGeneratedCommandsPropertiesNV</code>::<code>maxGraphicsShaderGroupCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02881" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02881"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02881</span><br>

The state of the first element of <code>pGroups</code> <strong>must</strong> match its
equivalent within the parent&#8217;s <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02882" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02882"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02882</span><br>

Each element of <code>pGroups</code> <strong>must</strong> in combination with the rest of the
pipeline state yield a valid state configuration</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02884" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02884"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02884</span><br>

All elements of <code>pGroups</code> <strong>must</strong> use the same shader stage
combinations
unless any mesh shader stage is used, then either combination of task
and mesh or just mesh shader is valid</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02885" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02885"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-02885</span><br>

Mesh and regular primitive shading stages cannot be mixed across
<code>pGroups</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-02886" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-02886"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-02886</span><br>

Each element of <code>pPipelines</code> <strong>must</strong> have been created with identical
state to the pipeline currently created except the state that can be
overridden by <a href="#VkGraphicsShaderGroupCreateInfoNV">VkGraphicsShaderGroupCreateInfoNV</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-deviceGeneratedCommands-02887" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-deviceGeneratedCommands-02887"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-deviceGeneratedCommands-02887</span><br>

The <a href="features.html#features-deviceGeneratedCommandsNV" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesNV</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-sType-sType" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_SHADER_GROUPS_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-parameter" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-parameter"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pGroups-parameter</span><br>
 If <code>groupCount</code> is not <code>0</code>, <code>pGroups</code> <strong>must</strong> be a valid pointer to an array of <code>groupCount</code> valid <a href="#VkGraphicsShaderGroupCreateInfoNV">VkGraphicsShaderGroupCreateInfoNV</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-parameter" href="#VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-parameter"></a> <span class="vuid">VUID-VkGraphicsPipelineShaderGroupsCreateInfoNV-pPipelines-parameter</span><br>
 If <code>pipelineCount</code> is not <code>0</code>, <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>pipelineCount</code> valid <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsShaderGroupCreateInfoNV</code> structure provides the state
overrides for each shader group.
Each shader group behaves like a pipeline that was created from its state as
well as the remaining parent&#8217;s state.
It is defined as:</p>
</div>
<div id="VkGraphicsShaderGroupCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_device_generated_commands
typedef struct VkGraphicsShaderGroupCreateInfoNV {
    VkStructureType                                 sType;
    const void*                                     pNext;
    uint32_t                                        stageCount;
    const VkPipelineShaderStageCreateInfo*          pStages;
    const VkPipelineVertexInputStateCreateInfo*     pVertexInputState;
    const VkPipelineTessellationStateCreateInfo*    pTessellationState;
} VkGraphicsShaderGroupCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures specifying the set of
the shader stages to be included in this shader group.</p>
</li>
<li>
<p><code>pVertexInputState</code> is a pointer to a
<a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a> structure.</p>
</li>
<li>
<p><code>pTessellationState</code> is a pointer to a
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure, and is ignored if
the shader group does not include a tessellation control shader stage
and tessellation evaluation shader stage.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-02888" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-02888"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-02888</span><br>

For <code>stageCount</code>, the same restrictions as in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>stageCount</code> apply</p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-02889" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-02889"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-02889</span><br>

For <code>pStages</code>, the same restrictions as in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pStages</code> apply</p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-pVertexInputState-02890" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-pVertexInputState-02890"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-pVertexInputState-02890</span><br>

For <code>pVertexInputState</code>, the same restrictions as in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pVertexInputState</code> apply</p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-pTessellationState-02891" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-pTessellationState-02891"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-pTessellationState-02891</span><br>

For <code>pTessellationState</code>, the same restrictions as in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pTessellationState</code> apply</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-sType-sType" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_SHADER_GROUP_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-pNext-pNext" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-pNext-pNext"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-parameter" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-parameter"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-pStages-parameter</span><br>
 <code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-arraylength" href="#VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-arraylength"></a> <span class="vuid">VUID-VkGraphicsShaderGroupCreateInfoNV-stageCount-arraylength</span><br>
 <code>stageCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-ray-tracing"><a class="anchor" href="#pipelines-ray-tracing"></a>Ray Tracing Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ray tracing pipelines consist of multiple shader stages, fixed-function
traversal stages, and a pipeline layout.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_SHADER_UNUSED_KHR</code> is a special shader index used to indicate that a
ray generation, miss, or callable shader member is not used.</p>
</div>
<div id="VK_SHADER_UNUSED_KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">#define VK_SHADER_UNUSED_KHR              (~0U)</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VK_SHADER_UNUSED_NV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">#define VK_SHADER_UNUSED_NV               VK_SHADER_UNUSED_KHR</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create ray tracing pipelines, call:</p>
</div>
<div id="vkCreateRayTracingPipelinesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
VkResult vkCreateRayTracingPipelinesNV(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkRayTracingPipelineCreateInfoNV*     pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the ray tracing
pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled, or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array in which the resulting ray
tracing pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-device-09677" href="#VUID-vkCreateRayTracingPipelinesNV-device-09677"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-device-09677</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_COMPUTE_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-flags-03415" href="#VUID-vkCreateRayTracingPipelinesNV-flags-03415"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-flags-03415</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-flags-03416" href="#VUID-vkCreateRayTracingPipelinesNV-flags-03416"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-flags-03416</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-flags-03816" href="#VUID-vkCreateRayTracingPipelinesNV-flags-03816"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-flags-03816</span><br>

<code>flags</code> <strong>must</strong> not contain the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code>
flag</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pipelineCache-02903" href="#VUID-vkCreateRayTracingPipelinesNV-pipelineCache-02903"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pipelineCache-02903</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pNext-09616" href="#VUID-vkCreateRayTracingPipelinesNV-pNext-09616"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pNext-09616</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>, <code>pipelineCache</code> <strong>must</strong> be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pNext-09617" href="#VUID-vkCreateRayTracingPipelinesNV-pNext-09617"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pNext-09617</span><br>

If a <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure with the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>pipelineCache</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-binaryCount-09620" href="#VUID-vkCreateRayTracingPipelinesNV-binaryCount-09620"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-binaryCount-09620</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
<strong>must</strong> not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-binaryCount-09621" href="#VUID-vkCreateRayTracingPipelinesNV-binaryCount-09621"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-binaryCount-09621</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-binaryCount-09622" href="#VUID-vkCreateRayTracingPipelinesNV-binaryCount-09622"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-binaryCount-09622</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pNext-10150" href="#VUID-vkCreateRayTracingPipelinesNV-pNext-10150"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pNext-10150</span><br>

If a <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag <strong>must</strong> not be set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-device-parameter" href="#VUID-vkCreateRayTracingPipelinesNV-device-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parameter" href="#VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pCreateInfos-parameter" href="#VUID-vkCreateRayTracingPipelinesNV-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pAllocator-parameter" href="#VUID-vkCreateRayTracingPipelinesNV-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pPipelines-parameter" href="#VUID-vkCreateRayTracingPipelinesNV-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-createInfoCount-arraylength" href="#VUID-vkCreateRayTracingPipelinesNV-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parent" href="#VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesNV-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create ray tracing pipelines, call:</p>
</div>
<div id="vkCreateRayTracingPipelinesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
VkResult vkCreateRayTracingPipelinesKHR(
    VkDevice                                    device,
    VkDeferredOperationKHR                      deferredOperation,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkRayTracingPipelineCreateInfoKHR*    pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the ray tracing
pipelines.</p>
</li>
<li>
<p><code>deferredOperation</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or the handle of a valid
<a href="VK_KHR_deferred_host_operations/deferred_host_operations.html#VkDeferredOperationKHR" class="xref page">VkDeferredOperationKHR</a> <a href="VK_KHR_deferred_host_operations/deferred_host_operations.html#deferred-host-operations-requesting" class="xref page">    request deferral</a> object for this command.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled, or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array in which the resulting ray
tracing pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS</code> error is returned if the
implementation is unable to reuse the shader group handles provided in
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>pShaderGroupCaptureReplayHandle</code>
when
<a href="features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a>::<code>rayTracingPipelineShaderGroupHandleCaptureReplay</code>
is enabled.</p>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-device-09677" href="#VUID-vkCreateRayTracingPipelinesKHR-device-09677"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-device-09677</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_COMPUTE_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-flags-03415" href="#VUID-vkCreateRayTracingPipelinesKHR-flags-03415"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-flags-03415</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-flags-03416" href="#VUID-vkCreateRayTracingPipelinesKHR-flags-03416"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-flags-03416</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-flags-03816" href="#VUID-vkCreateRayTracingPipelinesKHR-flags-03816"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-flags-03816</span><br>

<code>flags</code> <strong>must</strong> not contain the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code>
flag</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-02903" href="#VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-02903"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-02903</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03678" href="#VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03678"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03678</span><br>

Any previous deferred operation that was associated with
<code>deferredOperation</code> <strong>must</strong> be complete</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pNext-09616" href="#VUID-vkCreateRayTracingPipelinesKHR-pNext-09616"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pNext-09616</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>, <code>pipelineCache</code> <strong>must</strong> be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pNext-09617" href="#VUID-vkCreateRayTracingPipelinesKHR-pNext-09617"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pNext-09617</span><br>

If a <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure with the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>pipelineCache</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09620" href="#VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09620"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09620</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
<strong>must</strong> not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09621" href="#VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09621"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09621</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09622" href="#VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09622"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-binaryCount-09622</span><br>

If <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-rayTracingPipeline-03586" href="#VUID-vkCreateRayTracingPipelinesKHR-rayTracingPipeline-03586"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-rayTracingPipeline-03586</span><br>

The <a href="features.html#features-rayTracingPipeline" class="xref page"><code>rayTracingPipeline</code></a> feature
<strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03587" href="#VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03587"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-03587</span><br>

If <code>deferredOperation</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the <code>flags</code>
member of elements of <code>pCreateInfos</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-device-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-device-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parameter</span><br>
 If <code>deferredOperation</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>deferredOperation</code> <strong>must</strong> be a valid <a href="VK_KHR_deferred_host_operations/deferred_host_operations.html#VkDeferredOperationKHR" class="xref page">VkDeferredOperationKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pCreateInfos-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pAllocator-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pPipelines-parameter" href="#VUID-vkCreateRayTracingPipelinesKHR-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-createInfoCount-arraylength" href="#VUID-vkCreateRayTracingPipelinesKHR-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parent" href="#VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parent"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-deferredOperation-parent</span><br>
 If <code>deferredOperation</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parent" href="#VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateRayTracingPipelinesKHR-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_OPERATION_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_OPERATION_NOT_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingPipelineCreateInfoNV</code> structure is defined as:</p>
</div>
<div id="VkRayTracingPipelineCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
typedef struct VkRayTracingPipelineCreateInfoNV {
    VkStructureType                               sType;
    const void*                                   pNext;
    VkPipelineCreateFlags                         flags;
    uint32_t                                      stageCount;
    const VkPipelineShaderStageCreateInfo*        pStages;
    uint32_t                                      groupCount;
    const VkRayTracingShaderGroupCreateInfoNV*    pGroups;
    uint32_t                                      maxRecursionDepth;
    VkPipelineLayout                              layout;
    VkPipeline                                    basePipelineHandle;
    int32_t                                       basePipelineIndex;
} VkRayTracingPipelineCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures specifying the set of
the shader stages to be included in the ray tracing pipeline.</p>
</li>
<li>
<p><code>groupCount</code> is the number of entries in the <code>pGroups</code> array.</p>
</li>
<li>
<p><code>pGroups</code> is a pointer to an array of
<a href="#VkRayTracingShaderGroupCreateInfoNV">VkRayTracingShaderGroupCreateInfoNV</a> structures describing the set
of the shader stages to be included in each shader group in the ray
tracing pipeline.</p>
</li>
<li>
<p><code>maxRecursionDepth</code> is the <a href="raytracing.html#ray-tracing-recursion-depth" class="xref page">maximum    recursion depth</a> of shaders executed by this pipeline.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain includes a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code> from that structure
is used instead of <code>flags</code> from this structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-None-09497" href="#VUID-VkRayTracingPipelineCreateInfoNV-None-09497"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-None-09497</span><br>


If the <code>pNext</code> chain does not include a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-07984" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-07984"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid ray tracing <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-07985" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-07985"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-07986" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-07986"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-07987" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-07987"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-10069" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-10069"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-07988" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-07988"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-07990" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-07990"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
and the descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-07991" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-07991"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pStages-03426" href="#VUID-VkRayTracingPipelineCreateInfoNV-pStages-03426"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pStages-03426</span><br>

The shader code for the entry points identified by <code>pStages</code>, and
the rest of the state identified by this structure <strong>must</strong> adhere to the
pipeline linking rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-03428" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-03428"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-03428</span><br>

The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-02904" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-02904"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-02904</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pipelineCreationCacheControl-02905" href="#VUID-VkRayTracingPipelineCreateInfoNV-pipelineCreationCacheControl-02905"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pipelineCreationCacheControl-02905</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-stage-06232" href="#VUID-VkRayTracingPipelineCreateInfoNV-stage-06232"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-stage-06232</span><br>

The <code>stage</code> member of at least one element of <code>pStages</code> <strong>must</strong> be
<code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03456" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03456"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03456</span><br>

<code>flags</code> <strong>must</strong> not include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-maxRecursionDepth-03457" href="#VUID-VkRayTracingPipelineCreateInfoNV-maxRecursionDepth-03457"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-maxRecursionDepth-03457</span><br>

<code>maxRecursionDepth</code> <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceRayTracingPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingPropertiesNV</a>::<code>maxRecursionDepth</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03458" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03458"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03458</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03459" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03459"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03459</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03460" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03460"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03460</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03461" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03461"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03461</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03462" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03462"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03462</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03463" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03463"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03463</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-03588" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-03588"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-03588</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-04948" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-04948"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-04948</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-02957" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-02957"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-02957</span><br>

<code>flags</code> <strong>must</strong> not include both
<code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code> and
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> at the
same time</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pipelineStageCreationFeedbackCount-06651" href="#VUID-VkRayTracingPipelineCreateInfoNV-pipelineStageCreationFeedbackCount-06651"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pipelineStageCreationFeedbackCount-06651</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be equal to <code>stageCount</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-stage-06898" href="#VUID-VkRayTracingPipelineCreateInfoNV-stage-06898"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-stage-06898</span><br>

The <code>stage</code> value in all <code>pStages</code> elements <strong>must</strong> be one of
<code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code>,
<code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_MISS_BIT_KHR</code>,
<code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-07402" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-07402"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-07402</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-07998" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-07998"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-07998</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-flags-11008" href="#VUID-VkRayTracingPipelineCreateInfoNV-flags-11008"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-flags-11008</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-sType-sType" href="#VUID-VkRayTracingPipelineCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pNext-pNext" href="#VUID-VkRayTracingPipelineCreateInfoNV-pNext-pNext"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> or <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-sType-unique" href="#VUID-VkRayTracingPipelineCreateInfoNV-sType-unique"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pStages-parameter" href="#VUID-VkRayTracingPipelineCreateInfoNV-pStages-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pStages-parameter</span><br>
 <code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-pGroups-parameter" href="#VUID-VkRayTracingPipelineCreateInfoNV-pGroups-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-pGroups-parameter</span><br>
 <code>pGroups</code> <strong>must</strong> be a valid pointer to an array of <code>groupCount</code> valid <a href="#VkRayTracingShaderGroupCreateInfoNV">VkRayTracingShaderGroupCreateInfoNV</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-layout-parameter" href="#VUID-VkRayTracingPipelineCreateInfoNV-layout-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-stageCount-arraylength" href="#VUID-VkRayTracingPipelineCreateInfoNV-stageCount-arraylength"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-stageCount-arraylength</span><br>
 <code>stageCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-groupCount-arraylength" href="#VUID-VkRayTracingPipelineCreateInfoNV-groupCount-arraylength"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-groupCount-arraylength</span><br>
 <code>groupCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoNV-commonparent" href="#VUID-VkRayTracingPipelineCreateInfoNV-commonparent"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoNV-commonparent</span><br>
 Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingPipelineCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkRayTracingPipelineCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
typedef struct VkRayTracingPipelineCreateInfoKHR {
    VkStructureType                                      sType;
    const void*                                          pNext;
    VkPipelineCreateFlags                                flags;
    uint32_t                                             stageCount;
    const VkPipelineShaderStageCreateInfo*               pStages;
    uint32_t                                             groupCount;
    const VkRayTracingShaderGroupCreateInfoKHR*          pGroups;
    uint32_t                                             maxPipelineRayRecursionDepth;
    const VkPipelineLibraryCreateInfoKHR*                pLibraryInfo;
    const VkRayTracingPipelineInterfaceCreateInfoKHR*    pLibraryInterface;
    const VkPipelineDynamicStateCreateInfo*              pDynamicState;
    VkPipelineLayout                                     layout;
    VkPipeline                                           basePipelineHandle;
    int32_t                                              basePipelineIndex;
} VkRayTracingPipelineCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <code>stageCount</code>
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures describing the set of
the shader stages to be included in the ray tracing pipeline.</p>
</li>
<li>
<p><code>groupCount</code> is the number of entries in the <code>pGroups</code> array.</p>
</li>
<li>
<p><code>pGroups</code> is a pointer to an array of <code>groupCount</code>
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a> structures describing the set
of the shader stages to be included in each shader group in the ray
tracing pipeline.</p>
</li>
<li>
<p><code>maxPipelineRayRecursionDepth</code> is the <a href="raytracing.html#ray-tracing-recursion-depth" class="xref page">    maximum recursion depth</a> of shaders executed by this pipeline.</p>
</li>
<li>
<p><code>pLibraryInfo</code> is a pointer to a
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> structure defining pipeline
libraries to include.</p>
</li>
<li>
<p><code>pLibraryInterface</code> is a pointer to a
<a href="#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a> structure defining
additional information when using pipeline libraries.</p>
</li>
<li>
<p><code>pDynamicState</code> is a pointer to a
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure, and is used to
indicate which properties of the pipeline state object are dynamic and
<strong>can</strong> be changed independently of the pipeline state.
This <strong>can</strong> be <code>NULL</code>, which means no state in the pipeline is considered
dynamic.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div class="paragraph">
<p>When <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> is specified, this pipeline
defines a <em>pipeline library</em> which <strong>cannot</strong> be bound as a ray tracing
pipeline directly.
Instead, pipeline libraries define common shaders and shader groups which
<strong>can</strong> be included in future pipeline creation.</p>
</div>
<div class="paragraph">
<p>If pipeline libraries are included in <code>pLibraryInfo</code>, shaders defined in
those libraries are treated as if they were defined as additional entries in
<code>pStages</code>, appended in the order they appear in the <code>pLibraries</code>
array and in the <code>pStages</code> array when those libraries were defined.</p>
</div>
<div class="paragraph">
<p>When referencing shader groups in order to obtain a shader group handle,
groups defined in those libraries are treated as if they were defined as
additional entries in <code>pGroups</code>, appended in the order they appear in
the <code>pLibraries</code> array and in the <code>pGroups</code> array when those
libraries were defined.
The shaders these groups reference are set when the pipeline library is
created, referencing those specified in the pipeline library, not in the
pipeline that includes it.</p>
</div>
<div class="paragraph">
<p>The default stack size for a pipeline if
<code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code> is not provided
is computed as described in <a href="raytracing.html#ray-tracing-pipeline-stack" class="xref page">Ray Tracing Pipeline Stack</a>.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain includes a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code> from that structure
is used instead of <code>flags</code> from this structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-None-09497" href="#VUID-VkRayTracingPipelineCreateInfoKHR-None-09497"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-None-09497</span><br>


If the <code>pNext</code> chain does not include a
<a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a> structure,
<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-07984" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-07984"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid ray tracing <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-07985" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-07985"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-07986" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-07986"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-07987" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-07987"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-10069" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-10069"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-07988" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-07988"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-07990" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-07990"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
and the descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-07991" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-07991"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pStages-03426" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pStages-03426"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pStages-03426</span><br>

The shader code for the entry points identified by <code>pStages</code>, and
the rest of the state identified by this structure <strong>must</strong> adhere to the
pipeline linking rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-03428" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-03428"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-03428</span><br>

The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-02904" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-02904"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-02904</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pipelineCreationCacheControl-02905" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pipelineCreationCacheControl-02905"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pipelineCreationCacheControl-02905</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-stage-03425" href="#VUID-VkRayTracingPipelineCreateInfoKHR-stage-03425"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-stage-03425</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>, the <code>stage</code> member of at
least one element of <code>pStages</code>, including those implicitly added by
<code>pLibraryInfo</code>, <strong>must</strong> be <code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-maxPipelineRayRecursionDepth-03589" href="#VUID-VkRayTracingPipelineCreateInfoKHR-maxPipelineRayRecursionDepth-03589"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-maxPipelineRayRecursionDepth-03589</span><br>

<code>maxPipelineRayRecursionDepth</code> <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>maxRayRecursionDepth</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-03465" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-03465"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-03465</span><br>

If <code>flags</code> includes <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>,
<code>pLibraryInterface</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03590" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03590"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03590</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code> and its <code>libraryCount</code> member is
greater than <code>0</code>, <code>pLibraryInterface</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraries-03591" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraries-03591"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraries-03591</span><br>

Each element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created
with the value of <code>maxPipelineRayRecursionDepth</code> equal to that in
this pipeline</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03592" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03592"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03592</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code>, each element of its
<code>pLibraries</code> member <strong>must</strong> have been created with a <code>layout</code> that
is compatible with the <code>layout</code> in this pipeline</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03593" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03593"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03593</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code>, each element of its
<code>pLibraries</code> member <strong>must</strong> have been created with values of the
<code>maxPipelineRayPayloadSize</code> and <code>maxPipelineRayHitAttributeSize</code>
members of <code>pLibraryInterface</code> equal to those in this pipeline</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-03594" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-03594"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-03594</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>,
each element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created
with the
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>
bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04718" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04718"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04718</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code>, each element of
<code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04719" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04719"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04719</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code>, each
element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created with
the <code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04720" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04720"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04720</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code>,
each element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created
with the
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code> bit
set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04721" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04721"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04721</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>,
each element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created
with the
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>
bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04722" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04722"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04722</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code>,
each element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created
with the
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code>
bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-04723" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-04723"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-04723</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code>, each
element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created with
the <code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code>
bit set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03595" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03595"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-03595</span><br>

If the <code><a href="../appendices/extensions.html#VK_KHR_pipeline_library" class="xref page">VK_KHR_pipeline_library</a></code> extension is not enabled,
<code>pLibraryInfo</code> and <code>pLibraryInterface</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-03470" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-03470"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-03470</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code>,
for any element of <code>pGroups</code> with a <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>, the
<code>anyHitShader</code> of that element <strong>must</strong> not be
<code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-03471" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-03471"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-03471</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>,
for any element of <code>pGroups</code> with a <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>, the
<code>closestHitShader</code> of that element <strong>must</strong> not be
<code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03596" href="#VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03596"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03596</span><br>

If the <a href="features.html#features-rayTraversalPrimitiveCulling" class="xref page">    <code>rayTraversalPrimitiveCulling</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03597" href="#VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03597"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-rayTraversalPrimitiveCulling-03597</span><br>

If the <a href="features.html#features-rayTraversalPrimitiveCulling" class="xref page">    <code>rayTraversalPrimitiveCulling</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-06546" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-06546"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-06546</span><br>

<code>flags</code> <strong>must</strong> not include both
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code> and
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-03598" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-03598"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-03598</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>,
<a href="features.html#features-rayTracingPipelineShaderGroupHandleCaptureReplay" class="xref page">    <code>rayTracingPipelineShaderGroupHandleCaptureReplay</code></a> <strong>must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03599" href="#VUID-VkRayTracingPipelineCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03599"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03599</span><br>

If
<a href="features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a>::<code>rayTracingPipelineShaderGroupHandleCaptureReplay</code>
is <code>VK_TRUE</code> and the <code>pShaderGroupCaptureReplayHandle</code> member of
any element of <code>pGroups</code> is not <code>NULL</code>, <code>flags</code> <strong>must</strong> include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-07999" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-07999"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-07999</span><br>

If <code>pLibraryInfo</code> is <code>NULL</code> or its <code>libraryCount</code> is <code>0</code>,
<code>stageCount</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-08700" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-08700"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-08700</span><br>

If <code>flags</code> does not include <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>
and either <code>pLibraryInfo</code> is <code>NULL</code> or its <code>libraryCount</code> is
<code>0</code>, <code>groupCount</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicStates-03602" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicStates-03602"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicStates-03602</span><br>

Any element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
<strong>must</strong> be <code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pipelineStageCreationFeedbackCount-06652" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pipelineStageCreationFeedbackCount-06652"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pipelineStageCreationFeedbackCount-06652</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be equal to <code>stageCount</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-stage-06899" href="#VUID-VkRayTracingPipelineCreateInfoKHR-stage-06899"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-stage-06899</span><br>

The <code>stage</code> value in all <code>pStages</code> elements <strong>must</strong> be one of
<code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code>,
<code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code>,
<code>VK_SHADER_STAGE_MISS_BIT_KHR</code>,
<code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-07403" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-07403"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-07403</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code>, each
element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created with
the <code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code> bit
set</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-flags-08701" href="#VUID-VkRayTracingPipelineCreateInfoKHR-flags-08701"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-flags-08701</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code>, each
element of <code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> have been created with
the <code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code>
bit set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-sType-sType" href="#VUID-VkRayTracingPipelineCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pNext-pNext" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>, <a href="#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a>, <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>, or <a href="#VkPipelineRobustnessCreateInfoEXT">VkPipelineRobustnessCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-sType-unique" href="#VUID-VkRayTracingPipelineCreateInfoKHR-sType-unique"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pStages-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pStages-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pStages-parameter</span><br>
 If <code>stageCount</code> is not <code>0</code>, <code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pGroups-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pGroups-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pGroups-parameter</span><br>
 If <code>groupCount</code> is not <code>0</code>, <code>pGroups</code> <strong>must</strong> be a valid pointer to an array of <code>groupCount</code> valid <a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInfo-parameter</span><br>
 If <code>pLibraryInfo</code> is not <code>NULL</code>, <code>pLibraryInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInterface-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInterface-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pLibraryInterface-parameter</span><br>
 If <code>pLibraryInterface</code> is not <code>NULL</code>, <code>pLibraryInterface</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicState-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicState-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-pDynamicState-parameter</span><br>
 If <code>pDynamicState</code> is not <code>NULL</code>, <code>pDynamicState</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-layout-parameter" href="#VUID-VkRayTracingPipelineCreateInfoKHR-layout-parameter"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineCreateInfoKHR-commonparent" href="#VUID-VkRayTracingPipelineCreateInfoKHR-commonparent"></a> <span class="vuid">VUID-VkRayTracingPipelineCreateInfoKHR-commonparent</span><br>
 Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingShaderGroupCreateInfoNV</code> structure is defined as:</p>
</div>
<div id="VkRayTracingShaderGroupCreateInfoNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
typedef struct VkRayTracingShaderGroupCreateInfoNV {
    VkStructureType                   sType;
    const void*                       pNext;
    VkRayTracingShaderGroupTypeKHR    type;
    uint32_t                          generalShader;
    uint32_t                          closestHitShader;
    uint32_t                          anyHitShader;
    uint32_t                          intersectionShader;
} VkRayTracingShaderGroupCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>type</code> is the type of hit group specified in this structure.</p>
</li>
<li>
<p><code>generalShader</code> is the index of the ray generation, miss, or
callable shader from
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_NV</code>, and
<code>VK_SHADER_UNUSED_NV</code> otherwise.</p>
</li>
<li>
<p><code>closestHitShader</code> is the optional index of the closest hit shader
from <a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> in the group
if the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_NV</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV</code>, and
<code>VK_SHADER_UNUSED_NV</code> otherwise.</p>
</li>
<li>
<p><code>anyHitShader</code> is the optional index of the any-hit shader from
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_NV</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV</code>, and
<code>VK_SHADER_UNUSED_NV</code> otherwise.</p>
</li>
<li>
<p><code>intersectionShader</code> is the index of the intersection shader from
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV</code>, and
<code>VK_SHADER_UNUSED_NV</code> otherwise.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-type-02413" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-type-02413"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-type-02413</span><br>

If <code>type</code> is <code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_NV</code> then
<code>generalShader</code> <strong>must</strong> be a valid index into
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> referring to a
shader of <code>VK_SHADER_STAGE_RAYGEN_BIT_NV</code>,
<code>VK_SHADER_STAGE_MISS_BIT_NV</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-type-02414" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-type-02414"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-type-02414</span><br>

If <code>type</code> is <code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_NV</code> then
<code>closestHitShader</code>, <code>anyHitShader</code>, and <code>intersectionShader</code>
<strong>must</strong> be <code>VK_SHADER_UNUSED_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-type-02415" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-type-02415"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-type-02415</span><br>

If <code>type</code> is
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV</code> then
<code>intersectionShader</code> <strong>must</strong> be a valid index into
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code> referring to a
shader of <code>VK_SHADER_STAGE_INTERSECTION_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-type-02416" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-type-02416"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-type-02416</span><br>

If <code>type</code> is
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_NV</code> then
<code>intersectionShader</code> <strong>must</strong> be <code>VK_SHADER_UNUSED_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-closestHitShader-02417" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-closestHitShader-02417"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-closestHitShader-02417</span><br>

<code>closestHitShader</code> <strong>must</strong> be either <code>VK_SHADER_UNUSED_NV</code> or a
valid index into <a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code>
referring to a shader of <code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-anyHitShader-02418" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-anyHitShader-02418"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-anyHitShader-02418</span><br>

<code>anyHitShader</code> <strong>must</strong> be either <code>VK_SHADER_UNUSED_NV</code> or a valid
index into <a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code>
referring to a shader of <code>VK_SHADER_STAGE_ANY_HIT_BIT_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-sType-sType" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-pNext-pNext" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-pNext-pNext"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoNV-type-parameter" href="#VUID-VkRayTracingShaderGroupCreateInfoNV-type-parameter"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoNV-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="#VkRayTracingShaderGroupTypeKHR">VkRayTracingShaderGroupTypeKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingShaderGroupCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkRayTracingShaderGroupCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
typedef struct VkRayTracingShaderGroupCreateInfoKHR {
    VkStructureType                   sType;
    const void*                       pNext;
    VkRayTracingShaderGroupTypeKHR    type;
    uint32_t                          generalShader;
    uint32_t                          closestHitShader;
    uint32_t                          anyHitShader;
    uint32_t                          intersectionShader;
    const void*                       pShaderGroupCaptureReplayHandle;
} VkRayTracingShaderGroupCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>type</code> is the type of hit group specified in this structure.</p>
</li>
<li>
<p><code>generalShader</code> is the index of the ray generation, miss, or
callable shader from
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR</code>, and
<code>VK_SHADER_UNUSED_KHR</code> otherwise.</p>
</li>
<li>
<p><code>closestHitShader</code> is the optional index of the closest hit shader
from <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> in the group
if the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>, and
<code>VK_SHADER_UNUSED_KHR</code> otherwise.</p>
</li>
<li>
<p><code>anyHitShader</code> is the optional index of the any-hit shader from
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> or
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>, and
<code>VK_SHADER_UNUSED_KHR</code> otherwise.</p>
</li>
<li>
<p><code>intersectionShader</code> is the index of the intersection shader from
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> in the group if
the shader group has <code>type</code> of
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>, and
<code>VK_SHADER_UNUSED_KHR</code> otherwise.</p>
</li>
<li>
<p><code>pShaderGroupCaptureReplayHandle</code> is <code>NULL</code> or a pointer to replay
information for this shader group queried from
<a href="#vkGetRayTracingCaptureReplayShaderGroupHandlesKHR">vkGetRayTracingCaptureReplayShaderGroupHandlesKHR</a>, as described in
<a href="raytracing.html#ray-tracing-capture-replay" class="xref page">Ray Tracing Capture Replay</a>.
Ignored if
<a href="features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a>::<code>rayTracingPipelineShaderGroupHandleCaptureReplay</code>
is <code>VK_FALSE</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the pipeline is created with <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> and
the <a href="features.html#features-pipelineLibraryGroupHandles" class="xref page">pipelineLibraryGroupHandles</a>
feature is enabled, <code>pShaderGroupCaptureReplayHandle</code> is inherited by
all pipelines which link against this pipeline and remains bitwise identical
for any pipeline which references this pipeline library.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03474" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03474"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03474</span><br>

If <code>type</code> is <code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR</code> then
<code>generalShader</code> <strong>must</strong> be a valid index into
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> referring to a
shader of <code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code>,
<code>VK_SHADER_STAGE_MISS_BIT_KHR</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03475" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03475"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03475</span><br>

If <code>type</code> is <code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR</code> then
<code>closestHitShader</code>, <code>anyHitShader</code>, and <code>intersectionShader</code>
<strong>must</strong> be <code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03476" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03476"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03476</span><br>

If <code>type</code> is
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code> then
<code>intersectionShader</code> <strong>must</strong> be a valid index into
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code> referring to a
shader of <code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03477" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03477"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-type-03477</span><br>

If <code>type</code> is
<code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> then
<code>intersectionShader</code> <strong>must</strong> be <code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-closestHitShader-03478" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-closestHitShader-03478"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-closestHitShader-03478</span><br>

<code>closestHitShader</code> <strong>must</strong> be either <code>VK_SHADER_UNUSED_KHR</code> or a
valid index into <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code>
referring to a shader of <code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-anyHitShader-03479" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-anyHitShader-03479"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-anyHitShader-03479</span><br>

<code>anyHitShader</code> <strong>must</strong> be either <code>VK_SHADER_UNUSED_KHR</code> or a valid
index into <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code>
referring to a shader of <code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03603" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03603"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03603</span><br>

If
<a href="features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a>::<code>rayTracingPipelineShaderGroupHandleCaptureReplayMixed</code>
is <code>VK_FALSE</code> then <code>pShaderGroupCaptureReplayHandle</code> <strong>must</strong> not
be provided if it has not been provided on a previous call to ray
tracing pipeline creation</p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03604" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03604"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-rayTracingPipelineShaderGroupHandleCaptureReplayMixed-03604</span><br>

If
<a href="features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a>::<code>rayTracingPipelineShaderGroupHandleCaptureReplayMixed</code>
is <code>VK_FALSE</code> then the caller <strong>must</strong> guarantee that no ray tracing
pipeline creation commands with <code>pShaderGroupCaptureReplayHandle</code>
provided execute simultaneously with ray tracing pipeline creation
commands without <code>pShaderGroupCaptureReplayHandle</code> provided</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-sType-sType" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-pNext-pNext" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingShaderGroupCreateInfoKHR-type-parameter" href="#VUID-VkRayTracingShaderGroupCreateInfoKHR-type-parameter"></a> <span class="vuid">VUID-VkRayTracingShaderGroupCreateInfoKHR-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="#VkRayTracingShaderGroupTypeKHR">VkRayTracingShaderGroupTypeKHR</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingShaderGroupTypeKHR</code> enumeration is defined as:</p>
</div>
<div id="VkRayTracingShaderGroupTypeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
typedef enum VkRayTracingShaderGroupTypeKHR {
    VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR = 0,
    VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR = 1,
    VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR = 2,
  // Provided by VK_NV_ray_tracing
    VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_NV = VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR,
  // Provided by VK_NV_ray_tracing
    VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_NV = VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR,
  // Provided by VK_NV_ray_tracing
    VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV = VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR,
} VkRayTracingShaderGroupTypeKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkRayTracingShaderGroupTypeNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
typedef VkRayTracingShaderGroupTypeKHR VkRayTracingShaderGroupTypeNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_KHR</code> indicates a shader
group with a single <code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code>,
<code>VK_SHADER_STAGE_MISS_BIT_KHR</code>, or
<code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code> shader in it.</p>
</li>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_KHR</code> specifies
a shader group that only hits triangles and <strong>must</strong> not contain an
intersection shader, only closest hit and any-hit shaders.</p>
</li>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_KHR</code>
specifies a shader group that only intersects with custom geometry and
<strong>must</strong> contain an intersection shader and <strong>may</strong> contain closest hit and
any-hit shaders.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For current group types, the hit group type could be inferred from the
presence or absence of the intersection shader, but we provide the type
explicitly for future hit groups that do not have that property.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRayTracingPipelineInterfaceCreateInfoKHR</code> structure is defined
as:</p>
</div>
<div id="VkRayTracingPipelineInterfaceCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
typedef struct VkRayTracingPipelineInterfaceCreateInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           maxPipelineRayPayloadSize;
    uint32_t           maxPipelineRayHitAttributeSize;
} VkRayTracingPipelineInterfaceCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>maxPipelineRayPayloadSize</code> is the maximum payload size in bytes
used by any shader in the pipeline.</p>
</li>
<li>
<p><code>maxPipelineRayHitAttributeSize</code> is the maximum attribute structure
size in bytes used by any shader in the pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>maxPipelineRayPayloadSize</code> is calculated as the maximum number of bytes
used by any block declared in the <code>RayPayloadKHR</code> or
<code>IncomingRayPayloadKHR</code> storage classes.
<code>maxPipelineRayHitAttributeSize</code> is calculated as the maximum number of
bytes used by any block declared in the <code>HitAttributeKHR</code> storage class.
As variables in these storage classes do not have explicit offsets, the size
should be calculated as if each variable has a
<a href="interfaces.html#interfaces-alignment-requirements" class="xref page">scalar alignment</a> equal to the largest
scalar alignment of any of the block&#8217;s members.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is no explicit upper limit for <code>maxPipelineRayPayloadSize</code>, but in
practice it should be kept as small as possible.
Similar to invocation local memory, it must be allocated for each shader
invocation and for devices which support many simultaneous invocations, this
storage can rapidly be exhausted, resulting in failure.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-maxPipelineRayHitAttributeSize-03605" href="#VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-maxPipelineRayHitAttributeSize-03605"></a> <span class="vuid">VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-maxPipelineRayHitAttributeSize-03605</span><br>

<code>maxPipelineRayHitAttributeSize</code> <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>maxRayHitAttributeSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-sType-sType" href="#VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_INTERFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-pNext-pNext" href="#VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkRayTracingPipelineInterfaceCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the opaque handles of shaders in the ray tracing pipeline, call:</p>
</div>
<div id="vkGetRayTracingShaderGroupHandlesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
VkResult vkGetRayTracingShaderGroupHandlesKHR(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    uint32_t                                    firstGroup,
    uint32_t                                    groupCount,
    size_t                                      dataSize,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetRayTracingShaderGroupHandlesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
VkResult vkGetRayTracingShaderGroupHandlesNV(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    uint32_t                                    firstGroup,
    uint32_t                                    groupCount,
    size_t                                      dataSize,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device containing the ray tracing pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the ray tracing pipeline object containing the
shaders.</p>
</li>
<li>
<p><code>firstGroup</code> is the index of the first group to retrieve a handle
    for from the
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pGroups</code>
or
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pGroups</code>
    array.</p>
</li>
<li>
<p><code>groupCount</code> is the number of shader handles to retrieve.</p>
</li>
<li>
<p><code>dataSize</code> is the size in bytes of the buffer pointed to by
<code>pData</code>.</p>
</li>
<li>
<p><code>pData</code> is a pointer to an application-allocated buffer where the
results will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On success, an array of <code>groupCount</code> shader handles will be written to
<code>pData</code>, with each element being of size
<a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>shaderGroupHandleSize</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pipeline</code> was created with <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>
and the <a href="features.html#features-pipelineLibraryGroupHandles" class="xref page">pipelineLibraryGroupHandles</a>
feature is enabled applications <strong>can</strong> query group handles from that pipeline,
even if the pipeline is a library and is never bound to a command buffer.
These group handles remain bitwise identical for any <code>pipeline</code> which
references the pipeline library.
Group indices are assigned as-if the pipeline was created without
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-04619" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-04619"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-04619</span><br>

<code>pipeline</code> <strong>must</strong> be a ray tracing pipeline</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-04050" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-04050"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-04050</span><br>

<code>firstGroup</code> <strong>must</strong> be less than the number of shader groups in
<code>pipeline</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-02419" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-02419"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-firstGroup-02419</span><br>

The sum of <code>firstGroup</code> and <code>groupCount</code> <strong>must</strong> be less than or
equal to the number of shader groups in <code>pipeline</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-02420" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-02420"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-02420</span><br>

<code>dataSize</code> <strong>must</strong> be at least
<span class="eq"><a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>shaderGroupHandleSize</code> ×
<code>groupCount</code></span></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-07828" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-07828"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-07828</span><br>

If the
<a href="features.html#features-pipelineLibraryGroupHandles" class="xref page">pipelineLibraryGroupHandles</a>
feature is not enabled,
<code>pipeline</code> <strong>must</strong> not have been created with
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-device-parameter" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parameter" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-pData-parameter" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-pData-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-arraylength" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-arraylength"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parent" href="#VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parent"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupHandlesKHR-pipeline-parent</span><br>
 <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the opaque capture data of shader groups in a ray tracing pipeline,
call:</p>
</div>
<div id="vkGetRayTracingCaptureReplayShaderGroupHandlesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
VkResult vkGetRayTracingCaptureReplayShaderGroupHandlesKHR(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    uint32_t                                    firstGroup,
    uint32_t                                    groupCount,
    size_t                                      dataSize,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device containing the ray tracing pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the ray tracing pipeline object containing the
shaders.</p>
</li>
<li>
<p><code>firstGroup</code> is the index of the first group to retrieve a handle
for from the <a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pGroups</code>
array.</p>
</li>
<li>
<p><code>groupCount</code> is the number of shader handles to retrieve.</p>
</li>
<li>
<p><code>dataSize</code> is the size in bytes of the buffer pointed to by
<code>pData</code>.</p>
</li>
<li>
<p><code>pData</code> is a pointer to an application-allocated buffer where the
results will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On success, an array of <code>groupCount</code> shader handles will be written to
<code>pData</code>, with each element being of size
<a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>shaderGroupHandleCaptureReplaySize</code>.</p>
</div>
<div class="paragraph">
<p>Once queried, this opaque data <strong>can</strong> be provided at pipeline creation time
(in a subsequent execution), using
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>pShaderGroupCaptureReplayHandle</code>,
as described in <a href="raytracing.html#ray-tracing-capture-replay" class="xref page">Ray Tracing Capture Replay</a>.</p>
</div>
<div class="paragraph">
<p>If <code>pipeline</code> was created with <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>
and the <a href="features.html#features-pipelineLibraryGroupHandles" class="xref page">pipelineLibraryGroupHandles</a>
feature is enabled applications <strong>can</strong> query capture replay group handles from
that pipeline.
The capture replay handle remains bitwise identical for any <code>pipeline</code>
which references the pipeline library.
Group indices are assigned as-if the pipeline was created without
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-04620" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-04620"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-04620</span><br>

<code>pipeline</code> <strong>must</strong> be a ray tracing pipeline</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-04051" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-04051"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-04051</span><br>

<code>firstGroup</code> <strong>must</strong> be less than the number of shader groups in
<code>pipeline</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-03483" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-03483"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-firstGroup-03483</span><br>

The sum of <code>firstGroup</code> and <code>groupCount</code> <strong>must</strong> be less than or
equal to the number of shader groups in <code>pipeline</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-03484" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-03484"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-03484</span><br>

<code>dataSize</code> <strong>must</strong> be at least
<span class="eq"><a href="limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a>::<code>shaderGroupHandleCaptureReplaySize</code>
× <code>groupCount</code></span></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03606" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03606"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-rayTracingPipelineShaderGroupHandleCaptureReplay-03606</span><br>

<code>VkPhysicalDeviceRayTracingPipelineFeaturesKHR</code>::<code>rayTracingPipelineShaderGroupHandleCaptureReplay</code>
<strong>must</strong> be enabled to call this function</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-03607" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-03607"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-03607</span><br>

<code>pipeline</code> <strong>must</strong> have been created with a <code>flags</code> that included
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-07829" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-07829"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-07829</span><br>

If the
<a href="features.html#features-pipelineLibraryGroupHandles" class="xref page">pipelineLibraryGroupHandles</a>
feature is not enabled,
<code>pipeline</code> <strong>must</strong> not have been created with
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-device-parameter" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parameter" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parameter"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pData-parameter" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pData-parameter"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-arraylength" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-arraylength"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parent" href="#VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parent"></a> <span class="vuid">VUID-vkGetRayTracingCaptureReplayShaderGroupHandlesKHR-pipeline-parent</span><br>
 <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Ray tracing pipelines <strong>can</strong> contain more shaders than a graphics or compute
pipeline, so to allow parallel compilation of shaders within a pipeline, an
application <strong>can</strong> choose to defer compilation until a later point in time.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To compile a deferred shader in a pipeline call:</p>
</div>
<div id="vkCompileDeferredNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
VkResult vkCompileDeferredNV(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    uint32_t                                    shader);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device containing the ray tracing pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the ray tracing pipeline object containing the
shaders.</p>
</li>
<li>
<p><code>shader</code> is the index of the shader to compile.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCompileDeferredNV-pipeline-04621" href="#VUID-vkCompileDeferredNV-pipeline-04621"></a> <span class="vuid">VUID-vkCompileDeferredNV-pipeline-04621</span><br>

<code>pipeline</code> <strong>must</strong> be a ray tracing pipeline</p>
</li>
<li>
<p><a id="VUID-vkCompileDeferredNV-pipeline-02237" href="#VUID-vkCompileDeferredNV-pipeline-02237"></a> <span class="vuid">VUID-vkCompileDeferredNV-pipeline-02237</span><br>

<code>pipeline</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCompileDeferredNV-shader-02238" href="#VUID-vkCompileDeferredNV-shader-02238"></a> <span class="vuid">VUID-vkCompileDeferredNV-shader-02238</span><br>

<code>shader</code> <strong>must</strong> not have been called as a deferred compile before</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCompileDeferredNV-device-parameter" href="#VUID-vkCompileDeferredNV-device-parameter"></a> <span class="vuid">VUID-vkCompileDeferredNV-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCompileDeferredNV-pipeline-parameter" href="#VUID-vkCompileDeferredNV-pipeline-parameter"></a> <span class="vuid">VUID-vkCompileDeferredNV-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCompileDeferredNV-pipeline-parent" href="#VUID-vkCompileDeferredNV-pipeline-parent"></a> <span class="vuid">VUID-vkCompileDeferredNV-pipeline-parent</span><br>
 <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the pipeline stack size of shaders in a shader group in the ray
tracing pipeline, call:</p>
</div>
<div id="vkGetRayTracingShaderGroupStackSizeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
VkDeviceSize vkGetRayTracingShaderGroupStackSizeKHR(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    uint32_t                                    group,
    VkShaderGroupShaderKHR                      groupShader);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device containing the ray tracing pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the ray tracing pipeline object containing the shaders
groups.</p>
</li>
<li>
<p><code>group</code> is the index of the shader group to query.</p>
</li>
<li>
<p><code>groupShader</code> is the type of shader from the group to query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The return value is the ray tracing pipeline stack size in bytes for the
specified shader as called from the specified shader group.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-04622" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-04622"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-04622</span><br>

<code>pipeline</code> <strong>must</strong> be a ray tracing pipeline</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-group-03608" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-group-03608"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-group-03608</span><br>

The value of <code>group</code> <strong>must</strong> be less than the number of shader groups
in <code>pipeline</code></p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-03609" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-03609"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-03609</span><br>

The shader identified by <code>groupShader</code> in <code>group</code> <strong>must</strong> not be
<code>VK_SHADER_UNUSED_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-device-parameter" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-device-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parameter" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-parameter" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-parameter"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-groupShader-parameter</span><br>
 <code>groupShader</code> <strong>must</strong> be a valid <a href="#VkShaderGroupShaderKHR">VkShaderGroupShaderKHR</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parent" href="#VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parent"></a> <span class="vuid">VUID-vkGetRayTracingShaderGroupStackSizeKHR-pipeline-parent</span><br>
 <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <code>groupShader</code> in
<a href="#vkGetRayTracingShaderGroupStackSizeKHR">vkGetRayTracingShaderGroupStackSizeKHR</a> are:</p>
</div>
<div id="VkShaderGroupShaderKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
typedef enum VkShaderGroupShaderKHR {
    VK_SHADER_GROUP_SHADER_GENERAL_KHR = 0,
    VK_SHADER_GROUP_SHADER_CLOSEST_HIT_KHR = 1,
    VK_SHADER_GROUP_SHADER_ANY_HIT_KHR = 2,
    VK_SHADER_GROUP_SHADER_INTERSECTION_KHR = 3,
} VkShaderGroupShaderKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_GROUP_SHADER_GENERAL_KHR</code> uses the shader specified in
the group with
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>generalShader</code></p>
</li>
<li>
<p><code>VK_SHADER_GROUP_SHADER_CLOSEST_HIT_KHR</code> uses the shader specified
in the group with
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>closestHitShader</code></p>
</li>
<li>
<p><code>VK_SHADER_GROUP_SHADER_ANY_HIT_KHR</code> uses the shader specified in
the group with
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>anyHitShader</code></p>
</li>
<li>
<p><code>VK_SHADER_GROUP_SHADER_INTERSECTION_KHR</code> uses the shader specified
in the group with
<a href="#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a>::<code>intersectionShader</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="#pipelines-dynamic-state">dynamically set</a> the stack size for a ray
tracing pipeline, call:</p>
</div>
<div id="vkCmdSetRayTracingPipelineStackSizeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_ray_tracing_pipeline
void vkCmdSetRayTracingPipelineStackSizeKHR(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    pipelineStackSize);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pipelineStackSize</code> is the stack size to use for subsequent ray
tracing trace commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the stack size for subsequent ray tracing commands when
the ray tracing pipeline is created with
<code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code> set in
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, the stack size is computed as described in
<a href="raytracing.html#ray-tracing-pipeline-stack" class="xref page">Ray Tracing Pipeline Stack</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-pipelineStackSize-03610" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-pipelineStackSize-03610"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-pipelineStackSize-03610</span><br>

<code>pipelineStackSize</code> <strong>must</strong> be large enough for any dynamic execution
through the shaders in the ray tracing pipeline used by a subsequent
trace call</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-parameter" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-recording" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-cmdpool" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-renderpass" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-renderpass"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRayTracingPipelineStackSizeKHR-videocoding" href="#VUID-vkCmdSetRayTracingPipelineStackSizeKHR-videocoding"></a> <span class="vuid">VUID-vkCmdSetRayTracingPipelineStackSizeKHR-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-destruction"><a class="anchor" href="#pipelines-destruction"></a>Pipeline Destruction</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline, call:</p>
</div>
<div id="vkDestroyPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyPipeline(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the handle of the pipeline to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00765" href="#VUID-vkDestroyPipeline-pipeline-00765"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00765</span><br>

All submitted commands that refer to <code>pipeline</code> <strong>must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00766" href="#VUID-vkDestroyPipeline-pipeline-00766"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00766</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00767" href="#VUID-vkDestroyPipeline-pipeline-00767"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00767</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-device-parameter" href="#VUID-vkDestroyPipeline-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parameter" href="#VUID-vkDestroyPipeline-pipeline-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-parameter</span><br>
 If <code>pipeline</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pAllocator-parameter" href="#VUID-vkDestroyPipeline-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parent" href="#VUID-vkDestroyPipeline-pipeline-parent"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-parent</span><br>
 If <code>pipeline</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipeline</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-pipeline-derivatives"><a class="anchor" href="#pipelines-pipeline-derivatives"></a>Pipeline Derivatives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A pipeline derivative is a child pipeline created from a parent pipeline,
where the child and parent are expected to have much commonality.</p>
</div>
<div class="paragraph">
<p>The goal of derivative pipelines is that they be cheaper to create using the
parent as a starting point, and that it be more efficient (on either host or
device) to switch/bind between children of the same parent.</p>
</div>
<div class="paragraph">
<p>A derivative pipeline is created by setting the
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag in the
<code>Vk*PipelineCreateInfo</code> structure.
If this is set, then exactly one of <code>basePipelineHandle</code> or
<code>basePipelineIndex</code> members of the structure <strong>must</strong> have a valid
handle/index, and specifies the parent pipeline.
If <code>basePipelineHandle</code> is used, the parent pipeline <strong>must</strong> have already
been created.
If <code>basePipelineIndex</code> is used, then the parent is being created in the
same command.
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> acts as the invalid handle for
<code>basePipelineHandle</code>, and -1 is the invalid index for
<code>basePipelineIndex</code>.
If <code>basePipelineIndex</code> is used, the base pipeline <strong>must</strong> appear earlier
in the array.
The base pipeline <strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-cache"><a class="anchor" href="#pipelines-cache"></a>Pipeline Cache</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse between pipelines is achieved by passing the same pipeline cache
object when creating multiple related pipelines.
Reuse across runs of an application is achieved by retrieving pipeline cache
contents in one run of an application, saving the contents, and using them
to preinitialize a pipeline cache on a subsequent run.
The contents of the pipeline cache objects are managed by the
implementation.
Applications <strong>can</strong> manage the host memory consumed by a pipeline cache object
and control the amount of data retrieved from a pipeline cache object.</p>
</div>
<div class="paragraph">
<p>Pipeline cache objects are represented by <code>VkPipelineCache</code> handles:</p>
</div>
<div id="VkPipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineCache)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-create"><a class="anchor" href="#pipelines-cache-create"></a>Creating a Pipeline Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create pipeline cache objects, call:</p>
</div>
<div id="vkCreatePipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreatePipelineCache(
    VkDevice                                    device,
    const VkPipelineCacheCreateInfo*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineCache*                            pPipelineCache);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline cache
object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a>
structure containing initial parameters for the pipeline cache object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineCache</code> is a pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle in
which the resulting pipeline cache object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications <strong>can</strong> track and manage the total host memory size of a pipeline
cache object using the <code>pAllocator</code>.
Applications <strong>can</strong> limit the amount of data retrieved from a pipeline cache
object in <code>vkGetPipelineCacheData</code>.
Implementations <strong>should</strong> not internally limit the total number of entries
added to a pipeline cache object or the total host memory consumed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once created, a pipeline cache <strong>can</strong> be passed to the
<a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>
<a href="#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a>,
<a href="#vkCreateRayTracingPipelinesNV">vkCreateRayTracingPipelinesNV</a>,
and <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a> commands.
If the pipeline cache passed into these commands is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the implementation will query it for possible reuse
opportunities and update it with new content.
The use of the pipeline cache object in these commands is internally
synchronized, and the same pipeline cache object <strong>can</strong> be used in multiple
threads simultaneously.</p>
</div>
<div class="paragraph">
<p>If <code>flags</code> of <code>pCreateInfo</code> includes
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, all commands
that modify the returned pipeline cache object <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations <strong>should</strong> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <code>vkCreate*Pipelines</code> commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineCache-device-parameter" href="#VUID-vkCreatePipelineCache-device-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pCreateInfo-parameter" href="#VUID-vkCreatePipelineCache-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pAllocator-parameter" href="#VUID-vkCreatePipelineCache-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pPipelineCache-parameter" href="#VUID-vkCreatePipelineCache-pPipelineCache-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pPipelineCache-parameter</span><br>
 <code>pPipelineCache</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCacheCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineCacheCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineCacheCreateInfo {
    VkStructureType               sType;
    const void*                   pNext;
    VkPipelineCacheCreateFlags    flags;
    size_t                        initialDataSize;
    const void*                   pInitialData;
} VkPipelineCacheCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a>
specifying the behavior of the pipeline cache.</p>
</li>
<li>
<p><code>initialDataSize</code> is the number of bytes in <code>pInitialData</code>.
If <code>initialDataSize</code> is zero, the pipeline cache will initially be
empty.</p>
</li>
<li>
<p><code>pInitialData</code> is a pointer to previously retrieved pipeline cache
data.
If the pipeline cache data is incompatible (as defined below) with the
device, the pipeline cache will be initially empty.
If <code>initialDataSize</code> is zero, <code>pInitialData</code> is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00768" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00768"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-initialDataSize-00768</span><br>

If <code>initialDataSize</code> is not <code>0</code>, it <strong>must</strong> be equal to the size of
<code>pInitialData</code>, as returned by <code>vkGetPipelineCacheData</code> when
<code>pInitialData</code> was originally retrieved</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00769" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00769"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-initialDataSize-00769</span><br>

If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong>must</strong> have been
retrieved from a previous call to <code>vkGetPipelineCacheData</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892" href="#VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-sType-sType" href="#VUID-VkPipelineCacheCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pNext-pNext" href="#VUID-VkPipelineCacheCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-flags-parameter" href="#VUID-VkPipelineCacheCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pInitialData-parameter" href="#VUID-VkPipelineCacheCreateInfo-pInitialData-parameter"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pInitialData-parameter</span><br>
 If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong>must</strong> be a valid pointer to an array of <code>initialDataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCacheCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineCacheCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCacheCreateFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a>::<code>flags</code>,
specifying behavior of the pipeline cache, are:</p>
</div>
<div id="VkPipelineCacheCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_creation_cache_control
typedef enum VkPipelineCacheCreateFlagBits {
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT = 0x00000001,
  // Provided by VK_EXT_pipeline_creation_cache_control
    VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT_EXT = VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT,
} VkPipelineCacheCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code> specifies
that all commands that modify the created <a href="#VkPipelineCache">VkPipelineCache</a> will be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a>.
When set, the implementation <strong>may</strong> skip any unnecessary processing needed
to support simultaneous modification from multiple threads where
allowed.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-merge"><a class="anchor" href="#pipelines-cache-merge"></a>Merging Pipeline Caches</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects <strong>can</strong> be merged using the command:</p>
</div>
<div id="vkMergePipelineCaches" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkMergePipelineCaches(
    VkDevice                                    device,
    VkPipelineCache                             dstCache,
    uint32_t                                    srcCacheCount,
    const VkPipelineCache*                      pSrcCaches);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache objects.</p>
</li>
<li>
<p><code>dstCache</code> is the handle of the pipeline cache to merge results
into.</p>
</li>
<li>
<p><code>srcCacheCount</code> is the length of the <code>pSrcCaches</code> array.</p>
</li>
<li>
<p><code>pSrcCaches</code> is a pointer to an array of pipeline cache handles,
which will be merged into <code>dstCache</code>.
The previous contents of <code>dstCache</code> are included after the merge.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The details of the merge operation are implementation-dependent, but
implementations <strong>should</strong> merge the contents of the specified pipelines and
prune duplicate entries.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-00770" href="#VUID-vkMergePipelineCaches-dstCache-00770"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-00770</span><br>

<code>dstCache</code> <strong>must</strong> not appear in the list of source caches</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-device-parameter" href="#VUID-vkMergePipelineCaches-device-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parameter" href="#VUID-vkMergePipelineCaches-dstCache-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-parameter</span><br>
 <code>dstCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parameter" href="#VUID-vkMergePipelineCaches-pSrcCaches-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-pSrcCaches-parameter</span><br>
 <code>pSrcCaches</code> <strong>must</strong> be a valid pointer to an array of <code>srcCacheCount</code> valid <a href="#VkPipelineCache">VkPipelineCache</a> handles</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-srcCacheCount-arraylength" href="#VUID-vkMergePipelineCaches-srcCacheCount-arraylength"></a> <span class="vuid">VUID-vkMergePipelineCaches-srcCacheCount-arraylength</span><br>
 <code>srcCacheCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parent" href="#VUID-vkMergePipelineCaches-dstCache-parent"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-parent</span><br>
 <code>dstCache</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parent" href="#VUID-vkMergePipelineCaches-pSrcCaches-parent"></a> <span class="vuid">VUID-vkMergePipelineCaches-pSrcCaches-parent</span><br>
 Each element of <code>pSrcCaches</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>dstCache</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-retrieval"><a class="anchor" href="#pipelines-cache-retrieval"></a>Retrieving Pipeline Cache Data</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data <strong>can</strong> be retrieved from a pipeline cache object using the command:</p>
</div>
<div id="vkGetPipelineCacheData" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkGetPipelineCacheData(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    size_t*                                     pDataSize,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache.</p>
</li>
<li>
<p><code>pipelineCache</code> is the pipeline cache to retrieve data from.</p>
</li>
<li>
<p><code>pDataSize</code> is a pointer to a <code>size_t</code> value related to the
amount of data in the pipeline cache, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the maximum size of the data that <strong>can</strong> be
retrieved from the pipeline cache, in bytes, is returned in <code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <strong>must</strong> point to a variable set by the application
to the size of the buffer, in bytes, pointed to by <code>pData</code>, and on
return the variable is overwritten with the amount of data actually written
to <code>pData</code>.
If <code>pDataSize</code> is less than the maximum size that <strong>can</strong> be retrieved by
the pipeline cache, at most <code>pDataSize</code> bytes will be written to
<code>pData</code>, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all of the pipeline cache was
returned.</p>
</div>
<div class="paragraph">
<p>Any data written to <code>pData</code> is valid and <strong>can</strong> be provided as the
<code>pInitialData</code> member of the <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a> structure
passed to <code>vkCreatePipelineCache</code>.</p>
</div>
<div class="paragraph">
<p>Two calls to <code>vkGetPipelineCacheData</code> with the same parameters <strong>must</strong>
retrieve the same data unless a command that modifies the contents of the
cache is called between them.</p>
</div>
<div class="paragraph">
<p>The initial bytes written to <code>pData</code> <strong>must</strong> be a header as described in
the <a href="#pipelines-cache-header">Pipeline Cache Header</a> section.</p>
</div>
<div class="paragraph">
<p>If <code>pDataSize</code> is less than what is necessary to store this header,
nothing will be written to <code>pData</code> and zero will be written to
<code>pDataSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineCacheData-device-parameter" href="#VUID-vkGetPipelineCacheData-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parameter" href="#VUID-vkGetPipelineCacheData-pipelineCache-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pipelineCache-parameter</span><br>
 <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pDataSize-parameter" href="#VUID-vkGetPipelineCacheData-pDataSize-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pDataSize-parameter</span><br>
 <code>pDataSize</code> <strong>must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pData-parameter" href="#VUID-vkGetPipelineCacheData-pData-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pData-parameter</span><br>
 If the value referenced by <code>pDataSize</code> is not <code>0</code>, and <code>pData</code> is not <code>NULL</code>, <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>pDataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parent" href="#VUID-vkGetPipelineCacheData-pipelineCache-parent"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pipelineCache-parent</span><br>
 <code>pipelineCache</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-header"><a class="anchor" href="#pipelines-cache-header"></a>Pipeline Cache Header</h3>
<div class="paragraph">
<p>Applications <strong>can</strong> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects.
The results of pipeline compiles, however, <strong>may</strong> depend on the vendor ID,
device ID, driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the pipeline cache data <strong>must</strong> begin with a
valid pipeline cache header.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Structures described in this section are not part of the Vulkan API and are
only used to describe the representation of data elements in pipeline cache
data.
Accordingly, the valid usage clauses defined for structures defined in this
section do not define valid usage conditions for APIs accepting pipeline
cache data as input, as providing invalid pipeline cache data as input to
any Vulkan API commands will result
in the provided pipeline cache data being ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Version one of the pipeline cache header is defined as:</p>
</div>
<div id="VkPipelineCacheHeaderVersionOne" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineCacheHeaderVersionOne {
    uint32_t                        headerSize;
    VkPipelineCacheHeaderVersion    headerVersion;
    uint32_t                        vendorID;
    uint32_t                        deviceID;
    uint8_t                         pipelineCacheUUID[VK_UUID_SIZE];
} VkPipelineCacheHeaderVersionOne;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>headerSize</code> is the length in bytes of the pipeline cache header.</p>
</li>
<li>
<p><code>headerVersion</code> is a <a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a> value
specifying the version of the header.
A consumer of the pipeline cache <strong>should</strong> use the cache version to
interpret the remainder of the cache header.</p>
</li>
<li>
<p><code>vendorID</code> is the <code>VkPhysicalDeviceProperties</code>::<code>vendorID</code>
of the implementation.</p>
</li>
<li>
<p><code>deviceID</code> is the <code>VkPhysicalDeviceProperties</code>::<code>deviceID</code>
of the implementation.</p>
</li>
<li>
<p><code>pipelineCacheUUID</code> is the
<code>VkPhysicalDeviceProperties</code>::<code>pipelineCacheUUID</code> of the
implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unlike most structures declared by the Vulkan API, all fields of this
structure are written with the least significant byte first, regardless of
host byte-order.</p>
</div>
<div class="paragraph">
<p>The C language specification does not define the packing of structure
members.
This layout assumes tight structure member packing, with members laid out in
the order listed in the structure, and the intended size of the structure is
32 bytes.
If a compiler produces code that diverges from that pattern, applications
<strong>must</strong> employ another method to set values at the correct offsets.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967" href="#VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967</span><br>

<code>headerSize</code> <strong>must</strong> be 32</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968" href="#VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968</span><br>

<code>headerVersion</code> <strong>must</strong> be <code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990" href="#VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990</span><br>

<code>headerSize</code> <strong>must</strong> not exceed the size of the pipeline cache</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter" href="#VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter</span><br>
 <code>headerVersion</code> <strong>must</strong> be a valid <a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>headerVersion</code> value of the pipeline cache
header are:</p>
</div>
<div id="VkPipelineCacheHeaderVersion" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineCacheHeaderVersion {
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE = 1,
} VkPipelineCacheHeaderVersion;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code> specifies version one of the
pipeline cache, described by <a href="#VkPipelineCacheHeaderVersionOne">VkPipelineCacheHeaderVersionOne</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-destroy"><a class="anchor" href="#pipelines-cache-destroy"></a>Destroying a Pipeline Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline cache, call:</p>
</div>
<div id="vkDestroyPipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyPipelineCache(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline cache
object.</p>
</li>
<li>
<p><code>pipelineCache</code> is the handle of the pipeline cache to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00771" href="#VUID-vkDestroyPipelineCache-pipelineCache-00771"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-00771</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00772" href="#VUID-vkDestroyPipelineCache-pipelineCache-00772"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-00772</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-device-parameter" href="#VUID-vkDestroyPipelineCache-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parameter" href="#VUID-vkDestroyPipelineCache-pipelineCache-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pAllocator-parameter" href="#VUID-vkDestroyPipelineCache-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parent" href="#VUID-vkDestroyPipelineCache-pipelineCache-parent"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineCache</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-binaries"><a class="anchor" href="#pipelines-binaries"></a>Pipeline Binaries</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline binary objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse is achieved by extracting pipeline binaries from a <a href="#VkPipeline">VkPipeline</a>
object, associating them with a corresponding <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a>
and then adding a <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a> to the <code>pNext</code> chain of
any <code>Vk*PipelineCreateInfo</code> when creating a pipeline.
Pipeline binaries can be reused between runs by extracting
<code>VkPipelineBinaryDataKHR</code> from <code>VkPipelineBinaryKHR</code> objects, saving
the contents, and then using them to create a <code>VkPipelineBinaryKHR</code>
object on subsequent runs.</p>
</div>
<div class="paragraph">
<p>When creating a pipeline that includes <a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a> in the
<code>pNext</code> chain, or has the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set, the use of
<a href="#VkPipelineCache">VkPipelineCache</a> objects is not allowed.</p>
</div>
<div class="paragraph">
<p>Pipeline binary objects are represented by <code>VkPipelineBinaryKHR</code>
handles:</p>
</div>
<div id="VkPipelineBinaryKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineBinaryKHR)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binaries-generatekeys"><a class="anchor" href="#pipelines-binaries-generatekeys"></a>Generating the Pipeline Key</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To generate the key for a particular pipeline creation info, call:</p>
</div>
<div id="vkGetPipelineKeyKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
VkResult vkGetPipelineKeyKHR(
    VkDevice                                    device,
    const VkPipelineCreateInfoKHR*              pPipelineCreateInfo,
    VkPipelineBinaryKeyKHR*                     pPipelineKey);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline object.</p>
</li>
<li>
<p><code>pPipelineCreateInfo</code> is <code>NULL</code> or a pointer to a
<a href="#VkPipelineCreateInfoKHR">VkPipelineCreateInfoKHR</a> structure.</p>
</li>
<li>
<p><code>pPipelineKey</code> is a pointer to a <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a>
structure in which the resulting key is returned.</p>
</li>
</ul>
</div>
<div id="global-pipeline-key" class="paragraph">
<p>If <code>pPipelineCreateInfo</code> is <code>NULL</code>, then the implementation <strong>must</strong> return
the global key that applies to all pipelines.
If the key obtained in this way changes between saving and restoring data
obtained from <a href="#vkGetPipelineBinaryDataKHR">vkGetPipelineBinaryDataKHR</a> in a different
<a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a>, then the application <strong>must</strong> assume that the restored data is
invalid and cannot be passed to <a href="#vkCreatePipelineBinariesKHR">vkCreatePipelineBinariesKHR</a>.
Otherwise the application <strong>can</strong> assume the data is still valid.</p>
</div>
<div class="paragraph">
<p>If <code>pPipelineCreateInfo</code> is not <code>NULL</code>, the key obtained functions as a
method to compare two pipeline creation info structures.
Implementations <strong>may</strong> not compare parts of a pipeline creation info which
would not contribute to the final binary output.
If a shader module identifier is used instead of a shader module, the
<code>pPipelineKey</code> generated <strong>must</strong> be equal to the key generated when using
the shader module from which the identifier was queried.
If the content of two <code>pPipelineKey</code> are equal, pipelines created with
the two <code>pPipelineCreateInfo-&gt;pname</code>:pNext create infos <strong>must</strong> produce
the same <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> contents.</p>
</div>
<div class="paragraph">
<p>The pipeline key is distinct from pipeline binary key.
Pipeline binary keys <strong>can</strong> only be obtained after compilation.
The pipeline key is intended to optionally allow associating pipeline create
info with multiple pipeline binary keys.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineKeyKHR-pNext-09605" href="#VUID-vkGetPipelineKeyKHR-pNext-09605"></a> <span class="vuid">VUID-vkGetPipelineKeyKHR-pNext-09605</span><br>

The <code>pNext</code> chain of <code>pPipelineCreateInfo</code> <strong>must</strong> not set
<a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> to a value greater than
<code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineKeyKHR-device-parameter" href="#VUID-vkGetPipelineKeyKHR-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineKeyKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineKeyKHR-pPipelineCreateInfo-parameter" href="#VUID-vkGetPipelineKeyKHR-pPipelineCreateInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelineKeyKHR-pPipelineCreateInfo-parameter</span><br>
 If <code>pPipelineCreateInfo</code> is not <code>NULL</code>, <code>pPipelineCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineCreateInfoKHR">VkPipelineCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineKeyKHR-pPipelineKey-parameter" href="#VUID-vkGetPipelineKeyKHR-pPipelineKey-parameter"></a> <span class="vuid">VUID-vkGetPipelineKeyKHR-pPipelineKey-parameter</span><br>
 <code>pPipelineKey</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineCreateInfoKHR {
    VkStructureType    sType;
    void*              pNext;
} VkPipelineCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is a pointer to a structure extending this structure.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCreateInfoKHR-pNext-09604" href="#VUID-VkPipelineCreateInfoKHR-pNext-09604"></a> <span class="vuid">VUID-VkPipelineCreateInfoKHR-pNext-09604</span><br>

    <code>pNext</code> <strong>must</strong> be pointer to a valid instance of
    <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>,
<a href="executiongraphs.html#VkExecutionGraphPipelineCreateInfoAMDX" class="xref page">VkExecutionGraphPipelineCreateInfoAMDX</a>,
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>,
    or <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCreateInfoKHR-sType-sType" href="#VUID-VkPipelineCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryKeyKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryKeyKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryKeyKHR {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           keySize;
    uint8_t            key[VK_MAX_PIPELINE_BINARY_KEY_SIZE_KHR];
} VkPipelineBinaryKeyKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>keySize</code> is the size, in bytes, of valid data returned in
<code>key</code>.</p>
</li>
<li>
<p><code>key</code> is a buffer of opaque data specifying a pipeline binary key.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any returned values beyond the first <code>keySize</code> bytes are <strong>undefined</strong>.
Implementations <strong>must</strong> return a <code>keySize</code> greater than 0, and
less-or-equal to <code>VK_MAX_PIPELINE_BINARY_KEY_SIZE_KHR</code>.</p>
</div>
<div class="paragraph">
<p>Two keys are considered equal if <code>keySize</code> is equal and the first
<code>keySize</code> bytes of <code>key</code> compare equal.</p>
</div>
<div class="paragraph">
<p>Implementations <strong>may</strong> return a different <code>keySize</code> for different
binaries.</p>
</div>
<div class="paragraph">
<p>Implementations <strong>should</strong> ensure that <code>keySize</code> is large enough to
uniquely identify a pipeline binary.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryKeyKHR-sType-sType" href="#VUID-VkPipelineBinaryKeyKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineBinaryKeyKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_BINARY_KEY_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryKeyKHR-pNext-pNext" href="#VUID-VkPipelineBinaryKeyKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineBinaryKeyKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_MAX_PIPELINE_BINARY_KEY_SIZE_KHR</code> is the length in bytes of a binary
key, as returned in <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a>::<code>keySize</code>.</p>
</div>
<div id="VK_MAX_PIPELINE_BINARY_KEY_SIZE_KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">#define VK_MAX_PIPELINE_BINARY_KEY_SIZE_KHR 32U</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binaries-create"><a class="anchor" href="#pipelines-binaries-create"></a>Creating Pipeline Binaries</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create pipeline binary objects, call:</p>
</div>
<div id="vkCreatePipelineBinariesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
VkResult vkCreatePipelineBinariesKHR(
    VkDevice                                    device,
    const VkPipelineBinaryCreateInfoKHR*        pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineBinaryHandlesInfoKHR*             pBinaries);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline binary
objects.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineBinaryCreateInfoKHR">VkPipelineBinaryCreateInfoKHR</a>
structure that contains the data to create the pipeline binaries from.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pBinaries</code> is a pointer to a <a href="#VkPipelineBinaryHandlesInfoKHR">VkPipelineBinaryHandlesInfoKHR</a>
structure in which the resulting pipeline binaries are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation will attempt to create all pipeline binaries.
If creation fails for any pipeline binary, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The corresponding entry in the <code>pPipelineBinaries</code> output array will
be filled with <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p>The <code>VkResult</code> returned by <a href="#vkCreatePipelineBinariesKHR">vkCreatePipelineBinariesKHR</a> will
contain the error value for the first entry in the output array in
<code>pBinaries</code> containing <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineBinariesKHR-device-parameter" href="#VUID-vkCreatePipelineBinariesKHR-device-parameter"></a> <span class="vuid">VUID-vkCreatePipelineBinariesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineBinariesKHR-pCreateInfo-parameter" href="#VUID-vkCreatePipelineBinariesKHR-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreatePipelineBinariesKHR-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineBinaryCreateInfoKHR">VkPipelineBinaryCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineBinariesKHR-pAllocator-parameter" href="#VUID-vkCreatePipelineBinariesKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreatePipelineBinariesKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineBinariesKHR-pBinaries-parameter" href="#VUID-vkCreatePipelineBinariesKHR-pBinaries-parameter"></a> <span class="vuid">VUID-vkCreatePipelineBinariesKHR-pBinaries-parameter</span><br>
 <code>pBinaries</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineBinaryHandlesInfoKHR">VkPipelineBinaryHandlesInfoKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
<li>
<p><code>VK_PIPELINE_BINARY_MISSING_KHR</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryHandlesInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryHandlesInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryHandlesInfoKHR {
    VkStructureType         sType;
    const void*             pNext;
    uint32_t                pipelineBinaryCount;
    VkPipelineBinaryKHR*    pPipelineBinaries;
} VkPipelineBinaryHandlesInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipelineBinaryCount</code> is the number of binaries associated with this
pipeline or the number of entries in the <code>pPipelineBinaries</code> array.</p>
</li>
<li>
<p><code>pPipelineBinaries</code> is <code>NULL</code> or a pointer to an array of
<a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handles in which the resulting pipeline
binaries are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPipelineBinaries</code> is <code>NULL</code>, the number of binaries that would be
created is returned in <code>pipelineBinaryCount</code>.
Otherwise, <code>pipelineBinaryCount</code> <strong>must</strong> be the number of entries in the
<code>pPipelineBinaries</code> array, and on return from
<a href="#vkCreatePipelineBinariesKHR">vkCreatePipelineBinariesKHR</a> <code>pipelineBinaryCount</code> is overwritten
with the number of handles actually written to <code>pPipelineBinaries</code>.
If the value of <code>pipelineBinaryCount</code> is less than the number of
binaries that would have been created, at most <code>pipelineBinaryCount</code>
handles will be written to <code>pPipelineBinaries</code> and <code>VK_INCOMPLETE</code>
will be returned instead of <code>VK_SUCCESS</code>, to indicate that
<code>pPipelineBinaries</code> was not large enough to create all the binaries.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryHandlesInfoKHR-sType-sType" href="#VUID-VkPipelineBinaryHandlesInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineBinaryHandlesInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_BINARY_HANDLES_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryHandlesInfoKHR-pNext-pNext" href="#VUID-VkPipelineBinaryHandlesInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineBinaryHandlesInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryHandlesInfoKHR-pPipelineBinaries-parameter" href="#VUID-VkPipelineBinaryHandlesInfoKHR-pPipelineBinaries-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryHandlesInfoKHR-pPipelineBinaries-parameter</span><br>
 If <code>pipelineBinaryCount</code> is not <code>0</code>, and <code>pPipelineBinaries</code> is not <code>NULL</code>, <code>pPipelineBinaries</code> <strong>must</strong> be a valid pointer to an array of <code>pipelineBinaryCount</code> <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryCreateInfoKHR {
    VkStructureType                          sType;
    const void*                              pNext;
    const VkPipelineBinaryKeysAndDataKHR*    pKeysAndDataInfo;
    VkPipeline                               pipeline;
    const VkPipelineCreateInfoKHR*           pPipelineCreateInfo;
} VkPipelineBinaryCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pKeysAndDataInfo</code> is <code>NULL</code> or a pointer to a
<a href="#VkPipelineBinaryKeysAndDataKHR">VkPipelineBinaryKeysAndDataKHR</a> structure that contains keys and
data to create the pipeline binaries from.</p>
</li>
<li>
<p><code>pipeline</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or a <code>VkPipeline</code> that
contains data to create the pipeline binaries from.</p>
</li>
<li>
<p><code>pPipelineCreateInfo</code> is <code>NULL</code> or a pointer to a
<a href="#VkPipelineCreateInfoKHR">VkPipelineCreateInfoKHR</a> structure with the pipeline creation info.
This is used to probe the implementation&#8217;s internal cache for pipeline
binaries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>pPipelineCreateInfo</code> is not <code>NULL</code>, an implementation will attempt
to retrieve pipeline binary data from an internal cache external to the
application if
<a href="limits.html#limits-pipelineBinaryInternalCache" class="xref page"><code>pipelineBinaryInternalCache</code></a> is
<code>VK_TRUE</code>.
Applications <strong>can</strong> use this to determine if a pipeline <strong>can</strong> be created
without compilation.
If the implementation fails to create a pipeline binary due to missing an
internal cache entry, <code>VK_PIPELINE_BINARY_MISSING_KHR</code> is returned.
If creation succeeds, the resulting binary <strong>can</strong> be used to create a
pipeline.
<code>VK_PIPELINE_BINARY_MISSING_KHR</code> <strong>may</strong> be returned for any reason in this
situation, even if creating a pipeline binary with the same parameters that
succeeded earlier.</p>
</div>
<div class="paragraph">
<p>If
<a href="limits.html#limits-pipelineBinaryPrecompiledInternalCache" class="xref page"><code>pipelineBinaryPrecompiledInternalCache</code></a>
is <code>VK_TRUE</code>, the implementation <strong>may</strong> be able to create pipeline
binaries even when <code>pPipelineCreateInfo</code> has not been used to create
binaries before by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On some platforms, internal pipeline caches may be pre-populated before
running the application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09607" href="#VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09607"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09607</span><br>

If <code>pipeline</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipeline</code> <strong>must</strong> have
been created with <code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09608" href="#VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09608"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pipeline-09608</span><br>

If <code>pipeline</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#vkReleaseCapturedPipelineDataKHR">vkReleaseCapturedPipelineDataKHR</a> <strong>must</strong> not have been called on
<code>pipeline</code> prior to this command</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pipelineBinaryInternalCache-09609" href="#VUID-VkPipelineBinaryCreateInfoKHR-pipelineBinaryInternalCache-09609"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pipelineBinaryInternalCache-09609</span><br>

If
<a href="limits.html#limits-pipelineBinaryInternalCache" class="xref page"><code>pipelineBinaryInternalCache</code></a>
is <code>VK_FALSE</code> pPipelineCreateInfo <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-device-09610" href="#VUID-VkPipelineBinaryCreateInfoKHR-device-09610"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-device-09610</span><br>

If <code>device</code> was created with
<a href="devsandqueues.html#VkDevicePipelineBinaryInternalCacheControlKHR" class="xref page">VkDevicePipelineBinaryInternalCacheControlKHR</a>::<code>disableInternalCache</code>
set to <code>VK_TRUE</code>, <code>pPipelineCreateInfo</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-09619" href="#VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-09619"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-09619</span><br>

One and only one of <code>pKeysAndDataInfo</code>, <code>pipeline</code>, or
<code>pPipelineCreateInfo</code> <strong>must</strong> be non-<code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-09606" href="#VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-09606"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-09606</span><br>

If <code>pPipelineCreateInfo</code> is not <code>NULL</code>, the <code>pNext</code> chain of
<code>pPipelineCreateInfo</code> <strong>must</strong> not set
<a href="#VkPipelineBinaryInfoKHR">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> to a value greater than
<code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-sType-sType" href="#VUID-VkPipelineBinaryCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_BINARY_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pNext-pNext" href="#VUID-VkPipelineBinaryCreateInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-parameter" href="#VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pKeysAndDataInfo-parameter</span><br>
 If <code>pKeysAndDataInfo</code> is not <code>NULL</code>, <code>pKeysAndDataInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineBinaryKeysAndDataKHR">VkPipelineBinaryKeysAndDataKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pipeline-parameter" href="#VUID-VkPipelineBinaryCreateInfoKHR-pipeline-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pipeline-parameter</span><br>
 If <code>pipeline</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-parameter" href="#VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryCreateInfoKHR-pPipelineCreateInfo-parameter</span><br>
 If <code>pPipelineCreateInfo</code> is not <code>NULL</code>, <code>pPipelineCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineCreateInfoKHR">VkPipelineCreateInfoKHR</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryKeysAndDataKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryKeysAndDataKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryKeysAndDataKHR {
    uint32_t                          binaryCount;
    const VkPipelineBinaryKeyKHR*     pPipelineBinaryKeys;
    const VkPipelineBinaryDataKHR*    pPipelineBinaryData;
} VkPipelineBinaryKeysAndDataKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>binaryCount</code> is the size of the <code>pPipelineBinaryKeys</code> and
<code>pPipelineBinaryData</code> arrays</p>
</li>
<li>
<p><code>pPipelineBinaryKeys</code> is a pointer to an array of
<a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a> structures containing the pipeline binary
keys</p>
</li>
<li>
<p><code>pPipelineBinaryData</code> is a pointer to an array of
<a href="#VkPipelineBinaryDataKHR">VkPipelineBinaryDataKHR</a> structures containing the pipeline binary
data</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryKeys-parameter" href="#VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryKeys-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryKeys-parameter</span><br>
 <code>pPipelineBinaryKeys</code> <strong>must</strong> be a valid pointer to an array of <code>binaryCount</code> valid <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryData-parameter" href="#VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryData-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryKeysAndDataKHR-pPipelineBinaryData-parameter</span><br>
 <code>pPipelineBinaryData</code> <strong>must</strong> be a valid pointer to an array of <code>binaryCount</code> valid <a href="#VkPipelineBinaryDataKHR">VkPipelineBinaryDataKHR</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryKeysAndDataKHR-binaryCount-arraylength" href="#VUID-VkPipelineBinaryKeysAndDataKHR-binaryCount-arraylength"></a> <span class="vuid">VUID-VkPipelineBinaryKeysAndDataKHR-binaryCount-arraylength</span><br>
 <code>binaryCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryDataKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryDataKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryDataKHR {
    size_t    dataSize;
    void*     pData;
} VkPipelineBinaryDataKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dataSize</code> is the size of the <code>pData</code> buffer in bytes.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a buffer of <code>size</code> bytes that contains
pipeline binary data obtained from <code>vkGetPipelineBinaryDataKHR</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryDataKHR-pData-parameter" href="#VUID-VkPipelineBinaryDataKHR-pData-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryDataKHR-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryDataKHR-dataSize-arraylength" href="#VUID-VkPipelineBinaryDataKHR-dataSize-arraylength"></a> <span class="vuid">VUID-VkPipelineBinaryDataKHR-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binaries-retrieval"><a class="anchor" href="#pipelines-binaries-retrieval"></a>Retrieving Pipeline Binary Data</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data <strong>can</strong> be retrieved from a pipeline binary object using the command:</p>
</div>
<div id="vkGetPipelineBinaryDataKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
VkResult vkGetPipelineBinaryDataKHR(
    VkDevice                                    device,
    const VkPipelineBinaryDataInfoKHR*          pInfo,
    VkPipelineBinaryKeyKHR*                     pPipelineBinaryKey,
    size_t*                                     pPipelineBinaryDataSize,
    void*                                       pPipelineBinaryData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that created the pipeline binary.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkPipelineBinaryDataInfoKHR">VkPipelineBinaryDataInfoKHR</a>
structure which describes the pipeline binary to get data from.</p>
</li>
<li>
<p><code>pPipelineBinaryKey</code> is a pointer to a <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a>
structure where the key for this binary will be written.</p>
</li>
<li>
<p><code>pPipelineBinaryDataSize</code> is a pointer to a <code>size_t</code> value
related to the amount of data in the pipeline binary, as described
below.</p>
</li>
<li>
<p><code>pPipelineBinaryData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPipelineBinaryData</code> is <code>NULL</code>, then the size of the data, in bytes,
that is required to store the binary is returned in
<code>pPipelineBinaryDataSize</code>.
Otherwise, <code>pPipelineBinaryDataSize</code> <strong>must</strong> contain the size of the
buffer, in bytes, pointed to by <code>pPipelineBinaryData</code>, and on return
<code>pPipelineBinaryDataSize</code> is overwritten with the size of the data, in
bytes, that is required to store the binary.
If <code>pPipelineBinaryDataSize</code> is less than the size that is required to
store the binary, nothing is written to <code>pPipelineBinaryData</code> and
<code>VK_ERROR_NOT_ENOUGH_SPACE_KHR</code> will be returned, instead of
<code>VK_SUCCESS</code>.</p>
</div>
<div class="paragraph">
<p>If <a href="limits.html#limits-pipelineBinaryCompressedData" class="xref page">pipelineBinaryCompressedData</a> is
<code>VK_FALSE</code>, implementations <strong>should</strong> not return compressed pipeline
binary data to the application.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineBinaryDataKHR-device-parameter" href="#VUID-vkGetPipelineBinaryDataKHR-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineBinaryDataKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineBinaryDataKHR-pInfo-parameter" href="#VUID-vkGetPipelineBinaryDataKHR-pInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelineBinaryDataKHR-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineBinaryDataInfoKHR">VkPipelineBinaryDataInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryKey-parameter" href="#VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryKey-parameter"></a> <span class="vuid">VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryKey-parameter</span><br>
 <code>pPipelineBinaryKey</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineBinaryKeyKHR">VkPipelineBinaryKeyKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryDataSize-parameter" href="#VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryDataSize-parameter"></a> <span class="vuid">VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryDataSize-parameter</span><br>
 <code>pPipelineBinaryDataSize</code> <strong>must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryData-parameter" href="#VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryData-parameter"></a> <span class="vuid">VUID-vkGetPipelineBinaryDataKHR-pPipelineBinaryData-parameter</span><br>
 If the value referenced by <code>pPipelineBinaryDataSize</code> is not <code>0</code>, and <code>pPipelineBinaryData</code> is not <code>NULL</code>, <code>pPipelineBinaryData</code> <strong>must</strong> be a valid pointer to an array of <code>pPipelineBinaryDataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_NOT_ENOUGH_SPACE_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineBinaryDataInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineBinaryDataInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkPipelineBinaryDataInfoKHR {
    VkStructureType        sType;
    void*                  pNext;
    VkPipelineBinaryKHR    pipelineBinary;
} VkPipelineBinaryDataInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipelineBinary</code> is the pipeline binary to get data from.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineBinaryDataInfoKHR-sType-sType" href="#VUID-VkPipelineBinaryDataInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineBinaryDataInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_BINARY_DATA_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryDataInfoKHR-pNext-pNext" href="#VUID-VkPipelineBinaryDataInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineBinaryDataInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineBinaryDataInfoKHR-pipelineBinary-parameter" href="#VUID-VkPipelineBinaryDataInfoKHR-pipelineBinary-parameter"></a> <span class="vuid">VUID-VkPipelineBinaryDataInfoKHR-pipelineBinary-parameter</span><br>
 <code>pipelineBinary</code> <strong>must</strong> be a valid <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binaries-release-captured"><a class="anchor" href="#pipelines-binaries-release-captured"></a>Releasing Captured Pipeline Binary Data</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To release pipeline resources captured with
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code>, call:</p>
</div>
<div id="vkReleaseCapturedPipelineDataKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
VkResult vkReleaseCapturedPipelineDataKHR(
    VkDevice                                    device,
    const VkReleaseCapturedPipelineDataInfoKHR* pInfo,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that created the pipeline object.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkReleaseCapturedPipelineDataInfoKHR">VkReleaseCapturedPipelineDataInfoKHR</a>
structure which describes the pipeline to release the data from.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation <strong>may</strong> free any resources captured as a result of creating
the pipeline with <code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> and put
the pipeline into a state as if
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> had not been provided at
pipeline creation time.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Any resources captured as a result of creating the pipeline with
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> are implicitly freed by
<a href="#vkDestroyPipeline">vkDestroyPipeline</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09611" href="#VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09611"></a> <span class="vuid">VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09611</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, a compatible set of callbacks <strong>must</strong> be provided in
<code>pAllocator</code></p>
</li>
<li>
<p><a id="VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09612" href="#VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09612"></a> <span class="vuid">VUID-vkReleaseCapturedPipelineDataKHR-pipeline-09612</span><br>

If no <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> were provided when <code>pipeline</code> was
created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkReleaseCapturedPipelineDataKHR-device-parameter" href="#VUID-vkReleaseCapturedPipelineDataKHR-device-parameter"></a> <span class="vuid">VUID-vkReleaseCapturedPipelineDataKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkReleaseCapturedPipelineDataKHR-pInfo-parameter" href="#VUID-vkReleaseCapturedPipelineDataKHR-pInfo-parameter"></a> <span class="vuid">VUID-vkReleaseCapturedPipelineDataKHR-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkReleaseCapturedPipelineDataInfoKHR">VkReleaseCapturedPipelineDataInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkReleaseCapturedPipelineDataKHR-pAllocator-parameter" href="#VUID-vkReleaseCapturedPipelineDataKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkReleaseCapturedPipelineDataKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pInfo-&gt;pipeline</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkReleaseCapturedPipelineDataInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkReleaseCapturedPipelineDataInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
typedef struct VkReleaseCapturedPipelineDataInfoKHR {
    VkStructureType    sType;
    void*              pNext;
    VkPipeline         pipeline;
} VkReleaseCapturedPipelineDataInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipeline</code> the handle of the pipeline object to release the data
from.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09613" href="#VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09613"></a> <span class="vuid">VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09613</span><br>

<code>pipeline</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09618" href="#VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09618"></a> <span class="vuid">VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-09618</span><br>

<code>pipeline</code> <strong>must</strong> not have been used in a previous call to
<code>vkReleaseCapturedPipelineDataKHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkReleaseCapturedPipelineDataInfoKHR-sType-sType" href="#VUID-VkReleaseCapturedPipelineDataInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkReleaseCapturedPipelineDataInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_RELEASE_CAPTURED_PIPELINE_DATA_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseCapturedPipelineDataInfoKHR-pNext-pNext" href="#VUID-VkReleaseCapturedPipelineDataInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkReleaseCapturedPipelineDataInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-parameter" href="#VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-parameter"></a> <span class="vuid">VUID-VkReleaseCapturedPipelineDataInfoKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binaries-destroy"><a class="anchor" href="#pipelines-binaries-destroy"></a>Destroying Pipeline Binaries</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a>, call:</p>
</div>
<div id="vkDestroyPipelineBinaryKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_binary
void vkDestroyPipelineBinaryKHR(
    VkDevice                                    device,
    VkPipelineBinaryKHR                         pipelineBinary,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that created the pipeline binary
object.</p>
</li>
<li>
<p><code>pipelineBinary</code> is the handle of the pipeline binary object to
destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09614" href="#VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09614"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09614</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipelineBinary</code>
was created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09615" href="#VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09615"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-09615</span><br>

If no <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> were provided when
<code>pipelineBinary</code> was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-device-parameter" href="#VUID-vkDestroyPipelineBinaryKHR-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parameter" href="#VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parameter</span><br>
 If <code>pipelineBinary</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineBinary</code> <strong>must</strong> be a valid <a href="#VkPipelineBinaryKHR">VkPipelineBinaryKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-pAllocator-parameter" href="#VUID-vkDestroyPipelineBinaryKHR-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parent" href="#VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parent"></a> <span class="vuid">VUID-vkDestroyPipelineBinaryKHR-pipelineBinary-parent</span><br>
 If <code>pipelineBinary</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineBinary</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-specialization-constants"><a class="anchor" href="#pipelines-specialization-constants"></a>Specialization Constants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Specialization constants are a mechanism whereby constants in a SPIR-V
module <strong>can</strong> have their constant value specified at the time the
<code>VkPipeline</code> is created.
This allows a SPIR-V module to have constants that <strong>can</strong> be modified while
executing an application that uses the Vulkan API.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Specialization constants are useful to allow a compute shader to have its
local workgroup size changed at runtime by the user, for example.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure contains a
<code>pSpecializationInfo</code> member, which <strong>can</strong> be <code>NULL</code> to indicate no
specialization constants, or point to a <code>VkSpecializationInfo</code>
structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationInfo</code> structure is defined as:</p>
</div>
<div id="VkSpecializationInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkSpecializationInfo {
    uint32_t                           mapEntryCount;
    const VkSpecializationMapEntry*    pMapEntries;
    size_t                             dataSize;
    const void*                        pData;
} VkSpecializationInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mapEntryCount</code> is the number of entries in the <code>pMapEntries</code>
array.</p>
</li>
<li>
<p><code>pMapEntries</code> is a pointer to an array of
<code>VkSpecializationMapEntry</code> structures, which map constant IDs to
offsets in <code>pData</code>.</p>
</li>
<li>
<p><code>dataSize</code> is the byte size of the <code>pData</code> buffer.</p>
</li>
<li>
<p><code>pData</code> contains the actual constant values to specialize with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-offset-00773" href="#VUID-VkSpecializationInfo-offset-00773"></a> <span class="vuid">VUID-VkSpecializationInfo-offset-00773</span><br>

The <code>offset</code> member of each element of <code>pMapEntries</code> <strong>must</strong> be
less than <code>dataSize</code></p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-00774" href="#VUID-VkSpecializationInfo-pMapEntries-00774"></a> <span class="vuid">VUID-VkSpecializationInfo-pMapEntries-00774</span><br>

The <code>size</code> member of each element of <code>pMapEntries</code> <strong>must</strong> be less
than or equal to <code>dataSize</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-constantID-04911" href="#VUID-VkSpecializationInfo-constantID-04911"></a> <span class="vuid">VUID-VkSpecializationInfo-constantID-04911</span><br>

The <code>constantID</code> value of each element of <code>pMapEntries</code> <strong>must</strong> be
unique within <code>pMapEntries</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-parameter" href="#VUID-VkSpecializationInfo-pMapEntries-parameter"></a> <span class="vuid">VUID-VkSpecializationInfo-pMapEntries-parameter</span><br>
 If <code>mapEntryCount</code> is not <code>0</code>, <code>pMapEntries</code> <strong>must</strong> be a valid pointer to an array of <code>mapEntryCount</code> valid <a href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pData-parameter" href="#VUID-VkSpecializationInfo-pData-parameter"></a> <span class="vuid">VUID-VkSpecializationInfo-pData-parameter</span><br>
 If <code>dataSize</code> is not <code>0</code>, <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationMapEntry</code> structure is defined as:</p>
</div>
<div id="VkSpecializationMapEntry" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkSpecializationMapEntry {
    uint32_t    constantID;
    uint32_t    offset;
    size_t      size;
} VkSpecializationMapEntry;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>constantID</code> is the ID of the specialization constant in SPIR-V.</p>
</li>
<li>
<p><code>offset</code> is the byte offset of the specialization constant value
within the supplied data buffer.</p>
</li>
<li>
<p><code>size</code> is the byte size of the specialization constant value within
the supplied data buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>constantID</code> value is not a specialization constant ID used in the
shader, that map entry does not affect the behavior of the pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationMapEntry-constantID-00776" href="#VUID-VkSpecializationMapEntry-constantID-00776"></a> <span class="vuid">VUID-VkSpecializationMapEntry-constantID-00776</span><br>

For a <code>constantID</code> specialization constant declared in a shader,
<code>size</code> <strong>must</strong> match the byte size of the <code>constantID</code>.
If the specialization constant is of type <code>boolean</code>, <code>size</code> <strong>must</strong>
be the byte size of <code>VkBool32</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-glsl hljs" data-lang="glsl">OpDecorate %x SpecId 13 ; decorate .x component of WorkgroupSize with ID 13
OpDecorate %y SpecId 42 ; decorate .y component of WorkgroupSize with ID 42
OpDecorate %z SpecId 3  ; decorate .z component of WorkgroupSize with ID 3
OpDecorate %wgsize BuiltIn WorkgroupSize ; decorate WorkgroupSize onto constant
%i32 = OpTypeInt 32 0 ; declare an unsigned 32-bit type
%uvec3 = OpTypeVector %i32 3 ; declare a 3 element vector type of unsigned 32-bit
%x = OpSpecConstant %i32 1 ; declare the .x component of WorkgroupSize
%y = OpSpecConstant %i32 1 ; declare the .y component of WorkgroupSize
%z = OpSpecConstant %i32 1 ; declare the .z component of WorkgroupSize
%wgsize = OpSpecConstantComposite %uvec3 %x %y %z ; declare WorkgroupSize</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have three specialization constants, one for each of the
x, y &amp; z elements of the WorkgroupSize vector.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">const VkSpecializationMapEntry entries[] =
{
    {
        .constantID = 13,
        .offset = 0 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    },
    {
        .constantID = 42,
        .offset = 1 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    },
    {
        .constantID = 3,
        .offset = 2 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    }
};

const uint32_t data[] = { 16, 8, 4 }; // our workgroup size is 16x8x4

const VkSpecializationInfo info =
{
    .mapEntryCount = 3,
    .pMapEntries  = entries,
    .dataSize = 3 * sizeof(uint32_t),
    .pData = data,
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then when calling <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>, and passing the
<code>VkSpecializationInfo</code> we defined as the <code>pSpecializationInfo</code>
parameter of <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>, we will create a compute
pipeline with the runtime specified local workgroup size.</p>
</div>
<div class="paragraph">
<p>Another example would be that an application has a SPIR-V module that has
some platform-dependent constants they wish to use.</p>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-glsl hljs" data-lang="glsl">OpDecorate %1 SpecId 0  ; decorate our signed 32-bit integer constant
OpDecorate %2 SpecId 12 ; decorate our 32-bit floating-point constant
%i32 = OpTypeInt 32 1   ; declare a signed 32-bit type
%float = OpTypeFloat 32 ; declare a 32-bit floating-point type
%1 = OpSpecConstant %i32 -1 ; some signed 32-bit integer constant
%2 = OpSpecConstant %float 0.5 ; some 32-bit floating-point constant</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have two specialization constants, one is a signed 32-bit
integer and the second is a 32-bit floating-point value.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">struct SpecializationData {
    int32_t data0;
    float data1;
};

const VkSpecializationMapEntry entries[] =
{
    {
        .constantID = 0,
        .offset = offsetof(SpecializationData, data0),
        .size = sizeof(SpecializationData::data0)
    },
    {
        .constantID = 12,
        .offset = offsetof(SpecializationData, data1),
        .size = sizeof(SpecializationData::data1)
    }
};

SpecializationData data;
data.data0 = -42;    // set the data for the 32-bit integer
data.data1 = 42.0f;  // set the data for the 32-bit floating-point

const VkSpecializationInfo info =
{
    .mapEntryCount = 2,
    .pMapEntries = entries,
    .dataSize = sizeof(data),
    .pdata = &amp;data,
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is legal for a SPIR-V module with specializations to be compiled into a
pipeline where no specialization information was provided.
SPIR-V specialization constants contain default values such that if a
specialization is not provided, the default value will be used.
In the examples above, it would be valid for an application to only
specialize some of the specialization constants within the SPIR-V module,
and let the other constants use their default values encoded within the
OpSpecConstant declarations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-library"><a class="anchor" href="#pipelines-library"></a>Pipeline Libraries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A pipeline library is a special pipeline that was created using the
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> and cannot be bound, instead it
defines a set of pipeline state which can be linked into other pipelines.
For ray tracing pipelines this includes shaders and shader groups.
For graphics pipelines this includes distinct library types defined by
<a href="#VkGraphicsPipelineLibraryFlagBitsEXT">VkGraphicsPipelineLibraryFlagBitsEXT</a>.
The application <strong>must</strong> maintain the lifetime of a pipeline library based on
the pipelines that link with it.</p>
</div>
<div class="paragraph">
<p>This linkage is achieved by using the following structure within the
appropriate creation mechanisms:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineLibraryCreateInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineLibraryCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_library
typedef struct VkPipelineLibraryCreateInfoKHR {
    VkStructureType      sType;
    const void*          pNext;
    uint32_t             libraryCount;
    const VkPipeline*    pLibraries;
} VkPipelineLibraryCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>libraryCount</code> is the number of pipeline libraries in
<code>pLibraries</code>.</p>
</li>
<li>
<p><code>pLibraries</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> structures
specifying pipeline libraries to use when creating a pipeline.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-03381" href="#VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-03381"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-03381</span><br>

Each element of <code>pLibraries</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-06855" href="#VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-06855"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-06855</span><br>

If any library in <code>pLibraries</code> was created with a shader stage with
<a href="#VkPipelineShaderStageModuleIdentifierCreateInfoEXT">VkPipelineShaderStageModuleIdentifierCreateInfoEXT</a> and
<code>identifierSize</code> not equal to 0, the pipeline <strong>must</strong> be created with
the <code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> flag
set</p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-08096" href="#VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-08096"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-08096</span><br>

If any element of <code>pLibraries</code> was created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, all elements <strong>must</strong>
have been created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07404" href="#VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07404"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07404</span><br>

If <code>pipeline</code> is being created with
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code>, every element of
<code>pLibraries</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07405" href="#VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07405"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07405</span><br>

If <code>pipeline</code> is being created without
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code>, every element of
<code>pLibraries</code> <strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07406" href="#VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07406"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07406</span><br>

If <code>pipeline</code> is being created with
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code>, every element of
<code>pLibraries</code> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07407" href="#VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07407"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pipeline-07407</span><br>

If <code>pipeline</code> is being created without
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code>, every element of
<code>pLibraries</code> <strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-sType-sType" href="#VUID-VkPipelineLibraryCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_LIBRARY_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-parameter" href="#VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-parameter"></a> <span class="vuid">VUID-VkPipelineLibraryCreateInfoKHR-pLibraries-parameter</span><br>
 If <code>libraryCount</code> is not <code>0</code>, <code>pLibraries</code> <strong>must</strong> be a valid pointer to an array of <code>libraryCount</code> valid <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Pipelines created with <code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> libraries
<strong>can</strong> depend on other pipeline libraries in
<a href="#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a>.</p>
</div>
<div class="paragraph">
<p>A pipeline library is considered in-use, as long as one of the linking
pipelines is in-use.
This applies recursively if a pipeline library includes other pipeline
libraries.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-binding"><a class="anchor" href="#pipelines-binding"></a>Pipeline Binding</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once a pipeline has been created, it <strong>can</strong> be bound to the command buffer
using the command:</p>
</div>
<div id="vkCmdBindPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdBindPipeline(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the pipeline will be
bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
to which bind point the pipeline is bound.
Binding one does not disturb the others.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to be bound.</p>
</li>
</ul>
</div>
<div id="pipelines-bindpoint-commands" class="paragraph">
<p>Once bound, a pipeline binding affects subsequent commands that interact
with the given pipeline type in the command buffer until a different
pipeline of the same type is bound to the bind
point, or until the pipeline bind point is disturbed by binding a
<a href="shaders.html#shaders-objects" class="xref page">shader object</a> as described in
<a href="shaders.html#shaders-objects-pipeline-interaction" class="xref page">Interaction with Pipelines</a>.
Commands that do not interact with the <a href="shaders.html#shaders-binding" class="xref page">given pipeline</a>
type <strong>must</strong> not be affected by the pipeline state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00777" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00777"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00777</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong>
support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00778" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00778"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00778</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong>
support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00779" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00779"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00779</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>,
<code>pipeline</code> <strong>must</strong> be a compute pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00780" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00780"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00780</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>,
<code>pipeline</code> <strong>must</strong> be a graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-00781" href="#VUID-vkCmdBindPipeline-pipeline-00781"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipeline-00781</span><br>

If the <a href="features.html#features-variableMultisampleRate" class="xref page">    <code>variableMultisampleRate</code></a> feature is not supported, <code>pipeline</code>
is a graphics pipeline, the current subpass <a href="renderpass.html#renderpass-noattachments" class="xref page">    uses no attachments</a>, and this is not the first call to this function
with a graphics pipeline after transitioning to the current subpass,
then the sample count specified by this pipeline <strong>must</strong> match that set in
the previous pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-variableSampleLocations-01525" href="#VUID-vkCmdBindPipeline-variableSampleLocations-01525"></a> <span class="vuid">VUID-vkCmdBindPipeline-variableSampleLocations-01525</span><br>

If
<a href="limits.html#VkPhysicalDeviceSampleLocationsPropertiesEXT" class="xref page">VkPhysicalDeviceSampleLocationsPropertiesEXT</a>::<code>variableSampleLocations</code>
is <code>VK_FALSE</code>, and <code>pipeline</code> is a graphics pipeline created
with a <a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a> structure
having its <code>sampleLocationsEnable</code> member set to <code>VK_TRUE</code> but
without <code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> enabled then the
current render pass instance <strong>must</strong> have been begun by specifying a
<a href="renderpass.html#VkRenderPassSampleLocationsBeginInfoEXT" class="xref page">VkRenderPassSampleLocationsBeginInfoEXT</a> structure whose
<code>pPostSubpassSampleLocations</code> member contains an element with a
<code>subpassIndex</code> matching the current subpass index and the
<code>sampleLocationsInfo</code> member of that element <strong>must</strong> match the
<code>sampleLocationsInfo</code> specified in
<a href="primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a> when the pipeline was
created</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-None-02323" href="#VUID-vkCmdBindPipeline-None-02323"></a> <span class="vuid">VUID-vkCmdBindPipeline-None-02323</span><br>

This command <strong>must</strong> not be recorded when transform feedback is active</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-02391" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-02391"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-02391</span><br>

If <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code>, the <code>VkCommandPool</code>
that <code>commandBuffer</code> was allocated from <strong>must</strong> support compute
operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-02392" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-02392"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-02392</span><br>

If <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code>, <code>pipeline</code> <strong>must</strong> be a
ray tracing pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-06721" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-06721"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-06721</span><br>

If <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code>, <code>commandBuffer</code> <strong>must</strong>
not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineProtectedAccess-07408" href="#VUID-vkCmdBindPipeline-pipelineProtectedAccess-07408"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineProtectedAccess-07408</span><br>

If the <a href="features.html#features-pipelineProtectedAccess" class="xref page">    <code>pipelineProtectedAccess</code></a> feature is enabled, and
<code>commandBuffer</code> is a protected command buffer, <code>pipeline</code> <strong>must</strong>
have been created without
<code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineProtectedAccess-07409" href="#VUID-vkCmdBindPipeline-pipelineProtectedAccess-07409"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineProtectedAccess-07409</span><br>

If the <a href="features.html#features-pipelineProtectedAccess" class="xref page">    <code>pipelineProtectedAccess</code></a> feature is enabled, and
<code>commandBuffer</code> is not a protected command buffer, <code>pipeline</code>
<strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-03382" href="#VUID-vkCmdBindPipeline-pipeline-03382"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipeline-03382</span><br>

<code>pipeline</code> <strong>must</strong> not have been created with
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code> set</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-04808" href="#VUID-vkCmdBindPipeline-commandBuffer-04808"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-04808</span><br>

If <code>commandBuffer</code> is a secondary command buffer with
<a href="cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV" class="xref page">VkCommandBufferInheritanceViewportScissorInfoNV</a>::<code>viewportScissor2D</code>
enabled and <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, then the <code>pipeline</code> <strong>must</strong>
have been created with <code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> or
<code>VK_DYNAMIC_STATE_VIEWPORT</code>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> or
<code>VK_DYNAMIC_STATE_SCISSOR</code> enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-04809" href="#VUID-vkCmdBindPipeline-commandBuffer-04809"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-04809</span><br>

If <code>commandBuffer</code> is a secondary command buffer with
<a href="cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV" class="xref page">VkCommandBufferInheritanceViewportScissorInfoNV</a>::<code>viewportScissor2D</code>
enabled and <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> and <code>pipeline</code> was created
with <a href="fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a> structure and
its <code>discardRectangleCount</code> member is not <code>0</code>, or the pipeline was
created with <code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code>
enabled, then the pipeline <strong>must</strong> have been created with
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code> enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-04881" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-04881"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-04881</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> and
the <a href="limits.html#limits-provokingVertexModePerPipeline" class="xref page">    <code>provokingVertexModePerPipeline</code></a> limit is <code>VK_FALSE</code>, then
pipeline&#8217;s
<a href="vertexpostproc.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT" class="xref page">VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</a>::<code>provokingVertexMode</code>
<strong>must</strong> be the same as that of any other pipelines previously bound to
this bind point within the current render pass instance, including any
pipeline already bound when beginning the render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-04949" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-04949"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-04949</span><br>

If <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong>
support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-04950" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-04950"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-04950</span><br>

If <code>pipelineBindPoint</code> is
<code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code>, <code>pipeline</code>
<strong>must</strong> be a subpass shading pipeline</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-parameter" href="#VUID-vkCmdBindPipeline-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-parameter" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-parameter" href="#VUID-vkCmdBindPipeline-pipeline-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-recording" href="#VUID-vkCmdBindPipeline-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-cmdpool" href="#VUID-vkCmdBindPipeline-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-videocoding" href="#VUID-vkCmdBindPipeline-videocoding"></a> <span class="vuid">VUID-vkCmdBindPipeline-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commonparent" href="#VUID-vkCmdBindPipeline-commonparent"></a> <span class="vuid">VUID-vkCmdBindPipeline-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>::<code>pipelineBindPoint</code>,
specifying the bind point of a pipeline object, are:</p>
</div>
<div id="VkPipelineBindPoint" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineBindPoint {
    VK_PIPELINE_BIND_POINT_GRAPHICS = 0,
    VK_PIPELINE_BIND_POINT_COMPUTE = 1,
#ifdef VK_ENABLE_BETA_EXTENSIONS
  // Provided by VK_AMDX_shader_enqueue
    VK_PIPELINE_BIND_POINT_EXECUTION_GRAPH_AMDX = 1000134000,
#endif
  // Provided by VK_KHR_ray_tracing_pipeline
    VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR = 1000165000,
  // Provided by VK_HUAWEI_subpass_shading
    VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI = 1000369003,
  // Provided by VK_NV_ray_tracing
    VK_PIPELINE_BIND_POINT_RAY_TRACING_NV = VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR,
} VkPipelineBindPoint;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_COMPUTE</code> specifies binding as a compute
pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> specifies binding as a graphics
pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code> specifies binding as a ray
tracing pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code> specifies binding as
a subpass shading pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_EXECUTION_GRAPH_AMDX</code> specifies binding as
an <a href="executiongraphs.html#executiongraphs" class="xref page">execution graph pipeline</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>For pipelines that were created with the support of multiple shader groups
(see <a href="#graphics-shadergroups">Graphics Pipeline Shader Groups</a>), the regular
<code>vkCmdBindPipeline</code> command will bind Shader Group <code>0</code>.
To explicitly bind a shader group use:</p>
</div>
<div id="vkCmdBindPipelineShaderGroupNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_device_generated_commands
void vkCmdBindPipelineShaderGroupNV(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline,
    uint32_t                                    groupIndex);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the pipeline will be
bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
the bind point to which the pipeline will be bound.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to be bound.</p>
</li>
<li>
<p><code>groupIndex</code> is the shader group to be bound.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02893" href="#VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02893"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02893</span><br>

<code>groupIndex</code> <strong>must</strong> be <code>0</code> or less than the effective
<a href="#VkGraphicsPipelineShaderGroupsCreateInfoNV">VkGraphicsPipelineShaderGroupsCreateInfoNV</a>::<code>groupCount</code>
including the referenced pipelines</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-02894" href="#VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-02894"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-02894</span><br>

The <code>pipelineBindPoint</code> <strong>must</strong> be
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02895" href="#VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02895"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-groupIndex-02895</span><br>

The same restrictions as <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a> apply as if the bound
pipeline was created only with the Shader Group from the
<code>groupIndex</code> information</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-deviceGeneratedCommands-02896" href="#VUID-vkCmdBindPipelineShaderGroupNV-deviceGeneratedCommands-02896"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-deviceGeneratedCommands-02896</span><br>

The <a href="features.html#features-deviceGeneratedCommandsNV" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesNV</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-parameter" href="#VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-parameter" href="#VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-pipeline-parameter" href="#VUID-vkCmdBindPipelineShaderGroupNV-pipeline-parameter"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-recording" href="#VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-cmdpool" href="#VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-videocoding" href="#VUID-vkCmdBindPipelineShaderGroupNV-videocoding"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipelineShaderGroupNV-commonparent" href="#VUID-vkCmdBindPipelineShaderGroupNV-commonparent"></a> <span class="vuid">VUID-vkCmdBindPipelineShaderGroupNV-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-shader-object-interaction"><a class="anchor" href="#pipelines-shader-object-interaction"></a>Interaction With Shader Objects</h3>
<div class="paragraph">
<p>If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is enabled,
applications <strong>can</strong> use both pipelines and <a href="shaders.html#shaders-objects" class="xref page">shader objects</a>
at the same time.
The interaction between pipelines and shader objects is described in
<a href="shaders.html#shaders-objects-pipeline-interaction" class="xref page">Interaction with Pipelines</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-dynamic-state"><a class="anchor" href="#pipelines-dynamic-state"></a>Dynamic State</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a pipeline object is bound, any pipeline object state that is not
specified as dynamic is applied to the command buffer state.
Pipeline object state that is specified as dynamic is not applied to the
command buffer state at this time.</p>
</div>
<div id="dynamic-state-lifetime" class="paragraph">
<p>Instead, dynamic state <strong>can</strong> be modified at any time and persists for the
lifetime of the command buffer, or until modified by another dynamic state
setting command, or made invalid by binding a pipeline in which that state
is statically specified.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-commandBufferInheritance" class="xref page"><code>commandBufferInheritance</code></a>
feature is enabled, all valid state from the previously executed command
buffer in the queue is inherited into the next command buffer executed in
the same queue.
This inherited state does not need to be set again before draw or dispatch
commands.</p>
</div>
<div id="dynamic-state-current-value" class="paragraph">
<p>When a pipeline object is bound, the following applies to each state
parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the state is not specified as dynamic in the new pipeline object,
then that command buffer state is overwritten by the state in the new
pipeline object.
Before any draw or dispatch call with this pipeline there <strong>must</strong> not have
been any calls to any of the corresponding dynamic state setting
commands after this pipeline was bound.</p>
</li>
<li>
<p>If the state is specified as dynamic in the new pipeline object, then
that command buffer state is not disturbed.
Before any draw or dispatch call with this pipeline there <strong>must</strong> have
been at least one call to each of the corresponding dynamic state
setting commands.
The state-setting commands <strong>must</strong> be recorded after command buffer
recording was begun, or after the last command binding a pipeline object
with that state specified as static, whichever was the latter.</p>
</li>
<li>
<p>If the state is not included (corresponding pointer in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> was <code>NULL</code> or was ignored) in the new
pipeline object, then that command buffer state is not disturbed.
For example, mesh shading pipelines do not include vertex input state
and therefore do not disturb any such command buffer state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dynamic state that does not affect the result of operations <strong>can</strong> be left
<strong>undefined</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, if blending is disabled by the pipeline object state then the
dynamic color blend constants do not need to be specified in the command
buffer, even if this state is specified as dynamic in the pipeline object.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications running on Vulkan implementations advertising an
<a href="devsandqueues.html#VkPhysicalDeviceDriverProperties" class="xref page">VkPhysicalDeviceDriverProperties</a>::<code>conformanceVersion</code> less than
1.3.8.0 should be aware that rebinding the currently bound pipeline object
may not reapply static state.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-shader-information"><a class="anchor" href="#pipelines-shader-information"></a>Pipeline Properties and Shader Information</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When a pipeline is created, its state and shaders are compiled into zero or
more device-specific executables, which are used when executing commands
against that pipeline.
To query the properties of these pipeline executables, call:</p>
</div>
<div id="vkGetPipelineExecutablePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
VkResult vkGetPipelineExecutablePropertiesKHR(
    VkDevice                                    device,
    const VkPipelineInfoKHR*                    pPipelineInfo,
    uint32_t*                                   pExecutableCount,
    VkPipelineExecutablePropertiesKHR*          pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device that created the pipeline.</p>
</li>
<li>
<p><code>pPipelineInfo</code> describes the pipeline being queried.</p>
</li>
<li>
<p><code>pExecutableCount</code> is a pointer to an integer related to the number
of pipeline executables available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkPipelineExecutablePropertiesKHR">VkPipelineExecutablePropertiesKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of pipeline executables
associated with the pipeline is returned in <code>pExecutableCount</code>.
Otherwise, <code>pExecutableCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pProperties</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pProperties</code>.
If <code>pExecutableCount</code> is less than the number of pipeline executables
associated with the pipeline, at most <code>pExecutableCount</code> structures will
be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available properties were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-pipelineExecutableInfo-03270" href="#VUID-vkGetPipelineExecutablePropertiesKHR-pipelineExecutableInfo-03270"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-pipelineExecutableInfo-03270</span><br>

The <a href="features.html#features-pipelineExecutableInfo" class="xref page"><code>pipelineExecutableInfo</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-pipeline-03271" href="#VUID-vkGetPipelineExecutablePropertiesKHR-pipeline-03271"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-pipeline-03271</span><br>

The <code>pipeline</code> member of <code>pPipelineInfo</code> <strong>must</strong> have been created
with <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-device-parameter" href="#VUID-vkGetPipelineExecutablePropertiesKHR-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-pPipelineInfo-parameter" href="#VUID-vkGetPipelineExecutablePropertiesKHR-pPipelineInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-pPipelineInfo-parameter</span><br>
 <code>pPipelineInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineInfoKHR">VkPipelineInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-pExecutableCount-parameter" href="#VUID-vkGetPipelineExecutablePropertiesKHR-pExecutableCount-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-pExecutableCount-parameter</span><br>
 <code>pExecutableCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutablePropertiesKHR-pProperties-parameter" href="#VUID-vkGetPipelineExecutablePropertiesKHR-pProperties-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutablePropertiesKHR-pProperties-parameter</span><br>
 If the value referenced by <code>pExecutableCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong>must</strong> be a valid pointer to an array of <code>pExecutableCount</code> <a href="#VkPipelineExecutablePropertiesKHR">VkPipelineExecutablePropertiesKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutablePropertiesKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineExecutablePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef struct VkPipelineExecutablePropertiesKHR {
    VkStructureType       sType;
    void*                 pNext;
    VkShaderStageFlags    stages;
    char                  name[VK_MAX_DESCRIPTION_SIZE];
    char                  description[VK_MAX_DESCRIPTION_SIZE];
    uint32_t              subgroupSize;
} VkPipelineExecutablePropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>stages</code> is a bitmask of zero or more <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
indicating which shader stages (if any) were principally used as inputs
to compile this pipeline executable.</p>
</li>
<li>
<p><code>name</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a short human
readable name for this pipeline executable.</p>
</li>
<li>
<p><code>description</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a human readable
description for this pipeline executable.</p>
</li>
<li>
<p><code>subgroupSize</code> is the subgroup size with which this pipeline
executable is dispatched.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all implementations have a 1:1 mapping between shader stages and
pipeline executables and some implementations <strong>may</strong> reduce a given shader
stage to fixed function hardware programming such that no pipeline
executable is available.
No guarantees are provided about the mapping between shader stages and
pipeline executables and <code>stages</code> <strong>should</strong> be considered a best effort
hint.
Because the application <strong>cannot</strong> rely on the <code>stages</code> field to provide an
exact description, <code>name</code> and <code>description</code> provide a human readable
name and description which more accurately describes the given pipeline
executable.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineExecutablePropertiesKHR-sType-sType" href="#VUID-VkPipelineExecutablePropertiesKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineExecutablePropertiesKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineExecutablePropertiesKHR-pNext-pNext" href="#VUID-VkPipelineExecutablePropertiesKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineExecutablePropertiesKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the pipeline properties call:</p>
</div>
<div id="vkGetPipelinePropertiesEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_properties
VkResult vkGetPipelinePropertiesEXT(
    VkDevice                                    device,
    const VkPipelineInfoEXT*                    pPipelineInfo,
    VkBaseOutStructure*                         pPipelineProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that created the pipeline.</p>
</li>
<li>
<p><code>pPipelineInfo</code> is a pointer to a <a href="#VkPipelineInfoEXT">VkPipelineInfoEXT</a> structure
which describes the pipeline being queried.</p>
</li>
<li>
<p><code>pPipelineProperties</code> is a pointer to a <a href="fundamentals.html#VkBaseOutStructure" class="xref page">VkBaseOutStructure</a>
structure in which the pipeline properties will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To query a pipeline&#8217;s <code>pipelineIdentifier</code> pass a
<a href="#VkPipelinePropertiesIdentifierEXT">VkPipelinePropertiesIdentifierEXT</a> structure in
<code>pPipelineProperties</code>.
Each pipeline is associated with a <code>pipelineIdentifier</code> and the
identifier is implementation specific.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelinePropertiesEXT-pipeline-06738" href="#VUID-vkGetPipelinePropertiesEXT-pipeline-06738"></a> <span class="vuid">VUID-vkGetPipelinePropertiesEXT-pipeline-06738</span><br>

The <code>pipeline</code> member of <code>pPipelineInfo</code> <strong>must</strong> have been created
with <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkGetPipelinePropertiesEXT-pPipelineProperties-06739" href="#VUID-vkGetPipelinePropertiesEXT-pPipelineProperties-06739"></a> <span class="vuid">VUID-vkGetPipelinePropertiesEXT-pPipelineProperties-06739</span><br>

<code>pPipelineProperties</code> <strong>must</strong> be a valid pointer to a
<a href="#VkPipelinePropertiesIdentifierEXT">VkPipelinePropertiesIdentifierEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelinePropertiesEXT-None-06766" href="#VUID-vkGetPipelinePropertiesEXT-None-06766"></a> <span class="vuid">VUID-vkGetPipelinePropertiesEXT-None-06766</span><br>

The <a href="features.html#features-pipelinePropertiesIdentifier" class="xref page">    <code>pipelinePropertiesIdentifier</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelinePropertiesEXT-device-parameter" href="#VUID-vkGetPipelinePropertiesEXT-device-parameter"></a> <span class="vuid">VUID-vkGetPipelinePropertiesEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelinePropertiesEXT-pPipelineInfo-parameter" href="#VUID-vkGetPipelinePropertiesEXT-pPipelineInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelinePropertiesEXT-pPipelineInfo-parameter</span><br>
 <code>pPipelineInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineInfoEXT">VkPipelineInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelinePropertiesIdentifierEXT</code> structure is defined as:</p>
</div>
<div id="VkPipelinePropertiesIdentifierEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_properties
typedef struct VkPipelinePropertiesIdentifierEXT {
    VkStructureType    sType;
    void*              pNext;
    uint8_t            pipelineIdentifier[VK_UUID_SIZE];
} VkPipelinePropertiesIdentifierEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipelineIdentifier</code> is an array of <code>VK_UUID_SIZE</code> <code>uint8_t</code>
values into which the pipeline identifier will be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelinePropertiesIdentifierEXT-sType-sType" href="#VUID-VkPipelinePropertiesIdentifierEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelinePropertiesIdentifierEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_PROPERTIES_IDENTIFIER_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelinePropertiesIdentifierEXT-pNext-pNext" href="#VUID-VkPipelinePropertiesIdentifierEXT-pNext-pNext"></a> <span class="vuid">VUID-VkPipelinePropertiesIdentifierEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef struct VkPipelineInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkPipeline         pipeline;
} VkPipelineInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_properties
typedef VkPipelineInfoKHR VkPipelineInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipeline</code> is a <code>VkPipeline</code> handle.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineInfoKHR-sType-sType" href="#VUID-VkPipelineInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInfoKHR-pNext-pNext" href="#VUID-VkPipelineInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInfoKHR-pipeline-parameter" href="#VUID-VkPipelineInfoKHR-pipeline-parameter"></a> <span class="vuid">VUID-VkPipelineInfoKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each pipeline executable <strong>may</strong> have a set of statistics associated with it
that are generated by the pipeline compilation process.
These statistics <strong>may</strong> include things such as instruction counts, amount of
spilling (if any), maximum number of simultaneous threads, or anything else
which <strong>may</strong> aid developers in evaluating the expected performance of a
shader.
To query the compile time statistics associated with a pipeline executable,
call:</p>
</div>
<div id="vkGetPipelineExecutableStatisticsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
VkResult vkGetPipelineExecutableStatisticsKHR(
    VkDevice                                    device,
    const VkPipelineExecutableInfoKHR*          pExecutableInfo,
    uint32_t*                                   pStatisticCount,
    VkPipelineExecutableStatisticKHR*           pStatistics);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device that created the pipeline.</p>
</li>
<li>
<p><code>pExecutableInfo</code> describes the pipeline executable being queried.</p>
</li>
<li>
<p><code>pStatisticCount</code> is a pointer to an integer related to the number
of statistics available or queried, as described below.</p>
</li>
<li>
<p><code>pStatistics</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkPipelineExecutableStatisticKHR">VkPipelineExecutableStatisticKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pStatistics</code> is <code>NULL</code>, then the number of statistics associated
with the pipeline executable is returned in <code>pStatisticCount</code>.
Otherwise, <code>pStatisticCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pStatistics</code> array, and on
return the variable is overwritten with the number of structures actually
written to <code>pStatistics</code>.
If <code>pStatisticCount</code> is less than the number of statistics associated
with the pipeline executable, at most <code>pStatisticCount</code> structures will
be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available statistics were
returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pipelineExecutableInfo-03272" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pipelineExecutableInfo-03272"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pipelineExecutableInfo-03272</span><br>

The <a href="features.html#features-pipelineExecutableInfo" class="xref page"><code>pipelineExecutableInfo</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03273" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03273"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03273</span><br>

The <code>pipeline</code> member of <code>pExecutableInfo</code> <strong>must</strong> have been
created with <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03274" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03274"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pipeline-03274</span><br>

The <code>pipeline</code> member of <code>pExecutableInfo</code> <strong>must</strong> have been
created with <code>VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-device-parameter" href="#VUID-vkGetPipelineExecutableStatisticsKHR-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pExecutableInfo-parameter" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pExecutableInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pExecutableInfo-parameter</span><br>
 <code>pExecutableInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineExecutableInfoKHR">VkPipelineExecutableInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pStatisticCount-parameter" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pStatisticCount-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pStatisticCount-parameter</span><br>
 <code>pStatisticCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableStatisticsKHR-pStatistics-parameter" href="#VUID-vkGetPipelineExecutableStatisticsKHR-pStatistics-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableStatisticsKHR-pStatistics-parameter</span><br>
 If the value referenced by <code>pStatisticCount</code> is not <code>0</code>, and <code>pStatistics</code> is not <code>NULL</code>, <code>pStatistics</code> <strong>must</strong> be a valid pointer to an array of <code>pStatisticCount</code> <a href="#VkPipelineExecutableStatisticKHR">VkPipelineExecutableStatisticKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutableInfoKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineExecutableInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef struct VkPipelineExecutableInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    VkPipeline         pipeline;
    uint32_t           executableIndex;
} VkPipelineExecutableInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to query.</p>
</li>
<li>
<p><code>executableIndex</code> is the index of the pipeline executable to query
in the array of executable properties returned by
<a href="#vkGetPipelineExecutablePropertiesKHR">vkGetPipelineExecutablePropertiesKHR</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineExecutableInfoKHR-executableIndex-03275" href="#VUID-VkPipelineExecutableInfoKHR-executableIndex-03275"></a> <span class="vuid">VUID-VkPipelineExecutableInfoKHR-executableIndex-03275</span><br>

<code>executableIndex</code> <strong>must</strong> be less than the number of pipeline
executables associated with <code>pipeline</code> as returned in the
<code>pExecutableCount</code> parameter of
<code>vkGetPipelineExecutablePropertiesKHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineExecutableInfoKHR-sType-sType" href="#VUID-VkPipelineExecutableInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineExecutableInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INFO_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineExecutableInfoKHR-pNext-pNext" href="#VUID-VkPipelineExecutableInfoKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineExecutableInfoKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineExecutableInfoKHR-pipeline-parameter" href="#VUID-VkPipelineExecutableInfoKHR-pipeline-parameter"></a> <span class="vuid">VUID-VkPipelineExecutableInfoKHR-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutableStatisticKHR</code> structure is defined as:</p>
</div>
<div id="VkPipelineExecutableStatisticKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef struct VkPipelineExecutableStatisticKHR {
    VkStructureType                           sType;
    void*                                     pNext;
    char                                      name[VK_MAX_DESCRIPTION_SIZE];
    char                                      description[VK_MAX_DESCRIPTION_SIZE];
    VkPipelineExecutableStatisticFormatKHR    format;
    VkPipelineExecutableStatisticValueKHR     value;
} VkPipelineExecutableStatisticKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>name</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a short human
readable name for this statistic.</p>
</li>
<li>
<p><code>description</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a human readable
description for this statistic.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkPipelineExecutableStatisticFormatKHR">VkPipelineExecutableStatisticFormatKHR</a> value
specifying the format of the data found in <code>value</code>.</p>
</li>
<li>
<p><code>value</code> is the value of this statistic.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineExecutableStatisticKHR-sType-sType" href="#VUID-VkPipelineExecutableStatisticKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineExecutableStatisticKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_STATISTIC_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineExecutableStatisticKHR-pNext-pNext" href="#VUID-VkPipelineExecutableStatisticKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineExecutableStatisticKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutableStatisticFormatKHR</code> enum is defined as:</p>
</div>
<div id="VkPipelineExecutableStatisticFormatKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef enum VkPipelineExecutableStatisticFormatKHR {
    VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_BOOL32_KHR = 0,
    VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_INT64_KHR = 1,
    VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_UINT64_KHR = 2,
    VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_FLOAT64_KHR = 3,
} VkPipelineExecutableStatisticFormatKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_BOOL32_KHR</code> specifies that
the statistic is returned as a 32-bit boolean value which <strong>must</strong> be
either <code>VK_TRUE</code> or <code>VK_FALSE</code> and <strong>should</strong> be read from the
<code>b32</code> field of <code>VkPipelineExecutableStatisticValueKHR</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_INT64_KHR</code> specifies that
the statistic is returned as a signed 64-bit integer and <strong>should</strong> be read
from the <code>i64</code> field of <code>VkPipelineExecutableStatisticValueKHR</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_UINT64_KHR</code> specifies that
the statistic is returned as an unsigned 64-bit integer and <strong>should</strong> be
read from the <code>u64</code> field of
<code>VkPipelineExecutableStatisticValueKHR</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_FLOAT64_KHR</code> specifies that
the statistic is returned as a 64-bit floating-point value and <strong>should</strong>
be read from the <code>f64</code> field of
<code>VkPipelineExecutableStatisticValueKHR</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutableStatisticValueKHR</code> union is defined as:</p>
</div>
<div id="VkPipelineExecutableStatisticValueKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef union VkPipelineExecutableStatisticValueKHR {
    VkBool32    b32;
    int64_t     i64;
    uint64_t    u64;
    double      f64;
} VkPipelineExecutableStatisticValueKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>b32</code> is the 32-bit boolean value if the
<code>VkPipelineExecutableStatisticFormatKHR</code> is
<code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_BOOL32_KHR</code>.</p>
</li>
<li>
<p><code>i64</code> is the signed 64-bit integer value if the
<code>VkPipelineExecutableStatisticFormatKHR</code> is
<code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_INT64_KHR</code>.</p>
</li>
<li>
<p><code>u64</code> is the unsigned 64-bit integer value if the
<code>VkPipelineExecutableStatisticFormatKHR</code> is
<code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_UINT64_KHR</code>.</p>
</li>
<li>
<p><code>f64</code> is the 64-bit floating-point value if the
<code>VkPipelineExecutableStatisticFormatKHR</code> is
<code>VK_PIPELINE_EXECUTABLE_STATISTIC_FORMAT_FLOAT64_KHR</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each pipeline executable <strong>may</strong> have one or more text or binary internal
representations associated with it which are generated as part of the
compile process.
These <strong>may</strong> include the final shader assembly, a binary form of the compiled
shader, or the shader compiler&#8217;s internal representation at any number of
intermediate compile steps.
To query the internal representations associated with a pipeline executable,
call:</p>
</div>
<div id="vkGetPipelineExecutableInternalRepresentationsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
VkResult vkGetPipelineExecutableInternalRepresentationsKHR(
    VkDevice                                    device,
    const VkPipelineExecutableInfoKHR*          pExecutableInfo,
    uint32_t*                                   pInternalRepresentationCount,
    VkPipelineExecutableInternalRepresentationKHR* pInternalRepresentations);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device that created the pipeline.</p>
</li>
<li>
<p><code>pExecutableInfo</code> describes the pipeline executable being queried.</p>
</li>
<li>
<p><code>pInternalRepresentationCount</code> is a pointer to an integer related to
the number of internal representations available or queried, as
described below.</p>
</li>
<li>
<p><code>pInternalRepresentations</code> is either <code>NULL</code> or a pointer to an array
of <a href="#VkPipelineExecutableInternalRepresentationKHR">VkPipelineExecutableInternalRepresentationKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pInternalRepresentations</code> is <code>NULL</code>, then the number of internal
representations associated with the pipeline executable is returned in
<code>pInternalRepresentationCount</code>.
Otherwise, <code>pInternalRepresentationCount</code> <strong>must</strong> point to a variable set
by the application to the number of elements in the
<code>pInternalRepresentations</code> array, and on return the variable is
overwritten with the number of structures actually written to
<code>pInternalRepresentations</code>.
If <code>pInternalRepresentationCount</code> is less than the number of internal
representations associated with the pipeline executable, at most
<code>pInternalRepresentationCount</code> structures will be written, and
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available representations were returned.</p>
</div>
<div class="paragraph">
<p>While the details of the internal representations remain
implementation-dependent, the implementation <strong>should</strong> order the internal
representations in the order in which they occur in the compiled pipeline
with the final shader assembly (if any) last.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipelineExecutableInfo-03276" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipelineExecutableInfo-03276"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipelineExecutableInfo-03276</span><br>

The <a href="features.html#features-pipelineExecutableInfo" class="xref page"><code>pipelineExecutableInfo</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03277" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03277"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03277</span><br>

The <code>pipeline</code> member of <code>pExecutableInfo</code> <strong>must</strong> have been
created with <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03278" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03278"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pipeline-03278</span><br>

The <code>pipeline</code> member of <code>pExecutableInfo</code> <strong>must</strong> have been
created with
<code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-device-parameter" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pExecutableInfo-parameter" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pExecutableInfo-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pExecutableInfo-parameter</span><br>
 <code>pExecutableInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineExecutableInfoKHR">VkPipelineExecutableInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentationCount-parameter" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentationCount-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentationCount-parameter</span><br>
 <code>pInternalRepresentationCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentations-parameter" href="#VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentations-parameter"></a> <span class="vuid">VUID-vkGetPipelineExecutableInternalRepresentationsKHR-pInternalRepresentations-parameter</span><br>
 If the value referenced by <code>pInternalRepresentationCount</code> is not <code>0</code>, and <code>pInternalRepresentations</code> is not <code>NULL</code>, <code>pInternalRepresentations</code> <strong>must</strong> be a valid pointer to an array of <code>pInternalRepresentationCount</code> <a href="#VkPipelineExecutableInternalRepresentationKHR">VkPipelineExecutableInternalRepresentationKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineExecutableInternalRepresentationKHR</code> structure is defined
as:</p>
</div>
<div id="VkPipelineExecutableInternalRepresentationKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_pipeline_executable_properties
typedef struct VkPipelineExecutableInternalRepresentationKHR {
    VkStructureType    sType;
    void*              pNext;
    char               name[VK_MAX_DESCRIPTION_SIZE];
    char               description[VK_MAX_DESCRIPTION_SIZE];
    VkBool32           isText;
    size_t             dataSize;
    void*              pData;
} VkPipelineExecutableInternalRepresentationKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>name</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a short human
readable name for this internal representation.</p>
</li>
<li>
<p><code>description</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which is a human readable
description for this internal representation.</p>
</li>
<li>
<p><code>isText</code> specifies whether the returned data is text or opaque data.
If <code>isText</code> is <code>VK_TRUE</code> then the data returned in <code>pData</code>
is text and is guaranteed to be a null-terminated UTF-8 string.</p>
</li>
<li>
<p><code>dataSize</code> is an integer related to the size, in bytes, of the
internal representation&#8217;s data, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a block of data into which
the implementation will write the internal representation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the size, in bytes, of the internal
representation data is returned in <code>dataSize</code>.
Otherwise, <code>dataSize</code> <strong>must</strong> be the size of the buffer, in bytes, pointed
to by <code>pData</code> and on return <code>dataSize</code> is overwritten with the
number of bytes of data actually written to <code>pData</code> including any
trailing null character.
If <code>dataSize</code> is less than the size, in bytes, of the internal
representation&#8217;s data, at most <code>dataSize</code> bytes of data will be written
to <code>pData</code>, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available representation was
returned.</p>
</div>
<div class="paragraph">
<p>If <code>isText</code> is <code>VK_TRUE</code> and <code>pData</code> is not <code>NULL</code> and
<code>dataSize</code> is not zero, the last byte written to <code>pData</code> will be a
null character.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineExecutableInternalRepresentationKHR-sType-sType" href="#VUID-VkPipelineExecutableInternalRepresentationKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineExecutableInternalRepresentationKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INTERNAL_REPRESENTATION_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineExecutableInternalRepresentationKHR-pNext-pNext" href="#VUID-VkPipelineExecutableInternalRepresentationKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineExecutableInternalRepresentationKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about a particular shader that has been compiled as part of a
pipeline object can be extracted by calling:</p>
</div>
<div id="vkGetShaderInfoAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_shader_info
VkResult vkGetShaderInfoAMD(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    VkShaderStageFlagBits                       shaderStage,
    VkShaderInfoTypeAMD                         infoType,
    size_t*                                     pInfoSize,
    void*                                       pInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the device that created <code>pipeline</code>.</p>
</li>
<li>
<p><code>pipeline</code> is the target of the query.</p>
</li>
<li>
<p><code>shaderStage</code> is a <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> specifying the
particular shader within the pipeline about which information is being
queried.</p>
</li>
<li>
<p><code>infoType</code> describes what kind of information is being queried.</p>
</li>
<li>
<p><code>pInfoSize</code> is a pointer to a value related to the amount of data
the query returns, as described below.</p>
</li>
<li>
<p><code>pInfo</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pInfo</code> is <code>NULL</code>, then the maximum size of the information that <strong>can</strong>
be retrieved about the shader, in bytes, is returned in <code>pInfoSize</code>.
Otherwise, <code>pInfoSize</code> <strong>must</strong> point to a variable set by the application
to the size of the buffer, in bytes, pointed to by <code>pInfo</code>, and on
return the variable is overwritten with the amount of data actually written
to <code>pInfo</code>.
If <code>pInfoSize</code> is less than the maximum size that <strong>can</strong> be retrieved by
the pipeline cache, then at most <code>pInfoSize</code> bytes will be written to
<code>pInfo</code>, and <code>VK_INCOMPLETE</code> will be returned, instead of
<code>VK_SUCCESS</code>, to indicate that not all required of the pipeline cache
was returned.</p>
</div>
<div class="paragraph">
<p>Not all information is available for every shader and implementations may
not support all kinds of information for any shader.
When a certain type of information is unavailable, the function returns
<code>VK_ERROR_FEATURE_NOT_PRESENT</code>.</p>
</div>
<div class="paragraph">
<p>If information is successfully and fully queried, the function will return
<code>VK_SUCCESS</code>.</p>
</div>
<div class="paragraph">
<p>For <code>infoType</code> <code>VK_SHADER_INFO_TYPE_STATISTICS_AMD</code>, a
<code>VkShaderStatisticsInfoAMD</code> structure will be written to the buffer
pointed to by <code>pInfo</code>.
This structure will be populated with statistics regarding the physical
device resources used by that shader along with other miscellaneous
information and is described in further detail below.</p>
</div>
<div class="paragraph">
<p>For <code>infoType</code> <code>VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD</code>, <code>pInfo</code> is
a pointer to a null-terminated UTF-8 string containing human-readable
disassembly.
The exact formatting and contents of the disassembly string are
vendor-specific.</p>
</div>
<div class="paragraph">
<p>The formatting and contents of all other types of information, including
<code>infoType</code> <code>VK_SHADER_INFO_TYPE_BINARY_AMD</code>, are left to the vendor
and are not further specified by this extension.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-device-parameter" href="#VUID-vkGetShaderInfoAMD-device-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-pipeline-parameter" href="#VUID-vkGetShaderInfoAMD-pipeline-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-shaderStage-parameter" href="#VUID-vkGetShaderInfoAMD-shaderStage-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-shaderStage-parameter</span><br>
 <code>shaderStage</code> <strong>must</strong> be a valid <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-infoType-parameter" href="#VUID-vkGetShaderInfoAMD-infoType-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-infoType-parameter</span><br>
 <code>infoType</code> <strong>must</strong> be a valid <a href="#VkShaderInfoTypeAMD">VkShaderInfoTypeAMD</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-pInfoSize-parameter" href="#VUID-vkGetShaderInfoAMD-pInfoSize-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-pInfoSize-parameter</span><br>
 <code>pInfoSize</code> <strong>must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-pInfo-parameter" href="#VUID-vkGetShaderInfoAMD-pInfo-parameter"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-pInfo-parameter</span><br>
 If the value referenced by <code>pInfoSize</code> is not <code>0</code>, and <code>pInfo</code> is not <code>NULL</code>, <code>pInfo</code> <strong>must</strong> be a valid pointer to an array of <code>pInfoSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetShaderInfoAMD-pipeline-parent" href="#VUID-vkGetShaderInfoAMD-pipeline-parent"></a> <span class="vuid">VUID-vkGetShaderInfoAMD-pipeline-parent</span><br>
 <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_FEATURE_NOT_PRESENT</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkGetShaderInfoAMD">vkGetShaderInfoAMD</a>::<code>infoType</code>, specifying the
information being queried from a shader, are:</p>
</div>
<div id="VkShaderInfoTypeAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_shader_info
typedef enum VkShaderInfoTypeAMD {
    VK_SHADER_INFO_TYPE_STATISTICS_AMD = 0,
    VK_SHADER_INFO_TYPE_BINARY_AMD = 1,
    VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD = 2,
} VkShaderInfoTypeAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_INFO_TYPE_STATISTICS_AMD</code> specifies that device resources
used by a shader will be queried.</p>
</li>
<li>
<p><code>VK_SHADER_INFO_TYPE_BINARY_AMD</code> specifies that
implementation-specific information will be queried.</p>
</li>
<li>
<p><code>VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD</code> specifies that human-readable
disassembly of a shader.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderStatisticsInfoAMD</code> structure is defined as:</p>
</div>
<div id="VkShaderStatisticsInfoAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_shader_info
typedef struct VkShaderStatisticsInfoAMD {
    VkShaderStageFlags          shaderStageMask;
    VkShaderResourceUsageAMD    resourceUsage;
    uint32_t                    numPhysicalVgprs;
    uint32_t                    numPhysicalSgprs;
    uint32_t                    numAvailableVgprs;
    uint32_t                    numAvailableSgprs;
    uint32_t                    computeWorkGroupSize[3];
} VkShaderStatisticsInfoAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>shaderStageMask</code> are the combination of logical shader stages
contained within this shader.</p>
</li>
<li>
<p><code>resourceUsage</code> is a <a href="#VkShaderResourceUsageAMD">VkShaderResourceUsageAMD</a> structure
describing internal physical device resources used by this shader.</p>
</li>
<li>
<p><code>numPhysicalVgprs</code> is the maximum number of vector instruction
general-purpose registers (VGPRs) available to the physical device.</p>
</li>
<li>
<p><code>numPhysicalSgprs</code> is the maximum number of scalar instruction
general-purpose registers (SGPRs) available to the physical device.</p>
</li>
<li>
<p><code>numAvailableVgprs</code> is the maximum limit of VGPRs made available to
the shader compiler.</p>
</li>
<li>
<p><code>numAvailableSgprs</code> is the maximum limit of SGPRs made available to
the shader compiler.</p>
</li>
<li>
<p><code>computeWorkGroupSize</code> is the local workgroup size of this shader in
{ X, Y, Z } dimensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some implementations may merge multiple logical shader stages together in a
single shader.
In such cases, <code>shaderStageMask</code> will contain a bitmask of all of the
stages that are active within that shader.
Consequently, if specifying those stages as input to
<a href="#vkGetShaderInfoAMD">vkGetShaderInfoAMD</a>, the same output information <strong>may</strong> be returned for
all such shader stage queries.</p>
</div>
<div class="paragraph">
<p>The number of available VGPRs and SGPRs (<code>numAvailableVgprs</code> and
<code>numAvailableSgprs</code> respectively) are the shader-addressable subset of
physical registers that is given as a limit to the compiler for register
assignment.
These values <strong>may</strong> further be limited by implementations due to performance
optimizations where register pressure is a bottleneck.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderResourceUsageAMD</code> structure is defined as:</p>
</div>
<div id="VkShaderResourceUsageAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_shader_info
typedef struct VkShaderResourceUsageAMD {
    uint32_t    numUsedVgprs;
    uint32_t    numUsedSgprs;
    uint32_t    ldsSizePerLocalWorkGroup;
    size_t      ldsUsageSizeInBytes;
    size_t      scratchMemUsageInBytes;
} VkShaderResourceUsageAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>numUsedVgprs</code> is the number of vector instruction general-purpose
registers used by this shader.</p>
</li>
<li>
<p><code>numUsedSgprs</code> is the number of scalar instruction general-purpose
registers used by this shader.</p>
</li>
<li>
<p><code>ldsSizePerLocalWorkGroup</code> is the maximum local data store size per
work group in bytes.</p>
</li>
<li>
<p><code>ldsUsageSizeInBytes</code> is the LDS usage size in bytes per work group
by this shader.</p>
</li>
<li>
<p><code>scratchMemUsageInBytes</code> is the scratch memory usage in bytes by
this shader.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-compiler-control"><a class="anchor" href="#pipelines-compiler-control"></a>Pipeline Compiler Control</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The compilation of a pipeline <strong>can</strong> be tuned by adding a
<code>VkPipelineCompilerControlCreateInfoAMD</code> structure to the <code>pNext</code>
chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> or
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>.</p>
</div>
<div id="VkPipelineCompilerControlCreateInfoAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_pipeline_compiler_control
typedef struct VkPipelineCompilerControlCreateInfoAMD {
    VkStructureType                      sType;
    const void*                          pNext;
    VkPipelineCompilerControlFlagsAMD    compilerControlFlags;
} VkPipelineCompilerControlCreateInfoAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>compilerControlFlags</code> is a bitmask of
<a href="#VkPipelineCompilerControlFlagBitsAMD">VkPipelineCompilerControlFlagBitsAMD</a> affecting how the pipeline
will be compiled.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCompilerControlCreateInfoAMD-sType-sType" href="#VUID-VkPipelineCompilerControlCreateInfoAMD-sType-sType"></a> <span class="vuid">VUID-VkPipelineCompilerControlCreateInfoAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_COMPILER_CONTROL_CREATE_INFO_AMD</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCompilerControlCreateInfoAMD-compilerControlFlags-zerobitmask" href="#VUID-VkPipelineCompilerControlCreateInfoAMD-compilerControlFlags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineCompilerControlCreateInfoAMD-compilerControlFlags-zerobitmask</span><br>
 <code>compilerControlFlags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There are currently no available flags for this extension; flags will be
added by future versions of this extension.</p>
</div>
<div id="VkPipelineCompilerControlFlagBitsAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_pipeline_compiler_control
typedef enum VkPipelineCompilerControlFlagBitsAMD {
} VkPipelineCompilerControlFlagBitsAMD;</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCompilerControlFlagsAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_pipeline_compiler_control
typedef VkFlags VkPipelineCompilerControlFlagsAMD;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCompilerControlFlagsAMD</code> is a bitmask type for setting a mask
of zero or more <a href="#VkPipelineCompilerControlFlagBitsAMD">VkPipelineCompilerControlFlagBitsAMD</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-creation-feedback"><a class="anchor" href="#pipelines-creation-feedback"></a>Pipeline Creation Feedback</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Feedback about the creation of a particular pipeline object <strong>can</strong> be obtained
by adding a <code>VkPipelineCreationFeedbackCreateInfo</code> structure to the
<code>pNext</code> chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>,
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>,
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>,
or <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>.
The <code>VkPipelineCreationFeedbackCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreationFeedbackCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineCreationFeedbackCreateInfo {
    VkStructureType                sType;
    const void*                    pNext;
    VkPipelineCreationFeedback*    pPipelineCreationFeedback;
    uint32_t                       pipelineStageCreationFeedbackCount;
    VkPipelineCreationFeedback*    pPipelineStageCreationFeedbacks;
} VkPipelineCreationFeedbackCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineCreationFeedbackCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_creation_feedback
typedef VkPipelineCreationFeedbackCreateInfo VkPipelineCreationFeedbackCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pPipelineCreationFeedback</code> is a pointer to a
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structure.</p>
</li>
<li>
<p><code>pipelineStageCreationFeedbackCount</code> is the number of elements in
<code>pPipelineStageCreationFeedbacks</code>.</p>
</li>
<li>
<p><code>pPipelineStageCreationFeedbacks</code> is a pointer to an array of
<code>pipelineStageCreationFeedbackCount</code>
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An implementation <strong>should</strong> write pipeline creation feedback to
<code>pPipelineCreationFeedback</code> and <strong>may</strong> write pipeline stage creation
feedback to <code>pPipelineStageCreationFeedbacks</code>.
An implementation <strong>must</strong> set or clear the
<code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> in
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a>::<code>flags</code> for
<code>pPipelineCreationFeedback</code> and every element of
<code>pPipelineStageCreationFeedbacks</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>One common scenario for an implementation to skip per-stage feedback is when
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code> is
set in <code>pPipelineCreationFeedback</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When chained to
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>,
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>,
or
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, the <code>i</code> element of
<code>pPipelineStageCreationFeedbacks</code> corresponds to the <code>i</code> element of
<a href="#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>::<code>pStages</code>,
<a href="#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a>::<code>pStages</code>,
or
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pStages</code>.
When chained to <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>, the first element of
<code>pPipelineStageCreationFeedbacks</code> corresponds to
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>::<code>stage</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType" href="#VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CREATION_FEEDBACK_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter" href="#VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter</span><br>
 <code>pPipelineCreationFeedback</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter" href="#VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter</span><br>
 If <code>pipelineStageCreationFeedbackCount</code> is not <code>0</code>, <code>pPipelineStageCreationFeedbacks</code> <strong>must</strong> be a valid pointer to an array of <code>pipelineStageCreationFeedbackCount</code> <a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCreationFeedback</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreationFeedback" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineCreationFeedback {
    VkPipelineCreationFeedbackFlags    flags;
    uint64_t                           duration;
} VkPipelineCreationFeedback;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineCreationFeedbackEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_creation_feedback
typedef VkPipelineCreationFeedback VkPipelineCreationFeedbackEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreationFeedbackFlagBits">VkPipelineCreationFeedbackFlagBits</a>
providing feedback about the creation of a pipeline or of a pipeline
stage.</p>
</li>
<li>
<p><code>duration</code> is the duration spent creating a pipeline or pipeline
stage in nanoseconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> is not set in
<code>flags</code>, an implementation <strong>must</strong> not set any other bits in <code>flags</code>,
and the values of all other <code>VkPipelineCreationFeedback</code> data members
are <strong>undefined</strong>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> are:</p>
</div>
<div id="VkPipelineCreationFeedbackFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef enum VkPipelineCreationFeedbackFlagBits {
    VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT = 0x00000001,
    VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT = 0x00000002,
    VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT = 0x00000004,
    VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT,
    VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT,
    VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT,
} VkPipelineCreationFeedbackFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineCreationFeedbackFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_creation_feedback
typedef VkPipelineCreationFeedbackFlagBits VkPipelineCreationFeedbackFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> indicates that the
feedback information is valid.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
indicates that a readily usable pipeline or pipeline stage was found in
the <code>pipelineCache</code> specified by the application in the pipeline
creation command.</p>
<div class="paragraph">
<p>An implementation <strong>should</strong> set the
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code> bit
if it was able to avoid the large majority of pipeline or pipeline stage
creation work by using the <code>pipelineCache</code> parameter of
<a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>,
<a href="#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a>,
<a href="#vkCreateRayTracingPipelinesNV">vkCreateRayTracingPipelinesNV</a>,
or <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>.
When an implementation sets this bit for the entire pipeline, it <strong>may</strong> leave
it unset for any stage.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations are encouraged to provide a meaningful signal to
applications using this bit.
The intention is to communicate to the application that the pipeline or
pipeline stage was created &#8220;as fast as it gets&#8221; using the pipeline cache
provided by the application.
If an implementation uses an internal cache, it is discouraged from setting
this bit as the feedback would be unactionable.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code>
indicates that the base pipeline specified by the
<code>basePipelineHandle</code> or <code>basePipelineIndex</code> member of the
<code>Vk*PipelineCreateInfo</code> structure was used to accelerate the
creation of the pipeline.</p>
<div class="paragraph">
<p>An implementation <strong>should</strong> set the
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> bit if it
was able to avoid a significant amount of work by using the base pipeline.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While &#8220;significant amount of work&#8221; is subjective, implementations are
encouraged to provide a meaningful signal to applications using this bit.
For example, a 1% reduction in duration may not warrant setting this bit,
while a 50% reduction would.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreationFeedbackFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef VkFlags VkPipelineCreationFeedbackFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPipelineCreationFeedbackFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_pipeline_creation_feedback
typedef VkPipelineCreationFeedbackFlags VkPipelineCreationFeedbackFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreationFeedbackFlags</code> is a bitmask type for providing zero
or more <a href="#VkPipelineCreationFeedbackFlagBits">VkPipelineCreationFeedbackFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
