<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pipelines :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="pipelines.html">Pipelines</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Pipelines</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The following <a href="#pipelines-block-diagram">figure</a> shows a block diagram of
the Vulkan pipelines.
Some Vulkan commands specify geometric objects to be drawn or computational
work to be performed, while others specify state controlling how objects are
handled by the various pipeline stages, or control data transfer between
memory organized as images and buffers.
Commands are effectively sent through a processing pipeline, either a
<em>graphics pipeline</em>,
or a <em>compute pipeline</em>.</p>
</div>
<div class="paragraph">
<p>The first stage of the <a href="#pipelines-graphics">graphics pipeline</a>
(<a href="drawing.html#drawing" class="xref page">Input Assembler</a>) assembles vertices to form geometric
primitives such as points, lines, and triangles, based on a requested
primitive topology.
In the next stage (<a href="shaders.html#shaders-vertex" class="xref page">Vertex Shader</a>) vertices <strong>can</strong> be
transformed, computing positions and attributes for each vertex.
If <a href="tessellation.html#tessellation" class="xref page">tessellation</a> and/or <a href="geometry.html#geometry" class="xref page">geometry</a> shaders are
supported, they <strong>can</strong> then generate multiple primitives from a single input
primitive, possibly changing the primitive topology or generating additional
attribute data in the process.</p>
</div>
<div class="paragraph">
<p>The final resulting primitives are <a href="vertexpostproc.html#vertexpostproc-clipping" class="xref page">clipped</a> to a
clip volume in preparation for the next stage, <a href="primsrast.html#primsrast" class="xref page">Rasterization</a>.
The rasterizer produces a series of <em>fragments</em> associated with a region of
the framebuffer, from a two-dimensional description of a point, line
segment, or triangle.
These fragments are processed by <a href="fragops.html#fragops" class="xref page">fragment operations</a> to
determine whether generated values will be written to the framebuffer.
<a href="fragops.html#fragops-shader" class="xref page">Fragment shading</a> determines the values to be written to
the framebuffer attachments.
Framebuffer operations then read and write the color and depth/stencil
attachments of the framebuffer for a given subpass of a <a href="renderpass.html#renderpass" class="xref page">render pass instance</a>.
The attachments <strong>can</strong> be used as input attachments in the fragment shader in
a later subpass of the same render pass.</p>
</div>
<div class="paragraph">
<p>The <a href="#pipelines-compute">compute pipeline</a> is a separate pipeline from the
graphics pipeline, which operates on one-, two-, or three-dimensional
workgroups which <strong>can</strong> read from and write to buffer and image memory.</p>
</div>
<div class="paragraph">
<p>This ordering is meant only as a tool for describing Vulkan, not as a strict
rule of how Vulkan is implemented, and we present it only as a means to
organize the various operations of the pipelines.
Actual ordering guarantees between pipeline stages are explained in detail
in the <a href="synchronization.html#synchronization-pipeline-stages-order" class="xref page">synchronization chapter</a>.</p>
</div>
<div id="pipelines-block-diagram" class="imageblock text-center">
<div class="content">
<img src="../_images/pipeline.svg" alt="pipeline">
</div>
<div class="title">Figure 1. Block diagram of the Vulkan pipeline</div>
</div>
<div class="paragraph">
<p>Each pipeline is controlled by a monolithic object created from a
description of all of the shader stages and any relevant fixed-function
stages.
<a href="interfaces.html#interfaces" class="xref page">Linking</a> the whole pipeline together allows the optimization
of shaders based on their input/outputs and eliminates expensive draw time
state validation.</p>
</div>
<div class="paragraph">
<p>A pipeline object is bound to the current state using
<a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>.
Any pipeline object state that is specified as <a href="#pipelines-dynamic-state">dynamic</a> is not applied to the current state when the pipeline object is
bound, but is instead set by dynamic state setting commands.</p>
</div>
<div class="paragraph">
<p>No
state, including dynamic state, is inherited from one command buffer to
another.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Compute,
and graphics pipelines are each represented by <code>VkPipeline</code> handles:</p>
</div>
<div id="VkPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipeline)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-multiple"><a class="anchor" href="#pipelines-multiple"></a>Multiple Pipeline Creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multiple pipelines <strong>can</strong> be created in a single call by commands such as
<a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>, and <a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>.</p>
</div>
<div class="paragraph">
<p>The creation commands are passed an array <code>pCreateInfos</code> of
<code>Vk*PipelineCreateInfo</code> structures specifying parameters of each
pipeline to be created, and return a corresponding array of handles in
<code>pPipelines</code>.
Each element index <em>i</em> of <code>pPipelines</code> is created based on the
corresponding element <em>i</em> of <code>pCreateInfos</code>.</p>
</div>
<div class="paragraph">
<p>Applications <strong>can</strong> group together similar pipelines to be created in a single
call, and implementations are encouraged to look for reuse opportunities
when creating a group.</p>
</div>
<div class="paragraph">
<p>When attempting to create many pipelines in a single command, it is possible
that creation <strong>may</strong> fail for a subset of them.
In this case, the corresponding elements of <code>pPipelines</code> will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.
If creation fails for a pipeline despite valid arguments (for example, due
to out of memory errors), the <a href="fundamentals.html#VkResult" class="xref page">VkResult</a> code returned by the pipeline
creation command will indicate why.
The implementation will attempt to create all pipelines, and only return
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> values for those that actually failed.</p>
</div>
<div class="paragraph">
<p>If creation fails for a pipeline that has the
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code> set in its
<code>Vk*PipelineCreateInfo</code>, pipelines at an index in the <code>pPipelines</code>
array greater than or equal to that of the failing pipeline will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>If creation fails for multiple pipelines, the returned <a href="fundamentals.html#VkResult" class="xref page">VkResult</a> <strong>must</strong>
be the return value of any one of the pipelines which did not succeed.
An application <strong>can</strong> reliably clean up from a failed call by iterating over
the <code>pPipelines</code> array and destroying every element that is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
<div class="paragraph">
<p>If the entire command fails and no pipelines are created, all elements of
<code>pPipelines</code> will be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-compute"><a class="anchor" href="#pipelines-compute"></a>Compute Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Compute pipelines consist of a single static compute shader stage and the
pipeline layout.</p>
</div>
<div class="paragraph">
<p>The compute pipeline represents a compute shader and is created by calling
<code>vkCreateComputePipelines</code>
with <code>module</code> and <code>pName</code> selecting an entry point from a shader
module, where that entry point defines a valid compute shader, in the
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure contained within the
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create compute pipelines, call:</p>
</div>
<div id="vkCreateComputePipelines" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateComputePipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkComputePipelineCreateInfo*          pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the compute pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting compute pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-device-09661" href="#VUID-vkCreateComputePipelines-device-09661"></a> <span class="vuid">VUID-vkCreateComputePipelines-device-09661</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_COMPUTE_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00695" href="#VUID-vkCreateComputePipelines-flags-00695"></a> <span class="vuid">VUID-vkCreateComputePipelines-flags-00695</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00696" href="#VUID-vkCreateComputePipelines-flags-00696"></a> <span class="vuid">VUID-vkCreateComputePipelines-flags-00696</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-02873" href="#VUID-vkCreateComputePipelines-pipelineCache-02873"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-02873</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-device-parameter" href="#VUID-vkCreateComputePipelines-device-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parameter" href="#VUID-vkCreateComputePipelines-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pCreateInfos-parameter" href="#VUID-vkCreateComputePipelines-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pAllocator-parameter" href="#VUID-vkCreateComputePipelines-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pPipelines-parameter" href="#VUID-vkCreateComputePipelines-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateComputePipelines-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-createInfoCount-arraylength" href="#VUID-vkCreateComputePipelines-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateComputePipelines-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parent" href="#VUID-vkCreateComputePipelines-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateComputePipelines-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComputePipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkComputePipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkComputePipelineCreateInfo {
    VkStructureType                    sType;
    const void*                        pNext;
    VkPipelineCreateFlags              flags;
    VkPipelineShaderStageCreateInfo    stage;
    VkPipelineLayout                   layout;
    VkPipeline                         basePipelineHandle;
    int32_t                            basePipelineIndex;
} VkComputePipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure
describing the compute shader.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-None-09497" href="#VUID-VkComputePipelineCreateInfo-None-09497"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-None-09497</span><br>


<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07984" href="#VUID-VkComputePipelineCreateInfo-flags-07984"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid compute <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07985" href="#VUID-VkComputePipelineCreateInfo-flags-07985"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-07986" href="#VUID-VkComputePipelineCreateInfo-flags-07986"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07987" href="#VUID-VkComputePipelineCreateInfo-layout-07987"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-10069" href="#VUID-VkComputePipelineCreateInfo-layout-10069"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07988" href="#VUID-VkComputePipelineCreateInfo-layout-07988"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07990" href="#VUID-VkComputePipelineCreateInfo-layout-07990"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-07991" href="#VUID-VkComputePipelineCreateInfo-layout-07991"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875" href="#VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pipelineCreationCacheControl-02875</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00701" href="#VUID-VkComputePipelineCreateInfo-stage-00701"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-00701</span><br>

The <code>stage</code> member of <code>stage</code> <strong>must</strong> be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00702" href="#VUID-VkComputePipelineCreateInfo-stage-00702"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-00702</span><br>

The shader code for the entry point identified by <code>stage</code> and the
rest of the state identified by this structure <strong>must</strong> adhere to the
pipeline linking rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-01687" href="#VUID-VkComputePipelineCreateInfo-layout-01687"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-01687</span><br>

The number of resources in <code>layout</code> accessible to the compute shader
stage <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566" href="#VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pipelineStageCreationFeedbackCount-06566</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be <code>1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-sType-sType" href="#VUID-VkComputePipelineCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pNext-pNext" href="#VUID-VkComputePipelineCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-sType-unique" href="#VUID-VkComputePipelineCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-parameter" href="#VUID-VkComputePipelineCreateInfo-stage-parameter"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-stage-parameter</span><br>
 <code>stage</code> <strong>must</strong> be a valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-parameter" href="#VUID-VkComputePipelineCreateInfo-layout-parameter"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-commonparent" href="#VUID-VkComputePipelineCreateInfo-commonparent"></a> <span class="vuid">VUID-VkComputePipelineCreateInfo-commonparent</span><br>
 Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineShaderStageCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineShaderStageCreateInfo {
    VkStructureType                     sType;
    const void*                         pNext;
    VkPipelineShaderStageCreateFlags    flags;
    VkShaderStageFlagBits               stage;
    VkShaderModule                      module;
    const char*                         pName;
    const VkSpecializationInfo*         pSpecializationInfo;
} VkPipelineShaderStageCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>
specifying how the pipeline shader stage will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value specifying a single
pipeline stage.</p>
</li>
<li>
<p><code>module</code> is a <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a> object containing the shader code
for this stage.</p>
</li>
<li>
<p><code>pName</code> is a pointer to a null-terminated UTF-8 string specifying
the entry point name of the shader for this stage.</p>
</li>
<li>
<p><code>pSpecializationInfo</code> is a pointer to a <a href="#VkSpecializationInfo">VkSpecializationInfo</a>
structure, as described in
<a href="#pipelines-specialization-constants">Specialization Constants</a>, or
<code>NULL</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The shader code used by the pipeline is defined by <code>module</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00704" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00704"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00704</span><br>

If the <a href="features.html#features-geometryShader" class="xref page"><code>geometryShader</code></a> feature is not
enabled, <code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00705" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00705"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00705</span><br>

If the <a href="features.html#features-tessellationShader" class="xref page"><code>tessellationShader</code></a> feature
is not enabled, <code>stage</code> <strong>must</strong> not be
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00706" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00706"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00706</span><br>

<code>stage</code> <strong>must</strong> not be <code>VK_SHADER_STAGE_ALL_GRAPHICS</code>, or
<code>VK_SHADER_STAGE_ALL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-00707" href="#VUID-VkPipelineShaderStageCreateInfo-pName-00707"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pName-00707</span><br>

<code>pName</code> <strong>must</strong> be the name of an <code>OpEntryPoint</code> in <code>module</code>
with an execution model that matches <code>stage</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708" href="#VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration,
that variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709" href="#VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>CullDistance</code> <code>BuiltIn</code> decoration,
that variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710" href="#VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710</span><br>

If the identified entry point includes variables in its interface that
are declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration and
variables in its interface that are declared with the <code>CullDistance</code>
<code>BuiltIn</code> decoration, those variables <strong>must</strong> not have array sizes
which sum to more than
<code>VkPhysicalDeviceLimits</code>::<code>maxCombinedClipAndCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711" href="#VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711</span><br>

If the identified entry point includes any variable in its interface
that is declared with the <code>SampleMask</code> <code>BuiltIn</code> decoration, that
variable <strong>must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxSampleMaskWords</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00713" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00713"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00713</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified
entry point has an <code>OpExecutionMode</code> instruction specifying a patch
size with <code>OutputVertices</code>, the patch size <strong>must</strong> be greater than <code>0</code>
and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00714" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00714"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00714</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong>must</strong> have an <code>OpExecutionMode</code> instruction specifying a
maximum output vertex count that is greater than <code>0</code> and less than or
equal to <code>VkPhysicalDeviceLimits</code>::<code>maxGeometryOutputVertices</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00715" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00715"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-00715</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong>must</strong> have an <code>OpExecutionMode</code> instruction specifying an
invocation count that is greater than <code>0</code> and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxGeometryShaderInvocations</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02596" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02596"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02596</span><br>

If <code>stage</code> is either <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point
writes to <code>Layer</code> for any primitive, it <strong>must</strong> write the same value to
<code>Layer</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02597" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02597"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-02597</span><br>

If <code>stage</code> is either <code>VK_SHADER_STAGE_VERTEX_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, or
<code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, and the identified entry point
writes to <code>ViewportIndex</code> for any primitive, it <strong>must</strong> write the same
value to <code>ViewportIndex</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-06685" href="#VUID-VkPipelineShaderStageCreateInfo-stage-06685"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-06685</span><br>

If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
entry point writes to <code>FragDepth</code> in any execution path, all
execution paths that are not exclusive to helper invocations <strong>must</strong>
either discard the fragment, or write or initialize the value of
<code>FragDepth</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02784" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02784"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02784</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set, the <a href="features.html#features-subgroupSizeControl" class="xref page">    <code>subgroupSizeControl</code></a> feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02785" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02785"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02785</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set, the <a href="features.html#features-computeFullSubgroups" class="xref page"><code>computeFullSubgroups</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-08988" href="#VUID-VkPipelineShaderStageCreateInfo-flags-08988"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-08988</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>,
<code>stage</code> <strong>must</strong> be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02754" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02754"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02754</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, <code>flags</code> <strong>must</strong> not have the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02755" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02755"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02755</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, the
<a href="features.html#features-subgroupSizeControl" class="xref page"><code>subgroupSizeControl</code></a> feature
<strong>must</strong> be enabled, and <code>stage</code> <strong>must</strong> be a valid bit specified in
<a href="devsandqueues.html#limits-requiredSubgroupSizeStages" class="xref page"><code>requiredSubgroupSizeStages</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02756" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02756"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02756</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain and <code>stage</code> is
<code>VK_SHADER_STAGE_COMPUTE_BIT</code>,
the local workgroup size of the shader <strong>must</strong> be less than or equal to
the product of
<a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>::<code>requiredSubgroupSize</code>
and <a href="devsandqueues.html#limits-maxComputeWorkgroupSubgroups" class="xref page">    <code>maxComputeWorkgroupSubgroups</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-02757" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-02757"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-02757</span><br>

If a <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure
is included in the <code>pNext</code> chain, and <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set, the local workgroup size in the X dimension of the pipeline <strong>must</strong>
be a multiple of
<a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>::<code>requiredSubgroupSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02758" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02758"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02758</span><br>

If <code>flags</code> has both the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> and
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flags set, the local workgroup size in the X dimension of the pipeline
<strong>must</strong> be a multiple of <a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-02759" href="#VUID-VkPipelineShaderStageCreateInfo-flags-02759"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-02759</span><br>

If <code>flags</code> has the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> flag
set and <code>flags</code> does not have the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
flag set and no
<a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure is
included in the <code>pNext</code> chain, the local workgroup size in the X
dimension of the pipeline <strong>must</strong> be a multiple of <a href="devsandqueues.html#limits-subgroupSize" class="xref page">    <code>subgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-08771" href="#VUID-VkPipelineShaderStageCreateInfo-stage-08771"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-08771</span><br>

<code>module</code> <strong>must</strong> be a valid <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849" href="#VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-06849</span><br>

The
    shader code used by the pipeline <strong>must</strong> be valid as described by the
    <a href="introduction.html#spirv-spec" class="xref page">Khronos SPIR-V Specification</a> after applying the
    specializations provided in <code>pSpecializationInfo</code>, if any, and then
    converting all specialization constants into fixed constants</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-sType-sType" href="#VUID-VkPipelineShaderStageCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-pNext" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> or <a href="shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-sType-unique" href="#VUID-VkPipelineShaderStageCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-stage-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-stage-parameter</span><br>
 <code>stage</code> <strong>must</strong> be a valid <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-module-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-module-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-module-parameter</span><br>
 If <code>module</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>module</code> <strong>must</strong> be a valid <a href="shaders.html#VkShaderModule" class="xref page">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pName-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pName-parameter</span><br>
 <code>pName</code> <strong>must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter</span><br>
 If <code>pSpecializationInfo</code> is not <code>NULL</code>, <code>pSpecializationInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkSpecializationInfo">VkSpecializationInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineShaderStageCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineShaderStageCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineShaderStageCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> specifying how a pipeline shader stage
is created, are:</p>
</div>
<div id="VkPipelineShaderStageCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineShaderStageCreateFlagBits {
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT = 0x00000001,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT = 0x00000002,
} VkPipelineShaderStageCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code>
specifies that the
<a href="interfaces.html#interfaces-builtin-variables-sgs" class="xref page"><code>SubgroupSize</code></a> <strong>may</strong> vary in the
shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>
specifies that the subgroup sizes <strong>must</strong> be launched with all invocations
active in the
compute stage.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code>
and <code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code> are
specified and <a href="devsandqueues.html#limits-minSubgroupSize" class="xref page"><code>minSubgroupSize</code></a> does not
equal <a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a> and no
<a href="#pipelines-required-subgroup-size">required subgroup size</a> is specified,
then the only way to guarantee that the 'X' dimension of the local workgroup
size is a multiple of <a href="interfaces.html#interfaces-builtin-variables-sgs" class="xref page"><code>SubgroupSize</code></a> is to make it a multiple of <code>maxSubgroupSize</code>.
Under these conditions, you are guaranteed full subgroups but not any
particular subgroup size.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set by commands and structures, specifying one or more
shader stages, are:</p>
</div>
<div id="VkShaderStageFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkShaderStageFlagBits {
    VK_SHADER_STAGE_VERTEX_BIT = 0x00000001,
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT = 0x00000002,
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT = 0x00000004,
    VK_SHADER_STAGE_GEOMETRY_BIT = 0x00000008,
    VK_SHADER_STAGE_FRAGMENT_BIT = 0x00000010,
    VK_SHADER_STAGE_COMPUTE_BIT = 0x00000020,
    VK_SHADER_STAGE_ALL_GRAPHICS = 0x0000001F,
    VK_SHADER_STAGE_ALL = 0x7FFFFFFF,
} VkShaderStageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_VERTEX_BIT</code> specifies the vertex stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> specifies the
tessellation control stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> specifies the
tessellation evaluation stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_GEOMETRY_BIT</code> specifies the geometry stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_FRAGMENT_BIT</code> specifies the fragment stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code> specifies the compute stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> is a combination of bits used as
shorthand to specify all graphics stages defined above (excluding the
compute stage).</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL</code> is a combination of bits used as shorthand to
specify all shader stages supported by the device, including all
additional stages which are introduced by extensions.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> only includes the original five graphics
stages included in Vulkan 1.0, and not any stages added by extensions.
Thus, it may not have the desired effect in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderStageFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkShaderStageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderStageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</code> structure is
defined as:</p>
</div>
<div id="VkPipelineShaderStageRequiredSubgroupSizeCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineShaderStageRequiredSubgroupSizeCreateInfo {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           requiredSubgroupSize;
} VkPipelineShaderStageRequiredSubgroupSizeCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><a id="pipelines-required-subgroup-size"></a> <code>requiredSubgroupSize</code> is an
unsigned integer value specifying the required subgroup size for the
newly created pipeline shader stage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</code> structure is
included in the <code>pNext</code> chain of <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>,
it specifies that the pipeline shader stage being compiled has a required
subgroup size.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02760</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be a power-of-two integer</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02761</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be greater or equal to
<a href="devsandqueues.html#limits-minSubgroupSize" class="xref page"><code>minSubgroupSize</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-requiredSubgroupSize-02762</span><br>

<code>requiredSubgroupSize</code> <strong>must</strong> be less than or equal to
<a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType" href="#VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageRequiredSubgroupSizeCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_REQUIRED_SUBGROUP_SIZE_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-graphics"><a class="anchor" href="#pipelines-graphics"></a>Graphics Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Graphics pipelines consist of multiple shader stages, multiple
fixed-function pipeline stages, and a pipeline layout.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create graphics pipelines, call:</p>
</div>
<div id="vkCreateGraphicsPipelines" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateGraphicsPipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkGraphicsPipelineCreateInfo*         pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the graphics pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting graphics pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structure includes an array of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures for each of the desired
active shader stages, as well as creation information for all relevant
fixed-function stages, and a pipeline layout.</p>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="#pipelines-multiple">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-device-09662" href="#VUID-vkCreateGraphicsPipelines-device-09662"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-device-09662</span><br>

<code>device</code> <strong>must</strong> support at least one queue family with the
<code>VK_QUEUE_GRAPHICS_BIT</code> capability</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00720" href="#VUID-vkCreateGraphicsPipelines-flags-00720"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-flags-00720</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00721" href="#VUID-vkCreateGraphicsPipelines-flags-00721"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-flags-00721</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-02876" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-02876"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-02876</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>An implicit cache may be provided by the implementation or a layer.
For this reason, it is still valid to set
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> on
<code>flags</code> for any element of <code>pCreateInfos</code> while passing
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> for <code>pipelineCache</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-device-parameter" href="#VUID-vkCreateGraphicsPipelines-device-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parameter" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter" href="#VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pAllocator-parameter" href="#VUID-vkCreateGraphicsPipelines-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pPipelines-parameter" href="#VUID-vkCreateGraphicsPipelines-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength" href="#VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parent" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateGraphicsPipelines-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsPipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkGraphicsPipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkGraphicsPipelineCreateInfo {
    VkStructureType                                  sType;
    const void*                                      pNext;
    VkPipelineCreateFlags                            flags;
    uint32_t                                         stageCount;
    const VkPipelineShaderStageCreateInfo*           pStages;
    const VkPipelineVertexInputStateCreateInfo*      pVertexInputState;
    const VkPipelineInputAssemblyStateCreateInfo*    pInputAssemblyState;
    const VkPipelineTessellationStateCreateInfo*     pTessellationState;
    const VkPipelineViewportStateCreateInfo*         pViewportState;
    const VkPipelineRasterizationStateCreateInfo*    pRasterizationState;
    const VkPipelineMultisampleStateCreateInfo*      pMultisampleState;
    const VkPipelineDepthStencilStateCreateInfo*     pDepthStencilState;
    const VkPipelineColorBlendStateCreateInfo*       pColorBlendState;
    const VkPipelineDynamicStateCreateInfo*          pDynamicState;
    VkPipelineLayout                                 layout;
    VkRenderPass                                     renderPass;
    uint32_t                                         subpass;
    VkPipeline                                       basePipelineHandle;
    int32_t                                          basePipelineIndex;
} VkGraphicsPipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <code>stageCount</code>
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures describing the set of
the shader stages to be included in the graphics pipeline.</p>
</li>
<li>
<p><code>pVertexInputState</code> is a pointer to a
<a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a> structure.</p>
</li>
<li>
<p><code>pInputAssemblyState</code> is a pointer to a
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure which determines
input assembly behavior for vertex shading, as described in <a href="drawing.html#drawing" class="xref page">    Drawing Commands</a>.</p>
</li>
<li>
<p><code>pTessellationState</code> is a pointer to a
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure defining
tessellation state used by tessellation shaders.</p>
</li>
<li>
<p><code>pViewportState</code> is a pointer to a
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> structure defining viewport
state used when rasterization is enabled.</p>
</li>
<li>
<p><code>pRasterizationState</code> is a pointer to a
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure defining
rasterization state.</p>
</li>
<li>
<p><code>pMultisampleState</code> is a pointer to a
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure defining
multisample state used when rasterization is enabled.</p>
</li>
<li>
<p><code>pDepthStencilState</code> is a pointer to a
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure defining
depth/stencil state used when rasterization is enabled for depth or
stencil attachments accessed during rendering.</p>
</li>
<li>
<p><code>pColorBlendState</code> is a pointer to a
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure defining color blend
state used when rasterization is enabled for any color attachments
accessed during rendering.</p>
</li>
<li>
<p><code>pDynamicState</code> is a pointer to a
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure defining which
properties of the pipeline state object are dynamic and <strong>can</strong> be changed
independently of the pipeline state.
This <strong>can</strong> be <code>NULL</code>, which means no state in the pipeline is considered
dynamic.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass object describing the
environment in which the pipeline will be used.
The pipeline <strong>must</strong> only be used with a render pass instance compatible
with the one provided.
See <a href="renderpass.html#renderpass-compatibility" class="xref page">Render Pass Compatibility</a> for more
information.</p>
</li>
<li>
<p><code>subpass</code> is the index of the subpass in the render pass where this
pipeline will be used.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a>.</p>
</div>
<div id="pipelines-graphics-subsets" class="paragraph">
<p>The state required for a graphics pipeline is divided into
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a>,
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>, and <a href="#pipelines-graphics-subsets-fragment-output">fragment output state</a>.</p>
</div>
<div id="pipelines-graphics-subsets-vertex-input" class="paragraph">
<div class="title">Vertex Input State</div>
<p>Vertex input state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div id="pipelines-graphics-subsets-pre-rasterization" class="paragraph">
<div class="title">Pre-Rasterization Shader State</div>
<p>Pre-rasterization shader state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> entries for:</p>
<div class="ulist">
<ul>
<li>
<p>Vertex shaders</p>
</li>
<li>
<p>Tessellation control shaders</p>
</li>
<li>
<p>Tessellation evaluation shaders</p>
</li>
<li>
<p>Geometry shaders</p>
</li>
</ul>
</div>
</li>
<li>
<p>Within the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>, the full pipeline layout <strong>must</strong> be
specified.</p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p>The <code>viewMask</code> parameter of <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>
(formats are ignored)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div id="pipelines-graphics-subsets-fragment-shader" class="paragraph">
<div class="title">Fragment Shader State</div>
<p>Fragment shader state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> entry for the fragment shader</p>
</li>
<li>
<p>Within the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>, the full pipeline layout <strong>must</strong> be
specified.</p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>
if <a href="primsrast.html#primsrast-sampleshading" class="xref page">sample shading</a> is enabled or
<code>renderpass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p>The <code>viewMask</code> parameter of <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>
(formats are ignored)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>
or <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> is used,
this state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div id="pipelines-graphics-subsets-fragment-output" class="paragraph">
<div class="title">Fragment Output State</div>
<p>Fragment output state is defined by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
<li>
<p><a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> and <code>subpass</code> parameter</p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
<code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>
or <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> is used,
this state <strong>must</strong> be specified to create a
<a href="#pipelines-graphics-subsets-complete">complete graphics pipeline</a>.</p>
</div>
<div id="pipelines-graphics-subsets-dynamic-state" class="paragraph">
<div class="title">Dynamic State</div>
<p>Dynamic state values set via <code>pDynamicState</code> <strong>must</strong> be ignored if the
state they correspond to is not otherwise statically set by one of the state
subsets used to create the pipeline.
For example, if a pipeline only included
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, then any dynamic state value corresponding to depth or stencil
testing has no effect.</p>
</div>
<div id="pipelines-graphics-subsets-complete" class="paragraph">
<div class="title">Complete Graphics Pipelines</div>
<p>A complete graphics pipeline always includes
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader state</a>, with other subsets included depending on that state as specified in
the above sections.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-09497" href="#VUID-VkGraphicsPipelineCreateInfo-None-09497"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-09497</span><br>


<code>flags</code> <strong>must</strong> be a valid combination of
<a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07984" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07984"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid graphics <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07985" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07985"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-07986" href="#VUID-VkGraphicsPipelineCreateInfo-flags-07986"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07987" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07987"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-10069" href="#VUID-VkGraphicsPipelineCreateInfo-layout-10069"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07988" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07988"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader, a descriptor slot in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07990" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07990"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a
shader,
a descriptor slot in <code>layout</code> <strong>must</strong> match the descriptor type</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-07991" href="#VUID-VkGraphicsPipelineCreateInfo-layout-07991"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array, a descriptor slot in <code>layout</code> <strong>must</strong> match the
descriptor count</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-02096" href="#VUID-VkGraphicsPipelineCreateInfo-stage-02096"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stage-02096</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> the <code>stage</code> member of one element
of <code>pStages</code> <strong>must</strong> be <code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00729" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00729"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00729</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation control shader stage, it <strong>must</strong> include a tessellation
evaluation shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00730" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00730"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00730</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation evaluation shader stage, it <strong>must</strong> include a tessellation
control shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-09022" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-09022"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-09022</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a
tessellation control shader stage,
<code>pTessellationState</code> <strong>must</strong> be a valid pointer to a valid
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00732" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00732"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00732</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, the shader code of at least one stage <strong>must</strong> contain an
<code>OpExecutionMode</code> instruction specifying the type of subdivision in
the pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00733" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00733"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00733</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, and the shader code of both stages contain an
<code>OpExecutionMode</code> instruction specifying the type of subdivision in
the pipeline, they <strong>must</strong> both specify the same subdivision mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00734" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00734"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00734</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, the shader code of at least one stage <strong>must</strong> contain an
<code>OpExecutionMode</code> instruction specifying the output patch size in the
pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00735" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00735"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00735</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes tessellation
shader stages, and the shader code of both contain an
<code>OpExecutionMode</code> instruction specifying the out patch size in the
pipeline, they <strong>must</strong> both specify the same patch size</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-08888" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-08888"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-08888</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-vertex-input">vertex input    state</a> and <code>pStages</code> includes tessellation shader stages,
the <code>topology</code> member of <code>pInputAssembly</code> <strong>must</strong> be
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-topology-08889" href="#VUID-VkGraphicsPipelineCreateInfo-topology-08889"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-topology-08889</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> and <a href="#pipelines-graphics-subsets-vertex-input">vertex input    state</a> and the <code>topology</code> member of <code>pInputAssembly</code> is
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>,
then <code>pStages</code> <strong>must</strong> include tessellation shader stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723" href="#VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07723</span><br>

If the pipeline is being created with a <code>TessellationEvaluation</code>
<code>Execution</code> <code>Model</code>, no <code>Geometry</code> <code>Execution</code> <code>Model</code>, uses the
<code>PointMode</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-topology-08773" href="#VUID-VkGraphicsPipelineCreateInfo-topology-08773"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-topology-08773</span><br>

If the pipeline is being created with a <code>Vertex</code> <code>Execution</code> <code>Model</code> and
no <code>TessellationEvaluation</code> or <code>Geometry</code> <code>Execution</code> <code>Model</code>, and
the <code>topology</code> member of <code>pInputAssembly</code> is
<code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>,
a <code>PointSize</code> decorated variable <strong>must</strong> be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724" href="#VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-TessellationEvaluation-07724</span><br>

If the pipeline is being created with a <code>TessellationEvaluation</code>
<code>Execution</code> <code>Model</code>, no <code>Geometry</code> <code>Execution</code> <code>Model</code>, uses the
<code>PointMode</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is not enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> not be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776" href="#VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-shaderTessellationAndGeometryPointSize-08776</span><br>

If the pipeline is being created with a <code>Geometry</code> <code>Execution</code> <code>Model</code>,
uses the <code>OutputPoints</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> be written to for every vertex
emitted</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Geometry-07726" href="#VUID-VkGraphicsPipelineCreateInfo-Geometry-07726"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Geometry-07726</span><br>

If the pipeline is being created with a <code>Geometry</code> <code>Execution</code> <code>Model</code>,
uses the <code>OutputPoints</code> <code>Execution</code> <code>Mode</code>, and
<a href="features.html#features-shaderTessellationAndGeometryPointSize" class="xref page">    <code>shaderTessellationAndGeometryPointSize</code></a> is not enabled, a
<code>PointSize</code> decorated variable <strong>must</strong> not be written to</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00738" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00738"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00738</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a geometry
shader stage, and does not include any tessellation shader stages, its
shader code <strong>must</strong> contain an <code>OpExecutionMode</code> instruction specifying
an input primitive type that is <a href="shaders.html#shaders-geometry-execution" class="xref page">    compatible</a> with the primitive topology specified in
<code>pInputAssembly</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00739" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00739"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00739</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and <code>pStages</code> includes a geometry
shader stage, and also includes tessellation shader stages, its shader
code <strong>must</strong> contain an <code>OpExecutionMode</code> instruction specifying an
input primitive type that is <a href="shaders.html#shaders-geometry-execution" class="xref page">compatible</a>
with the primitive topology that is output by the tessellation stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00740" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00740"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00740</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
it includes both a fragment shader and a geometry shader, and the
fragment shader code reads from an input variable that is decorated with
<code>PrimitiveId</code>, then the geometry shader code <strong>must</strong> write to a
matching output variable, decorated with <code>PrimitiveId</code>, in all
execution paths</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06038" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06038"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06038</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and the pipeline is
being created with <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> the fragment shader <strong>must</strong> not read from any
input attachment that is defined as <code>VK_ATTACHMENT_UNUSED</code> in
<code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00742" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00742"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-00742</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and multiple pre-rasterization shader
stages are included in <code>pStages</code>, the shader code for the entry
points identified by those <code>pStages</code> and the rest of the state
identified by this structure <strong>must</strong> adhere to the pipeline linking rules
described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-04889" href="#VUID-VkGraphicsPipelineCreateInfo-None-04889"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-04889</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> and
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the fragment shader and last
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    stage</a> and any relevant state <strong>must</strong> adhere to the pipeline linking
rules described in the <a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06041" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06041"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06041</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and the pipeline is
being created with <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, then for each color attachment in the
subpass, if the <a href="formats.html#potential-format-features" class="xref page">potential format features</a>
of the format of the corresponding attachment description do not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
<code>blendEnable</code> member of the corresponding element of the
<code>pAttachments</code> member of <code>pColorBlendState</code> <strong>must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-07609" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-07609"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-07609</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, the <code>pColorBlendState</code> pointer is not
<code>NULL</code>, the <code>attachmentCount</code> member of <code>pColorBlendState</code> is
not ignored, and the subpass uses color attachments, the
<code>attachmentCount</code> member of <code>pColorBlendState</code> <strong>must</strong> be equal to
the <code>colorAttachmentCount</code> used to create <code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04130</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>pViewportState-&gt;pViewports</code>
is not dynamic, then <code>pViewportState-&gt;pViewports</code> <strong>must</strong> be a valid
pointer to an array of <code>pViewportState-&gt;viewportCount</code> valid
<code>VkViewport</code> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04131</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>pViewportState-&gt;pScissors</code> is
not dynamic, then <code>pViewportState-&gt;pScissors</code> <strong>must</strong> be a valid
pointer to an array of <code>pViewportState-&gt;scissorCount</code> <code>VkRect2D</code>
structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and the <a href="features.html#features-wideLines" class="xref page">    <code>wideLines</code></a> feature is not enabled, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code>, the <code>lineWidth</code> member of
<code>pRasterizationState</code> <strong>must</strong> be <code>1.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-09024</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
the <code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> dynamic state is
enabled or
the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code> is
<code>VK_FALSE</code>,
<code>pViewportState</code> <strong>must</strong> be a valid pointer to a valid
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026" href="#VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09026</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>,
<code>pMultisampleState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027" href="#VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pMultisampleState-09027</span><br>

If <code>pMultisampleState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891" href="#VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-alphaToCoverageEnable-08891</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the
<a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>::<code>alphaToCoverageEnable</code>
is not ignored and is <code>VK_TRUE</code>, then the
<a href="interfaces.html#interfaces-fragmentoutput" class="xref page">Fragment Output Interface</a> <strong>must</strong> contain a
variable for the alpha <code>Component</code> word in <code>Location</code> 0 at
<code>Index</code> 0</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09028" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09028"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09028</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a>, and <code>subpass</code> uses a depth/stencil attachment,
<code>pDepthStencilState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029" href="#VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09029</span><br>

If <code>pDepthStencilState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09030" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09030"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09030</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, and <code>subpass</code> uses color attachments,
<code>pColorBlendState</code> <strong>must</strong> be a valid pointer to a valid
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, the <a href="features.html#features-depthBiasClamp" class="xref page">    <code>depthBiasClamp</code></a> feature is not enabled, no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and the <code>depthBiasEnable</code> member
of <code>pRasterizationState</code> is <code>VK_TRUE</code>, the <code>depthBiasClamp</code>
member of <code>pRasterizationState</code> <strong>must</strong> be <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-02510</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>,
and no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code>, and the
<code>depthBoundsTestEnable</code> member of <code>pDepthStencilState</code> is
<code>VK_TRUE</code>, the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members
of <code>pDepthStencilState</code> <strong>must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00758" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00758"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-subpass-00758</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>rasterizationSamples</code> is not
dynamic, and <code>subpass</code> does not use any color and/or depth/stencil
attachments, then the <code>rasterizationSamples</code> member of
<code>pMultisampleState</code> <strong>must</strong> follow the rules for a
<a href="renderpass.html#renderpass-noattachments" class="xref page">zero-attachment subpass</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06046" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06046"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06046</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>subpass</code> <strong>must</strong> be
a valid subpass within <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06047" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06047"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06047</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>subpass</code> viewMask is not <code>0</code>, and
<code>multiviewTessellationShader</code> is not enabled, then <code>pStages</code>
<strong>must</strong> not include tessellation shaders</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06048" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06048"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06048</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>subpass</code> viewMask is not <code>0</code>, and
<code>multiviewGeometryShader</code> is not enabled, then <code>pStages</code> <strong>must</strong>
not include a geometry shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06050" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06050"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06050</span><br>

If <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and the pipeline is
being created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and <code>subpass</code> viewMask is not <code>0</code>,
then all of the shaders in the pipeline <strong>must</strong> not include variables
decorated with the <code>Layer</code> built-in decoration in their interfaces</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00764" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00764"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-flags-00764</span><br>

<code>flags</code> <strong>must</strong> not contain the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code>
flag</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-01565" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-01565"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-01565</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and an input attachment was referenced by an
<code>aspectMask</code> at <code>renderPass</code> creation time, the fragment shader
<strong>must</strong> only read from the aspects that were specified for that input
attachment</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-01688" href="#VUID-VkGraphicsPipelineCreateInfo-layout-01688"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-01688</span><br>

The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02097" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02097"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-02097</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a>, and <code>pVertexInputState</code> is not dynamic, then
<code>pVertexInputState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Input-07904" href="#VUID-VkGraphicsPipelineCreateInfo-Input-07904"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Input-07904</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, then all variables with the
<code>Input</code> storage class decorated with <code>Location</code> in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> <strong>must</strong> contain a location in
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>location</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-Input-08733" href="#VUID-VkGraphicsPipelineCreateInfo-Input-08733"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-Input-08733</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a> and <code>pVertexInputState</code> is not dynamic, then
the numeric type associated with all <code>Input</code> variables of the
corresponding <code>Location</code> in the <code>Vertex</code> <code>Execution</code> <code>Model</code>
<code>OpEntryPoint</code> <strong>must</strong> be the same as
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08929</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> has a 64-bit
component, then the scalar width associated with all <code>Input</code>
variables of the corresponding <code>Location</code> in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> <strong>must</strong> be 64-bit</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-08930</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and the scalar width associated
with a <code>Location</code> decorated <code>Input</code> variable in the <code>Vertex</code>
<code>Execution</code> <code>Model</code> <code>OpEntryPoint</code> is 64-bit, then the corresponding
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> <strong>must</strong> have a
64-bit component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198" href="#VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pVertexInputState-09198</span><br>

If the pipeline is being created with
<a href="#pipelines-graphics-subsets-vertex-input">vertex input state</a> and
<code>pVertexInputState</code> is not dynamic, and
<a href="fxvertex.html#VkVertexInputAttributeDescription" class="xref page">VkVertexInputAttributeDescription</a>::<code>format</code> has a 64-bit
component, then all <code>Input</code> variables at the corresponding
<code>Location</code> in the <code>Vertex</code> <code>Execution</code> <code>Model</code> <code>OpEntryPoint</code>
<strong>must</strong> not use components that are not present in the format</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031" href="#VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-dynamicPrimitiveTopologyUnrestricted-09031</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-vertex-input">    vertex input state</a>,
<code>pInputAssemblyState</code> <strong>must</strong> be a valid pointer to a valid
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032" href="#VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pInputAssemblyState-09032</span><br>

If <code>pInputAssemblyState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer
to a valid <a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03378</span><br>

If
the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> is less than Version 1.3
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_CULL_MODE</code>,
<code>VK_DYNAMIC_STATE_FRONT_FACE</code>,
<code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code>,
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code>,
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code>,
<code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code>,
<code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code>,
<code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code>,
<code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code>, or
<code>VK_DYNAMIC_STATE_STENCIL_OP</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03379</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>viewportCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-03380</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>scissorCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04132</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>VK_DYNAMIC_STATE_VIEWPORT</code> <strong>must</strong>
not be present</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04133</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> is included in the
<code>pDynamicStates</code> array then <code>VK_DYNAMIC_STATE_SCISSOR</code> <strong>must</strong> not
be present</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04868</span><br>

If
the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> is less than Version 1.3
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to <code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code>,
<code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code>, or
<code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04869</span><br>

If the <a href="#features-extendedDynamicState2LogicOp">    <code>extendedDynamicState2LogicOp</code></a> feature is not enabled, there <strong>must</strong>
be no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
set to <code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-04870</span><br>

If the <a href="#features-extendedDynamicState2PatchControlPoints">    <code>extendedDynamicState2PatchControlPoints</code></a> feature is not enabled,
there <strong>must</strong> be no element of the <code>pDynamicStates</code> member of
<code>pDynamicState</code> set to
<code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878" href="#VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pipelineCreationCacheControl-02878</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576" href="#VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-dynamicRendering-06576</span><br>

If the <a href="features.html#features-dynamicRendering" class="xref page"><code>dynamicRendering</code></a> feature is
not enabled and the pipeline requires
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader    state</a>, or <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, <code>renderPass</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-multiview-06577" href="#VUID-VkGraphicsPipelineCreateInfo-multiview-06577"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-multiview-06577</span><br>

If the <a href="features.html#features-multiview" class="xref page"><code>multiview</code></a> feature is not enabled,
the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06578" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06578"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06578</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the
index of the most significant bit in
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> <strong>must</strong> be less than
<a href="devsandqueues.html#limits-maxMultiviewViewCount" class="xref page"><code>maxMultiviewViewCount</code></a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06579" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06579"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06579</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code> is not
0, <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code>
<strong>must</strong> be a valid pointer to an array of <code>colorAttachmentCount</code> valid
<a href="formats.html#VkFormat" class="xref page">VkFormat</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06580" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06580"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06580</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, each element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06582" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06582"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06582</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and any element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> is
not <code>VK_FORMAT_UNDEFINED</code>, that format <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06583" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06583"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06583</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06584" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06584"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06584</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> <strong>must</strong>
be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06585" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06585"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06585</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06586" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06586"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06586</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format with
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> that include
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06587" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06587"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06587</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format that includes a depth
component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06588" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06588"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06588</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, it <strong>must</strong> be a format that includes a
stencil component</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06589" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06589"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06589</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> is not
<code>VK_FORMAT_UNDEFINED</code>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> is
not <code>VK_FORMAT_UNDEFINED</code>, <code>depthAttachmentFormat</code> <strong>must</strong> equal
<code>stencilAttachmentFormat</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09033" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09033"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09033</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-shader">fragment    shader state</a> and <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a>, and either of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>depthAttachmentFormat</code> or
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>stencilAttachmentFormat</code> are
not <code>VK_FORMAT_UNDEFINED</code>,
<code>pDepthStencilState</code> <strong>must</strong> be a valid pointer to a valid
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034" href="#VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDepthStencilState-09034</span><br>

If <code>pDepthStencilState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to
a valid <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-09037" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-09037"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-09037</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-fragment-output">fragment    output interface state</a>, and any element of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>pColorAttachmentFormats</code> is
not <code>VK_FORMAT_UNDEFINED</code>,
<code>pColorBlendState</code> <strong>must</strong> be a valid pointer to a valid
<a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038" href="#VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pColorBlendState-09038</span><br>

If <code>pColorBlendState</code> is not <code>NULL</code> it <strong>must</strong> be a valid pointer to a
valid <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06055" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06055"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06055</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pColorBlendState</code> is
not dynamic, and the pipeline is being created with
<a href="#pipelines-graphics-subsets-fragment-output">fragment output interface    state</a>, <code>pColorBlendState-&gt;attachmentCount</code> <strong>must</strong> be equal to
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>colorAttachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06057" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06057"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06057</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, and the
<a href="features.html#features-multiview-tess" class="xref page"><code>multiviewTessellationShader</code></a> feature
is not enabled, then <code>pStages</code> <strong>must</strong> not include tessellation
shaders</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06058" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06058"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06058</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, and the
<a href="features.html#features-multiview-gs" class="xref page"><code>multiviewGeometryShader</code></a> feature is not
enabled, then <code>pStages</code> <strong>must</strong> not include a geometry shader</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06059" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06059"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06059</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline is being
created with <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, and
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>::<code>viewMask</code> is not <code>0</code>, all of
the shaders in the pipeline <strong>must</strong> not include variables decorated with
the <code>Layer</code> built-in decoration in their interfaces</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06061" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06061"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06061</span><br>

If
the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a>, and <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
fragment shaders in <code>pStages</code> <strong>must</strong> not include the
<code>InputAttachment</code> capability</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06062" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06062"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06062</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-output">    fragment output interface state</a> and <code>renderPass</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, for each color attachment format defined by the
<code>pColorAttachmentFormats</code> member of
<a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a>, if its
<a href="formats.html#potential-format-features" class="xref page">potential format features</a> do not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>, then the
<code>blendEnable</code> member of the corresponding element of the
<code>pAttachments</code> member of <code>pColorBlendState</code> <strong>must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594" href="#VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pipelineStageCreationFeedbackCount-06594</span><br>

If
<a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a>::<code>pipelineStageCreationFeedbackCount</code>
is not <code>0</code>, it <strong>must</strong> be equal to <code>stageCount</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06600" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06600"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06600</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
<code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code>
valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stageCount-09587" href="#VUID-VkGraphicsPipelineCreateInfo-stageCount-09587"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stageCount-09587</span><br>

If the pipeline does not require
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a> or <a href="#pipelines-graphics-subsets-fragment-shader">fragment shader    state</a>, <code>stageCount</code> <strong>must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601" href="#VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-06601</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<code>pRasterizationState</code> <strong>must</strong> be a valid pointer to a valid
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-06602" href="#VUID-VkGraphicsPipelineCreateInfo-layout-06602"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-layout-06602</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-06603" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-06603"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-06603</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>,
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
or <a href="#pipelines-graphics-subsets-fragment-output">fragment output    state</a>,
and <code>renderPass</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>renderPass</code> <strong>must</strong> be a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stageCount-09530" href="#VUID-VkGraphicsPipelineCreateInfo-stageCount-09530"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stageCount-09530</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, <code>stageCount</code> <strong>must</strong> be greater than
<code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06894" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06894"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06894</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a> but not
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
elements of <code>pStages</code> <strong>must</strong> not have <code>stage</code> set to
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06895" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06895"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06895</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> but not
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, elements of <code>pStages</code> <strong>must</strong> not have <code>stage</code> set to a
shader stage which participates in pre-rasterization</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-06896" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-06896"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-06896</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-pre-rasterization">    pre-rasterization shader state</a>, all elements of <code>pStages</code> <strong>must</strong>
have a <code>stage</code> set to a shader stage which participates in
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a> or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-06897" href="#VUID-VkGraphicsPipelineCreateInfo-stage-06897"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-stage-06897</span><br>

If the pipeline requires <a href="#pipelines-graphics-subsets-fragment-shader">    fragment shader state</a> and/or
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a>, any value of <code>stage</code> <strong>must</strong> not be set in more than one
element of <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-08744" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-08744"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-renderPass-08744</span><br>

If <code>renderPass</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the pipeline requires
<a href="#pipelines-graphics-subsets-fragment-output">fragment output state</a> or
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>,
the pipeline enables <a href="primsrast.html#primsrast-sampleshading" class="xref page">sample shading</a>,
<code>rasterizationSamples</code> is not dynamic, and the <code>pNext</code> chain
includes a <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a> structure,
<code>rasterizationSamples</code> <strong>must</strong> be a valid <a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a>
value that is set in <code>imageCreateSampleCounts</code> (as defined in
<a href="resources.html#resources-image-creation-limits" class="xref page">Image Creation Limits</a>) for every
element of <code>depthAttachmentFormat</code>, <code>stencilAttachmentFormat</code>
and the <code>pColorAttachmentFormats</code> array which is not
<code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-08893" href="#VUID-VkGraphicsPipelineCreateInfo-None-08893"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-08893</span><br>

The pipeline <strong>must</strong> be created with
<a href="#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-08894" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-08894"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pStages-08894</span><br>

If <code>pStages</code> includes a vertex shader stage, the pipeline <strong>must</strong> be
created with <a href="#pipelines-graphics-subsets-vertex-input">vertex input    state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-08896" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-08896"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-08896</span><br>

If
<code>pDynamicState-&gt;pDynamicStates</code> includes
<code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code>, or if it does not and
<code>pRasterizationState-&gt;rasterizerDiscardEnable</code> is <code>VK_FALSE</code>,
the pipeline <strong>must</strong> be created with
<a href="#pipelines-graphics-subsets-fragment-shader">fragment shader state</a>
and <a href="#pipelines-graphics-subsets-fragment-output">fragment output    interface state</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-None-09043" href="#VUID-VkGraphicsPipelineCreateInfo-None-09043"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-None-09043</span><br>

If
the format of any color attachment is
<code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code>, the <code>colorWriteMask</code> member
of the corresponding element of <code>pColorBlendState-&gt;pAttachments</code>
<strong>must</strong> either include all of <code>VK_COLOR_COMPONENT_R_BIT</code>,
<code>VK_COLOR_COMPONENT_G_BIT</code>, and <code>VK_COLOR_COMPONENT_B_BIT</code>, or
none of them</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sType-sType" href="#VUID-VkGraphicsPipelineCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pNext-pNext" href="#VUID-VkGraphicsPipelineCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkPipelineCreationFeedbackCreateInfo">VkPipelineCreationFeedbackCreateInfo</a> or <a href="#VkPipelineRenderingCreateInfo">VkPipelineRenderingCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sType-unique" href="#VUID-VkGraphicsPipelineCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter</span><br>
 If <code>pDynamicState</code> is not <code>NULL</code>, <code>pDynamicState</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-commonparent" href="#VUID-VkGraphicsPipelineCreateInfo-commonparent"></a> <span class="vuid">VUID-VkGraphicsPipelineCreateInfo-commonparent</span><br>
 Each of <code>basePipelineHandle</code>, <code>layout</code>, and <code>renderPass</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineRenderingCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineRenderingCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineRenderingCreateInfo {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           viewMask;
    uint32_t           colorAttachmentCount;
    const VkFormat*    pColorAttachmentFormats;
    VkFormat           depthAttachmentFormat;
    VkFormat           stencilAttachmentFormat;
} VkPipelineRenderingCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>viewMask</code> is the viewMask used for rendering.</p>
</li>
<li>
<p><code>colorAttachmentCount</code> is the number of entries in
<code>pColorAttachmentFormats</code></p>
</li>
<li>
<p><code>pColorAttachmentFormats</code> is a pointer to an array of <a href="formats.html#VkFormat" class="xref page">VkFormat</a>
values defining the format of color attachments used in this pipeline.</p>
</li>
<li>
<p><code>depthAttachmentFormat</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value defining the
format of the depth attachment used in this pipeline.</p>
</li>
<li>
<p><code>stencilAttachmentFormat</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value defining the
format of the stencil attachment used in this pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pipeline is created without a <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>, if the <code>pNext</code>
chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> includes this structure, it
specifies the view mask and format of attachments used for rendering.
If this structure is not specified, and the pipeline does not include a
<a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>, <code>viewMask</code> and <code>colorAttachmentCount</code> are <code>0</code>,
and <code>depthAttachmentFormat</code> and <code>stencilAttachmentFormat</code> are
<code>VK_FORMAT_UNDEFINED</code>.
If a graphics pipeline is created with a valid <a href="renderpass.html#VkRenderPass" class="xref page">VkRenderPass</a>,
parameters of this structure are ignored.</p>
</div>
<div class="paragraph">
<p>If <code>depthAttachmentFormat</code>, <code>stencilAttachmentFormat</code>, or any
element of <code>pColorAttachmentFormats</code> is <code>VK_FORMAT_UNDEFINED</code>, it
indicates that the corresponding attachment is unused within the render
pass.
Valid formats indicate that an attachment <strong>can</strong> be used - but it is still
valid to set the attachment to <code>NULL</code> when beginning rendering.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533" href="#VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533"></a> <span class="vuid">VUID-VkPipelineRenderingCreateInfo-colorAttachmentCount-09533</span><br>

<code>colorAttachmentCount</code> <strong>must</strong> be less than or equal to
<a href="limits.html#limits-maxColorAttachments" class="xref page"><code>maxColorAttachments</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRenderingCreateInfo-sType-sType" href="#VUID-VkPipelineRenderingCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineRenderingCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RENDERING_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>flags</code></p>
</li>
<li>
<p><a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>::<code>flags</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>specify how a pipeline is created, and are:</p>
</div>
<div id="VkPipelineCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineCreateFlagBits {
    VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT = 0x00000001,
    VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT = 0x00000002,
    VK_PIPELINE_CREATE_DERIVATIVE_BIT = 0x00000004,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT = 0x00000008,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_DISPATCH_BASE_BIT = 0x00000010,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT = 0x00000100,
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT = 0x00000200,
  // Provided by VK_VERSION_1_1
    VK_PIPELINE_CREATE_DISPATCH_BASE = VK_PIPELINE_CREATE_DISPATCH_BASE_BIT,
} VkPipelineCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT</code> specifies that the
created pipeline will not be optimized.
Using this flag <strong>may</strong> reduce the time taken to create the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> specifies that the
pipeline to be created is allowed to be the parent of a pipeline that
will be created in a subsequent pipeline creation call.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> specifies that the pipeline to
be created will be a child of a previously created parent pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT</code> specifies that
any shader input variables decorated as <code>ViewIndex</code> will be assigned
values as if they were decorated as <code>DeviceIndex</code>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE</code> specifies that a compute pipeline
<strong>can</strong> be used with <a href="dispatch.html#vkCmdDispatchBase" class="xref page">vkCmdDispatchBase</a> with a non-zero base
workgroup.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> specifies
that pipeline creation will fail if a compile is required for creation
of a valid <a href="#VkPipeline">VkPipeline</a> object; <code>VK_PIPELINE_COMPILE_REQUIRED</code>
will be returned by pipeline creation, and the <a href="#VkPipeline">VkPipeline</a> will be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.</p>
</li>
<li>
<p>When creating multiple pipelines,
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code> specifies that
control will be returned to the application if any individual pipeline
returns a result which is not <code>VK_SUCCESS</code> rather than continuing to
create additional pipelines.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is valid to set both <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> and
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a> for more
information.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDynamicStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineDynamicStateCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineDynamicStateCreateInfo {
    VkStructureType                      sType;
    const void*                          pNext;
    VkPipelineDynamicStateCreateFlags    flags;
    uint32_t                             dynamicStateCount;
    const VkDynamicState*                pDynamicStates;
} VkPipelineDynamicStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dynamicStateCount</code> is the number of elements in the
<code>pDynamicStates</code> array.</p>
</li>
<li>
<p><code>pDynamicStates</code> is a pointer to an array of <a href="#VkDynamicState">VkDynamicState</a>
values specifying which pieces of pipeline state will use the values
from dynamic state commands rather than from pipeline state creation
information.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442</span><br>

Each element of <code>pDynamicStates</code> <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-sType-sType" href="#VUID-VkPipelineDynamicStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter"></a> <span class="vuid">VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter</span><br>
 If <code>dynamicStateCount</code> is not <code>0</code>, <code>pDynamicStates</code> <strong>must</strong> be a valid pointer to an array of <code>dynamicStateCount</code> valid <a href="#VkDynamicState">VkDynamicState</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDynamicStateCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineDynamicStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDynamicStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The source of different pieces of dynamic state is specified by the
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code> property of the
currently active pipeline, each of whose elements <strong>must</strong> be one of the
values:</p>
</div>
<div id="VkDynamicState" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkDynamicState {
    VK_DYNAMIC_STATE_VIEWPORT = 0,
    VK_DYNAMIC_STATE_SCISSOR = 1,
    VK_DYNAMIC_STATE_LINE_WIDTH = 2,
    VK_DYNAMIC_STATE_DEPTH_BIAS = 3,
    VK_DYNAMIC_STATE_BLEND_CONSTANTS = 4,
    VK_DYNAMIC_STATE_DEPTH_BOUNDS = 5,
    VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK = 6,
    VK_DYNAMIC_STATE_STENCIL_WRITE_MASK = 7,
    VK_DYNAMIC_STATE_STENCIL_REFERENCE = 8,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_CULL_MODE = 1000267000,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_FRONT_FACE = 1000267001,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY = 1000267002,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT = 1000267003,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT = 1000267004,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE = 1000267005,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE = 1000267006,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE = 1000267007,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_COMPARE_OP = 1000267008,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE = 1000267009,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE = 1000267010,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_STENCIL_OP = 1000267011,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE = 1000377001,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE = 1000377002,
  // Provided by VK_VERSION_1_3
    VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE = 1000377004,
} VkDynamicState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT</code> specifies that the <code>pViewports</code>
state in <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="vertexpostproc.html#vkCmdSetViewport" class="xref page">vkCmdSetViewport</a> before any drawing
commands.
The number of viewports used by a pipeline is still specified by the
<code>viewportCount</code> member of <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR</code> specifies that the <code>pScissors</code> state
in <a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetScissor" class="xref page">vkCmdSetScissor</a> before any drawing commands.
The number of scissor rectangles used by a pipeline is still specified
by the <code>scissorCount</code> member of
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_WIDTH</code> specifies that the <code>lineWidth</code>
state in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetLineWidth" class="xref page">vkCmdSetLineWidth</a> before any
drawing commands that generate line primitives for the rasterizer.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> specifies that
the <code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code> and
<code>depthBiasSlopeFactor</code> states in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="primsrast.html#vkCmdSetDepthBias" class="xref page">vkCmdSetDepthBias</a>
before any draws are performed with <a href="primsrast.html#primsrast-depthbias-enable" class="xref page">depth    bias enabled</a>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> specifies that the
<code>blendConstants</code> state in <a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a>
will be ignored and <strong>must</strong> be set dynamically with
<a href="framebuffer.html#vkCmdSetBlendConstants" class="xref page">vkCmdSetBlendConstants</a> before any draws are performed with a
pipeline state with <code>VkPipelineColorBlendAttachmentState</code> member
<code>blendEnable</code> set to <code>VK_TRUE</code> and any of the blend functions
using a constant blend color.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> specifies that the
<code>minDepthBounds</code> and <code>maxDepthBounds</code> states of
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthBounds" class="xref page">vkCmdSetDepthBounds</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>depthBoundsTestEnable</code> set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> specifies that the
<code>compareMask</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a>
for both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilCompareMask" class="xref page">vkCmdSetStencilCompareMask</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> specifies that the
<code>writeMask</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> for
both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilWriteMask" class="xref page">vkCmdSetStencilWriteMask</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> specifies that the
<code>reference</code> state in <a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> for
both <code>front</code> and <code>back</code> will be ignored and <strong>must</strong> be set
dynamically with <a href="fragops.html#vkCmdSetStencilReference" class="xref page">vkCmdSetStencilReference</a> before any draws are
performed with a pipeline state with
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_CULL_MODE</code> specifies that the <code>cullMode</code> state
in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and
<strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetCullMode" class="xref page">vkCmdSetCullMode</a> before any drawing
commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_FRONT_FACE</code> specifies that the <code>frontFace</code>
state in <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored
and <strong>must</strong> be set dynamically with <a href="primsrast.html#vkCmdSetFrontFace" class="xref page">vkCmdSetFrontFace</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY</code> specifies that the
<code>topology</code> state in <a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a>
only specifies the <a href="drawing.html#drawing-primitive-topology-class" class="xref page">topology class</a>,
and the specific topology order and adjacency <strong>must</strong> be set dynamically
with <a href="drawing.html#vkCmdSetPrimitiveTopology" class="xref page">vkCmdSetPrimitiveTopology</a> before any drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> specifies that the
<code>viewportCount</code> and <code>pViewports</code> state in
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be set
dynamically with <a href="vertexpostproc.html#vkCmdSetViewportWithCount" class="xref page">vkCmdSetViewportWithCount</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> specifies that the
<code>scissorCount</code> and <code>pScissors</code> state in
<a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a> will be ignored and <strong>must</strong> be set
dynamically with <a href="vertexpostproc.html#vkCmdSetScissorWithCount" class="xref page">vkCmdSetScissorWithCount</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE</code> specifies that the
<code>stride</code> state in <a href="fxvertex.html#VkVertexInputBindingDescription" class="xref page">VkVertexInputBindingDescription</a> will be
ignored and <strong>must</strong> be set dynamically with <a href="fxvertex.html#vkCmdBindVertexBuffers2" class="xref page">vkCmdBindVertexBuffers2</a>
before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE</code> specifies that the
<code>depthTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthTestEnable" class="xref page">vkCmdSetDepthTestEnable</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE</code> specifies that the
<code>depthWriteEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthWriteEnable" class="xref page">vkCmdSetDepthWriteEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP</code> specifies that the
<code>depthCompareOp</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthCompareOp" class="xref page">vkCmdSetDepthCompareOp</a> before any draw call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE</code> specifies that the
<code>depthBoundsTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetDepthBoundsTestEnable" class="xref page">vkCmdSetDepthBoundsTestEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE</code> specifies that the
<code>stencilTestEnable</code> state in
<a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong>must</strong> be
set dynamically with <a href="fragops.html#vkCmdSetStencilTestEnable" class="xref page">vkCmdSetStencilTestEnable</a> before any draw
call.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_OP</code> specifies that the <code>failOp</code>,
<code>passOp</code>, <code>depthFailOp</code>, and <code>compareOp</code> states in
<code>VkPipelineDepthStencilStateCreateInfo</code> for both <code>front</code> and
<code>back</code> will be ignored and <strong>must</strong> be set dynamically with
<a href="fragops.html#vkCmdSetStencilOp" class="xref page">vkCmdSetStencilOp</a> before any draws are performed with a pipeline
state with <code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> specifies that the
<code>rasterizerDiscardEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="primsrast.html#vkCmdSetRasterizerDiscardEnable" class="xref page">vkCmdSetRasterizerDiscardEnable</a> before any
drawing commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code> specifies that the
<code>depthBiasEnable</code> state in
<a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="primsrast.html#vkCmdSetDepthBiasEnable" class="xref page">vkCmdSetDepthBiasEnable</a> before any drawing
commands.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE</code> specifies that the
<code>primitiveRestartEnable</code> state in
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a> will be ignored and <strong>must</strong>
be set dynamically with <a href="drawing.html#vkCmdSetPrimitiveRestartEnable" class="xref page">vkCmdSetPrimitiveRestartEnable</a> before any
drawing commands.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valid_combinations_of_stages_for_graphics_pipelines"><a class="anchor" href="#_valid_combinations_of_stages_for_graphics_pipelines"></a>Valid Combinations of Stages for Graphics Pipelines</h3>
<div class="paragraph">
<p>If tessellation shader stages are omitted, the tessellation shading and
fixed-function stages of the pipeline are skipped.</p>
</div>
<div class="paragraph">
<p>If a geometry shader is omitted, the geometry shading stage is skipped.</p>
</div>
<div class="paragraph">
<p>If a fragment shader is omitted, fragment color outputs have <strong>undefined</strong>
values, and the fragment depth value is determined by <a href="fragops.html#fragops" class="xref page">Fragment Operations</a> state.
This <strong>can</strong> be useful for depth-only rendering.</p>
</div>
<div class="paragraph">
<p>Presence of a shader stage in a pipeline is indicated by including a valid
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> with <code>module</code> and <code>pName</code>
selecting an entry point from a shader module, where that entry point is
valid for the stage specified by <code>stage</code>.</p>
</div>
<div class="paragraph">
<p>Presence of some of the fixed-function stages in the pipeline is implicitly
derived from enabled shaders and provided state.
For example, the fixed-function tessellator is always present when the
pipeline has valid Tessellation Control and Tessellation Evaluation shaders.</p>
</div>
<div class="ulist">
<div class="title">For example:</div>
<ul>
<li>
<p>Depth/stencil-only rendering in a subpass with no color attachments</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Color-only rendering in a subpass with no depth/stencil attachment</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Rendering pipeline with tessellation and geometry shaders</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Tessellation Control Shader</p>
</li>
<li>
<p>Tessellation Evaluation Shader</p>
</li>
<li>
<p>Geometry Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a></p>
</li>
<li>
<p><a href="vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-destruction"><a class="anchor" href="#pipelines-destruction"></a>Pipeline Destruction</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline, call:</p>
</div>
<div id="vkDestroyPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyPipeline(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the handle of the pipeline to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00765" href="#VUID-vkDestroyPipeline-pipeline-00765"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00765</span><br>

All submitted commands that refer to <code>pipeline</code> <strong>must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00766" href="#VUID-vkDestroyPipeline-pipeline-00766"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00766</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00767" href="#VUID-vkDestroyPipeline-pipeline-00767"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-00767</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-device-parameter" href="#VUID-vkDestroyPipeline-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parameter" href="#VUID-vkDestroyPipeline-pipeline-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-parameter</span><br>
 If <code>pipeline</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pAllocator-parameter" href="#VUID-vkDestroyPipeline-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipeline-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parent" href="#VUID-vkDestroyPipeline-pipeline-parent"></a> <span class="vuid">VUID-vkDestroyPipeline-pipeline-parent</span><br>
 If <code>pipeline</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipeline</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-pipeline-derivatives"><a class="anchor" href="#pipelines-pipeline-derivatives"></a>Pipeline Derivatives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A pipeline derivative is a child pipeline created from a parent pipeline,
where the child and parent are expected to have much commonality.</p>
</div>
<div class="paragraph">
<p>The goal of derivative pipelines is that they be cheaper to create using the
parent as a starting point, and that it be more efficient (on either host or
device) to switch/bind between children of the same parent.</p>
</div>
<div class="paragraph">
<p>A derivative pipeline is created by setting the
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag in the
<code>Vk*PipelineCreateInfo</code> structure.
If this is set, then exactly one of <code>basePipelineHandle</code> or
<code>basePipelineIndex</code> members of the structure <strong>must</strong> have a valid
handle/index, and specifies the parent pipeline.
If <code>basePipelineHandle</code> is used, the parent pipeline <strong>must</strong> have already
been created.
If <code>basePipelineIndex</code> is used, then the parent is being created in the
same command.
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> acts as the invalid handle for
<code>basePipelineHandle</code>, and -1 is the invalid index for
<code>basePipelineIndex</code>.
If <code>basePipelineIndex</code> is used, the base pipeline <strong>must</strong> appear earlier
in the array.
The base pipeline <strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-cache"><a class="anchor" href="#pipelines-cache"></a>Pipeline Cache</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse between pipelines is achieved by passing the same pipeline cache
object when creating multiple related pipelines.
Reuse across runs of an application is achieved by retrieving pipeline cache
contents in one run of an application, saving the contents, and using them
to preinitialize a pipeline cache on a subsequent run.
The contents of the pipeline cache objects are managed by the
implementation.
Applications <strong>can</strong> manage the host memory consumed by a pipeline cache object
and control the amount of data retrieved from a pipeline cache object.</p>
</div>
<div class="paragraph">
<p>Pipeline cache objects are represented by <code>VkPipelineCache</code> handles:</p>
</div>
<div id="VkPipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineCache)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-create"><a class="anchor" href="#pipelines-cache-create"></a>Creating a Pipeline Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create pipeline cache objects, call:</p>
</div>
<div id="vkCreatePipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreatePipelineCache(
    VkDevice                                    device,
    const VkPipelineCacheCreateInfo*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineCache*                            pPipelineCache);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline cache
object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a>
structure containing initial parameters for the pipeline cache object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineCache</code> is a pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle in
which the resulting pipeline cache object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications <strong>can</strong> track and manage the total host memory size of a pipeline
cache object using the <code>pAllocator</code>.
Applications <strong>can</strong> limit the amount of data retrieved from a pipeline cache
object in <code>vkGetPipelineCacheData</code>.
Implementations <strong>should</strong> not internally limit the total number of entries
added to a pipeline cache object or the total host memory consumed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once created, a pipeline cache <strong>can</strong> be passed to the
<a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>
and <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a> commands.
If the pipeline cache passed into these commands is not
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, the implementation will query it for possible reuse
opportunities and update it with new content.
The use of the pipeline cache object in these commands is internally
synchronized, and the same pipeline cache object <strong>can</strong> be used in multiple
threads simultaneously.</p>
</div>
<div class="paragraph">
<p>If <code>flags</code> of <code>pCreateInfo</code> includes
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, all commands
that modify the returned pipeline cache object <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations <strong>should</strong> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <code>vkCreate*Pipelines</code> commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineCache-device-parameter" href="#VUID-vkCreatePipelineCache-device-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pCreateInfo-parameter" href="#VUID-vkCreatePipelineCache-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pAllocator-parameter" href="#VUID-vkCreatePipelineCache-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pPipelineCache-parameter" href="#VUID-vkCreatePipelineCache-pPipelineCache-parameter"></a> <span class="vuid">VUID-vkCreatePipelineCache-pPipelineCache-parameter</span><br>
 <code>pPipelineCache</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCacheCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineCacheCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineCacheCreateInfo {
    VkStructureType               sType;
    const void*                   pNext;
    VkPipelineCacheCreateFlags    flags;
    size_t                        initialDataSize;
    const void*                   pInitialData;
} VkPipelineCacheCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a>
specifying the behavior of the pipeline cache.</p>
</li>
<li>
<p><code>initialDataSize</code> is the number of bytes in <code>pInitialData</code>.
If <code>initialDataSize</code> is zero, the pipeline cache will initially be
empty.</p>
</li>
<li>
<p><code>pInitialData</code> is a pointer to previously retrieved pipeline cache
data.
If the pipeline cache data is incompatible (as defined below) with the
device, the pipeline cache will be initially empty.
If <code>initialDataSize</code> is zero, <code>pInitialData</code> is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00768" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00768"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-initialDataSize-00768</span><br>

If <code>initialDataSize</code> is not <code>0</code>, it <strong>must</strong> be equal to the size of
<code>pInitialData</code>, as returned by <code>vkGetPipelineCacheData</code> when
<code>pInitialData</code> was originally retrieved</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00769" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00769"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-initialDataSize-00769</span><br>

If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong>must</strong> have been
retrieved from a previous call to <code>vkGetPipelineCacheData</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892" href="#VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pipelineCreationCacheControl-02892</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-sType-sType" href="#VUID-VkPipelineCacheCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pNext-pNext" href="#VUID-VkPipelineCacheCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-flags-parameter" href="#VUID-VkPipelineCacheCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pInitialData-parameter" href="#VUID-VkPipelineCacheCreateInfo-pInitialData-parameter"></a> <span class="vuid">VUID-VkPipelineCacheCreateInfo-pInitialData-parameter</span><br>
 If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong>must</strong> be a valid pointer to an array of <code>initialDataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCacheCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineCacheCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCacheCreateFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkPipelineCacheCreateFlagBits">VkPipelineCacheCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a>::<code>flags</code>,
specifying behavior of the pipeline cache, are:</p>
</div>
<div id="VkPipelineCacheCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">typedef enum VkPipelineCacheCreateFlagBits {
  // Provided by VK_VERSION_1_3
    VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT = 0x00000001,
} VkPipelineCacheCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code> specifies
that all commands that modify the created <a href="#VkPipelineCache">VkPipelineCache</a> will be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a>.
When set, the implementation <strong>may</strong> skip any unnecessary processing needed
to support simultaneous modification from multiple threads where
allowed.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-merge"><a class="anchor" href="#pipelines-cache-merge"></a>Merging Pipeline Caches</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects <strong>can</strong> be merged using the command:</p>
</div>
<div id="vkMergePipelineCaches" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkMergePipelineCaches(
    VkDevice                                    device,
    VkPipelineCache                             dstCache,
    uint32_t                                    srcCacheCount,
    const VkPipelineCache*                      pSrcCaches);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache objects.</p>
</li>
<li>
<p><code>dstCache</code> is the handle of the pipeline cache to merge results
into.</p>
</li>
<li>
<p><code>srcCacheCount</code> is the length of the <code>pSrcCaches</code> array.</p>
</li>
<li>
<p><code>pSrcCaches</code> is a pointer to an array of pipeline cache handles,
which will be merged into <code>dstCache</code>.
The previous contents of <code>dstCache</code> are included after the merge.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The details of the merge operation are implementation-dependent, but
implementations <strong>should</strong> merge the contents of the specified pipelines and
prune duplicate entries.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-00770" href="#VUID-vkMergePipelineCaches-dstCache-00770"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-00770</span><br>

<code>dstCache</code> <strong>must</strong> not appear in the list of source caches</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-device-parameter" href="#VUID-vkMergePipelineCaches-device-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parameter" href="#VUID-vkMergePipelineCaches-dstCache-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-parameter</span><br>
 <code>dstCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parameter" href="#VUID-vkMergePipelineCaches-pSrcCaches-parameter"></a> <span class="vuid">VUID-vkMergePipelineCaches-pSrcCaches-parameter</span><br>
 <code>pSrcCaches</code> <strong>must</strong> be a valid pointer to an array of <code>srcCacheCount</code> valid <a href="#VkPipelineCache">VkPipelineCache</a> handles</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-srcCacheCount-arraylength" href="#VUID-vkMergePipelineCaches-srcCacheCount-arraylength"></a> <span class="vuid">VUID-vkMergePipelineCaches-srcCacheCount-arraylength</span><br>
 <code>srcCacheCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parent" href="#VUID-vkMergePipelineCaches-dstCache-parent"></a> <span class="vuid">VUID-vkMergePipelineCaches-dstCache-parent</span><br>
 <code>dstCache</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parent" href="#VUID-vkMergePipelineCaches-pSrcCaches-parent"></a> <span class="vuid">VUID-vkMergePipelineCaches-pSrcCaches-parent</span><br>
 Each element of <code>pSrcCaches</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>dstCache</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-retrieval"><a class="anchor" href="#pipelines-cache-retrieval"></a>Retrieving Pipeline Cache Data</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data <strong>can</strong> be retrieved from a pipeline cache object using the command:</p>
</div>
<div id="vkGetPipelineCacheData" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkGetPipelineCacheData(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    size_t*                                     pDataSize,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache.</p>
</li>
<li>
<p><code>pipelineCache</code> is the pipeline cache to retrieve data from.</p>
</li>
<li>
<p><code>pDataSize</code> is a pointer to a <code>size_t</code> value related to the
amount of data in the pipeline cache, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the maximum size of the data that <strong>can</strong> be
retrieved from the pipeline cache, in bytes, is returned in <code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <strong>must</strong> point to a variable set by the application
to the size of the buffer, in bytes, pointed to by <code>pData</code>, and on
return the variable is overwritten with the amount of data actually written
to <code>pData</code>.
If <code>pDataSize</code> is less than the maximum size that <strong>can</strong> be retrieved by
the pipeline cache, at most <code>pDataSize</code> bytes will be written to
<code>pData</code>, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all of the pipeline cache was
returned.</p>
</div>
<div class="paragraph">
<p>Any data written to <code>pData</code> is valid and <strong>can</strong> be provided as the
<code>pInitialData</code> member of the <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a> structure
passed to <code>vkCreatePipelineCache</code>.</p>
</div>
<div class="paragraph">
<p>Two calls to <code>vkGetPipelineCacheData</code> with the same parameters <strong>must</strong>
retrieve the same data unless a command that modifies the contents of the
cache is called between them.</p>
</div>
<div class="paragraph">
<p>The initial bytes written to <code>pData</code> <strong>must</strong> be a header as described in
the <a href="#pipelines-cache-header">Pipeline Cache Header</a> section.</p>
</div>
<div class="paragraph">
<p>If <code>pDataSize</code> is less than what is necessary to store this header,
nothing will be written to <code>pData</code> and zero will be written to
<code>pDataSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineCacheData-device-parameter" href="#VUID-vkGetPipelineCacheData-device-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parameter" href="#VUID-vkGetPipelineCacheData-pipelineCache-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pipelineCache-parameter</span><br>
 <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pDataSize-parameter" href="#VUID-vkGetPipelineCacheData-pDataSize-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pDataSize-parameter</span><br>
 <code>pDataSize</code> <strong>must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pData-parameter" href="#VUID-vkGetPipelineCacheData-pData-parameter"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pData-parameter</span><br>
 If the value referenced by <code>pDataSize</code> is not <code>0</code>, and <code>pData</code> is not <code>NULL</code>, <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>pDataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parent" href="#VUID-vkGetPipelineCacheData-pipelineCache-parent"></a> <span class="vuid">VUID-vkGetPipelineCacheData-pipelineCache-parent</span><br>
 <code>pipelineCache</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-header"><a class="anchor" href="#pipelines-cache-header"></a>Pipeline Cache Header</h3>
<div class="paragraph">
<p>Applications <strong>can</strong> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects.
The results of pipeline compiles, however, <strong>may</strong> depend on the vendor ID,
device ID, driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the pipeline cache data <strong>must</strong> begin with a
valid pipeline cache header.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Structures described in this section are not part of the Vulkan API and are
only used to describe the representation of data elements in pipeline cache
data.
Accordingly, the valid usage clauses defined for structures defined in this
section do not define valid usage conditions for APIs accepting pipeline
cache data as input, as providing invalid pipeline cache data as input to
any Vulkan API commands will result
in the provided pipeline cache data being ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Version one of the pipeline cache header is defined as:</p>
</div>
<div id="VkPipelineCacheHeaderVersionOne" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineCacheHeaderVersionOne {
    uint32_t                        headerSize;
    VkPipelineCacheHeaderVersion    headerVersion;
    uint32_t                        vendorID;
    uint32_t                        deviceID;
    uint8_t                         pipelineCacheUUID[VK_UUID_SIZE];
} VkPipelineCacheHeaderVersionOne;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>headerSize</code> is the length in bytes of the pipeline cache header.</p>
</li>
<li>
<p><code>headerVersion</code> is a <a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a> value
specifying the version of the header.
A consumer of the pipeline cache <strong>should</strong> use the cache version to
interpret the remainder of the cache header.</p>
</li>
<li>
<p><code>vendorID</code> is the <code>VkPhysicalDeviceProperties</code>::<code>vendorID</code>
of the implementation.</p>
</li>
<li>
<p><code>deviceID</code> is the <code>VkPhysicalDeviceProperties</code>::<code>deviceID</code>
of the implementation.</p>
</li>
<li>
<p><code>pipelineCacheUUID</code> is the
<code>VkPhysicalDeviceProperties</code>::<code>pipelineCacheUUID</code> of the
implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unlike most structures declared by the Vulkan API, all fields of this
structure are written with the least significant byte first, regardless of
host byte-order.</p>
</div>
<div class="paragraph">
<p>The C language specification does not define the packing of structure
members.
This layout assumes tight structure member packing, with members laid out in
the order listed in the structure, and the intended size of the structure is
32 bytes.
If a compiler produces code that diverges from that pattern, applications
<strong>must</strong> employ another method to set values at the correct offsets.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967" href="#VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerSize-04967</span><br>

<code>headerSize</code> <strong>must</strong> be 32</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968" href="#VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerVersion-04968</span><br>

<code>headerVersion</code> <strong>must</strong> be <code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990" href="#VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerSize-08990</span><br>

<code>headerSize</code> <strong>must</strong> not exceed the size of the pipeline cache</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter" href="#VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter"></a> <span class="vuid">VUID-VkPipelineCacheHeaderVersionOne-headerVersion-parameter</span><br>
 <code>headerVersion</code> <strong>must</strong> be a valid <a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>headerVersion</code> value of the pipeline cache
header are:</p>
</div>
<div id="VkPipelineCacheHeaderVersion" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineCacheHeaderVersion {
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE = 1,
} VkPipelineCacheHeaderVersion;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code> specifies version one of the
pipeline cache, described by <a href="#VkPipelineCacheHeaderVersionOne">VkPipelineCacheHeaderVersionOne</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache-destroy"><a class="anchor" href="#pipelines-cache-destroy"></a>Destroying a Pipeline Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline cache, call:</p>
</div>
<div id="vkDestroyPipelineCache" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyPipelineCache(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline cache
object.</p>
</li>
<li>
<p><code>pipelineCache</code> is the handle of the pipeline cache to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00771" href="#VUID-vkDestroyPipelineCache-pipelineCache-00771"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-00771</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00772" href="#VUID-vkDestroyPipelineCache-pipelineCache-00772"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-00772</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-device-parameter" href="#VUID-vkDestroyPipelineCache-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parameter" href="#VUID-vkDestroyPipelineCache-pipelineCache-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pAllocator-parameter" href="#VUID-vkDestroyPipelineCache-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parent" href="#VUID-vkDestroyPipelineCache-pipelineCache-parent"></a> <span class="vuid">VUID-vkDestroyPipelineCache-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineCache</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-specialization-constants"><a class="anchor" href="#pipelines-specialization-constants"></a>Specialization Constants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Specialization constants are a mechanism whereby constants in a SPIR-V
module <strong>can</strong> have their constant value specified at the time the
<code>VkPipeline</code> is created.
This allows a SPIR-V module to have constants that <strong>can</strong> be modified while
executing an application that uses the Vulkan API.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Specialization constants are useful to allow a compute shader to have its
local workgroup size changed at runtime by the user, for example.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure contains a
<code>pSpecializationInfo</code> member, which <strong>can</strong> be <code>NULL</code> to indicate no
specialization constants, or point to a <code>VkSpecializationInfo</code>
structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationInfo</code> structure is defined as:</p>
</div>
<div id="VkSpecializationInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkSpecializationInfo {
    uint32_t                           mapEntryCount;
    const VkSpecializationMapEntry*    pMapEntries;
    size_t                             dataSize;
    const void*                        pData;
} VkSpecializationInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mapEntryCount</code> is the number of entries in the <code>pMapEntries</code>
array.</p>
</li>
<li>
<p><code>pMapEntries</code> is a pointer to an array of
<code>VkSpecializationMapEntry</code> structures, which map constant IDs to
offsets in <code>pData</code>.</p>
</li>
<li>
<p><code>dataSize</code> is the byte size of the <code>pData</code> buffer.</p>
</li>
<li>
<p><code>pData</code> contains the actual constant values to specialize with.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-offset-00773" href="#VUID-VkSpecializationInfo-offset-00773"></a> <span class="vuid">VUID-VkSpecializationInfo-offset-00773</span><br>

The <code>offset</code> member of each element of <code>pMapEntries</code> <strong>must</strong> be
less than <code>dataSize</code></p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-00774" href="#VUID-VkSpecializationInfo-pMapEntries-00774"></a> <span class="vuid">VUID-VkSpecializationInfo-pMapEntries-00774</span><br>

The <code>size</code> member of each element of <code>pMapEntries</code> <strong>must</strong> be less
than or equal to <code>dataSize</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-constantID-04911" href="#VUID-VkSpecializationInfo-constantID-04911"></a> <span class="vuid">VUID-VkSpecializationInfo-constantID-04911</span><br>

The <code>constantID</code> value of each element of <code>pMapEntries</code> <strong>must</strong> be
unique within <code>pMapEntries</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-parameter" href="#VUID-VkSpecializationInfo-pMapEntries-parameter"></a> <span class="vuid">VUID-VkSpecializationInfo-pMapEntries-parameter</span><br>
 If <code>mapEntryCount</code> is not <code>0</code>, <code>pMapEntries</code> <strong>must</strong> be a valid pointer to an array of <code>mapEntryCount</code> valid <a href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pData-parameter" href="#VUID-VkSpecializationInfo-pData-parameter"></a> <span class="vuid">VUID-VkSpecializationInfo-pData-parameter</span><br>
 If <code>dataSize</code> is not <code>0</code>, <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationMapEntry</code> structure is defined as:</p>
</div>
<div id="VkSpecializationMapEntry" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkSpecializationMapEntry {
    uint32_t    constantID;
    uint32_t    offset;
    size_t      size;
} VkSpecializationMapEntry;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>constantID</code> is the ID of the specialization constant in SPIR-V.</p>
</li>
<li>
<p><code>offset</code> is the byte offset of the specialization constant value
within the supplied data buffer.</p>
</li>
<li>
<p><code>size</code> is the byte size of the specialization constant value within
the supplied data buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>constantID</code> value is not a specialization constant ID used in the
shader, that map entry does not affect the behavior of the pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationMapEntry-constantID-00776" href="#VUID-VkSpecializationMapEntry-constantID-00776"></a> <span class="vuid">VUID-VkSpecializationMapEntry-constantID-00776</span><br>

For a <code>constantID</code> specialization constant declared in a shader,
<code>size</code> <strong>must</strong> match the byte size of the <code>constantID</code>.
If the specialization constant is of type <code>boolean</code>, <code>size</code> <strong>must</strong>
be the byte size of <code>VkBool32</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-glsl hljs" data-lang="glsl">OpDecorate %x SpecId 13 ; decorate .x component of WorkgroupSize with ID 13
OpDecorate %y SpecId 42 ; decorate .y component of WorkgroupSize with ID 42
OpDecorate %z SpecId 3  ; decorate .z component of WorkgroupSize with ID 3
OpDecorate %wgsize BuiltIn WorkgroupSize ; decorate WorkgroupSize onto constant
%i32 = OpTypeInt 32 0 ; declare an unsigned 32-bit type
%uvec3 = OpTypeVector %i32 3 ; declare a 3 element vector type of unsigned 32-bit
%x = OpSpecConstant %i32 1 ; declare the .x component of WorkgroupSize
%y = OpSpecConstant %i32 1 ; declare the .y component of WorkgroupSize
%z = OpSpecConstant %i32 1 ; declare the .z component of WorkgroupSize
%wgsize = OpSpecConstantComposite %uvec3 %x %y %z ; declare WorkgroupSize</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have three specialization constants, one for each of the
x, y &amp; z elements of the WorkgroupSize vector.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">const VkSpecializationMapEntry entries[] =
{
    {
        .constantID = 13,
        .offset = 0 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    },
    {
        .constantID = 42,
        .offset = 1 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    },
    {
        .constantID = 3,
        .offset = 2 * sizeof(uint32_t),
        .size = sizeof(uint32_t)
    }
};

const uint32_t data[] = { 16, 8, 4 }; // our workgroup size is 16x8x4

const VkSpecializationInfo info =
{
    .mapEntryCount = 3,
    .pMapEntries  = entries,
    .dataSize = 3 * sizeof(uint32_t),
    .pData = data,
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then when calling <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>, and passing the
<code>VkSpecializationInfo</code> we defined as the <code>pSpecializationInfo</code>
parameter of <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>, we will create a compute
pipeline with the runtime specified local workgroup size.</p>
</div>
<div class="paragraph">
<p>Another example would be that an application has a SPIR-V module that has
some platform-dependent constants they wish to use.</p>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-glsl hljs" data-lang="glsl">OpDecorate %1 SpecId 0  ; decorate our signed 32-bit integer constant
OpDecorate %2 SpecId 12 ; decorate our 32-bit floating-point constant
%i32 = OpTypeInt 32 1   ; declare a signed 32-bit type
%float = OpTypeFloat 32 ; declare a 32-bit floating-point type
%1 = OpSpecConstant %i32 -1 ; some signed 32-bit integer constant
%2 = OpSpecConstant %float 0.5 ; some 32-bit floating-point constant</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have two specialization constants, one is a signed 32-bit
integer and the second is a 32-bit floating-point value.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">struct SpecializationData {
    int32_t data0;
    float data1;
};

const VkSpecializationMapEntry entries[] =
{
    {
        .constantID = 0,
        .offset = offsetof(SpecializationData, data0),
        .size = sizeof(SpecializationData::data0)
    },
    {
        .constantID = 12,
        .offset = offsetof(SpecializationData, data1),
        .size = sizeof(SpecializationData::data1)
    }
};

SpecializationData data;
data.data0 = -42;    // set the data for the 32-bit integer
data.data1 = 42.0f;  // set the data for the 32-bit floating-point

const VkSpecializationInfo info =
{
    .mapEntryCount = 2,
    .pMapEntries = entries,
    .dataSize = sizeof(data),
    .pdata = &amp;data,
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is legal for a SPIR-V module with specializations to be compiled into a
pipeline where no specialization information was provided.
SPIR-V specialization constants contain default values such that if a
specialization is not provided, the default value will be used.
In the examples above, it would be valid for an application to only
specialize some of the specialization constants within the SPIR-V module,
and let the other constants use their default values encoded within the
OpSpecConstant declarations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-binding"><a class="anchor" href="#pipelines-binding"></a>Pipeline Binding</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once a pipeline has been created, it <strong>can</strong> be bound to the command buffer
using the command:</p>
</div>
<div id="vkCmdBindPipeline" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdBindPipeline(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the pipeline will be
bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
to which bind point the pipeline is bound.
Binding one does not disturb the others.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to be bound.</p>
</li>
</ul>
</div>
<div id="pipelines-bindpoint-commands" class="paragraph">
<p>Once bound, a pipeline binding affects subsequent commands that interact
with the given pipeline type in the command buffer until a different
pipeline of the same type is bound to the bind
point.
Commands that do not interact with the <a href="shaders.html#shaders-binding" class="xref page">given pipeline</a>
type <strong>must</strong> not be affected by the pipeline state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00777" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00777"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00777</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong>
support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00778" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00778"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00778</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong>
support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00779" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00779"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00779</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>,
<code>pipeline</code> <strong>must</strong> be a compute pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00780" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00780"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-00780</span><br>

If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>,
<code>pipeline</code> <strong>must</strong> be a graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-00781" href="#VUID-vkCmdBindPipeline-pipeline-00781"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipeline-00781</span><br>

If the <a href="features.html#features-variableMultisampleRate" class="xref page">    <code>variableMultisampleRate</code></a> feature is not supported, <code>pipeline</code>
is a graphics pipeline, the current subpass <a href="renderpass.html#renderpass-noattachments" class="xref page">    uses no attachments</a>, and this is not the first call to this function
with a graphics pipeline after transitioning to the current subpass,
then the sample count specified by this pipeline <strong>must</strong> match that set in
the previous pipeline</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-parameter" href="#VUID-vkCmdBindPipeline-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-parameter" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-parameter" href="#VUID-vkCmdBindPipeline-pipeline-parameter"></a> <span class="vuid">VUID-vkCmdBindPipeline-pipeline-parameter</span><br>
 <code>pipeline</code> <strong>must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-recording" href="#VUID-vkCmdBindPipeline-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-cmdpool" href="#VUID-vkCmdBindPipeline-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindPipeline-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commonparent" href="#VUID-vkCmdBindPipeline-commonparent"></a> <span class="vuid">VUID-vkCmdBindPipeline-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>pipeline</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>::<code>pipelineBindPoint</code>,
specifying the bind point of a pipeline object, are:</p>
</div>
<div id="VkPipelineBindPoint" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkPipelineBindPoint {
    VK_PIPELINE_BIND_POINT_GRAPHICS = 0,
    VK_PIPELINE_BIND_POINT_COMPUTE = 1,
} VkPipelineBindPoint;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_COMPUTE</code> specifies binding as a compute
pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> specifies binding as a graphics
pipeline.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-dynamic-state"><a class="anchor" href="#pipelines-dynamic-state"></a>Dynamic State</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a pipeline object is bound, any pipeline object state that is not
specified as dynamic is applied to the command buffer state.
Pipeline object state that is specified as dynamic is not applied to the
command buffer state at this time.</p>
</div>
<div id="dynamic-state-lifetime" class="paragraph">
<p>Instead, dynamic state <strong>can</strong> be modified at any time and persists for the
lifetime of the command buffer, or until modified by another dynamic state
setting command, or made invalid by binding a pipeline in which that state
is statically specified.</p>
</div>
<div id="dynamic-state-current-value" class="paragraph">
<p>When a pipeline object is bound, the following applies to each state
parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the state is not specified as dynamic in the new pipeline object,
then that command buffer state is overwritten by the state in the new
pipeline object.
Before any draw or dispatch call with this pipeline there <strong>must</strong> not have
been any calls to any of the corresponding dynamic state setting
commands after this pipeline was bound.</p>
</li>
<li>
<p>If the state is specified as dynamic in the new pipeline object, then
that command buffer state is not disturbed.
Before any draw or dispatch call with this pipeline there <strong>must</strong> have
been at least one call to each of the corresponding dynamic state
setting commands.
The state-setting commands <strong>must</strong> be recorded after command buffer
recording was begun, or after the last command binding a pipeline object
with that state specified as static, whichever was the latter.</p>
</li>
<li>
<p>If the state is not included (corresponding pointer in
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> was <code>NULL</code> or was ignored) in the new
pipeline object, then that command buffer state is not disturbed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dynamic state that does not affect the result of operations <strong>can</strong> be left
<strong>undefined</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, if blending is disabled by the pipeline object state then the
dynamic color blend constants do not need to be specified in the command
buffer, even if this state is specified as dynamic in the pipeline object.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications running on Vulkan implementations advertising an
<a href="devsandqueues.html#VkPhysicalDeviceDriverProperties" class="xref page">VkPhysicalDeviceDriverProperties</a>::<code>conformanceVersion</code> less than
1.3.8.0 should be aware that rebinding the currently bound pipeline object
may not reapply static state.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines-creation-feedback"><a class="anchor" href="#pipelines-creation-feedback"></a>Pipeline Creation Feedback</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Feedback about the creation of a particular pipeline object <strong>can</strong> be obtained
by adding a <code>VkPipelineCreationFeedbackCreateInfo</code> structure to the
<code>pNext</code> chain of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>,
or <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>.
The <code>VkPipelineCreationFeedbackCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreationFeedbackCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineCreationFeedbackCreateInfo {
    VkStructureType                sType;
    const void*                    pNext;
    VkPipelineCreationFeedback*    pPipelineCreationFeedback;
    uint32_t                       pipelineStageCreationFeedbackCount;
    VkPipelineCreationFeedback*    pPipelineStageCreationFeedbacks;
} VkPipelineCreationFeedbackCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pPipelineCreationFeedback</code> is a pointer to a
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structure.</p>
</li>
<li>
<p><code>pipelineStageCreationFeedbackCount</code> is the number of elements in
<code>pPipelineStageCreationFeedbacks</code>.</p>
</li>
<li>
<p><code>pPipelineStageCreationFeedbacks</code> is a pointer to an array of
<code>pipelineStageCreationFeedbackCount</code>
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An implementation <strong>should</strong> write pipeline creation feedback to
<code>pPipelineCreationFeedback</code> and <strong>may</strong> write pipeline stage creation
feedback to <code>pPipelineStageCreationFeedbacks</code>.
An implementation <strong>must</strong> set or clear the
<code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> in
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a>::<code>flags</code> for
<code>pPipelineCreationFeedback</code> and every element of
<code>pPipelineStageCreationFeedbacks</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>One common scenario for an implementation to skip per-stage feedback is when
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code> is
set in <code>pPipelineCreationFeedback</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When chained to
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, the <code>i</code> element of
<code>pPipelineStageCreationFeedbacks</code> corresponds to the <code>i</code> element of
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pStages</code>.
When chained to <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>, the first element of
<code>pPipelineStageCreationFeedbacks</code> corresponds to
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>::<code>stage</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType" href="#VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CREATION_FEEDBACK_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter" href="#VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineCreationFeedback-parameter</span><br>
 <code>pPipelineCreationFeedback</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter" href="#VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter"></a> <span class="vuid">VUID-VkPipelineCreationFeedbackCreateInfo-pPipelineStageCreationFeedbacks-parameter</span><br>
 If <code>pipelineStageCreationFeedbackCount</code> is not <code>0</code>, <code>pPipelineStageCreationFeedbacks</code> <strong>must</strong> be a valid pointer to an array of <code>pipelineStageCreationFeedbackCount</code> <a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCreationFeedback</code> structure is defined as:</p>
</div>
<div id="VkPipelineCreationFeedback" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkPipelineCreationFeedback {
    VkPipelineCreationFeedbackFlags    flags;
    uint64_t                           duration;
} VkPipelineCreationFeedback;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreationFeedbackFlagBits">VkPipelineCreationFeedbackFlagBits</a>
providing feedback about the creation of a pipeline or of a pipeline
stage.</p>
</li>
<li>
<p><code>duration</code> is the duration spent creating a pipeline or pipeline
stage in nanoseconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> is not set in
<code>flags</code>, an implementation <strong>must</strong> not set any other bits in <code>flags</code>,
and the values of all other <code>VkPipelineCreationFeedback</code> data members
are <strong>undefined</strong>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkPipelineCreationFeedback">VkPipelineCreationFeedback</a> are:</p>
</div>
<div id="VkPipelineCreationFeedbackFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef enum VkPipelineCreationFeedbackFlagBits {
    VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT = 0x00000001,
    VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT = 0x00000002,
    VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT = 0x00000004,
    VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT,
    VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT,
    VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT_EXT = VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT,
} VkPipelineCreationFeedbackFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_VALID_BIT</code> indicates that the
feedback information is valid.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
indicates that a readily usable pipeline or pipeline stage was found in
the <code>pipelineCache</code> specified by the application in the pipeline
creation command.</p>
<div class="paragraph">
<p>An implementation <strong>should</strong> set the
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code> bit
if it was able to avoid the large majority of pipeline or pipeline stage
creation work by using the <code>pipelineCache</code> parameter of
<a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>,
or <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>.
When an implementation sets this bit for the entire pipeline, it <strong>may</strong> leave
it unset for any stage.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations are encouraged to provide a meaningful signal to
applications using this bit.
The intention is to communicate to the application that the pipeline or
pipeline stage was created &#8220;as fast as it gets&#8221; using the pipeline cache
provided by the application.
If an implementation uses an internal cache, it is discouraged from setting
this bit as the feedback would be unactionable.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code>
indicates that the base pipeline specified by the
<code>basePipelineHandle</code> or <code>basePipelineIndex</code> member of the
<code>Vk*PipelineCreateInfo</code> structure was used to accelerate the
creation of the pipeline.</p>
<div class="paragraph">
<p>An implementation <strong>should</strong> set the
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> bit if it
was able to avoid a significant amount of work by using the base pipeline.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While &#8220;significant amount of work&#8221; is subjective, implementations are
encouraged to provide a meaningful signal to applications using this bit.
For example, a 1% reduction in duration may not warrant setting this bit,
while a 50% reduction would.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreationFeedbackFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef VkFlags VkPipelineCreationFeedbackFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreationFeedbackFlags</code> is a bitmask type for providing zero
or more <a href="#VkPipelineCreationFeedbackFlagBits">VkPipelineCreationFeedbackFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
