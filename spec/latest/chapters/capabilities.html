<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Additional Capabilities :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="capabilities.html">Additional Capabilities</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Additional Capabilities</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes additional capabilities beyond the minimum
capabilities described in the <a href="limits.html#limits" class="xref page">Limits</a> and <a href="formats.html#formats" class="xref page">Formats</a>
chapters, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#capabilities-image">Additional Image Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-buffer">Additional Buffer Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-semaphore">Optional Semaphore Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-fence">Optional Fence Capabilities</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-image"><a class="anchor" href="#capabilities-image"></a>Additional Image Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Additional image capabilities, such as larger dimensions or additional
sample counts for certain image types, or additional capabilities for
<em>linear</em> tiling format images, are described in this section.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkGetPhysicalDeviceImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkImageTiling                               tiling,
    VkImageUsageFlags                           usage,
    VkImageCreateFlags                          flags,
    VkImageFormatProperties*                    pImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>format</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value specifying the image format,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value specifying the image type,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value specifying the image tiling,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> specifying the
intended usage of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> specifying
additional parameters of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
parameters correspond to parameters that would be consumed by
<a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a> (as members of <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>).</p>
</div>
<div class="paragraph">
<p>If <code>format</code> is not a supported image format, or if the combination of
<code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> is not
supported for images, then <code>vkGetPhysicalDeviceImageFormatProperties</code>
returns <code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="paragraph">
<p>The limitations on an image format that are reported by
<code>vkGetPhysicalDeviceImageFormatProperties</code> have the following property:
if <code>usage1</code> and <code>usage2</code> of type <a href="resources.html#VkImageUsageFlags" class="xref page">VkImageUsageFlags</a> are such that
the bits set in <code>usage1</code> are a subset of the bits set in <code>usage2</code>, and
<code>flags1</code> and <code>flags2</code> of type <a href="resources.html#VkImageCreateFlags" class="xref page">VkImageCreateFlags</a> are such that
the bits set in <code>flags1</code> are a subset of the bits set in <code>flags2</code>,
then the limitations for <code>usage1</code> and <code>flags1</code> <strong>must</strong> be no more strict
than the limitations for <code>usage2</code> and <code>flags2</code>, for all values of
<code>format</code>, <code>type</code>, and <code>tiling</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter</span><br>
 <code>tiling</code> <strong>must</strong> be a valid <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkImageFormatProperties {
    VkExtent3D            maxExtent;
    uint32_t              maxMipLevels;
    uint32_t              maxArrayLayers;
    VkSampleCountFlags    sampleCounts;
    VkDeviceSize          maxResourceSize;
} VkImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>maxExtent</code> are the maximum image dimensions.
See the <a href="#features-extentperimagetype">Allowed Extent Values</a> section
below for how these values are constrained by <code>type</code>.</p>
</li>
<li>
<p><code>maxMipLevels</code> is the maximum number of mipmap levels.
<code>maxMipLevels</code> <strong>must</strong> be equal to the number of levels in the
complete mipmap chain based on the <span class="eq"><code>maxExtent.width</code></span>,
<span class="eq"><code>maxExtent.height</code></span>, and <span class="eq"><code>maxExtent.depth</code></span>, except
when one of the following conditions is true, in which case it <strong>may</strong>
instead be <code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>vkGetPhysicalDeviceImageFormatProperties</code>::<code>tiling</code> was
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p>the <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>pNext</code> chain included
a <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure with a handle
type included in the <code>handleTypes</code> member for which mipmap image
support is not required</p>
</li>
<li>
<p>image <code>format</code> is one of the
<a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">formats that require a     sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>maxArrayLayers</code> is the maximum number of array layers.
<code>maxArrayLayers</code> <strong>must</strong> be no less than
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageArrayLayers</code>, except when one
of the following conditions is true, in which case it <strong>may</strong> instead be
<code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code> and <code>type</code> is
<code>VK_IMAGE_TYPE_3D</code></p>
</li>
<li>
<p><code>format</code> is one of the
<a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">formats that require a     sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>sampleCounts</code> is a bitmask of <a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a>
specifying all the supported sample counts for this image as described
<a href="#features-supported-sample-counts">below</a>.</p>
</li>
<li>
<p><code>maxResourceSize</code> is an upper bound on the total image size in
bytes, inclusive of all image subresources.
Implementations <strong>may</strong> have an address space limit on total size of a
resource, which is advertised by this property.
<code>maxResourceSize</code> <strong>must</strong> be at least 2<sup>31</sup>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is no mechanism to query the size of an image before creating it, to
compare that size against <code>maxResourceSize</code>.
If an application attempts to create an image that exceeds this limit, the
creation will fail and <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a> will return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
While the advertised limit <strong>must</strong> be at least 2<sup>31</sup>, it <strong>may</strong> not be possible
to create an image that approaches that size, particularly for
<code>VK_IMAGE_TYPE_1D</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties</code> is not supported by the
implementation for use in <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then all members of
<code>VkImageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Filling <code>VkImageFormatProperties</code> with zero for unsupported formats is
an exception to the usual rule that output structures have <strong>undefined</strong>
contents on error.
This exception was unintentional, but is preserved for backwards
compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
VkResult vkGetPhysicalDeviceImageFormatProperties2(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceImageFormatInfo2*     pImageFormatInfo,
    VkImageFormatProperties2*                   pImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>pImageFormatInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure describing the
parameters that would be consumed by <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties2</code> behaves similarly to
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with the ability to return
extended information in a <code>pNext</code> chain of output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter</span><br>
 <code>pImageFormatInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceImageFormatInfo2</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceImageFormatInfo2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceImageFormatInfo2 {
    VkStructureType       sType;
    const void*           pNext;
    VkFormat              format;
    VkImageType           type;
    VkImageTiling         tiling;
    VkImageUsageFlags     usage;
    VkImageCreateFlags    flags;
} VkPhysicalDeviceImageFormatInfo2;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkPhysicalDeviceImageFormatInfo2</code> is used
to provide additional image parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>format</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value indicating the image format,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value indicating the image type,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value indicating the image tiling,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> indicating the
intended usage of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> indicating
additional parameters of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkPhysicalDeviceImageFormatInfo2</code> correspond to the
arguments to <a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType" href="#VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext" href="#VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>, <a href="resources.html#VkImageStencilUsageCreateInfo" class="xref page">VkImageStencilUsageCreateInfo</a>, or <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique" href="#VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter</span><br>
 <code>tiling</code> <strong>must</strong> be a valid <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask" href="#VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties2</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkImageFormatProperties2 {
    VkStructureType            sType;
    void*                      pNext;
    VkImageFormatProperties    imageFormatProperties;
} VkImageFormatProperties2;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkImageFormatProperties2</code> is used to allow
the specification of additional capabilities to be returned from
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>imageFormatProperties</code> is a <a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure
in which capabilities are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code> is not supported by the
implementation for use in <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then all members of
<code>imageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Filling <code>imageFormatProperties</code> with zero for unsupported formats is an
exception to the usual rule that output structures have <strong>undefined</strong> contents
on error.
This exception was unintentional, but is preserved for backwards
compatibility.
This exception only applies to <code>imageFormatProperties</code>, not <code>sType</code>,
<code>pNext</code>, or any structures chained from <code>pNext</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-sType" href="#VUID-VkImageFormatProperties2-sType-sType"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2</code></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-pNext-pNext" href="#VUID-VkImageFormatProperties2-pNext-pNext"></a> <span class="vuid">VUID-VkImageFormatProperties2-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a> or <a href="#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-unique" href="#VUID-VkImageFormatProperties2-sType-unique"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the image capabilities compatible with an external memory
handle type, add a <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure
to the <code>pNext</code> chain of the <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>
structure and a <code>VkExternalImageFormatProperties</code> structure to the
<code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalImageFormatInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalImageFormatInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalImageFormatInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkExternalMemoryHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalImageFormatInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is 0, <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>
will behave as if <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> was not
present, and <a href="#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a> will be ignored.</p>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not compatible with the <code>format</code>, <code>type</code>,
<code>tiling</code>, <code>usage</code>, and <code>flags</code> specified in
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>, then
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> returns
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter</span><br>
 If <code>handleType</code> is not <code>0</code>, <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code>, specifying
an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalMemoryHandleTypeFlagBits {
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT = 0x00000008,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT = 0x00000010,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT = 0x00000020,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT = 0x00000040,
} VkExternalMemoryHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying memory resource
represented by its Vulkan memory object, and will therefore become
invalid when all Vulkan memory objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code> specifies an NT
handle returned by <code>IDXGIResource1</code>::<code>CreateSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code> specifies a
global share handle returned by <code>IDXGIResource</code>::<code>GetSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It does not own a reference to the underlying Direct3D resource, and
will therefore become invalid when all Vulkan memory objects and
Direct3D resources associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 heap resource.
It owns a reference to the resources used by the Direct3D heap.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 committed resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external memory handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-memory-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. External Memory Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalMemoryHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryHandleTypeFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalImageFormatProperties {
    VkStructureType               sType;
    void*                         pNext;
    VkExternalMemoryProperties    externalMemoryProperties;
} VkExternalImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified image creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalImageFormatProperties-sType-sType" href="#VUID-VkExternalImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalMemoryProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalMemoryProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalMemoryProperties {
    VkExternalMemoryFeatureFlags       externalMemoryFeatures;
    VkExternalMemoryHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalMemoryHandleTypeFlags    compatibleHandleTypes;
} VkExternalMemoryProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>externalMemoryFeatures</code> is a bitmask of
<a href="#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a> specifying the features of
<code>handleType</code>.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying handle types which
<strong>can</strong> be specified at the same time as <code>handleType</code> when creating an
image compatible with external memory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>compatibleHandleTypes</code> <strong>must</strong> include at least <code>handleType</code>.
Inclusion of a handle type in <code>compatibleHandleTypes</code> does not imply the
values returned in <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> will be the same when
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is set to
that type.
The application is responsible for querying the capabilities of all handle
types intended for concurrent use in a single image and intersecting them to
obtain the compatible set of capabilities.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>::<code>externalMemoryFeatures</code>, specifying
features of an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalMemoryFeatureFlagBits {
    VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT = 0x00000001,
    VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT = 0x00000002,
    VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT = 0x00000004,
} VkExternalMemoryFeatureFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> specifies that
images or buffers created with the specified parameters and handle type
<strong>must</strong> use the mechanisms defined by <a href="resources.html#VkMemoryDedicatedRequirements" class="xref page">VkMemoryDedicatedRequirements</a>
and <a href="memory.html#VkMemoryDedicatedAllocateInfo" class="xref page">VkMemoryDedicatedAllocateInfo</a> to create (or import) a
dedicated allocation for the image or buffer.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT</code> specifies that handles
of this type <strong>can</strong> be exported from Vulkan memory objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT</code> specifies that handles
of this type <strong>can</strong> be imported as Vulkan memory objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Because their semantics in external APIs roughly align with that of an image
or buffer with a dedicated allocation in Vulkan, implementations are
<strong>required</strong> to report <code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for
the following external handle types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalMemoryFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the number of combined image samplers required to support a
multi-planar format, add <a href="#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a>
to the <code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in
a call to <code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSamplerYcbcrConversionImageFormatProperties</code> structure is defined
as:</p>
</div>
<div id="VkSamplerYcbcrConversionImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkSamplerYcbcrConversionImageFormatProperties {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           combinedImageSamplerDescriptorCount;
} VkSamplerYcbcrConversionImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>combinedImageSamplerDescriptorCount</code> is the number of combined
image sampler descriptors that the implementation uses to access the
format.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType" href="#VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>combinedImageSamplerDescriptorCount</code> is a number between 1 and the
number of planes in the format.
A descriptor set layout binding with immutable Y′C<sub>B</sub>C<sub>R</sub> conversion samplers
will have a maximum <code>combinedImageSamplerDescriptorCount</code> which is the
maximum across all formats supported by its samplers of the
<code>combinedImageSamplerDescriptorCount</code> for each format.
Descriptor sets with that layout will internally use that maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors for each descriptor in
the binding.
This expanded number of descriptors will be consumed from the descriptor
pool when a descriptor set is allocated, and counts towards the
<code>maxDescriptorSetSamplers</code>, <code>maxDescriptorSetSampledImages</code>,
<code>maxPerStageDescriptorSamplers</code>, and
<code>maxPerStageDescriptorSampledImages</code> limits.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All descriptors in a binding use the same maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors to allow
implementations to use a uniform stride for dynamic indexing of the
descriptors in the binding.</p>
</div>
<div class="paragraph">
<p>For example, consider a descriptor set layout binding with two descriptors
and immutable samplers for multi-planar formats that have
<code>VkSamplerYcbcrConversionImageFormatProperties</code>::<code>combinedImageSamplerDescriptorCount</code>
values of <code>2</code> and <code>3</code> respectively.
There are two descriptors in the binding and the maximum
<code>combinedImageSamplerDescriptorCount</code> is <code>3</code>, so descriptor sets with
this layout consume <code>6</code> descriptors from the descriptor pool.
To create a descriptor pool that allows allocating four descriptor sets with
this layout, <code>descriptorCount</code> must be at least <code>24</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="features-supported-sample-counts"><a class="anchor" href="#features-supported-sample-counts"></a>Supported Sample Counts</h3>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties</code> returns a bitmask of
<a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a> in <code>sampleCounts</code> specifying the supported
sample counts for the image parameters.</p>
</div>
<div class="paragraph">
<p><code>sampleCounts</code> will be <code>VK_SAMPLE_COUNT_1_BIT</code> if at least one of
the following conditions is true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>type</code> is not <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p>
</li>
<li>
<p>Neither the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag nor the
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
<code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
<a href="formats.html#vkGetPhysicalDeviceFormatProperties" class="xref page">vkGetPhysicalDeviceFormatProperties</a> is set</p>
</li>
<li>
<p><a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is an
external handle type for which multisampled image support is not
required.</p>
</li>
<li>
<p><code>format</code> is one of the <a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">    formats that require a sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, the bits set in <code>sampleCounts</code> will be the sample counts
supported for the specified values of <code>usage</code> and <code>format</code>.
For each bit set in <code>usage</code>, the supported sample counts relate to the
limits in <code>VkPhysicalDeviceLimits</code> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is a floating- or fixed-point color format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceVulkan12Properties</code>::<code>framebufferIntegerColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a depth component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a stencil component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferStencilSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a color component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a depth component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageIntegerSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>storageImageSampleCounts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple bits are set in <code>usage</code>, <code>sampleCounts</code> will be the
intersection of the per-usage values described above.</p>
</div>
<div class="paragraph">
<p>If none of the bits described above are set in <code>usage</code>, then there is no
corresponding limit in <code>VkPhysicalDeviceLimits</code>.
In this case, <code>sampleCounts</code> <strong>must</strong> include at least
<code>VK_SAMPLE_COUNT_1_BIT</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="features-extentperimagetype"><a class="anchor" href="#features-extentperimagetype"></a>Allowed Extent Values Based on Image Type</h3>
<div class="paragraph">
<p>Implementations <strong>may</strong> support extent values larger than the <a href="limits.html#limits-minmax" class="xref page">required minimum/maximum values</a> for certain types of images.
<a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>maxExtent</code> for each type is subject to
the constraints below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations <strong>must</strong> support images with dimensions up to the
<a href="limits.html#limits-minmax" class="xref page">required minimum/maximum values</a> for all types of images.
It follows that the query for additional capabilities <strong>must</strong> return extent
values that are at least as large as the required values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_1D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension1D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> = 1</span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> does not contain
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_3D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-buffer"><a class="anchor" href="#capabilities-buffer"></a>Additional Buffer Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the external handle types supported by buffers, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalBufferProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalBufferInfo*   pExternalBufferInfo,
    VkExternalBufferProperties*                 pExternalBufferProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
buffer capabilities.</p>
</li>
<li>
<p><code>pExternalBufferInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure describing the
parameters that would be consumed by <a href="resources.html#vkCreateBuffer" class="xref page">vkCreateBuffer</a>.</p>
</li>
<li>
<p><code>pExternalBufferProperties</code> is a pointer to a
<a href="#VkExternalBufferProperties">VkExternalBufferProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter</span><br>
 <code>pExternalBufferInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter</span><br>
 <code>pExternalBufferProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalBufferProperties">VkExternalBufferProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalBufferInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalBufferInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkBufferCreateFlags                   flags;
    VkBufferUsageFlags                    usage;
    VkExternalMemoryHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalBufferInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a> describing
additional parameters of the buffer, corresponding to
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> describing the
intended usage of the buffer, corresponding to
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only usage flags representable in <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> are returned
in this structure&#8217;s <code>usage</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-None-09499" href="#VUID-VkPhysicalDeviceExternalBufferInfo-None-09499"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-None-09499</span><br>


<code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>
values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-None-09500" href="#VUID-VkPhysicalDeviceExternalBufferInfo-None-09500"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-None-09500</span><br>


<code>usage</code> <strong>must</strong> not be 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter" href="#VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalBufferProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalBufferProperties {
    VkStructureType               sType;
    void*                         pNext;
    VkExternalMemoryProperties    externalMemoryProperties;
} VkExternalBufferProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified buffer creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalBufferProperties-sType-sType" href="#VUID-VkExternalBufferProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalBufferProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalBufferProperties-pNext-pNext" href="#VUID-VkExternalBufferProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalBufferProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-semaphore"><a class="anchor" href="#capabilities-semaphore"></a>Optional Semaphore Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Semaphores <strong>may</strong> support import and export of their
<a href="synchronization.html#synchronization-semaphores-payloads" class="xref page">payload</a> to external handles.
To query the external handle types supported by semaphores, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalSemaphoreProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalSemaphoreInfo* pExternalSemaphoreInfo,
    VkExternalSemaphoreProperties*              pExternalSemaphoreProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
semaphore capabilities.</p>
</li>
<li>
<p><code>pExternalSemaphoreInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure describing the
parameters that would be consumed by <a href="synchronization.html#vkCreateSemaphore" class="xref page">vkCreateSemaphore</a>.</p>
</li>
<li>
<p><code>pExternalSemaphoreProperties</code> is a pointer to a
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter</span><br>
 <code>pExternalSemaphoreInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter</span><br>
 <code>pExternalSemaphoreProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalSemaphoreInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalSemaphoreInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalSemaphoreInfo {
    VkStructureType                          sType;
    const void*                              pNext;
    VkExternalSemaphoreHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalSemaphoreInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value
specifying the external semaphore handle type for which capabilities
will be returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="synchronization.html#VkSemaphoreTypeCreateInfo" class="xref page">VkSemaphoreTypeCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a>::<code>handleType</code>, specifying an
external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalSemaphoreHandleTypeFlagBits {
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT = 0x00000008,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT = 0x00000010,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT,
} VkExternalSemaphoreHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object, and will therefore become
invalid when all Vulkan semaphore objects associated with it are
destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 fence, or <code>ID3D11Device5</code>::<code>CreateFence</code>
referring to a Direct3D 11 fence.
It owns a reference to the underlying synchronization primitive
associated with the Direct3D fence.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT</code> is an alias of
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> with the same
meaning.
It is provided for convenience and code clarity when interacting with
D3D11 fences.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX
file descriptor handle to a Linux Sync File or Android Fence object.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong>must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code>
generated by the implementation may represent either Linux Sync Files or
Android Fences at the implementation&#8217;s discretion.
Applications <strong>should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external semaphore handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-semaphore-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. External Semaphore Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalSemaphoreHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreHandleTypeFlags</code> is a bitmask type for setting a
mask of zero or more <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalSemaphoreProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalSemaphoreProperties {
    VkStructureType                       sType;
    void*                                 pNext;
    VkExternalSemaphoreHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalSemaphoreHandleTypeFlags    compatibleHandleTypes;
    VkExternalSemaphoreFeatureFlags       externalSemaphoreFeatures;
} VkExternalSemaphoreProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying handle types
which <strong>can</strong> be specified at the same time as <code>handleType</code> when
creating a semaphore.</p>
</li>
<li>
<p><code>externalSemaphoreFeatures</code> is a bitmask of
<a href="#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a> describing the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code> will be
zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-sType-sType" href="#VUID-VkExternalSemaphoreProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-pNext-pNext" href="#VUID-VkExternalSemaphoreProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code>,
specifying the features of an external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalSemaphoreFeatureFlagBits {
    VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT = 0x00000001,
    VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT = 0x00000002,
} VkExternalSemaphoreFeatureFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT</code> specifies that
handles of this type <strong>can</strong> be exported from Vulkan semaphore objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT</code> specifies that
handles of this type <strong>can</strong> be imported as Vulkan semaphore objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalSemaphoreFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreFeatureFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-fence"><a class="anchor" href="#capabilities-fence"></a>Optional Fence Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Fences <strong>may</strong> support import and export of their
<a href="synchronization.html#synchronization-fences-payloads" class="xref page">payload</a> to external handles.
To query the external handle types supported by fences, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalFenceProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalFenceInfo*    pExternalFenceInfo,
    VkExternalFenceProperties*                  pExternalFenceProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
fence capabilities.</p>
</li>
<li>
<p><code>pExternalFenceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure describing the
parameters that would be consumed by <a href="synchronization.html#vkCreateFence" class="xref page">vkCreateFence</a>.</p>
</li>
<li>
<p><code>pExternalFenceProperties</code> is a pointer to a
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter</span><br>
 <code>pExternalFenceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter</span><br>
 <code>pExternalFenceProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalFenceProperties">VkExternalFenceProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalFenceInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalFenceInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalFenceInfo {
    VkStructureType                      sType;
    const void*                          pNext;
    VkExternalFenceHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalFenceInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value
specifying an external fence handle type for which capabilities will be
returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> generated by
the implementation may represent either Linux Sync Files or Android Fences
at the implementation&#8217;s discretion.
Applications <strong>should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a>::<code>handleType</code></p>
</li>
<li>
<p><a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>exportFromImportedHandleTypes</code></p>
</li>
<li>
<p><a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>compatibleHandleTypes</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>indicate external fence handle types, and are:</p>
</div>
<div id="VkExternalFenceHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalFenceHandleTypeFlagBits {
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT = 0x00000008,
} VkExternalFenceHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX file
descriptor handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan fence object, and will therefore become
invalid when all Vulkan fence objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX file
descriptor handle to a Linux Sync File or Android Fence.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong>must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external fence handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-fence-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. External Fence Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalFenceHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceHandleTypeFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalFenceProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalFenceProperties {
    VkStructureType                   sType;
    void*                             pNext;
    VkExternalFenceHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalFenceHandleTypeFlags    compatibleHandleTypes;
    VkExternalFenceFeatureFlags       externalFenceFeatures;
} VkExternalFenceProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> indicating which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> specifying handle types which
<strong>can</strong> be specified at the same time as <code>handleType</code> when creating a
fence.</p>
</li>
<li>
<p><code>externalFenceFeatures</code> is a bitmask of
<a href="#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a> indicating the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code> will be zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalFenceProperties-sType-sType" href="#VUID-VkExternalFenceProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalFenceProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalFenceProperties-pNext-pNext" href="#VUID-VkExternalFenceProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalFenceProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code>, indicating
features of a fence external handle type, are:</p>
</div>
<div id="VkExternalFenceFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalFenceFeatureFlagBits {
    VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT = 0x00000001,
    VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT = 0x00000002,
} VkExternalFenceFeatureFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT</code> specifies handles of this
type <strong>can</strong> be exported from Vulkan fence objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT</code> specifies handles of this
type <strong>can</strong> be imported to Vulkan fence objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalFenceFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
