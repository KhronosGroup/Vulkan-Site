<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Additional Capabilities :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark-theme")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.classList.toggle("dark-theme", this.checked), document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="capabilities.html">Additional Capabilities</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Additional Capabilities</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes additional capabilities beyond the minimum
capabilities described in the <a href="limits.html#limits" class="xref page">Limits</a> and <a href="formats.html#formats" class="xref page">Formats</a>
chapters, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#capabilities-image">Additional Image Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-buffer">Additional Buffer Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-semaphore">Optional Semaphore Capabilities</a></p>
</li>
<li>
<p><a href="#capabilities-fence">Optional Fence Capabilities</a></p>
</li>
<li>
<p><a href="#features-timestamp-calibration">Timestamp Calibration Capabilities</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-image"><a class="anchor" href="#capabilities-image"></a>Additional Image Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Additional image capabilities, such as larger dimensions or additional
sample counts for certain image types, or additional capabilities for
<em>linear</em> tiling format images, are described in this section.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkGetPhysicalDeviceImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkImageTiling                               tiling,
    VkImageUsageFlags                           usage,
    VkImageCreateFlags                          flags,
    VkImageFormatProperties*                    pImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>format</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value specifying the image format,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value specifying the image type,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value specifying the image tiling,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> specifying the
intended usage of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> specifying
additional parameters of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
parameters correspond to parameters that would be consumed by
<a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a> (as members of <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>).</p>
</div>
<div class="paragraph">
<p>If <code>format</code> is not a supported image format, or if the combination of
<code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> is not
supported for images, then <code>vkGetPhysicalDeviceImageFormatProperties</code>
returns <code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="paragraph">
<p>The limitations on an image format that are reported by
<code>vkGetPhysicalDeviceImageFormatProperties</code> have the following property:
if <code>usage1</code> and <code>usage2</code> of type <a href="resources.html#VkImageUsageFlags" class="xref page">VkImageUsageFlags</a> are such that
the bits set in <code>usage1</code> are a subset of the bits set in <code>usage2</code>, and
<code>flags1</code> and <code>flags2</code> of type <a href="resources.html#VkImageCreateFlags" class="xref page">VkImageCreateFlags</a> are such that
the bits set in <code>flags1</code> are a subset of the bits set in <code>flags2</code>,
then the limitations for <code>usage1</code> and <code>flags1</code> <strong>must</strong> be no more strict
than the limitations for <code>usage2</code> and <code>flags2</code>, for all values of
<code>format</code>, <code>type</code>, and <code>tiling</code>.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-hostImageCopy" class="xref page"><code>hostImageCopy</code></a> feature is supported,
<code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and <code>flags</code> does
not include either of <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>,
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>, or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code>, then the result of calls to
<code>vkGetPhysicalDeviceImageFormatProperties</code> with identical parameters
except for the inclusion of <code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code> in
<code>usage</code> <strong>must</strong> be identical.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-02248" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-02248"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-02248</span><br>

<code>tiling</code> <strong>must</strong> not be <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code>.
(Use <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> instead)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter</span><br>
 <code>tiling</code> <strong>must</strong> be a valid <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkImageFormatProperties {
    VkExtent3D            maxExtent;
    uint32_t              maxMipLevels;
    uint32_t              maxArrayLayers;
    VkSampleCountFlags    sampleCounts;
    VkDeviceSize          maxResourceSize;
} VkImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>maxExtent</code> are the maximum image dimensions.
See the <a href="#features-extentperimagetype">Allowed Extent Values</a> section
below for how these values are constrained by <code>type</code>.</p>
</li>
<li>
<p><code>maxMipLevels</code> is the maximum number of mipmap levels.
<code>maxMipLevels</code> <strong>must</strong> be equal to the number of levels in the
complete mipmap chain based on the <span class="eq"><code>maxExtent.width</code></span>,
<span class="eq"><code>maxExtent.height</code></span>, and <span class="eq"><code>maxExtent.depth</code></span>, except
when one of the following conditions is true, in which case it <strong>may</strong>
instead be <code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>vkGetPhysicalDeviceImageFormatProperties</code>::<code>tiling</code> was
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>tiling</code> was
<code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code></p>
</li>
<li>
<p>the <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>pNext</code> chain included
a <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure with a handle
type included in the <code>handleTypes</code> member for which mipmap image
support is not required</p>
</li>
<li>
<p>image <code>format</code> is one of the
<a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">formats that require a     sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
<li>
<p><code>flags</code> contains <code>VK_IMAGE_CREATE_SUBSAMPLED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>maxArrayLayers</code> is the maximum number of array layers.
<code>maxArrayLayers</code> <strong>must</strong> be no less than
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageArrayLayers</code>, except when one
of the following conditions is true, in which case it <strong>may</strong> instead be
<code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code> and <code>type</code> is
<code>VK_IMAGE_TYPE_3D</code></p>
</li>
<li>
<p><code>format</code> is one of the
<a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">formats that require a     sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code>, then
<code>maxArrayLayers</code> <strong>must</strong> not be 0.</p>
</li>
<li>
<p><code>sampleCounts</code> is a bitmask of <a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a>
specifying all the supported sample counts for this image as described
<a href="#features-supported-sample-counts">below</a>.</p>
</li>
<li>
<p><code>maxResourceSize</code> is an upper bound on the total image size in
bytes, inclusive of all image subresources.
Implementations <strong>may</strong> have an address space limit on total size of a
resource, which is advertised by this property.
<code>maxResourceSize</code> <strong>must</strong> be at least 2<sup>31</sup>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is no mechanism to query the size of an image before creating it, to
compare that size against <code>maxResourceSize</code>.
If an application attempts to create an image that exceeds this limit, the
creation will fail and <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a> will return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
While the advertised limit <strong>must</strong> be at least 2<sup>31</sup>, it <strong>may</strong> not be possible
to create an image that approaches that size, particularly for
<code>VK_IMAGE_TYPE_1D</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties</code> is not supported by the
implementation for use in <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then all members of
<code>VkImageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Filling <code>VkImageFormatProperties</code> with zero for unsupported formats is
an exception to the usual rule that output structures have <strong>undefined</strong>
contents on error.
This exception was unintentional, but is preserved for backwards
compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the image capabilities compatible with an external memory
handle type, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalImageFormatPropertiesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_external_memory_capabilities
VkResult vkGetPhysicalDeviceExternalImageFormatPropertiesNV(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkImageTiling                               tiling,
    VkImageUsageFlags                           usage,
    VkImageCreateFlags                          flags,
    VkExternalMemoryHandleTypeFlagsNV           externalHandleType,
    VkExternalImageFormatPropertiesNV*          pExternalImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities</p>
</li>
<li>
<p><code>format</code> is the image format, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is the image type, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is the image tiling, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is the intended usage of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask describing additional parameters of the image,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>externalHandleType</code> is either one of the bits from
<a href="memory.html#VkExternalMemoryHandleTypeFlagBitsNV" class="xref page">VkExternalMemoryHandleTypeFlagBitsNV</a>, or 0.</p>
</li>
<li>
<p><code>pExternalImageFormatProperties</code> is a pointer to a
<a href="#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a> structure in which capabilities
are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>externalHandleType</code> is 0,
<code>pExternalImageFormatProperties-&gt;imageFormatProperties</code> will return the
same values as a call to <a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, and
the other members of <code>pExternalImageFormatProperties</code> will all be 0.
Otherwise, they are filled in as described for
<a href="#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-07721" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-07721"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-07721</span><br>

<code>externalHandleType</code> <strong>must</strong> not have more than one bit set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-format-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-format-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-type-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-type-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-tiling-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-tiling-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-tiling-parameter</span><br>
 <code>tiling</code> <strong>must</strong> be a valid <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-requiredbitmask" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-requiredbitmask"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-flags-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-flags-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-externalHandleType-parameter</span><br>
 <code>externalHandleType</code> <strong>must</strong> be a valid combination of <a href="memory.html#VkExternalMemoryHandleTypeFlagBitsNV" class="xref page">VkExternalMemoryHandleTypeFlagBitsNV</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-pExternalImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-pExternalImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalImageFormatPropertiesNV-pExternalImageFormatProperties-parameter</span><br>
 <code>pExternalImageFormatProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalImageFormatPropertiesNV</code> structure is defined as:</p>
</div>
<div id="VkExternalImageFormatPropertiesNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_external_memory_capabilities
typedef struct VkExternalImageFormatPropertiesNV {
    VkImageFormatProperties              imageFormatProperties;
    VkExternalMemoryFeatureFlagsNV       externalMemoryFeatures;
    VkExternalMemoryHandleTypeFlagsNV    exportFromImportedHandleTypes;
    VkExternalMemoryHandleTypeFlagsNV    compatibleHandleTypes;
} VkExternalImageFormatPropertiesNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imageFormatProperties</code> will be filled in as when calling
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, but the values returned
<strong>may</strong> vary depending on the external handle type requested.</p>
</li>
<li>
<p><code>externalMemoryFeatures</code> is a bitmask of
<a href="#VkExternalMemoryFeatureFlagBitsNV">VkExternalMemoryFeatureFlagBitsNV</a>, indicating properties of the
external memory handle type
(<a href="#vkGetPhysicalDeviceExternalImageFormatPropertiesNV">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a>::<code>externalHandleType</code>)
being queried, or 0 if the external memory handle type is 0.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="memory.html#VkExternalMemoryHandleTypeFlagBitsNV" class="xref page">VkExternalMemoryHandleTypeFlagBitsNV</a> containing a bit set for
every external handle type that <strong>may</strong> be used to create memory from which
the handles of the type specified in
<a href="#vkGetPhysicalDeviceExternalImageFormatPropertiesNV">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a>::<code>externalHandleType</code>
<strong>can</strong> be exported, or 0 if the external memory handle type is 0.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="memory.html#VkExternalMemoryHandleTypeFlagBitsNV" class="xref page">VkExternalMemoryHandleTypeFlagBitsNV</a> containing a bit set for
every external handle type that <strong>may</strong> be specified simultaneously with
the handle type specified by
<a href="#vkGetPhysicalDeviceExternalImageFormatPropertiesNV">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a>::<code>externalHandleType</code>
when calling <a href="memory.html#vkAllocateMemory" class="xref page">vkAllocateMemory</a>, or 0 if the external memory handle
type is 0.
<code>compatibleHandleTypes</code> will always contain
<a href="#vkGetPhysicalDeviceExternalImageFormatPropertiesNV">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a>::<code>externalHandleType</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<a href="#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a>::<code>externalMemoryFeatures</code>,
indicating properties of the external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryFeatureFlagBitsNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_external_memory_capabilities
typedef enum VkExternalMemoryFeatureFlagBitsNV {
    VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV = 0x00000001,
    VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_NV = 0x00000002,
    VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_NV = 0x00000004,
} VkExternalMemoryFeatureFlagBitsNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV</code> specifies that
external memory of the specified type <strong>must</strong> be created as a dedicated
allocation when used in the manner specified.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_NV</code> specifies that the
implementation supports exporting handles of the specified type.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_NV</code> specifies that the
implementation supports importing handles of the specified type.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryFeatureFlagsNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_external_memory_capabilities
typedef VkFlags VkExternalMemoryFeatureFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryFeatureFlagsNV</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalMemoryFeatureFlagBitsNV">VkExternalMemoryFeatureFlagBitsNV</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
VkResult vkGetPhysicalDeviceImageFormatProperties2(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceImageFormatInfo2*     pImageFormatInfo,
    VkImageFormatProperties2*                   pImageFormatProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_physical_device_properties2
VkResult vkGetPhysicalDeviceImageFormatProperties2KHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceImageFormatInfo2*     pImageFormatInfo,
    VkImageFormatProperties2*                   pImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>pImageFormatInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure describing the
parameters that would be consumed by <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties2</code> behaves similarly to
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with the ability to return
extended information in a <code>pNext</code> chain of output structures.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <code>pImageFormatInfo</code> includes a
<a href="videocoding.html#VkVideoProfileListInfoKHR" class="xref page">VkVideoProfileListInfoKHR</a> structure with a <code>profileCount</code> member
greater than <code>0</code>, then this command returns format capabilities specific to
image types used in conjunction with the specified <a href="videocoding.html#video-profiles" class="xref page">video profiles</a>.
In this case, this command will return one of the
<a href="videocoding.html#video-profile-error-codes" class="xref page">video-profile-specific error codes</a> if any of
the profiles specified via <a href="videocoding.html#VkVideoProfileListInfoKHR" class="xref page">VkVideoProfileListInfoKHR</a>::<code>pProfiles</code>
are not supported.
Furthermore, if <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>usage</code> includes
any image usage flag not supported by the specified video profiles, then
this command returns <code>VK_ERROR_IMAGE_USAGE_NOT_SUPPORTED_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-01868" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-01868"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-01868</span><br>

If the <code>pNext</code> chain of <code>pImageFormatProperties</code> includes a
<a href="#VkAndroidHardwareBufferUsageANDROID">VkAndroidHardwareBufferUsageANDROID</a> structure, the <code>pNext</code>
chain of <code>pImageFormatInfo</code> <strong>must</strong> include a
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure with
<code>handleType</code> set to
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-09004" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-09004"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pNext-09004</span><br>

If the <code>pNext</code> chain of <code>pImageFormatProperties</code> includes a
<a href="#VkHostImageCopyDevicePerformanceQuery">VkHostImageCopyDevicePerformanceQuery</a> structure,
<code>pImageFormatInfo-&gt;usage</code> <strong>must</strong> contain
<code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter</span><br>
 <code>pImageFormatInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
<li>
<p><code>VK_ERROR_IMAGE_USAGE_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_OPERATION_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_FORMAT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PICTURE_LAYOUT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_CODEC_NOT_SUPPORTED_KHR</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceImageFormatInfo2</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceImageFormatInfo2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceImageFormatInfo2 {
    VkStructureType       sType;
    const void*           pNext;
    VkFormat              format;
    VkImageType           type;
    VkImageTiling         tiling;
    VkImageUsageFlags     usage;
    VkImageCreateFlags    flags;
} VkPhysicalDeviceImageFormatInfo2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPhysicalDeviceImageFormatInfo2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_physical_device_properties2
typedef VkPhysicalDeviceImageFormatInfo2 VkPhysicalDeviceImageFormatInfo2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkPhysicalDeviceImageFormatInfo2</code> is used
to provide additional image parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>format</code> is a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value indicating the image format,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value indicating the image type,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value indicating the image tiling,
corresponding to <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> indicating the
intended usage of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> indicating
additional parameters of the image, corresponding to
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkPhysicalDeviceImageFormatInfo2</code> correspond to the
arguments to <a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02249" href="#VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02249"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02249</span><br>

<code>tiling</code> <strong>must</strong> be <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code> if
and only if the <code>pNext</code> chain includes
<a href="#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02313" href="#VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02313"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-tiling-02313</span><br>

If <code>tiling</code> is <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code> and
<code>flags</code> contains <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>, then the
<code>pNext</code> chain <strong>must</strong> include a <a href="resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>
structure with non-zero <code>viewFormatCount</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType" href="#VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext" href="#VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="resources.html#VkImageCompressionControlEXT" class="xref page">VkImageCompressionControlEXT</a>, <a href="resources.html#VkImageFormatListCreateInfo" class="xref page">VkImageFormatListCreateInfo</a>, <a href="resources.html#VkImageStencilUsageCreateInfo" class="xref page">VkImageStencilUsageCreateInfo</a>, <a href="VK_NV_optical_flow/optical_flow.html#VkOpticalFlowImageFormatInfoNV" class="xref page">VkOpticalFlowImageFormatInfoNV</a>, <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>, <a href="#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a>, <a href="#VkPhysicalDeviceImageViewImageFormatInfoEXT">VkPhysicalDeviceImageViewImageFormatInfoEXT</a>, or <a href="videocoding.html#VkVideoProfileListInfoKHR" class="xref page">VkVideoProfileListInfoKHR</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique" href="#VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="resources.html#VkImageType" class="xref page">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter</span><br>
 <code>tiling</code> <strong>must</strong> be a valid <a href="resources.html#VkImageTiling" class="xref page">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask" href="#VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter" href="#VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties2</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkImageFormatProperties2 {
    VkStructureType            sType;
    void*                      pNext;
    VkImageFormatProperties    imageFormatProperties;
} VkImageFormatProperties2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkImageFormatProperties2KHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_get_physical_device_properties2
typedef VkImageFormatProperties2 VkImageFormatProperties2KHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkImageFormatProperties2</code> is used to allow
the specification of additional capabilities to be returned from
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>imageFormatProperties</code> is a <a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure
in which capabilities are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code> is not supported by the
implementation for use in <a href="resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then all members of
<code>imageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Filling <code>imageFormatProperties</code> with zero for unsupported formats is an
exception to the usual rule that output structures have <strong>undefined</strong> contents
on error.
This exception was unintentional, but is preserved for backwards
compatibility.
This exception only applies to <code>imageFormatProperties</code>, not <code>sType</code>,
<code>pNext</code>, or any structures chained from <code>pNext</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-sType" href="#VUID-VkImageFormatProperties2-sType-sType"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2</code></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-pNext-pNext" href="#VUID-VkImageFormatProperties2-pNext-pNext"></a> <span class="vuid">VUID-VkImageFormatProperties2-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkAndroidHardwareBufferUsageANDROID">VkAndroidHardwareBufferUsageANDROID</a>, <a href="#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a>, <a href="#VkFilterCubicImageViewImageFormatPropertiesEXT">VkFilterCubicImageViewImageFormatPropertiesEXT</a>, <a href="#VkHostImageCopyDevicePerformanceQuery">VkHostImageCopyDevicePerformanceQuery</a>, <a href="resources.html#VkImageCompressionPropertiesEXT" class="xref page">VkImageCompressionPropertiesEXT</a>, <a href="#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a>, or <a href="#VkTextureLODGatherFormatPropertiesAMD">VkTextureLODGatherFormatPropertiesAMD</a></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-unique" href="#VUID-VkImageFormatProperties2-sType-unique"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine if texture gather functions that take explicit LOD and/or bias
argument values <strong>can</strong> be used with a given image format, add a
<a href="#VkTextureLODGatherFormatPropertiesAMD">VkTextureLODGatherFormatPropertiesAMD</a> structure to the <code>pNext</code>
chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in a call to
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkTextureLODGatherFormatPropertiesAMD</code> structure is defined as:</p>
</div>
<div id="VkTextureLODGatherFormatPropertiesAMD" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMD_texture_gather_bias_lod
typedef struct VkTextureLODGatherFormatPropertiesAMD {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           supportsTextureGatherLODBiasAMD;
} VkTextureLODGatherFormatPropertiesAMD;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supportsTextureGatherLODBiasAMD</code> tells if the image format can be
used with texture gather bias/LOD functions, as introduced by the
<code><a href="../appendices/extensions.html#VK_AMD_texture_gather_bias_lod" class="xref page">VK_AMD_texture_gather_bias_lod</a></code> extension.
This field is set by the implementation.
An application-specified value is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkTextureLODGatherFormatPropertiesAMD-sType-sType" href="#VUID-VkTextureLODGatherFormatPropertiesAMD-sType-sType"></a> <span class="vuid">VUID-VkTextureLODGatherFormatPropertiesAMD-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_TEXTURE_LOD_GATHER_FORMAT_PROPERTIES_AMD</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the image capabilities compatible with an external memory
handle type, add a <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure
to the <code>pNext</code> chain of the <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>
structure and a <code>VkExternalImageFormatProperties</code> structure to the
<code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalImageFormatInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalImageFormatInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalImageFormatInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkExternalMemoryHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalImageFormatInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPhysicalDeviceExternalImageFormatInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkPhysicalDeviceExternalImageFormatInfo VkPhysicalDeviceExternalImageFormatInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is 0, <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>
will behave as if <a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> was not
present, and <a href="#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a> will be ignored.</p>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not compatible with the <code>format</code>, <code>type</code>,
<code>tiling</code>, <code>usage</code>, and <code>flags</code> specified in
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>, then
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> returns
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter</span><br>
 If <code>handleType</code> is not <code>0</code>, <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code>, specifying
an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalMemoryHandleTypeFlagBits {
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT = 0x00000008,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT = 0x00000010,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT = 0x00000020,
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT = 0x00000040,
  // Provided by VK_EXT_external_memory_dma_buf
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT = 0x00000200,
  // Provided by VK_ANDROID_external_memory_android_hardware_buffer
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID = 0x00000400,
  // Provided by VK_EXT_external_memory_host
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT = 0x00000080,
  // Provided by VK_EXT_external_memory_host
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT = 0x00000100,
  // Provided by VK_FUCHSIA_external_memory
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_ZIRCON_VMO_BIT_FUCHSIA = 0x00000800,
  // Provided by VK_NV_external_memory_rdma
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV = 0x00001000,
  // Provided by VK_QNX_external_memory_screen_buffer
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX = 0x00004000,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT_KHR = VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT,
} VkExternalMemoryHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalMemoryHandleTypeFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalMemoryHandleTypeFlagBits VkExternalMemoryHandleTypeFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying memory resource
represented by its Vulkan memory object, and will therefore become
invalid when all Vulkan memory objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code> specifies an NT
handle returned by <code>IDXGIResource1</code>::<code>CreateSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code> specifies a
global share handle returned by <code>IDXGIResource</code>::<code>GetSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It does not own a reference to the underlying Direct3D resource, and
will therefore become invalid when all Vulkan memory objects and
Direct3D resources associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 heap resource.
It owns a reference to the resources used by the Direct3D heap.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 committed resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code> specifies a
host pointer returned by a host memory allocation command.
It does not own a reference to the underlying memory resource, and will
therefore become invalid if the host memory is freed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code>
specifies a host pointer to <em>host mapped foreign memory</em>.
It does not own a reference to the underlying memory resource, and will
therefore become invalid if the foreign memory is unmapped or otherwise
becomes no longer available.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT</code> is a file
descriptor for a Linux dma_buf.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code>
specifies an <code>AHardwareBuffer</code> object defined by the Android NDK.
See <a href="memory.html#memory-external-android-hardware-buffer" class="xref page">Android Hardware Buffers</a>
for more details of this handle type.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ZIRCON_VMO_BIT_FUCHSIA</code> is a Zircon
handle to a virtual memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV</code> is a handle to
an allocation accessible by remote devices.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX</code> specifies a
<code>_screen_buffer</code> object defined by the QNX SDP.
See <a href="memory.html#memory-external-qnx-screen-buffer" class="xref page">QNX Screen Buffer</a> for more
details of this handle type.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external memory handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-memory-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. External Memory Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ZIRCON_VMO_BIT_FUCHSIA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The above table does not restrict the drivers and devices with which
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code> and
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code> <strong>may</strong>
be shared, as these handle types inherently mean memory that does not come
from the same device, as they import memory from the host or a foreign
device, respectively.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Even though the above table does not restrict the drivers and devices with
which <code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT</code> <strong>may</strong> be shared,
query mechanisms exist in the Vulkan API that prevent the import of
incompatible dma-bufs (such as <a href="memory.html#vkGetMemoryFdPropertiesKHR" class="xref page">vkGetMemoryFdPropertiesKHR</a>) and that
prevent incompatible usage of dma-bufs (such as
<a href="#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> and
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalMemoryHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalMemoryHandleTypeFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalMemoryHandleTypeFlags VkExternalMemoryHandleTypeFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryHandleTypeFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalImageFormatProperties {
    VkStructureType               sType;
    void*                         pNext;
    VkExternalMemoryProperties    externalMemoryProperties;
} VkExternalImageFormatProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalImageFormatPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalImageFormatProperties VkExternalImageFormatPropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified image creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalImageFormatProperties-sType-sType" href="#VUID-VkExternalImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalMemoryProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalMemoryProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalMemoryProperties {
    VkExternalMemoryFeatureFlags       externalMemoryFeatures;
    VkExternalMemoryHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalMemoryHandleTypeFlags    compatibleHandleTypes;
} VkExternalMemoryProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalMemoryPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalMemoryProperties VkExternalMemoryPropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>externalMemoryFeatures</code> is a bitmask of
<a href="#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a> specifying the features of
<code>handleType</code>.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying handle types which
<strong>can</strong> be specified at the same time as <code>handleType</code> when creating an
image compatible with external memory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>compatibleHandleTypes</code> <strong>must</strong> include at least <code>handleType</code>.
Inclusion of a handle type in <code>compatibleHandleTypes</code> does not imply the
values returned in <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> will be the same when
<a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is set to
that type.
The application is responsible for querying the capabilities of all handle
types intended for concurrent use in a single image and intersecting them to
obtain the compatible set of capabilities.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>::<code>externalMemoryFeatures</code>, specifying
features of an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalMemoryFeatureFlagBits {
    VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT = 0x00000001,
    VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT = 0x00000002,
    VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT = 0x00000004,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_KHR = VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_KHR = VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT,
  // Provided by VK_KHR_external_memory_capabilities
    VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_KHR = VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT,
} VkExternalMemoryFeatureFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalMemoryFeatureFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalMemoryFeatureFlagBits VkExternalMemoryFeatureFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> specifies that
images or buffers created with the specified parameters and handle type
<strong>must</strong> use the mechanisms defined by <a href="resources.html#VkMemoryDedicatedRequirements" class="xref page">VkMemoryDedicatedRequirements</a>
and <a href="memory.html#VkMemoryDedicatedAllocateInfo" class="xref page">VkMemoryDedicatedAllocateInfo</a> to create (or import) a
dedicated allocation for the image or buffer.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT</code> specifies that handles
of this type <strong>can</strong> be exported from Vulkan memory objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT</code> specifies that handles
of this type <strong>can</strong> be imported as Vulkan memory objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Because their semantics in external APIs roughly align with that of an image
or buffer with a dedicated allocation in Vulkan, implementations are
<strong>required</strong> to report <code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for
the following external handle types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code>
for images only</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX</code> for images
only</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations <strong>must</strong> not report
<code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for buffers with
external handle type
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code>.
Implementations <strong>must</strong> not report
<code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for buffers with
external handle type
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX</code>.
Implementations <strong>must</strong> not report
<code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for images or buffers
with external handle type
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code>, or
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalMemoryFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalMemoryFeatureFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalMemoryFeatureFlags VkExternalMemoryFeatureFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the image capabilities that are compatible with a
<a href="../appendices/glossary.html#glossary-drm-format-modifier" class="xref page">Linux DRM format modifier</a>, set
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>tiling</code> to
<code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code> and add a
<a href="#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a> structure to the
<code>pNext</code> chain of <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a> structure is defined
as:</p>
</div>
<div id="VkPhysicalDeviceImageDrmFormatModifierInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_image_drm_format_modifier
typedef struct VkPhysicalDeviceImageDrmFormatModifierInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    uint64_t           drmFormatModifier;
    VkSharingMode      sharingMode;
    uint32_t           queueFamilyIndexCount;
    const uint32_t*    pQueueFamilyIndices;
} VkPhysicalDeviceImageDrmFormatModifierInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>drmFormatModifier</code> is the image&#8217;s <em>Linux DRM format modifier</em>,
corresponding to
<a href="resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>::<code>modifier</code> or
to <a href="resources.html#VkImageDrmFormatModifierListCreateInfoEXT" class="xref page">VkImageDrmFormatModifierListCreateInfoEXT</a>::<code>pModifiers</code>.</p>
</li>
<li>
<p><code>sharingMode</code> specifies how the image will be accessed by multiple
queue families.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of entries in the
<code>pQueueFamilyIndices</code> array.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a pointer to an array of queue families
that will access the image.
It is ignored if <code>sharingMode</code> is not
<code>VK_SHARING_MODE_CONCURRENT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>drmFormatModifier</code> is incompatible with the parameters specified
in <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> and its <code>pNext</code> chain, then
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> returns
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.
The implementation <strong>must</strong> support the query of any <code>drmFormatModifier</code>,
including unknown and invalid modifier values.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02314" href="#VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02314"></a> <span class="vuid">VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02314</span><br>

If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, then
<code>pQueueFamilyIndices</code> <strong>must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02315" href="#VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02315"></a> <span class="vuid">VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02315</span><br>

If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, then
<code>queueFamilyIndexCount</code> <strong>must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02316" href="#VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02316"></a> <span class="vuid">VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-02316</span><br>

If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each element
of <code>pQueueFamilyIndices</code> <strong>must</strong> be unique and <strong>must</strong> be less than the
<code>pQueueFamilyPropertyCount</code> returned by
<a href="devsandqueues.html#vkGetPhysicalDeviceQueueFamilyProperties2" class="xref page">vkGetPhysicalDeviceQueueFamilyProperties2</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sType-sType" href="#VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_DRM_FORMAT_MODIFIER_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-parameter" href="#VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageDrmFormatModifierInfoEXT-sharingMode-parameter</span><br>
 <code>sharingMode</code> <strong>must</strong> be a valid <a href="resources.html#VkSharingMode" class="xref page">VkSharingMode</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the number of combined image samplers required to support a
multi-planar format, add <a href="#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a>
to the <code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in
a call to <code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSamplerYcbcrConversionImageFormatProperties</code> structure is defined
as:</p>
</div>
<div id="VkSamplerYcbcrConversionImageFormatProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkSamplerYcbcrConversionImageFormatProperties {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           combinedImageSamplerDescriptorCount;
} VkSamplerYcbcrConversionImageFormatProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkSamplerYcbcrConversionImageFormatPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_sampler_ycbcr_conversion
typedef VkSamplerYcbcrConversionImageFormatProperties VkSamplerYcbcrConversionImageFormatPropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>combinedImageSamplerDescriptorCount</code> is the number of combined
image sampler descriptors that the implementation uses to access the
format.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType" href="#VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>combinedImageSamplerDescriptorCount</code> is a number between 1 and the
number of planes in the format.
A descriptor set layout binding with immutable Y′C<sub>B</sub>C<sub>R</sub> conversion samplers
will have a maximum <code>combinedImageSamplerDescriptorCount</code> which is the
maximum across all formats supported by its samplers of the
<code>combinedImageSamplerDescriptorCount</code> for each format.
Descriptor sets with that layout will internally use that maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors for each descriptor in
the binding.
This expanded number of descriptors will be consumed from the descriptor
pool when a descriptor set is allocated, and counts towards the
<code>maxDescriptorSetSamplers</code>, <code>maxDescriptorSetSampledImages</code>,
<code>maxPerStageDescriptorSamplers</code>, and
<code>maxPerStageDescriptorSampledImages</code> limits.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All descriptors in a binding use the same maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors to allow
implementations to use a uniform stride for dynamic indexing of the
descriptors in the binding.</p>
</div>
<div class="paragraph">
<p>For example, consider a descriptor set layout binding with two descriptors
and immutable samplers for multi-planar formats that have
<code>VkSamplerYcbcrConversionImageFormatProperties</code>::<code>combinedImageSamplerDescriptorCount</code>
values of <code>2</code> and <code>3</code> respectively.
There are two descriptors in the binding and the maximum
<code>combinedImageSamplerDescriptorCount</code> is <code>3</code>, so descriptor sets with
this layout consume <code>6</code> descriptors from the descriptor pool.
To create a descriptor pool that allows allocating four descriptor sets with
this layout, <code>descriptorCount</code> must be at least <code>24</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Instead of querying all the potential formats that the application might use
in the descriptor layout, the application <strong>can</strong> use the
<a href="limits.html#VkPhysicalDeviceMaintenance6Properties" class="xref page">VkPhysicalDeviceMaintenance6Properties</a>::<code>maxCombinedImageSamplerDescriptorCount</code>
property to determine the maximum descriptor size that will accommodate any
and all <a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">formats that require a sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a> supported by the implementation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To obtain optimal Android hardware buffer usage flags for specific image
creation parameters, add a <code>VkAndroidHardwareBufferUsageANDROID</code>
structure to the <code>pNext</code> chain of a <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a>
structure passed to <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>.
This structure is defined as:</p>
</div>
<div id="VkAndroidHardwareBufferUsageANDROID" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_ANDROID_external_memory_android_hardware_buffer
typedef struct VkAndroidHardwareBufferUsageANDROID {
    VkStructureType    sType;
    void*              pNext;
    uint64_t           androidHardwareBufferUsage;
} VkAndroidHardwareBufferUsageANDROID;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>androidHardwareBufferUsage</code> returns the Android hardware buffer
usage flags.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>androidHardwareBufferUsage</code> field <strong>must</strong> include Android hardware
buffer usage flags listed in the
<a href="memory.html#memory-external-android-hardware-buffer-usage" class="xref page">AHardwareBuffer Usage Equivalence</a> table when the corresponding Vulkan image usage or image
creation flags are included in the <code>usage</code> or <code>flags</code> fields of
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>.
It <strong>must</strong> include at least one GPU usage flag
(<code>AHARDWAREBUFFER_USAGE_GPU_*</code>), even if none of the corresponding Vulkan
usages or flags are requested.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Requiring at least one GPU usage flag ensures that Android hardware buffer
memory will be allocated in a memory pool accessible to the Vulkan
implementation, and that specializing the memory layout based on usage flags
does not prevent it from being compatible with Vulkan.
Implementations <strong>may</strong> avoid unnecessary restrictions caused by this
requirement by using vendor usage flags to indicate that only the Vulkan
uses indicated in <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> are required.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAndroidHardwareBufferUsageANDROID-sType-sType" href="#VUID-VkAndroidHardwareBufferUsageANDROID-sType-sType"></a> <span class="vuid">VUID-VkAndroidHardwareBufferUsageANDROID-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_USAGE_ANDROID</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query if using <code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code> has a negative
impact on device performance when accessing an image, add
<code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code> to
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>usage</code>, and add a
<code>VkHostImageCopyDevicePerformanceQuery</code> structure to the <code>pNext</code>
chain of a <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure passed to
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>.
This structure is defined as:</p>
</div>
<div id="VkHostImageCopyDevicePerformanceQuery" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_4
typedef struct VkHostImageCopyDevicePerformanceQuery {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           optimalDeviceAccess;
    VkBool32           identicalMemoryLayout;
} VkHostImageCopyDevicePerformanceQuery;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkHostImageCopyDevicePerformanceQueryEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_host_image_copy
typedef VkHostImageCopyDevicePerformanceQuery VkHostImageCopyDevicePerformanceQueryEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>optimalDeviceAccess</code> returns <code>VK_TRUE</code> if use of host image
copy has no adverse effect on device access performance, compared to an
image that is created with exact same creation parameters, and bound to
the same <a href="memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>, except that
<code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code> is replaced with
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code>.</p>
</li>
<li>
<p><code>identicalMemoryLayout</code> returns <code>VK_TRUE</code> if use of host image
copy has no impact on memory layout compared to an image that is created
with exact same creation parameters, and bound to the same
<a href="memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>, except that <code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT</code>
is replaced with <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation <strong>may</strong> return <code>VK_FALSE</code> in <code>optimalDeviceAccess</code>
if <code>identicalMemoryLayout</code> is <code>VK_FALSE</code>.
If <code>identicalMemoryLayout</code> is <code>VK_TRUE</code>, <code>optimalDeviceAccess</code>
<strong>must</strong> be <code>VK_TRUE</code>.</p>
</div>
<div class="paragraph">
<p>The implementation <strong>may</strong> return <code>VK_TRUE</code> in <code>optimalDeviceAccess</code>
while <code>identicalMemoryLayout</code> is <code>VK_FALSE</code>.
In this situation, any device performance impact <strong>should</strong> not be measurable.</p>
</div>
<div class="paragraph">
<p>If <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>format</code> is a
block-compressed format and <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>
returns <code>VK_SUCCESS</code>, the implementation <strong>must</strong> return <code>VK_TRUE</code> in
<code>optimalDeviceAccess</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Applications can make use of <code>optimalDeviceAccess</code> to determine their
resource copying strategy.
If a resource is expected to be accessed more on device than on the host,
and the implementation considers the resource sub-optimally accessed, it is
likely better to use device copies instead.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Layout not being identical yet still considered optimal for device access
could happen if the implementation has different memory layout patterns,
some of which are easier to access on the host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The most practical reason for <code>optimalDeviceAccess</code> to be <code>VK_FALSE</code>
is that host image access may disable framebuffer compression where it would
otherwise have been enabled.
This represents far more efficient host image access since no compression
algorithm is required to read or write to the image, but it would impact
device access performance.
Some implementations may only set <code>optimalDeviceAccess</code> to
<code>VK_FALSE</code> if certain conditions are met, such as specific image usage
flags or creation flags.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkHostImageCopyDevicePerformanceQuery-sType-sType" href="#VUID-VkHostImageCopyDevicePerformanceQuery-sType-sType"></a> <span class="vuid">VUID-VkHostImageCopyDevicePerformanceQuery-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_HOST_IMAGE_COPY_DEVICE_PERFORMANCE_QUERY</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To determine if cubic filtering can be used with a given image format and a
given image view type add a
<a href="#VkPhysicalDeviceImageViewImageFormatInfoEXT">VkPhysicalDeviceImageViewImageFormatInfoEXT</a> structure to the
<code>pNext</code> chain of the <a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure,
and a <a href="#VkFilterCubicImageViewImageFormatPropertiesEXT">VkFilterCubicImageViewImageFormatPropertiesEXT</a> structure to the
<code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceImageViewImageFormatInfoEXT</code> structure is defined
as:</p>
</div>
<div id="VkPhysicalDeviceImageViewImageFormatInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_filter_cubic
typedef struct VkPhysicalDeviceImageViewImageFormatInfoEXT {
    VkStructureType    sType;
    void*              pNext;
    VkImageViewType    imageViewType;
} VkPhysicalDeviceImageViewImageFormatInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>imageViewType</code> is a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> value specifying the type
of the image view.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-sType-sType" href="#VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_VIEW_IMAGE_FORMAT_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-imageViewType-parameter" href="#VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-imageViewType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageViewImageFormatInfoEXT-imageViewType-parameter</span><br>
 <code>imageViewType</code> <strong>must</strong> be a valid <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkFilterCubicImageViewImageFormatPropertiesEXT</code> structure is
defined as:</p>
</div>
<div id="VkFilterCubicImageViewImageFormatPropertiesEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_filter_cubic
typedef struct VkFilterCubicImageViewImageFormatPropertiesEXT {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           filterCubic;
    VkBool32           filterCubicMinmax;
} VkFilterCubicImageViewImageFormatPropertiesEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>filterCubic</code> tells if image format, image type and image view type
<strong>can</strong> be used with cubic filtering.
This field is set by the implementation.
An application-specified value is ignored.</p>
</li>
<li>
<p><code>filterCubicMinmax</code> tells if image format, image type and image view
type <strong>can</strong> be used with cubic filtering and minmax filtering.
This field is set by the implementation.
An application-specified value is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-sType-sType" href="#VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-sType-sType"></a> <span class="vuid">VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_FILTER_CUBIC_IMAGE_VIEW_IMAGE_FORMAT_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-pNext-02627" href="#VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-pNext-02627"></a> <span class="vuid">VUID-VkFilterCubicImageViewImageFormatPropertiesEXT-pNext-02627</span><br>

If the <code>pNext</code> chain of the <a href="#VkImageFormatProperties2">VkImageFormatProperties2</a> structure
includes a <a href="#VkFilterCubicImageViewImageFormatPropertiesEXT">VkFilterCubicImageViewImageFormatPropertiesEXT</a>
structure, the <code>pNext</code> chain of the
<a href="#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure <strong>must</strong> include a
<a href="#VkPhysicalDeviceImageViewImageFormatInfoEXT">VkPhysicalDeviceImageViewImageFormatInfoEXT</a> structure with an
<code>imageViewType</code> that is compatible with <code>imageType</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="features-supported-sample-counts"><a class="anchor" href="#features-supported-sample-counts"></a>Supported Sample Counts</h3>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties</code> returns a bitmask of
<a href="limits.html#VkSampleCountFlagBits" class="xref page">VkSampleCountFlagBits</a> in <code>sampleCounts</code> specifying the supported
sample counts for the image parameters.</p>
</div>
<div class="paragraph">
<p><code>sampleCounts</code> will be <code>VK_SAMPLE_COUNT_1_BIT</code> if at least one of
the following conditions is true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>type</code> is not <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p>
</li>
<li>
<p>Neither the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag nor the
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
<code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
<a href="formats.html#vkGetPhysicalDeviceFormatProperties" class="xref page">vkGetPhysicalDeviceFormatProperties</a> is set</p>
</li>
<li>
<p><a href="#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is an
external handle type for which multisampled image support is not
required.</p>
</li>
<li>
<p><code>format</code> is one of the <a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">    formats that require a sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
<li>
<p><code>usage</code> contains
<code>VK_IMAGE_USAGE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
<li>
<p><code>usage</code> contains <code>VK_IMAGE_USAGE_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, the bits set in <code>sampleCounts</code> will be the sample counts
supported for the specified values of <code>usage</code> and <code>format</code>.
For each bit set in <code>usage</code>, the supported sample counts relate to the
limits in <code>VkPhysicalDeviceLimits</code> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is a floating- or fixed-point color format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceVulkan12Properties</code>::<code>framebufferIntegerColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a depth component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a stencil component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferStencilSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a color component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a depth component, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageIntegerSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>storageImageSampleCounts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple bits are set in <code>usage</code>, <code>sampleCounts</code> will be the
intersection of the per-usage values described above.</p>
</div>
<div class="paragraph">
<p>If none of the bits described above are set in <code>usage</code>, then there is no
corresponding limit in <code>VkPhysicalDeviceLimits</code>.
In this case, <code>sampleCounts</code> <strong>must</strong> include at least
<code>VK_SAMPLE_COUNT_1_BIT</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="features-extentperimagetype"><a class="anchor" href="#features-extentperimagetype"></a>Allowed Extent Values Based on Image Type</h3>
<div class="paragraph">
<p>Implementations <strong>may</strong> support extent values larger than the <a href="limits.html#limits-minmax" class="xref page">required minimum/maximum values</a> for certain types of images.
<a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>maxExtent</code> for each type is subject to
the constraints below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations <strong>must</strong> support images with dimensions up to the
<a href="limits.html#limits-minmax" class="xref page">required minimum/maximum values</a> for all types of images.
It follows that the query for additional capabilities <strong>must</strong> return extent
values that are at least as large as the required values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_1D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension1D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> = 1</span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> does not contain
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_3D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> ≥
<a href="limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-buffer"><a class="anchor" href="#capabilities-buffer"></a>Additional Buffer Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the external handle types supported by buffers, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalBufferProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalBufferInfo*   pExternalBufferInfo,
    VkExternalBufferProperties*                 pExternalBufferProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetPhysicalDeviceExternalBufferPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
void vkGetPhysicalDeviceExternalBufferPropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalBufferInfo*   pExternalBufferInfo,
    VkExternalBufferProperties*                 pExternalBufferProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
buffer capabilities.</p>
</li>
<li>
<p><code>pExternalBufferInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure describing the
parameters that would be consumed by <a href="resources.html#vkCreateBuffer" class="xref page">vkCreateBuffer</a>.</p>
</li>
<li>
<p><code>pExternalBufferProperties</code> is a pointer to a
<a href="#VkExternalBufferProperties">VkExternalBufferProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter</span><br>
 <code>pExternalBufferInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter</span><br>
 <code>pExternalBufferProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalBufferProperties">VkExternalBufferProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalBufferInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalBufferInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkBufferCreateFlags                   flags;
    VkBufferUsageFlags                    usage;
    VkExternalMemoryHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalBufferInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPhysicalDeviceExternalBufferInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkPhysicalDeviceExternalBufferInfo VkPhysicalDeviceExternalBufferInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a> describing
additional parameters of the buffer, corresponding to
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> describing the
intended usage of the buffer, corresponding to
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only usage flags representable in <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> are returned
in this structure&#8217;s <code>usage</code>.
If the <code>pNext</code> chain includes a <a href="resources.html#VkBufferUsageFlags2CreateInfo" class="xref page">VkBufferUsageFlags2CreateInfo</a>
structure, all usage flags of the buffer are returned in
<a href="resources.html#VkBufferUsageFlags2CreateInfo" class="xref page">VkBufferUsageFlags2CreateInfo</a>::<code>usage</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-None-09499" href="#VUID-VkPhysicalDeviceExternalBufferInfo-None-09499"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-None-09499</span><br>


If the <code>pNext</code> chain does not include a
<a href="resources.html#VkBufferUsageFlags2CreateInfo" class="xref page">VkBufferUsageFlags2CreateInfo</a> structure,
<code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>
values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-None-09500" href="#VUID-VkPhysicalDeviceExternalBufferInfo-None-09500"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-None-09500</span><br>


If the <code>pNext</code> chain does not include a
<a href="resources.html#VkBufferUsageFlags2CreateInfo" class="xref page">VkBufferUsageFlags2CreateInfo</a> structure,
<code>usage</code> <strong>must</strong> not be 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="resources.html#VkBufferUsageFlags2CreateInfo" class="xref page">VkBufferUsageFlags2CreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-sType-unique" href="#VUID-VkPhysicalDeviceExternalBufferInfo-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter" href="#VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalBufferProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalBufferProperties {
    VkStructureType               sType;
    void*                         pNext;
    VkExternalMemoryProperties    externalMemoryProperties;
} VkExternalBufferProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalBufferPropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_memory_capabilities
typedef VkExternalBufferProperties VkExternalBufferPropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified buffer creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalBufferProperties-sType-sType" href="#VUID-VkExternalBufferProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalBufferProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalBufferProperties-pNext-pNext" href="#VUID-VkExternalBufferProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalBufferProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-semaphore"><a class="anchor" href="#capabilities-semaphore"></a>Optional Semaphore Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Semaphores <strong>may</strong> support import and export of their
<a href="synchronization.html#synchronization-semaphores-payloads" class="xref page">payload</a> to external handles.
To query the external handle types supported by semaphores, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalSemaphoreProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalSemaphoreInfo* pExternalSemaphoreInfo,
    VkExternalSemaphoreProperties*              pExternalSemaphoreProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetPhysicalDeviceExternalSemaphorePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
void vkGetPhysicalDeviceExternalSemaphorePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalSemaphoreInfo* pExternalSemaphoreInfo,
    VkExternalSemaphoreProperties*              pExternalSemaphoreProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
semaphore capabilities.</p>
</li>
<li>
<p><code>pExternalSemaphoreInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure describing the
parameters that would be consumed by <a href="synchronization.html#vkCreateSemaphore" class="xref page">vkCreateSemaphore</a>.</p>
</li>
<li>
<p><code>pExternalSemaphoreProperties</code> is a pointer to a
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter</span><br>
 <code>pExternalSemaphoreInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter</span><br>
 <code>pExternalSemaphoreProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalSemaphoreInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalSemaphoreInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalSemaphoreInfo {
    VkStructureType                          sType;
    const void*                              pNext;
    VkExternalSemaphoreHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalSemaphoreInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPhysicalDeviceExternalSemaphoreInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkPhysicalDeviceExternalSemaphoreInfo VkPhysicalDeviceExternalSemaphoreInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value
specifying the external semaphore handle type for which capabilities
will be returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="synchronization.html#VkSemaphoreTypeCreateInfo" class="xref page">VkSemaphoreTypeCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a>::<code>handleType</code>, specifying an
external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalSemaphoreHandleTypeFlagBits {
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT = 0x00000008,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT = 0x00000010,
  // Provided by VK_FUCHSIA_external_semaphore
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA = 0x00000080,
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT_KHR = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT_KHR = VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT,
} VkExternalSemaphoreHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalSemaphoreHandleTypeFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkExternalSemaphoreHandleTypeFlagBits VkExternalSemaphoreHandleTypeFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object, and will therefore become
invalid when all Vulkan semaphore objects associated with it are
destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 fence, or <code>ID3D11Device5</code>::<code>CreateFence</code>
referring to a Direct3D 11 fence.
It owns a reference to the underlying synchronization primitive
associated with the Direct3D fence.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT</code> is an alias of
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> with the same
meaning.
It is provided for convenience and code clarity when interacting with
D3D11 fences.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX
file descriptor handle to a Linux Sync File or Android Fence object.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong>must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA</code>
specifies a handle to a Zircon event object.
It can be used with any native API that accepts a Zircon event handle.
Zircon event handles are created with <code>ZX_RIGHTS_BASIC</code> and
<code>ZX_RIGHTS_SIGNAL</code> rights.
Vulkan on Fuchsia uses only the ZX_EVENT_SIGNALED bit when signaling or
waiting.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code>
generated by the implementation may represent either Linux Sync Files or
Android Fences at the implementation&#8217;s discretion.
Applications <strong>should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external semaphore handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-semaphore-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. External Semaphore Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalSemaphoreHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalSemaphoreHandleTypeFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkExternalSemaphoreHandleTypeFlags VkExternalSemaphoreHandleTypeFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreHandleTypeFlags</code> is a bitmask type for setting a
mask of zero or more <a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalSemaphoreProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalSemaphoreProperties {
    VkStructureType                       sType;
    void*                                 pNext;
    VkExternalSemaphoreHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalSemaphoreHandleTypeFlags    compatibleHandleTypes;
    VkExternalSemaphoreFeatureFlags       externalSemaphoreFeatures;
} VkExternalSemaphoreProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalSemaphorePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkExternalSemaphoreProperties VkExternalSemaphorePropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying handle types
which <strong>can</strong> be specified at the same time as <code>handleType</code> when
creating a semaphore.</p>
</li>
<li>
<p><code>externalSemaphoreFeatures</code> is a bitmask of
<a href="#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a> describing the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code> will be
zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-sType-sType" href="#VUID-VkExternalSemaphoreProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-pNext-pNext" href="#VUID-VkExternalSemaphoreProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code>,
specifying the features of an external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalSemaphoreFeatureFlagBits {
    VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT = 0x00000001,
    VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT = 0x00000002,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT_KHR = VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT,
  // Provided by VK_KHR_external_semaphore_capabilities
    VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT_KHR = VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT,
} VkExternalSemaphoreFeatureFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalSemaphoreFeatureFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkExternalSemaphoreFeatureFlagBits VkExternalSemaphoreFeatureFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT</code> specifies that
handles of this type <strong>can</strong> be exported from Vulkan semaphore objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT</code> specifies that
handles of this type <strong>can</strong> be imported as Vulkan semaphore objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalSemaphoreFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalSemaphoreFeatureFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_semaphore_capabilities
typedef VkExternalSemaphoreFeatureFlags VkExternalSemaphoreFeatureFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreFeatureFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities-fence"><a class="anchor" href="#capabilities-fence"></a>Optional Fence Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Fences <strong>may</strong> support import and export of their
<a href="synchronization.html#synchronization-fences-payloads" class="xref page">payload</a> to external handles.
To query the external handle types supported by fences, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetPhysicalDeviceExternalFenceProperties(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalFenceInfo*    pExternalFenceInfo,
    VkExternalFenceProperties*                  pExternalFenceProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetPhysicalDeviceExternalFencePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
void vkGetPhysicalDeviceExternalFencePropertiesKHR(
    VkPhysicalDevice                            physicalDevice,
    const VkPhysicalDeviceExternalFenceInfo*    pExternalFenceInfo,
    VkExternalFenceProperties*                  pExternalFenceProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
fence capabilities.</p>
</li>
<li>
<p><code>pExternalFenceInfo</code> is a pointer to a
<a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure describing the
parameters that would be consumed by <a href="synchronization.html#vkCreateFence" class="xref page">vkCreateFence</a>.</p>
</li>
<li>
<p><code>pExternalFenceProperties</code> is a pointer to a
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter</span><br>
 <code>pExternalFenceInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter" href="#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter</span><br>
 <code>pExternalFenceProperties</code> <strong>must</strong> be a valid pointer to a <a href="#VkExternalFenceProperties">VkExternalFenceProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalFenceInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalFenceInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkPhysicalDeviceExternalFenceInfo {
    VkStructureType                      sType;
    const void*                          pNext;
    VkExternalFenceHandleTypeFlagBits    handleType;
} VkPhysicalDeviceExternalFenceInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPhysicalDeviceExternalFenceInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkPhysicalDeviceExternalFenceInfo VkPhysicalDeviceExternalFenceInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value
specifying an external fence handle type for which capabilities will be
returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> generated by
the implementation may represent either Linux Sync Files or Android Fences
at the implementation&#8217;s discretion.
Applications <strong>should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType" href="#VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext" href="#VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter" href="#VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong>must</strong> be a valid <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a>::<code>handleType</code></p>
</li>
<li>
<p><a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>exportFromImportedHandleTypes</code></p>
</li>
<li>
<p><a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>compatibleHandleTypes</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>indicate external fence handle types, and are:</p>
</div>
<div id="VkExternalFenceHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalFenceHandleTypeFlagBits {
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT = 0x00000001,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT = 0x00000002,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT = 0x00000004,
    VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT = 0x00000008,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR = VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR = VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR = VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT_KHR = VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT,
} VkExternalFenceHandleTypeFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalFenceHandleTypeFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkExternalFenceHandleTypeFlagBits VkExternalFenceHandleTypeFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX file
descriptor handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It <strong>must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong>must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong>must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan fence object, and will therefore become
invalid when all Vulkan fence objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX file
descriptor handle to a Linux Sync File or Android Fence.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong>must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external fence handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-fence-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. External Fence Handle Types Compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalFenceHandleTypeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalFenceHandleTypeFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkExternalFenceHandleTypeFlags VkExternalFenceHandleTypeFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceHandleTypeFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalFenceProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkExternalFenceProperties {
    VkStructureType                   sType;
    void*                             pNext;
    VkExternalFenceHandleTypeFlags    exportFromImportedHandleTypes;
    VkExternalFenceHandleTypeFlags    compatibleHandleTypes;
    VkExternalFenceFeatureFlags       externalFenceFeatures;
} VkExternalFenceProperties;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalFencePropertiesKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkExternalFenceProperties VkExternalFencePropertiesKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> indicating which types of
imported handle <code>handleType</code> <strong>can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> specifying handle types which
<strong>can</strong> be specified at the same time as <code>handleType</code> when creating a
fence.</p>
</li>
<li>
<p><code>externalFenceFeatures</code> is a bitmask of
<a href="#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a> indicating the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code> will be zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalFenceProperties-sType-sType" href="#VUID-VkExternalFenceProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalFenceProperties-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalFenceProperties-pNext-pNext" href="#VUID-VkExternalFenceProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalFenceProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>may</strong> be set in
<a href="#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code>, indicating
features of a fence external handle type, are:</p>
</div>
<div id="VkExternalFenceFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkExternalFenceFeatureFlagBits {
    VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT = 0x00000001,
    VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT = 0x00000002,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT_KHR = VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT,
  // Provided by VK_KHR_external_fence_capabilities
    VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT_KHR = VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT,
} VkExternalFenceFeatureFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalFenceFeatureFlagBitsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkExternalFenceFeatureFlagBits VkExternalFenceFeatureFlagBitsKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT</code> specifies handles of this
type <strong>can</strong> be exported from Vulkan fence objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT</code> specifies handles of this
type <strong>can</strong> be imported to Vulkan fence objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceFeatureFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkExternalFenceFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkExternalFenceFeatureFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_external_fence_capabilities
typedef VkExternalFenceFeatureFlags VkExternalFenceFeatureFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="features-timestamp-calibration"><a class="anchor" href="#features-timestamp-calibration"></a>Timestamp Calibration Capabilities</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the set of time domains for which a physical device supports
timestamp calibration, call:</p>
</div>
<div id="vkGetPhysicalDeviceCalibrateableTimeDomainsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_calibrated_timestamps
VkResult vkGetPhysicalDeviceCalibrateableTimeDomainsKHR(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pTimeDomainCount,
    VkTimeDomainKHR*                            pTimeDomains);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetPhysicalDeviceCalibrateableTimeDomainsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_calibrated_timestamps
VkResult vkGetPhysicalDeviceCalibrateableTimeDomainsEXT(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pTimeDomainCount,
    VkTimeDomainKHR*                            pTimeDomains);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the set
of calibrateable time domains.</p>
</li>
<li>
<p><code>pTimeDomainCount</code> is a pointer to an integer related to the number
of calibrateable time domains available or queried, as described below.</p>
</li>
<li>
<p><code>pTimeDomains</code> is either <code>NULL</code> or a pointer to an array of
<a href="synchronization.html#VkTimeDomainKHR" class="xref page">VkTimeDomainKHR</a> values, indicating the supported calibrateable
time domains.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pTimeDomains</code> is <code>NULL</code>, then the number of calibrateable time
domains supported for the given <code>physicalDevice</code> is returned in
<code>pTimeDomainCount</code>.
Otherwise, <code>pTimeDomainCount</code> <strong>must</strong> point to a variable set by the
application to the number of elements in the <code>pTimeDomains</code> array, and
on return the variable is overwritten with the number of values actually
written to <code>pTimeDomains</code>.
If the value of <code>pTimeDomainCount</code> is less than the number of
calibrateable time domains supported, at most <code>pTimeDomainCount</code> values
will be written to <code>pTimeDomains</code>, and <code>VK_INCOMPLETE</code> will be
returned instead of <code>VK_SUCCESS</code>, to indicate that not all the available
time domains were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomainCount-parameter" href="#VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomainCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomainCount-parameter</span><br>
 <code>pTimeDomainCount</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomains-parameter" href="#VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomains-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceCalibrateableTimeDomainsKHR-pTimeDomains-parameter</span><br>
 If the value referenced by <code>pTimeDomainCount</code> is not <code>0</code>, and <code>pTimeDomains</code> is not <code>NULL</code>, <code>pTimeDomains</code> <strong>must</strong> be a valid pointer to an array of <code>pTimeDomainCount</code> <a href="synchronization.html#VkTimeDomainKHR" class="xref page">VkTimeDomainKHR</a> values</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
