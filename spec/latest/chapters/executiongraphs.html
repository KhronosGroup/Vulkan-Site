<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Execution Graphs :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <script>
      !function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('dark')
        else document.documentElement.classList.add('light')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
    </script>
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
    </label>
  </nav>
</header>
<script>
  window.onload = function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark");
    e.checked ? e.parentElement.classList.add("active") : e.parentElement.classList.remove("active")
  }
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="executiongraphs.html">Execution Graphs</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Execution Graphs</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Execution graphs</em> provide a way for applications to dispatch multiple
operations dynamically from a single initial command on the host.
To achieve this, a new execution graph pipeline is provided, that links
together multiple shaders or pipelines which each describe one or more
operations that can be dispatched within the execution graph.
Each linked pipeline or shader describes an <em>execution node</em> within the
graph, which <strong>can</strong> be dispatched dynamically from another shader within the
same graph.
This allows applications to describe much richer execution topologies at a
finer granularity than would typically be possible with API commands alone.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pipeline_creation"><a class="anchor" href="#_pipeline_creation"></a>Pipeline Creation</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create execution graph pipelines, call:</p>
</div>
<div id="vkCreateExecutionGraphPipelinesAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
VkResult vkCreateExecutionGraphPipelinesAMDX(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    const VkExecutionGraphPipelineCreateInfoAMDX* pCreateInfos,
    const VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the execution graph
pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="pipelines.html#pipelines-cache" class="xref page">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkExecutionGraphPipelineCreateInfoAMDX">VkExecutionGraphPipelineCreateInfoAMDX</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> handles in
which the resulting execution graph pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pipelines are created and returned as described for <a href="pipelines.html#pipelines-multiple" class="xref page">Multiple Pipeline Creation</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-shaderEnqueue-09124" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-shaderEnqueue-09124"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-shaderEnqueue-09124</span><br>

The <a href="features.html#features-shaderEnqueue" class="xref page"><code>shaderEnqueue</code></a> feature <strong>must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09125" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09125"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09125</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong>must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09126" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09126"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-flags-09126</span><br>

If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong>must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-09127" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-09127"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-09127</span><br>

If <code>pipelineCache</code> was created with
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT</code>, host access
to <code>pipelineCache</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09616" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09616"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09616</span><br>

If <a href="pipelines.html#VkPipelineBinaryInfoKHR" class="xref page">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>, <code>pipelineCache</code> <strong>must</strong> be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09617" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09617"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pNext-09617</span><br>

If a <a href="pipelines.html#VkPipelineCreateFlags2CreateInfoKHR" class="xref page">VkPipelineCreateFlags2CreateInfoKHR</a> structure with the
<code>VK_PIPELINE_CREATE_2_CAPTURE_DATA_BIT_KHR</code> flag set is included in
the <code>pNext</code> chain of any element of <code>pCreateInfos</code>,
<code>pipelineCache</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09620" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09620"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09620</span><br>

If <a href="pipelines.html#VkPipelineBinaryInfoKHR" class="xref page">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_APPLICATION_PIPELINE_CACHE_HIT_BIT</code>
<strong>must</strong> not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09621" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09621"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09621</span><br>

If <a href="pipelines.html#VkPipelineBinaryInfoKHR" class="xref page">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATION_FEEDBACK_BASE_PIPELINE_ACCELERATION_BIT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09622" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09622"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-binaryCount-09622</span><br>

If <a href="pipelines.html#VkPipelineBinaryInfoKHR" class="xref page">VkPipelineBinaryInfoKHR</a>::<code>binaryCount</code> is not <code>0</code> for any
element of <code>pCreateInfos</code>,
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> <strong>must</strong>
not be set in the <code>flags</code> of that element</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-device-parameter" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-device-parameter"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parameter" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parameter"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parameter</span><br>
 If <code>pipelineCache</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineCache" class="xref page">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pCreateInfos-parameter" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pCreateInfos-parameter"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pCreateInfos-parameter</span><br>
 <code>pCreateInfos</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkExecutionGraphPipelineCreateInfoAMDX">VkExecutionGraphPipelineCreateInfoAMDX</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pAllocator-parameter" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pPipelines-parameter" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pPipelines-parameter"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pPipelines-parameter</span><br>
 <code>pPipelines</code> <strong>must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-createInfoCount-arraylength" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-createInfoCount-arraylength"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-createInfoCount-arraylength</span><br>
 <code>createInfoCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parent" href="#VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parent"></a> <span class="vuid">VUID-vkCreateExecutionGraphPipelinesAMDX-pipelineCache-parent</span><br>
 If <code>pipelineCache</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExecutionGraphPipelineCreateInfoAMDX</code> structure is defined as:</p>
</div>
<div id="VkExecutionGraphPipelineCreateInfoAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef struct VkExecutionGraphPipelineCreateInfoAMDX {
    VkStructureType                           sType;
    const void*                               pNext;
    VkPipelineCreateFlags                     flags;
    uint32_t                                  stageCount;
    const VkPipelineShaderStageCreateInfo*    pStages;
    const VkPipelineLibraryCreateInfoKHR*     pLibraryInfo;
    VkPipelineLayout                          layout;
    VkPipeline                                basePipelineHandle;
    int32_t                                   basePipelineIndex;
} VkExecutionGraphPipelineCreateInfoAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <code>stageCount</code>
<a href="pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a> structures describing the set of
the shader stages to be included in the execution graph pipeline.</p>
</li>
<li>
<p><code>pLibraryInfo</code> is a pointer to a
<a href="pipelines.html#VkPipelineLibraryCreateInfoKHR" class="xref page">VkPipelineLibraryCreateInfoKHR</a> structure defining pipeline
libraries to include.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="pipelines.html#pipelines-pipeline-derivatives" class="xref page">Pipeline Derivatives</a>.</p>
</div>
<div class="paragraph">
<p>Each shader stage provided when creating an execution graph pipeline
(including those in libraries) is associated with a name and an index,
determined by the inclusion or omission of a
<a href="#VkPipelineShaderStageNodeCreateInfoAMDX">VkPipelineShaderStageNodeCreateInfoAMDX</a> structure in its <code>pNext</code>
chain.
For any graphics pipeline libraries, only the name and index of the vertex
or mesh shader stage is linked directly to the graph as a node - other
shader stages in the pipeline will be executed after those shader stages as
normal.
Task shaders cannot be included in a graphics pipeline used for a draw node.</p>
</div>
<div class="paragraph">
<p>In addition to the shader name and index, an internal "node index" is also
generated for each node, which can be queried with
<a href="#vkGetExecutionGraphPipelineNodeIndexAMDX">vkGetExecutionGraphPipelineNodeIndexAMDX</a>, and is used exclusively for
initial dispatch of an execution graph.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09497" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09497"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09497</span><br>


If the <code>pNext</code> chain does not include a
<a href="pipelines.html#VkPipelineCreateFlags2CreateInfo" class="xref page">VkPipelineCreateFlags2CreateInfo</a> structure,
<code>flags</code> <strong>must</strong> be a valid combination of
<a href="pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07984" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07984"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07984</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong>must</strong>
be a valid execution graph <code>VkPipeline</code> handle</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07985" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07985"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07985</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong>must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07986" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07986"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-07986</span><br>

If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, <code>basePipelineIndex</code> <strong>must</strong> be -1 or <code>basePipelineHandle</code>
<strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07987" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07987"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07987</span><br>

If a push constant block is declared in a shader, a push constant range
in <code>layout</code> <strong>must</strong> match the shader stage</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-10069" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-10069"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-10069</span><br>

If a push constant block is declared in a shader, the block must be
contained inside the push constant range in <code>layout</code> that matches
the stage</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07988" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07988"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07988</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variable</a> is declared in a shader,
the corresponding descriptor set in <code>layout</code> <strong>must</strong> match the shader
stage</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07990" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07990"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07990</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variable</a> is declared in a shader,
and the descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
the corresponding descriptor set in <code>layout</code> <strong>must</strong> match the
descriptor type</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07991" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07991"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-07991</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variable</a> is declared in a shader
as an array, the corresponding descriptor set in <code>layout</code> <strong>must</strong>
match the descriptor count</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-10391" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-10391"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-10391</span><br>

If a <a href="interfaces.html#interfaces-resources" class="xref page">resource variables</a> is declared in a shader
as an array of descriptors, then the descriptor type of that variable
<strong>must</strong> not be <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03365" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03365"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03365</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03366" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03366"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03366</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03367" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03367"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03367</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03368" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03368"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03368</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03369" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03369"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03369</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03370" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03370"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03370</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03576" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03576"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-03576</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-04945" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-04945"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-04945</span><br>

<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09007" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09007"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09007</span><br>

If the <a href="features.html#features-deviceGeneratedComputePipelines" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</code>::<code>deviceGeneratedComputePipelines</code></a>
feature is not enabled,
<code>flags</code> <strong>must</strong> not include
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09008" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09008"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-09008</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code>, then the <code>pNext</code>
chain <strong>must</strong> include a pointer to a valid instance of
<a href="pipelines.html#VkComputePipelineIndirectBufferInfoNV" class="xref page">VkComputePipelineIndirectBufferInfoNV</a> specifying the address where
the pipeline&#8217;s metadata will be saved</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-11007" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-11007"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-11007</span><br>

If <code>flags</code> includes
<code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_EXT</code>, then the
<a href="features.html#features-deviceGeneratedCommands" class="xref page">    <code>VkPhysicalDeviceDeviceGeneratedCommandsFeaturesEXT</code>::<code>deviceGeneratedCommands</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pipelineCreationCacheControl-02875" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pipelineCreationCacheControl-02875"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pipelineCreationCacheControl-02875</span><br>

If the <a href="features.html#features-pipelineCreationCacheControl" class="xref page">    <code>pipelineCreationCacheControl</code></a> feature is not enabled, <code>flags</code>
<strong>must</strong> not include
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> or
<code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-stage-09128" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-stage-09128"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-stage-09128</span><br>

The <code>stage</code> member of any element of <code>pStages</code> <strong>must</strong> be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-09129" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-09129"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-09129</span><br>

The shader code for the entry point identified by each element of
<code>pStages</code> and the rest of the state identified by this structure
<strong>must</strong> adhere to the pipeline linking rules described in the
<a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09130" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09130"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09130</span><br>

<code>layout</code> <strong>must</strong> be
<a href="descriptorsets.html#descriptorsets-pipelinelayout-consistency" class="xref page">consistent</a> with the layout
of the shaders specified in <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09131" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09131"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09131</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code>, each element of its
<code>pLibraries</code> member <strong>must</strong> have been created with a <code>layout</code> that
is compatible with the <code>layout</code> in this pipeline</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09132" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09132"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-09132</span><br>

The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09133" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09133"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-09133</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code>, each element of
<code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> be either a compute pipeline, an
execution graph pipeline, or a graphics pipeline</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10181" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10181"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10181</span><br>

If <code>pLibraryInfo</code> is not <code>NULL</code>, each element of
<code>pLibraryInfo-&gt;pLibraries</code> that is a compute pipeline or a graphics
pipeline <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_2_EXECUTION_GRAPH_BIT_AMDX</code> set</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-shaderMeshEnqueue-10182" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-shaderMeshEnqueue-10182"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-shaderMeshEnqueue-10182</span><br>

If the <a href="features.html#features-shaderMeshEnqueue" class="xref page"><code>shaderMeshEnqueue</code></a> feature is
not enabled, and <code>pLibraryInfo-&gt;pLibraries</code> is not <code>NULL</code>,
<code>pLibraryInfo-&gt;pLibraries</code> <strong>must</strong> not contain any graphics pipelines</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10183" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10183"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-10183</span><br>

Any element of <code>pLibraryInfo-&gt;pLibraries</code> identifying a graphics
pipeline <strong>must</strong> have been created with
<a href="pipelines.html#pipelines-graphics-subsets-complete" class="xref page">all possible state subsets</a></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09134" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09134"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09134</span><br>

There <strong>must</strong> be no two nodes in the pipeline that share both the same
shader name and index, as specified by
<a href="#VkPipelineShaderStageNodeCreateInfoAMDX">VkPipelineShaderStageNodeCreateInfoAMDX</a></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09135" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09135"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09135</span><br>

There <strong>must</strong> be no two nodes in the pipeline that share the same shader
name and have input payload declarations with different sizes</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09136" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09136"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-None-09136</span><br>

There <strong>must</strong> be no two nodes in the pipeline that share the same name but
have different execution models</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-CoalescedInputCountAMDX-09137" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-CoalescedInputCountAMDX-09137"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-CoalescedInputCountAMDX-09137</span><br>

There <strong>must</strong> be no two nodes in the pipeline that share the same name
where one includes <code>CoalescedInputCountAMDX</code> and the other does not</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-StaticNumWorkgroupsAMDX-09138" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-StaticNumWorkgroupsAMDX-09138"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-StaticNumWorkgroupsAMDX-09138</span><br>

There <strong>must</strong> be no two nodes in the pipeline that share the same name
where one includes <code>StaticNumWorkgroupsAMDX</code> and the other does not</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-PayloadNodeNameAMDX-09139" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-PayloadNodeNameAMDX-09139"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-PayloadNodeNameAMDX-09139</span><br>

If an output payload declared in any shader in the pipeline has a
<code>PayloadNodeNameAMDX</code> decoration with a <code>Node</code> <code>Name</code> that
matches the shader name of any other node in the graph, the size of the
output payload <strong>must</strong> match the size of the input payload in the matching
node</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-10184" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-10184"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-flags-10184</span><br>

If <code>flags</code> does not include
<code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code>, and an output payload declared
in any shader in the pipeline does not have a
<code>PayloadNodeSparseArrayAMDX</code> decoration, there <strong>must</strong> be a node in the
graph corresponding to every index from 0 to its
<code>PayloadNodeArraySizeAMDX</code> decoration</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-sType" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-sType"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXECUTION_GRAPH_PIPELINE_CREATE_INFO_AMDX</code></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pNext-pNext" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pNext-pNext"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="pipelines.html#VkPipelineCompilerControlCreateInfoAMD" class="xref page">VkPipelineCompilerControlCreateInfoAMD</a> or <a href="pipelines.html#VkPipelineCreationFeedbackCreateInfo" class="xref page">VkPipelineCreationFeedbackCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-unique" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-unique"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-parameter" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-parameter"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pStages-parameter</span><br>
 If <code>stageCount</code> is not <code>0</code>, and <code>pStages</code> is not <code>NULL</code>, <code>pStages</code> <strong>must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-parameter" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-parameter"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-pLibraryInfo-parameter</span><br>
 If <code>pLibraryInfo</code> is not <code>NULL</code>, <code>pLibraryInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="pipelines.html#VkPipelineLibraryCreateInfoKHR" class="xref page">VkPipelineLibraryCreateInfoKHR</a> structure</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-parameter" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-parameter"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkExecutionGraphPipelineCreateInfoAMDX-commonparent" href="#VUID-VkExecutionGraphPipelineCreateInfoAMDX-commonparent"></a> <span class="vuid">VUID-VkExecutionGraphPipelineCreateInfoAMDX-commonparent</span><br>
 Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_SHADER_INDEX_UNUSED_AMDX</code> is a special shader index used to indicate
that the created node does not override the index.
In this case, the shader index is determined through other means.
It is defined as:</p>
</div>
<div id="VK_SHADER_INDEX_UNUSED_AMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">#define VK_SHADER_INDEX_UNUSED_AMDX       (~0U)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageNodeCreateInfoAMDX</code> structure is defined as:</p>
</div>
<div id="VkPipelineShaderStageNodeCreateInfoAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef struct VkPipelineShaderStageNodeCreateInfoAMDX {
      VkStructureType    sType;
    const void*          pNext;
    const char*          pName;
    uint32_t             index;
} VkPipelineShaderStageNodeCreateInfoAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>pName</code> is the shader name to use when creating a node in an
execution graph.
If <code>pName</code> is <code>NULL</code>, the name of the entry point specified in
SPIR-V is used as the shader name.</p>
</li>
<li>
<p><code>index</code> is the shader index to use when creating a node in an
execution graph.
If <code>index</code> is <code>VK_SHADER_INDEX_UNUSED_AMDX</code> then the original
index is used, either as specified by the <code>ShaderIndexAMDX</code> execution
mode, or <code>0</code> if that too is not specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When included in the <code>pNext</code> chain of a
<a href="pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a> structure, this structure specifies
the shader name and shader index of a node when creating an execution graph
pipeline.
If this structure is omitted, the shader name is set to the name of the
entry point in SPIR-V and the shader index is set to <code>0</code>.</p>
</div>
<div class="paragraph">
<p>When dispatching a node from another shader, the name is fixed at pipeline
creation, but the index <strong>can</strong> be set dynamically.
By associating multiple shaders with the same name but different indexes,
applications can dynamically select different nodes to execute.
Applications <strong>must</strong> ensure each node has a unique name and index.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Shaders with the same name <strong>must</strong> be of the same type - e.g. a compute and
graphics shader, or even two compute shaders where one is coalescing and the
other is not, cannot share the same name.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageNodeCreateInfoAMDX-sType-sType" href="#VUID-VkPipelineShaderStageNodeCreateInfoAMDX-sType-sType"></a> <span class="vuid">VUID-VkPipelineShaderStageNodeCreateInfoAMDX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_NODE_CREATE_INFO_AMDX</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageNodeCreateInfoAMDX-pName-parameter" href="#VUID-VkPipelineShaderStageNodeCreateInfoAMDX-pName-parameter"></a> <span class="vuid">VUID-VkPipelineShaderStageNodeCreateInfoAMDX-pName-parameter</span><br>
 If <code>pName</code> is not <code>NULL</code>, <code>pName</code> <strong>must</strong> be a null-terminated UTF-8 string</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the internal node index for a particular node in an execution
graph, call:</p>
</div>
<div id="vkGetExecutionGraphPipelineNodeIndexAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
VkResult vkGetExecutionGraphPipelineNodeIndexAMDX(
    VkDevice                                    device,
    VkPipeline                                  executionGraph,
    const VkPipelineShaderStageNodeCreateInfoAMDX* pNodeInfo,
    uint32_t*                                   pNodeIndex);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that <code>executionGraph</code> was created
on.</p>
</li>
<li>
<p><code>executionGraph</code> is the execution graph pipeline to query the
internal node index for.</p>
</li>
<li>
<p><code>pNodeInfo</code> is a pointer to a
<a href="#VkPipelineShaderStageNodeCreateInfoAMDX">VkPipelineShaderStageNodeCreateInfoAMDX</a> structure identifying the
name and index of the node to query.</p>
</li>
<li>
<p><code>pNodeIndex</code> is the returned internal node index of the identified
node.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once this function returns, the contents of <code>pNodeIndex</code> contain the
internal node index of the identified node.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09140" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09140"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09140</span><br>

<code>pNodeInfo-&gt;pName</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09141" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09141"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-09141</span><br>

<code>pNodeInfo-&gt;index</code> <strong>must</strong> not be <code>VK_SHADER_INDEX_UNUSED_AMDX</code></p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-09142" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-09142"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-09142</span><br>

There <strong>must</strong> be a node in <code>executionGraph</code> with a shader name and
index equal to <code>pNodeInfo-&gt;pName</code> and <code>pNodeInfo-&gt;index</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-device-parameter" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-device-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parameter" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parameter</span><br>
 <code>executionGraph</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-parameter" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeInfo-parameter</span><br>
 <code>pNodeInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineShaderStageNodeCreateInfoAMDX">VkPipelineShaderStageNodeCreateInfoAMDX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeIndex-parameter" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeIndex-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-pNodeIndex-parameter</span><br>
 <code>pNodeIndex</code> <strong>must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parent" href="#VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parent"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineNodeIndexAMDX-executionGraph-parent</span><br>
 <code>executionGraph</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_initializing_scratch_memory"><a class="anchor" href="#_initializing_scratch_memory"></a>Initializing Scratch Memory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implementations <strong>may</strong> need scratch memory to manage dispatch queues or
similar when executing a pipeline graph, and this is explicitly managed by
the application.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the scratch space required to dispatch an execution graph, call:</p>
</div>
<div id="vkGetExecutionGraphPipelineScratchSizeAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
VkResult vkGetExecutionGraphPipelineScratchSizeAMDX(
    VkDevice                                    device,
    VkPipeline                                  executionGraph,
    VkExecutionGraphPipelineScratchSizeAMDX*    pSizeInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that <code>executionGraph</code> was created
on.</p>
</li>
<li>
<p><code>executionGraph</code> is the execution graph pipeline to query the
scratch space for.</p>
</li>
<li>
<p><code>pSizeInfo</code> is a pointer to a
<a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a> structure that will
contain the required scratch size.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After this function returns, information about the scratch space required
will be returned in <code>pSizeInfo</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-device-parameter" href="#VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-device-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parameter" href="#VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parameter</span><br>
 <code>executionGraph</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-pSizeInfo-parameter" href="#VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-pSizeInfo-parameter"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-pSizeInfo-parameter</span><br>
 <code>pSizeInfo</code> <strong>must</strong> be a valid pointer to a <a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parent" href="#VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parent"></a> <span class="vuid">VUID-vkGetExecutionGraphPipelineScratchSizeAMDX-executionGraph-parent</span><br>
 <code>executionGraph</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExecutionGraphPipelineScratchSizeAMDX</code> structure is defined as:</p>
</div>
<div id="VkExecutionGraphPipelineScratchSizeAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef struct VkExecutionGraphPipelineScratchSizeAMDX {
    VkStructureType    sType;
    void*              pNext;
    VkDeviceSize       minSize;
    VkDeviceSize       maxSize;
    VkDeviceSize       sizeGranularity;
} VkExecutionGraphPipelineScratchSizeAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>minSize</code> indicates the minimum scratch space required for
dispatching the queried execution graph.</p>
</li>
<li>
<p><code>maxSize</code> indicates the maximum scratch space that can be used for
dispatching the queried execution graph.</p>
</li>
<li>
<p><code>sizeGranularity</code> indicates the granularity at which the scratch
space can be increased from <code>minSize</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applications <strong>can</strong> use any amount of scratch memory greater than
<code>minSize</code> for dispatching a graph, however only the values equal to
<code>minSize</code> + an integer multiple of <code>sizeGranularity</code> will be used.
Greater values <strong>may</strong> result in higher performance, up to <code>maxSize</code> which
indicates the most memory that an implementation can use effectively.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExecutionGraphPipelineScratchSizeAMDX-sType-sType" href="#VUID-VkExecutionGraphPipelineScratchSizeAMDX-sType-sType"></a> <span class="vuid">VUID-VkExecutionGraphPipelineScratchSizeAMDX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_EXECUTION_GRAPH_PIPELINE_SCRATCH_SIZE_AMDX</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To initialize scratch memory for a particular execution graph, call:</p>
</div>
<div id="vkCmdInitializeGraphScratchMemoryAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
void vkCmdInitializeGraphScratchMemoryAMDX(
    VkCommandBuffer                             commandBuffer,
    VkPipeline                                  executionGraph,
    VkDeviceAddress                             scratch,
    VkDeviceSize                                scratchSize);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>executionGraph</code> is the execution graph pipeline to initialize the
scratch memory for.</p>
</li>
<li>
<p><code>scratch</code> is the address of scratch memory to be initialized.</p>
</li>
<li>
<p><code>scratchSize</code> is a range in bytes of scratch memory to be
initialized.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command <strong>must</strong> be called before using <code>scratch</code> to dispatch the
bound execution graph pipeline.</p>
</div>
<div class="paragraph">
<p>Execution of this command <strong>may</strong> modify any memory locations in the range
[<code>scratch</code>,<code>scratch</code> + <code>scratchSize</code>).
Accesses to this memory range are performed in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> and
<code>VK_ACCESS_2_SHADER_STORAGE_WRITE_BIT</code> access flags.</p>
</div>
<div class="paragraph">
<p>If any portion of <code>scratch</code> is modified by any command other than
<a href="#vkCmdDispatchGraphAMDX">vkCmdDispatchGraphAMDX</a>, <a href="#vkCmdDispatchGraphIndirectAMDX">vkCmdDispatchGraphIndirectAMDX</a>,
<a href="#vkCmdDispatchGraphIndirectCountAMDX">vkCmdDispatchGraphIndirectCountAMDX</a>, or
<a href="#vkCmdInitializeGraphScratchMemoryAMDX">vkCmdInitializeGraphScratchMemoryAMDX</a> with the same execution graph,
it <strong>must</strong> be reinitialized for the execution graph again before dispatching
against it.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-10185" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-10185"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-10185</span><br>

<code>scratch</code> <strong>must</strong> be the device address of an allocated memory range
at least as large as <code>scratchSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratchSize-10186" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratchSize-10186"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratchSize-10186</span><br>

<code>scratchSize</code> <strong>must</strong> be greater than or equal to
<a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a>::<code>minSize</code> returned by
<a href="#vkGetExecutionGraphPipelineScratchSizeAMDX">vkGetExecutionGraphPipelineScratchSizeAMDX</a> for the bound execution
graph pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-09144" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-09144"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-scratch-09144</span><br>

<code>scratch</code> <strong>must</strong> be a multiple of 64</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-parameter" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-executionGraph-parameter" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-executionGraph-parameter"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-executionGraph-parameter</span><br>
 <code>executionGraph</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-recording" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-cmdpool" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-videocoding" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-videocoding"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-bufferlevel" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-bufferlevel"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-bufferlevel</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdInitializeGraphScratchMemoryAMDX-commonparent" href="#VUID-vkCmdInitializeGraphScratchMemoryAMDX-commonparent"></a> <span class="vuid">VUID-vkCmdInitializeGraphScratchMemoryAMDX-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>executionGraph</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dispatching_a_graph"><a class="anchor" href="#_dispatching_a_graph"></a>Dispatching a Graph</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Initial dispatch of an execution graph is done from the host in the same way
as any other command, and <strong>can</strong> be used in a similar way to compute dispatch
commands, with indirect variants available.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an execution graph dispatch, call:</p>
</div>
<div id="vkCmdDispatchGraphAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
void vkCmdDispatchGraphAMDX(
    VkCommandBuffer                             commandBuffer,
    VkDeviceAddress                             scratch,
    VkDeviceSize                                scratchSize,
    const VkDispatchGraphCountInfoAMDX*         pCountInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>scratch</code> is the address of scratch memory to be used.</p>
</li>
<li>
<p><code>scratchSize</code> is a range in bytes of scratch memory to be used.</p>
</li>
<li>
<p><code>pCountInfo</code> is a host pointer to a
<a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure defining the nodes which
will be initially executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When this command is executed, the nodes specified in <code>pCountInfo</code> are
executed.
Nodes executed as part of this command are not implicitly synchronized in
any way against each other once they are dispatched.
There are no rasterization order guarantees between separately dispatched
graphics nodes, though individual primitives within a single dispatch do
adhere to rasterization order.
Draw calls executed before or after the execution graph also execute
relative to each graphics node with respect to rasterization order.</p>
</div>
<div class="paragraph">
<p>For this command, all device/host pointers in substructures are treated as
host pointers and read only during host execution of this command.
Once this command returns, no reference to the original pointers is
retained.</p>
</div>
<div class="paragraph">
<p>Execution of this command <strong>may</strong> modify any memory locations in the range
[<code>scratch</code>,<code>scratch</code> + <code>scratchSize</code>).
Accesses to this memory range are performed in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> and
<code>VK_ACCESS_2_SHADER_STORAGE_WRITE_BIT</code> access flags.</p>
</div>
<div class="paragraph">
<p>This command <a href="#executiongraphs-meshnodes-statecapture">captures command buffer state</a> for mesh nodes similarly to draw commands.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-magFilter-04553" href="#VUID-vkCmdDispatchGraphAMDX-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-magFilter-09598" href="#VUID-vkCmdDispatchGraphAMDX-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-mipmapMode-04770" href="#VUID-vkCmdDispatchGraphAMDX-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-mipmapMode-09599" href="#VUID-vkCmdDispatchGraphAMDX-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatchGraphAMDX-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08609" href="#VUID-vkCmdDispatchGraphAMDX-None-08609"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08609</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08610" href="#VUID-vkCmdDispatchGraphAMDX-None-08610"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08610</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08611" href="#VUID-vkCmdDispatchGraphAMDX-None-08611"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08611</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-06479" href="#VUID-vkCmdDispatchGraphAMDX-None-06479"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-02691" href="#VUID-vkCmdDispatchGraphAMDX-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-07888" href="#VUID-vkCmdDispatchGraphAMDX-None-07888"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-02692" href="#VUID-vkCmdDispatchGraphAMDX-None-02692"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-02692</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-02693" href="#VUID-vkCmdDispatchGraphAMDX-None-02693"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-02693</span><br>

If
the <a href="../appendices/extensions.html#VK_EXT_filter_cubic" class="xref page">VK_EXT_filter_cubic</a> extension is not enabled and
any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, it <strong>must</strong> not have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> of
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-filterCubic-02694" href="#VUID-vkCmdDispatchGraphAMDX-filterCubic-02694"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-filterCubic-02694</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command <strong>must</strong> have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format
that supports cubic filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubic</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-filterCubicMinmax-02695" href="#VUID-vkCmdDispatchGraphAMDX-filterCubicMinmax-02695"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-filterCubicMinmax-02695</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> with
a reduction mode of either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> as a result of this command <strong>must</strong>
have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format that supports cubic filtering
together with minmax filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubicMinmax</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-cubicRangeClamp-09212" href="#VUID-vkCmdDispatchGraphAMDX-cubicRangeClamp-09212"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-cubicRangeClamp-09212</span><br>

If the <a href="features.html#features-cubicRangeClamp" class="xref page"><code>cubicRangeClamp</code></a> feature is
not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> not have a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-reductionMode-09213" href="#VUID-vkCmdDispatchGraphAMDX-reductionMode-09213"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-reductionMode-09213</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code> as a
result of this command <strong>must</strong> sample with <code>VK_FILTER_CUBIC_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-selectableCubicWeights-09214" href="#VUID-vkCmdDispatchGraphAMDX-selectableCubicWeights-09214"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-selectableCubicWeights-09214</span><br>

If the <a href="features.html#features-selectableCubicWeights" class="xref page"><code>selectableCubicWeights</code></a>
feature is not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> have
<a href="samplers.html#VkSamplerCubicWeightsCreateInfoQCOM" class="xref page">VkSamplerCubicWeightsCreateInfoQCOM</a>::<code>cubicWeights</code> equal to
<code>VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-flags-02696" href="#VUID-vkCmdDispatchGraphAMDX-flags-02696"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-flags-02696</span><br>

Any <a href="resources.html#VkImage" class="xref page">VkImage</a> created with a <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>
containing <code>VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV</code> sampled as a
result of this command <strong>must</strong> only be sampled using a
<a href="samplers.html#VkSamplerAddressMode" class="xref page">VkSamplerAddressMode</a> of
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07027" href="#VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07028" href="#VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07029" href="#VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07030" href="#VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08600" href="#VUID-vkCmdDispatchGraphAMDX-None-08600"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08601" href="#VUID-vkCmdDispatchGraphAMDX-None-08601"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-10068" href="#VUID-vkCmdDispatchGraphAMDX-None-10068"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-maintenance4-08602" href="#VUID-vkCmdDispatchGraphAMDX-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> and <a href="descriptorsets.html#VkPushConstantRange" class="xref page">VkPushConstantRange</a> arrays
used to create the current <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08114" href="#VUID-vkCmdDispatchGraphAMDX-None-08114"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08114</span><br>

Descriptors in each bound descriptor set, specified via
<a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
<a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
by
the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind point used by this
command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was not created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08115" href="#VUID-vkCmdDispatchGraphAMDX-None-08115"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08115</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, the bound
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08116" href="#VUID-vkCmdDispatchGraphAMDX-None-08116"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08116</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind
point used by this command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was created
with <code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08604" href="#VUID-vkCmdDispatchGraphAMDX-None-08604"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08604</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08117" href="#VUID-vkCmdDispatchGraphAMDX-None-08117"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08117</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>,
the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08119" href="#VUID-vkCmdDispatchGraphAMDX-None-08119"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08119</span><br>

If a descriptor is dynamically used with a <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the descriptor
memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08605" href="#VUID-vkCmdDispatchGraphAMDX-None-08605"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08605</span><br>

If a descriptor is dynamically used with a <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> created
with a <code>VkDescriptorSetLayout</code> that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the
descriptor memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08606" href="#VUID-vkCmdDispatchGraphAMDX-None-08606"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08606</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is not
enabled, a
valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08608" href="#VUID-vkCmdDispatchGraphAMDX-None-08608"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08608</span><br>

If a pipeline is bound to the pipeline bind point used by this command,
there
<strong>must</strong> not have been any calls to dynamic state setting commands for any
state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08607" href="#VUID-vkCmdDispatchGraphAMDX-None-08607"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08607</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is enabled,
either a valid pipeline <strong>must</strong> be bound to the pipeline bind point used
by this command, or a valid combination of valid and
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> shader objects <strong>must</strong> be bound to every supported
shader stage corresponding to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-uniformBuffers-06935" href="#VUID-vkCmdDispatchGraphAMDX-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>uniformBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08612" href="#VUID-vkCmdDispatchGraphAMDX-None-08612"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08612</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-storageBuffers-06936" href="#VUID-vkCmdDispatchGraphAMDX-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>storageBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-08613" href="#VUID-vkCmdDispatchGraphAMDX-None-08613"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-08613</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-02707" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-06550" href="#VUID-vkCmdDispatchGraphAMDX-None-06550"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-ConstOffset-06551" href="#VUID-vkCmdDispatchGraphAMDX-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-viewType-07752" href="#VUID-vkCmdDispatchGraphAMDX-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-format-07753" href="#VUID-vkCmdDispatchGraphAMDX-format-07753"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08795" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
created with a format other than <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08796" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08796"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWrite-08796</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> created with the format <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
four components</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWrite-04469" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-SampledType-04470" href="#VUID-vkCmdDispatchGraphAMDX-SampledType-04470"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-SampledType-04470</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit component
width is accessed as a result of this command, the <code>SampledType</code> of
the <code>OpTypeImage</code> operand of that instruction <strong>must</strong> have a <code>Width</code>
of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-SampledType-04471" href="#VUID-vkCmdDispatchGraphAMDX-SampledType-04471"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-SampledType-04471</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-SampledType-04472" href="#VUID-vkCmdDispatchGraphAMDX-SampledType-04472"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-SampledType-04472</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit
component width is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-SampledType-04473" href="#VUID-vkCmdDispatchGraphAMDX-SampledType-04473"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-SampledType-04473</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04474" href="#VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04474"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04474</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkImage" class="xref page">VkImage</a>
objects created with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag
<strong>must</strong> not be accessed by atomic instructions through an <code>OpTypeImage</code>
with a <code>SampledType</code> with a <code>Width</code> of 64 by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04475" href="#VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04475"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-sparseImageInt64Atomics-04475</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a>
objects created with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
flag <strong>must</strong> not be accessed by atomic instructions through an
<code>OpTypeImage</code> with a <code>SampledType</code> with a <code>Width</code> of 64 by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06971" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06971"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06971</span><br>

If <code>OpImageWeightedSampleQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06972" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06972"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06972</span><br>

If <code>OpImageWeightedSampleQCOM</code> uses a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a sample
weight image as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBoxFilterQCOM-06973" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBoxFilterQCOM-06973"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBoxFilterQCOM-06973</span><br>

If <code>OpImageBoxFilterQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSSDQCOM-06974" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSSDQCOM-06974"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSSDQCOM-06974</span><br>

If <code>OpImageBlockMatchSSDQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06975" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06975"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06975</span><br>

If <code>OpImageBlockMatchSADQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06976" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06976"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchSADQCOM-06976</span><br>

If <code>OpImageBlockMatchSADQCOM</code> or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06977" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06977"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06977</span><br>

If <code>OpImageWeightedSampleQCOM</code>, <code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> have
been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06978" href="#VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06978"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageWeightedSampleQCOM-06978</span><br>

If any command other than <code>OpImageWeightedSampleQCOM</code>,
<code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> not
have been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09215" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09215"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09215</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09216" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09216"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09216</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
format <strong>must</strong> be a single-component format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09217" href="#VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09217"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-OpImageBlockMatchWindow-09217</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> read from a reference image as result
of this command, then the specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-07288" href="#VUID-vkCmdDispatchGraphAMDX-None-07288"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-09600" href="#VUID-vkCmdDispatchGraphAMDX-None-09600"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, all image subresources identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-09181" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-09181"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-09181</span><br>

<code>commandBuffer</code> <strong>must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-09182" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-09182"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-09182</span><br>

<code>commandBuffer</code> <strong>must</strong> be a primary command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-scratch-10192" href="#VUID-vkCmdDispatchGraphAMDX-scratch-10192"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-scratch-10192</span><br>

<code>scratch</code> <strong>must</strong> be the device address of an allocated memory range
at least as large as <code>scratchSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-scratchSize-10193" href="#VUID-vkCmdDispatchGraphAMDX-scratchSize-10193"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-scratchSize-10193</span><br>

<code>scratchSize</code> <strong>must</strong> be greater than or equal to
<a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a>::<code>minSize</code> returned by
<a href="#vkGetExecutionGraphPipelineScratchSizeAMDX">vkGetExecutionGraphPipelineScratchSizeAMDX</a> for the bound execution
graph pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-scratch-09184" href="#VUID-vkCmdDispatchGraphAMDX-scratch-09184"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-scratch-09184</span><br>

<code>scratch</code> <strong>must</strong> be a device address within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created
with the <code>VK_BUFFER_USAGE_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
or <code>VK_BUFFER_USAGE_2_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-scratch-10194" href="#VUID-vkCmdDispatchGraphAMDX-scratch-10194"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-scratch-10194</span><br>

The device memory range [<code>scratch</code>,<code>scratch</code><br>
<code>scratchSize</code>] <strong>must</strong> have been initialized with
<a href="#vkCmdInitializeGraphScratchMemoryAMDX">vkCmdInitializeGraphScratchMemoryAMDX</a> using the bound execution
graph pipeline, and not modified after that by anything other than
another execution graph dispatch command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-maxComputeWorkGroupCount-09186" href="#VUID-vkCmdDispatchGraphAMDX-maxComputeWorkGroupCount-09186"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-maxComputeWorkGroupCount-09186</span><br>

Execution of this command <strong>must</strong> not cause a node to be dispatched with a
larger number of workgroups than that specified by either a
<code>MaxNumWorkgroupsAMDX</code> decoration in the dispatched node or
<a href="limits.html#limits-maxComputeWorkGroupCount" class="xref page"><code>maxComputeWorkGroupCount</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-maxExecutionGraphShaderPayloadCount-09187" href="#VUID-vkCmdDispatchGraphAMDX-maxExecutionGraphShaderPayloadCount-09187"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-maxExecutionGraphShaderPayloadCount-09187</span><br>

Execution of this command <strong>must</strong> not cause any shader to initialize more
than <a href="limits.html#limits-maxExecutionGraphShaderPayloadCount" class="xref page">    <code>maxExecutionGraphShaderPayloadCount</code></a> output payloads</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-NodeMaxPayloadsAMDX-09188" href="#VUID-vkCmdDispatchGraphAMDX-NodeMaxPayloadsAMDX-09188"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-NodeMaxPayloadsAMDX-09188</span><br>

Execution of this command <strong>must</strong> not cause any shader that declares
<code>NodeMaxPayloadsAMDX</code> to initialize more output payloads than
specified by the max number of payloads for that decoration.
This requirement applies to each <code>NodeMaxPayloadsAMDX</code> decoration
separately</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-None-10195" href="#VUID-vkCmdDispatchGraphAMDX-None-10195"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-None-10195</span><br>

   If the bound execution graph pipeline includes draw nodes, this command
   <strong>must</strong> be called within a render pass instance that is
compatible with the graphics pipeline used to create each of those nodes</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-pCountInfo-09145" href="#VUID-vkCmdDispatchGraphAMDX-pCountInfo-09145"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-pCountInfo-09145</span><br>

<code>pCountInfo-&gt;infos</code> <strong>must</strong> be a host pointer to a memory allocation
at least as large as the product of <code>count</code> and <code>stride</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-infos-09146" href="#VUID-vkCmdDispatchGraphAMDX-infos-09146"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-infos-09146</span><br>

Host memory locations at indexes in the range [<code>infos</code>, <code>infos</code>
+ (<code>count</code>*<code>stride</code>)), at a granularity of <code>stride</code> <strong>must</strong>
contain valid <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structures in the first 24
bytes</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-pCountInfo-09147" href="#VUID-vkCmdDispatchGraphAMDX-pCountInfo-09147"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-pCountInfo-09147</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a host pointer to a
memory allocation at least as large as the product of <code>payloadCount</code>
and <code>payloadStride</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-pCountInfo-09148" href="#VUID-vkCmdDispatchGraphAMDX-pCountInfo-09148"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-pCountInfo-09148</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>nodeIndex</code> <strong>must</strong> be a valid node index in
the bound execution graph pipeline, as returned by
<a href="#vkGetExecutionGraphPipelineNodeIndexAMDX">vkGetExecutionGraphPipelineNodeIndexAMDX</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-pCountInfo-09149" href="#VUID-vkCmdDispatchGraphAMDX-pCountInfo-09149"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-pCountInfo-09149</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, host memory locations at indexes in the range
[<code>payloads</code>, <code>payloads</code> + (<code>payloadCount</code> *
<code>payloadStride</code>)), at a granularity of <code>payloadStride</code> <strong>must</strong>
contain a payload matching the size of the input payload expected by the
node in <code>nodeIndex</code> in the first bytes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-parameter" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-pCountInfo-parameter" href="#VUID-vkCmdDispatchGraphAMDX-pCountInfo-parameter"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-pCountInfo-parameter</span><br>
 <code>pCountInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-recording" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchGraphAMDX-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-videocoding" href="#VUID-vkCmdDispatchGraphAMDX-videocoding"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphAMDX-bufferlevel" href="#VUID-vkCmdDispatchGraphAMDX-bufferlevel"></a> <span class="vuid">VUID-vkCmdDispatchGraphAMDX-bufferlevel</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an execution graph dispatch with node and payload parameters read
on device, call:</p>
</div>
<div id="vkCmdDispatchGraphIndirectAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
void vkCmdDispatchGraphIndirectAMDX(
    VkCommandBuffer                             commandBuffer,
    VkDeviceAddress                             scratch,
    VkDeviceSize                                scratchSize,
    const VkDispatchGraphCountInfoAMDX*         pCountInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>scratch</code> is the address of scratch memory to be used.</p>
</li>
<li>
<p><code>scratchSize</code> is a range in bytes of scratch memory to be used.</p>
</li>
<li>
<p><code>pCountInfo</code> is a host pointer to a
<a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure defining the nodes which
will be initially executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When this command is executed, the nodes specified in <code>pCountInfo</code> are
executed.
Nodes executed as part of this command are not implicitly synchronized in
any way against each other once they are dispatched.
There are no rasterization order guarantees between separately dispatched
graphics nodes, though individual primitives within a single dispatch do
adhere to rasterization order.
Draw calls executed before or after the execution graph also execute
relative to each graphics node with respect to rasterization order.</p>
</div>
<div class="paragraph">
<p>For this command, all device/host pointers in substructures are treated as
device pointers and read during device execution of this command.
The allocation and contents of these pointers only needs to be valid during
device execution.
All of these addresses will be read in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> access flag.</p>
</div>
<div class="paragraph">
<p>Execution of this command <strong>may</strong> modify any memory locations in the range
[<code>scratch</code>,<code>scratch</code> + <code>scratchSize</code>).
Accesses to this memory range are performed in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> and
<code>VK_ACCESS_2_SHADER_STORAGE_WRITE_BIT</code> access flags.</p>
</div>
<div class="paragraph">
<p>This command <a href="#executiongraphs-meshnodes-statecapture">captures command buffer state</a> for mesh nodes similarly to draw commands.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-04553" href="#VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-09598" href="#VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-04770" href="#VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-09599" href="#VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatchGraphIndirectAMDX-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08609" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08609"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08609</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08610" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08610"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08610</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08611" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08611"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08611</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-06479" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-06479"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-02691" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-07888" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-07888"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-02692" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-02692"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-02692</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-02693" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-02693"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-02693</span><br>

If
the <a href="../appendices/extensions.html#VK_EXT_filter_cubic" class="xref page">VK_EXT_filter_cubic</a> extension is not enabled and
any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, it <strong>must</strong> not have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> of
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-filterCubic-02694" href="#VUID-vkCmdDispatchGraphIndirectAMDX-filterCubic-02694"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-filterCubic-02694</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command <strong>must</strong> have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format
that supports cubic filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubic</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-filterCubicMinmax-02695" href="#VUID-vkCmdDispatchGraphIndirectAMDX-filterCubicMinmax-02695"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-filterCubicMinmax-02695</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> with
a reduction mode of either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> as a result of this command <strong>must</strong>
have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format that supports cubic filtering
together with minmax filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubicMinmax</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-cubicRangeClamp-09212" href="#VUID-vkCmdDispatchGraphIndirectAMDX-cubicRangeClamp-09212"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-cubicRangeClamp-09212</span><br>

If the <a href="features.html#features-cubicRangeClamp" class="xref page"><code>cubicRangeClamp</code></a> feature is
not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> not have a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-reductionMode-09213" href="#VUID-vkCmdDispatchGraphIndirectAMDX-reductionMode-09213"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-reductionMode-09213</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code> as a
result of this command <strong>must</strong> sample with <code>VK_FILTER_CUBIC_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-selectableCubicWeights-09214" href="#VUID-vkCmdDispatchGraphIndirectAMDX-selectableCubicWeights-09214"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-selectableCubicWeights-09214</span><br>

If the <a href="features.html#features-selectableCubicWeights" class="xref page"><code>selectableCubicWeights</code></a>
feature is not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> have
<a href="samplers.html#VkSamplerCubicWeightsCreateInfoQCOM" class="xref page">VkSamplerCubicWeightsCreateInfoQCOM</a>::<code>cubicWeights</code> equal to
<code>VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-flags-02696" href="#VUID-vkCmdDispatchGraphIndirectAMDX-flags-02696"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-flags-02696</span><br>

Any <a href="resources.html#VkImage" class="xref page">VkImage</a> created with a <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>
containing <code>VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV</code> sampled as a
result of this command <strong>must</strong> only be sampled using a
<a href="samplers.html#VkSamplerAddressMode" class="xref page">VkSamplerAddressMode</a> of
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07027" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07028" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07029" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07030" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08600" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08600"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08601" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08601"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-10068" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-10068"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-maintenance4-08602" href="#VUID-vkCmdDispatchGraphIndirectAMDX-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> and <a href="descriptorsets.html#VkPushConstantRange" class="xref page">VkPushConstantRange</a> arrays
used to create the current <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08114" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08114"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08114</span><br>

Descriptors in each bound descriptor set, specified via
<a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
<a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
by
the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind point used by this
command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was not created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08115" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08115"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08115</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, the bound
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08116" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08116"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08116</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind
point used by this command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was created
with <code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08604" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08604"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08604</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08117" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08117"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08117</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>,
the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08119" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08119"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08119</span><br>

If a descriptor is dynamically used with a <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the descriptor
memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08605" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08605"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08605</span><br>

If a descriptor is dynamically used with a <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> created
with a <code>VkDescriptorSetLayout</code> that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the
descriptor memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08606" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08606"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08606</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is not
enabled, a
valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08608" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08608"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08608</span><br>

If a pipeline is bound to the pipeline bind point used by this command,
there
<strong>must</strong> not have been any calls to dynamic state setting commands for any
state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08607" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08607"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08607</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is enabled,
either a valid pipeline <strong>must</strong> be bound to the pipeline bind point used
by this command, or a valid combination of valid and
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> shader objects <strong>must</strong> be bound to every supported
shader stage corresponding to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-uniformBuffers-06935" href="#VUID-vkCmdDispatchGraphIndirectAMDX-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>uniformBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08612" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08612"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08612</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-storageBuffers-06936" href="#VUID-vkCmdDispatchGraphIndirectAMDX-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>storageBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-08613" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-08613"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-08613</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-02707" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-06550" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-06550"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-ConstOffset-06551" href="#VUID-vkCmdDispatchGraphIndirectAMDX-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-viewType-07752" href="#VUID-vkCmdDispatchGraphIndirectAMDX-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-format-07753" href="#VUID-vkCmdDispatchGraphIndirectAMDX-format-07753"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08795" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
created with a format other than <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08796" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08796"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-08796</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> created with the format <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
four components</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-04469" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04470" href="#VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04470"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04470</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit component
width is accessed as a result of this command, the <code>SampledType</code> of
the <code>OpTypeImage</code> operand of that instruction <strong>must</strong> have a <code>Width</code>
of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04471" href="#VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04471"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04471</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04472" href="#VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04472"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04472</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit
component width is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04473" href="#VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04473"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-SampledType-04473</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04474" href="#VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04474"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04474</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkImage" class="xref page">VkImage</a>
objects created with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag
<strong>must</strong> not be accessed by atomic instructions through an <code>OpTypeImage</code>
with a <code>SampledType</code> with a <code>Width</code> of 64 by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04475" href="#VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04475"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-sparseImageInt64Atomics-04475</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a>
objects created with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
flag <strong>must</strong> not be accessed by atomic instructions through an
<code>OpTypeImage</code> with a <code>SampledType</code> with a <code>Width</code> of 64 by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06971" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06971"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06971</span><br>

If <code>OpImageWeightedSampleQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06972" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06972"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06972</span><br>

If <code>OpImageWeightedSampleQCOM</code> uses a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a sample
weight image as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBoxFilterQCOM-06973" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBoxFilterQCOM-06973"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBoxFilterQCOM-06973</span><br>

If <code>OpImageBoxFilterQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSSDQCOM-06974" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSSDQCOM-06974"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSSDQCOM-06974</span><br>

If <code>OpImageBlockMatchSSDQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06975" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06975"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06975</span><br>

If <code>OpImageBlockMatchSADQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06976" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06976"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchSADQCOM-06976</span><br>

If <code>OpImageBlockMatchSADQCOM</code> or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06977" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06977"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06977</span><br>

If <code>OpImageWeightedSampleQCOM</code>, <code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> have
been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06978" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06978"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageWeightedSampleQCOM-06978</span><br>

If any command other than <code>OpImageWeightedSampleQCOM</code>,
<code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> not
have been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09215" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09215"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09215</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09216" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09216"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09216</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
format <strong>must</strong> be a single-component format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09217" href="#VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09217"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-OpImageBlockMatchWindow-09217</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> read from a reference image as result
of this command, then the specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-07288" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-07288"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-09600" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-09600"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, all image subresources identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09181" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09181"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09181</span><br>

<code>commandBuffer</code> <strong>must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09182" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09182"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-09182</span><br>

<code>commandBuffer</code> <strong>must</strong> be a primary command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10192" href="#VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10192"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10192</span><br>

<code>scratch</code> <strong>must</strong> be the device address of an allocated memory range
at least as large as <code>scratchSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-scratchSize-10193" href="#VUID-vkCmdDispatchGraphIndirectAMDX-scratchSize-10193"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-scratchSize-10193</span><br>

<code>scratchSize</code> <strong>must</strong> be greater than or equal to
<a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a>::<code>minSize</code> returned by
<a href="#vkGetExecutionGraphPipelineScratchSizeAMDX">vkGetExecutionGraphPipelineScratchSizeAMDX</a> for the bound execution
graph pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-scratch-09184" href="#VUID-vkCmdDispatchGraphIndirectAMDX-scratch-09184"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-scratch-09184</span><br>

<code>scratch</code> <strong>must</strong> be a device address within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created
with the <code>VK_BUFFER_USAGE_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
or <code>VK_BUFFER_USAGE_2_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10194" href="#VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10194"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-scratch-10194</span><br>

The device memory range [<code>scratch</code>,<code>scratch</code><br>
<code>scratchSize</code>] <strong>must</strong> have been initialized with
<a href="#vkCmdInitializeGraphScratchMemoryAMDX">vkCmdInitializeGraphScratchMemoryAMDX</a> using the bound execution
graph pipeline, and not modified after that by anything other than
another execution graph dispatch command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-maxComputeWorkGroupCount-09186" href="#VUID-vkCmdDispatchGraphIndirectAMDX-maxComputeWorkGroupCount-09186"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-maxComputeWorkGroupCount-09186</span><br>

Execution of this command <strong>must</strong> not cause a node to be dispatched with a
larger number of workgroups than that specified by either a
<code>MaxNumWorkgroupsAMDX</code> decoration in the dispatched node or
<a href="limits.html#limits-maxComputeWorkGroupCount" class="xref page"><code>maxComputeWorkGroupCount</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-maxExecutionGraphShaderPayloadCount-09187" href="#VUID-vkCmdDispatchGraphIndirectAMDX-maxExecutionGraphShaderPayloadCount-09187"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-maxExecutionGraphShaderPayloadCount-09187</span><br>

Execution of this command <strong>must</strong> not cause any shader to initialize more
than <a href="limits.html#limits-maxExecutionGraphShaderPayloadCount" class="xref page">    <code>maxExecutionGraphShaderPayloadCount</code></a> output payloads</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-NodeMaxPayloadsAMDX-09188" href="#VUID-vkCmdDispatchGraphIndirectAMDX-NodeMaxPayloadsAMDX-09188"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-NodeMaxPayloadsAMDX-09188</span><br>

Execution of this command <strong>must</strong> not cause any shader that declares
<code>NodeMaxPayloadsAMDX</code> to initialize more output payloads than
specified by the max number of payloads for that decoration.
This requirement applies to each <code>NodeMaxPayloadsAMDX</code> decoration
separately</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-None-10195" href="#VUID-vkCmdDispatchGraphIndirectAMDX-None-10195"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-None-10195</span><br>

   If the bound execution graph pipeline includes draw nodes, this command
   <strong>must</strong> be called within a render pass instance that is
compatible with the graphics pipeline used to create each of those nodes</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09150" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09150"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09150</span><br>

<code>pCountInfo-&gt;infos</code> <strong>must</strong> be a device pointer to a memory allocation
at least as large as the product of <code>count</code> and <code>stride</code> when
this command is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09151" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09151"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09151</span><br>

<code>pCountInfo-&gt;infos</code> <strong>must</strong> be a device address within a
<a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09152" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09152"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09152</span><br>

<code>pCountInfo-&gt;infos</code> <strong>must</strong> be a multiple of
<a href="limits.html#limits-executionGraphDispatchAddressAlignment" class="xref page">    <code>executionGraphDispatchAddressAlignment</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-infos-09153" href="#VUID-vkCmdDispatchGraphIndirectAMDX-infos-09153"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-infos-09153</span><br>

Device memory locations at indexes in the range [<code>infos</code>,
<code>infos</code> + (<code>count</code>*<code>stride</code>)), at a granularity of
<code>stride</code> <strong>must</strong> contain valid <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a>
structures in the first 24 bytes when this command is executed on the
device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09154" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09154"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09154</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a device pointer to a
memory allocation at least as large as the product of <code>payloadCount</code>
and <code>payloadStride</code> when this command is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09155" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09155"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09155</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a device address within
a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09156" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09156"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09156</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a multiple of
<a href="limits.html#limits-executionGraphDispatchAddressAlignment" class="xref page">    <code>executionGraphDispatchAddressAlignment</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09157" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09157"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09157</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, <code>nodeIndex</code> <strong>must</strong> be a valid node index in
the bound execution graph pipeline, as returned by
<a href="#vkGetExecutionGraphPipelineNodeIndexAMDX">vkGetExecutionGraphPipelineNodeIndexAMDX</a> when this command is
executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09158" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09158"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-09158</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>pCountInfo-&gt;infos</code>, device memory locations at indexes in the range
[<code>payloads</code>, <code>payloads</code> + (<code>payloadCount</code> *
<code>payloadStride</code>)), at a granularity of <code>payloadStride</code> <strong>must</strong>
contain a payload matching the size of the input payload expected by the
node in <code>nodeIndex</code> in the first bytes when this command is executed
on the device</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-parameter" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-parameter" href="#VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-parameter"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-pCountInfo-parameter</span><br>
 <code>pCountInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-recording" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-videocoding" href="#VUID-vkCmdDispatchGraphIndirectAMDX-videocoding"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectAMDX-bufferlevel" href="#VUID-vkCmdDispatchGraphIndirectAMDX-bufferlevel"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectAMDX-bufferlevel</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an execution graph dispatch with all parameters read on device,
call:</p>
</div>
<div id="vkCmdDispatchGraphIndirectCountAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
void vkCmdDispatchGraphIndirectCountAMDX(
    VkCommandBuffer                             commandBuffer,
    VkDeviceAddress                             scratch,
    VkDeviceSize                                scratchSize,
    VkDeviceAddress                             countInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>scratch</code> is the address of scratch memory to be used.</p>
</li>
<li>
<p><code>scratchSize</code> is a range in bytes of scratch memory to be used.</p>
</li>
<li>
<p><code>countInfo</code> is a device address of a
<a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure defining the nodes which
will be initially executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When this command is executed, the nodes specified in <code>countInfo</code> are
executed.
Nodes executed as part of this command are not implicitly synchronized in
any way against each other once they are dispatched.</p>
</div>
<div class="paragraph">
<p>For this command, all pointers in substructures are treated as device
pointers and read during device execution of this command.
The allocation and contents of these pointers only needs to be valid during
device execution.
All of these addresses will be read in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> access flag.</p>
</div>
<div class="paragraph">
<p>Execution of this command <strong>may</strong> modify any memory locations in the range
[<code>scratch</code>,<code>scratch</code> + <code>scratchSize</code>).
Accesses to this memory range are performed in the
<code>VK_PIPELINE_STAGE_2_COMPUTE_SHADER_BIT</code> pipeline stage with the
<code>VK_ACCESS_2_SHADER_STORAGE_READ_BIT</code> and
<code>VK_ACCESS_2_SHADER_STORAGE_WRITE_BIT</code> access flags.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-04553" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-09598" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-04770" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-09599" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08609" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08609"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08609</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08610" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08610"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08610</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08611" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08611"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08611</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the sampler <strong>must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06479" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06479"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02691" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07888" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07888"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02692" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02692"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02692</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02693" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02693"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-02693</span><br>

If
the <a href="../appendices/extensions.html#VK_EXT_filter_cubic" class="xref page">VK_EXT_filter_cubic</a> extension is not enabled and
any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command, it <strong>must</strong> not have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> of
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>, or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubic-02694" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubic-02694"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubic-02694</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> as a
result of this command <strong>must</strong> have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format
that supports cubic filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubic</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubicMinmax-02695" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubicMinmax-02695"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-filterCubicMinmax-02695</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with <code>VK_FILTER_CUBIC_EXT</code> with
a reduction mode of either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> as a result of this command <strong>must</strong>
have a <a href="resources.html#VkImageViewType" class="xref page">VkImageViewType</a> and format that supports cubic filtering
together with minmax filtering, as specified by
<a href="capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a>::<code>filterCubicMinmax</code>
returned by <a href="capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-cubicRangeClamp-09212" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-cubicRangeClamp-09212"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-cubicRangeClamp-09212</span><br>

If the <a href="features.html#features-cubicRangeClamp" class="xref page"><code>cubicRangeClamp</code></a> feature is
not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> not have a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-reductionMode-09213" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-reductionMode-09213"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-reductionMode-09213</span><br>

Any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with a
<a href="samplers.html#VkSamplerReductionModeCreateInfo" class="xref page">VkSamplerReductionModeCreateInfo</a>::<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code> as a
result of this command <strong>must</strong> sample with <code>VK_FILTER_CUBIC_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-selectableCubicWeights-09214" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-selectableCubicWeights-09214"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-selectableCubicWeights-09214</span><br>

If the <a href="features.html#features-selectableCubicWeights" class="xref page"><code>selectableCubicWeights</code></a>
feature is not enabled, then any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being sampled with
<code>VK_FILTER_CUBIC_EXT</code> as a result of this command <strong>must</strong> have
<a href="samplers.html#VkSamplerCubicWeightsCreateInfoQCOM" class="xref page">VkSamplerCubicWeightsCreateInfoQCOM</a>::<code>cubicWeights</code> equal to
<code>VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-flags-02696" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-flags-02696"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-flags-02696</span><br>

Any <a href="resources.html#VkImage" class="xref page">VkImage</a> created with a <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code>
containing <code>VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV</code> sampled as a
result of this command <strong>must</strong> only be sampled using a
<a href="samplers.html#VkSamplerAddressMode" class="xref page">VkSamplerAddressMode</a> of
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07027" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07028" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07029" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07030" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08600" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08600"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08601" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08601"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> array used to create the current
<a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10068" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10068"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-maintenance4-08602" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
or the <a href="descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> and <a href="descriptorsets.html#VkPushConstantRange" class="xref page">VkPushConstantRange</a> arrays
used to create the current <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08114" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08114"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08114</span><br>

Descriptors in each bound descriptor set, specified via
<a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
<a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
by
the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind point used by this
command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was not created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08115" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08115"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08115</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, the bound
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created without
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08116" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08116"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08116</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline bind
point used by this command and the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> was created
with <code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08604" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08604"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08604</span><br>

Descriptors in bound descriptor buffers, specified via
<a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>, <strong>must</strong> be valid if they are
dynamically used by any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08117" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08117"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08117</span><br>

If the descriptors used by the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> bound to the pipeline
bind point were specified via <a href="descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a>,
the bound <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> <strong>must</strong> have been created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08119" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08119"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08119</span><br>

If a descriptor is dynamically used with a <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> created with
<code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the descriptor
memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08605" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08605"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08605</span><br>

If a descriptor is dynamically used with a <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> created
with a <code>VkDescriptorSetLayout</code> that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, the
descriptor memory <strong>must</strong> be resident</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08606" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08606"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08606</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is not
enabled, a
valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08608" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08608"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08608</span><br>

If a pipeline is bound to the pipeline bind point used by this command,
there
<strong>must</strong> not have been any calls to dynamic state setting commands for any
state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08607" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08607"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08607</span><br>

If the <a href="features.html#features-shaderObject" class="xref page"><code>shaderObject</code></a> feature is enabled,
either a valid pipeline <strong>must</strong> be bound to the pipeline bind point used
by this command, or a valid combination of valid and
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> shader objects <strong>must</strong> be bound to every supported
shader stage corresponding to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-uniformBuffers-06935" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>uniformBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08612" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08612"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08612</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-storageBuffers-06936" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS</code> or
<code>VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2</code> for
<code>storageBuffers</code>,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08613" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08613"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-08613</span><br>

If the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> feature
is not enabled, and any <a href="shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it <strong>must</strong> not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-02707" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06550" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06550"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-ConstOffset-06551" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-viewType-07752" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-format-07753" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-format-07753"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08795" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
created with a format other than <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08796" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08796"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-08796</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> created with the format <code>VK_FORMAT_A8_UNORM</code>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
four components</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-04469" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04470" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04470"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04470</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit component
width is accessed as a result of this command, the <code>SampledType</code> of
the <code>OpTypeImage</code> operand of that instruction <strong>must</strong> have a <code>Width</code>
of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04471" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04471"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04471</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04472" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04472"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04472</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a 64-bit
component width is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 64</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04473" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04473"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-SampledType-04473</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> with a <a href="formats.html#VkFormat" class="xref page">VkFormat</a> that has a component width
less than 64-bit is accessed as a result of this command, the
<code>SampledType</code> of the <code>OpTypeImage</code> operand of that instruction
<strong>must</strong> have a <code>Width</code> of 32</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04474" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04474"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04474</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkImage" class="xref page">VkImage</a>
objects created with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag
<strong>must</strong> not be accessed by atomic instructions through an <code>OpTypeImage</code>
with a <code>SampledType</code> with a <code>Width</code> of 64 by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04475" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04475"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-sparseImageInt64Atomics-04475</span><br>

If the <a href="features.html#features-sparseImageInt64Atomics" class="xref page">    <code>sparseImageInt64Atomics</code></a> feature is not enabled, <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a>
objects created with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>
flag <strong>must</strong> not be accessed by atomic instructions through an
<code>OpTypeImage</code> with a <code>SampledType</code> with a <code>Width</code> of 64 by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06971" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06971"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06971</span><br>

If <code>OpImageWeightedSampleQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06972" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06972"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06972</span><br>

If <code>OpImageWeightedSampleQCOM</code> uses a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a sample
weight image as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBoxFilterQCOM-06973" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBoxFilterQCOM-06973"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBoxFilterQCOM-06973</span><br>

If <code>OpImageBoxFilterQCOM</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a
result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSSDQCOM-06974" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSSDQCOM-06974"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSSDQCOM-06974</span><br>

If <code>OpImageBlockMatchSSDQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06975" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06975"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06975</span><br>

If <code>OpImageBlockMatchSADQCOM</code> is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06976" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06976"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchSADQCOM-06976</span><br>

If <code>OpImageBlockMatchSADQCOM</code> or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06977" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06977"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06977</span><br>

If <code>OpImageWeightedSampleQCOM</code>, <code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> have
been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06978" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06978"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageWeightedSampleQCOM-06978</span><br>

If any command other than <code>OpImageWeightedSampleQCOM</code>,
<code>OpImageBoxFilterQCOM</code>,
<code>OpImageBlockMatchWindowSSDQCOM</code>,
<code>OpImageBlockMatchWindowSADQCOM</code>,
<code>OpImageBlockMatchGatherSSDQCOM</code>,
<code>OpImageBlockMatchGatherSADQCOM</code>,
<code>OpImageBlockMatchSSDQCOM</code>, or <code>OpImageBlockMatchSADQCOM</code> uses a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> as a result of this command, then the sampler <strong>must</strong> not
have been created with <code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09215" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09215"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09215</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09216" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09216"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09216</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> instruction is used to read from an
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
format <strong>must</strong> be a single-component format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09217" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09217"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-OpImageBlockMatchWindow-09217</span><br>

If a <code>OpImageBlockMatchWindow*QCOM</code> or
<code>OpImageBlockMatchGather*QCOM</code> read from a reference image as result
of this command, then the specified reference coordinates <strong>must</strong> not fail
<a href="textures.html#textures-integer-coordinate-validation" class="xref page">integer texel coordinate    validation</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07288" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07288"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-09600" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-09600"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, all image subresources identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09181" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09181"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09181</span><br>

<code>commandBuffer</code> <strong>must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09182" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09182"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-09182</span><br>

<code>commandBuffer</code> <strong>must</strong> be a primary command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10192" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10192"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10192</span><br>

<code>scratch</code> <strong>must</strong> be the device address of an allocated memory range
at least as large as <code>scratchSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-scratchSize-10193" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-scratchSize-10193"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-scratchSize-10193</span><br>

<code>scratchSize</code> <strong>must</strong> be greater than or equal to
<a href="#VkExecutionGraphPipelineScratchSizeAMDX">VkExecutionGraphPipelineScratchSizeAMDX</a>::<code>minSize</code> returned by
<a href="#vkGetExecutionGraphPipelineScratchSizeAMDX">vkGetExecutionGraphPipelineScratchSizeAMDX</a> for the bound execution
graph pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-09184" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-09184"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-09184</span><br>

<code>scratch</code> <strong>must</strong> be a device address within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created
with the <code>VK_BUFFER_USAGE_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
or <code>VK_BUFFER_USAGE_2_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code>
flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10194" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10194"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-scratch-10194</span><br>

The device memory range [<code>scratch</code>,<code>scratch</code><br>
<code>scratchSize</code>] <strong>must</strong> have been initialized with
<a href="#vkCmdInitializeGraphScratchMemoryAMDX">vkCmdInitializeGraphScratchMemoryAMDX</a> using the bound execution
graph pipeline, and not modified after that by anything other than
another execution graph dispatch command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-maxComputeWorkGroupCount-09186" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-maxComputeWorkGroupCount-09186"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-maxComputeWorkGroupCount-09186</span><br>

Execution of this command <strong>must</strong> not cause a node to be dispatched with a
larger number of workgroups than that specified by either a
<code>MaxNumWorkgroupsAMDX</code> decoration in the dispatched node or
<a href="limits.html#limits-maxComputeWorkGroupCount" class="xref page"><code>maxComputeWorkGroupCount</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-maxExecutionGraphShaderPayloadCount-09187" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-maxExecutionGraphShaderPayloadCount-09187"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-maxExecutionGraphShaderPayloadCount-09187</span><br>

Execution of this command <strong>must</strong> not cause any shader to initialize more
than <a href="limits.html#limits-maxExecutionGraphShaderPayloadCount" class="xref page">    <code>maxExecutionGraphShaderPayloadCount</code></a> output payloads</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-NodeMaxPayloadsAMDX-09188" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-NodeMaxPayloadsAMDX-09188"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-NodeMaxPayloadsAMDX-09188</span><br>

Execution of this command <strong>must</strong> not cause any shader that declares
<code>NodeMaxPayloadsAMDX</code> to initialize more output payloads than
specified by the max number of payloads for that decoration.
This requirement applies to each <code>NodeMaxPayloadsAMDX</code> decoration
separately</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10195" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10195"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-None-10195</span><br>

   If the bound execution graph pipeline includes draw nodes, this command
   <strong>must</strong> be called within a render pass instance that is
compatible with the graphics pipeline used to create each of those nodes</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09159" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09159"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09159</span><br>

<code>countInfo</code> <strong>must</strong> be a device pointer to a memory allocation
containing a valid <a href="#VkDispatchGraphCountInfoAMDX">VkDispatchGraphCountInfoAMDX</a> structure when
this command is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09160" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09160"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09160</span><br>

<code>countInfo</code> <strong>must</strong> be a device address within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a>
created with the <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09161" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09161"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09161</span><br>

<code>countInfo</code> <strong>must</strong> be a multiple of
<a href="limits.html#limits-executionGraphDispatchAddressAlignment" class="xref page">    <code>executionGraphDispatchAddressAlignment</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09162" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09162"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09162</span><br>

<code>countInfo-&gt;infos</code> <strong>must</strong> be a device pointer to a memory allocation
at least as large as the product of <code>count</code> and <code>stride</code> when
this command is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09163" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09163"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09163</span><br>

<code>countInfo-&gt;infos</code> <strong>must</strong> be a device address within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a>
created with the <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09164" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09164"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09164</span><br>

<code>countInfo-&gt;infos</code> <strong>must</strong> be a multiple of
<a href="limits.html#limits-executionGraphDispatchAddressAlignment" class="xref page">    <code>executionGraphDispatchAddressAlignment</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-infos-09165" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-infos-09165"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-infos-09165</span><br>

Device memory locations at indexes in the range [<code>infos</code>,
<code>infos</code> + (<code>count</code>*<code>stride</code>)), at a granularity of
<code>stride</code> <strong>must</strong> contain valid <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a>
structures in the first 24 bytes when this command is executed on the
device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09166" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09166"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09166</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>countInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a device pointer to a
memory allocation at least as large as the product of <code>payloadCount</code>
and <code>payloadStride</code> when this command is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09167" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09167"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09167</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>countInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a device address within
a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09168" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09168"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09168</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>countInfo-&gt;infos</code>, <code>payloads</code> <strong>must</strong> be a multiple of
<a href="limits.html#limits-executionGraphDispatchAddressAlignment" class="xref page">    <code>executionGraphDispatchAddressAlignment</code></a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09169" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09169"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09169</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>countInfo-&gt;infos</code>, <code>nodeIndex</code> <strong>must</strong> be a valid node index in
the bound execution graph pipeline, as returned by
<a href="#vkGetExecutionGraphPipelineNodeIndexAMDX">vkGetExecutionGraphPipelineNodeIndexAMDX</a> when this command is
executed on the device</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09170" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09170"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-countInfo-09170</span><br>

For each <a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structure in
<code>countInfo-&gt;infos</code>, device memory locations at indexes in the range
[<code>payloads</code>, <code>payloads</code> + (<code>payloadCount</code> *
<code>payloadStride</code>)), at a granularity of <code>payloadStride</code> <strong>must</strong>
contain a payload matching the size of the input payload expected by the
node in <code>nodeIndex</code> in the first bytes when this command is executed
on the device</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-parameter" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-recording" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-videocoding" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-videocoding"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchGraphIndirectCountAMDX-bufferlevel" href="#VUID-vkCmdDispatchGraphIndirectCountAMDX-bufferlevel"></a> <span class="vuid">VUID-vkCmdDispatchGraphIndirectCountAMDX-bufferlevel</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDeviceOrHostAddressConstAMDX</code> union is defined as:</p>
</div>
<div id="VkDeviceOrHostAddressConstAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef union VkDeviceOrHostAddressConstAMDX {
    VkDeviceAddress    deviceAddress;
    const void*        hostAddress;
} VkDeviceOrHostAddressConstAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>deviceAddress</code> is a buffer device address as returned by the
<a href="descriptorsets.html#vkGetBufferDeviceAddressKHR" class="xref page">vkGetBufferDeviceAddressKHR</a> command.</p>
</li>
<li>
<p><code>hostAddress</code> is a const host memory address.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDispatchGraphCountInfoAMDX</code> structure is defined as:</p>
</div>
<div id="VkDispatchGraphCountInfoAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef struct VkDispatchGraphCountInfoAMDX {
    uint32_t                          count;
    VkDeviceOrHostAddressConstAMDX    infos;
    uint64_t                          stride;
} VkDispatchGraphCountInfoAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>count</code> is the number of dispatches to perform.</p>
</li>
<li>
<p><code>infos</code> is the device or host address of a flat array of
<a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structures</p>
</li>
<li>
<p><code>stride</code> is the byte stride between successive
<a href="#VkDispatchGraphInfoAMDX">VkDispatchGraphInfoAMDX</a> structures in <code>infos</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whether <code>infos</code> is consumed as a device or host pointer is defined by
the command this structure is used in.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDispatchGraphInfoAMDX</code> structure is defined as:</p>
</div>
<div id="VkDispatchGraphInfoAMDX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_AMDX_shader_enqueue
typedef struct VkDispatchGraphInfoAMDX {
    uint32_t                          nodeIndex;
    uint32_t                          payloadCount;
    VkDeviceOrHostAddressConstAMDX    payloads;
    uint64_t                          payloadStride;
} VkDispatchGraphInfoAMDX;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>nodeIndex</code> is the index of a node in an execution graph to be
dispatched.</p>
</li>
<li>
<p><code>payloadCount</code> is the number of payloads to dispatch for the
specified node.</p>
</li>
<li>
<p><code>payloads</code> is a device or host address pointer to a flat array of
payloads with size equal to the product of <code>payloadCount</code> and
<code>payloadStride</code></p>
</li>
<li>
<p><code>payloadStride</code> is the byte stride between successive payloads in
<code>payloads</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whether <code>payloads</code> is consumed as a device or host pointer is defined by
the command this structure is used in.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDispatchGraphInfoAMDX-payloadCount-09171" href="#VUID-VkDispatchGraphInfoAMDX-payloadCount-09171"></a> <span class="vuid">VUID-VkDispatchGraphInfoAMDX-payloadCount-09171</span><br>

<code>payloadCount</code> <strong>must</strong> be no greater than
<a href="limits.html#limits-maxExecutionGraphShaderPayloadCount" class="xref page">    <code>maxExecutionGraphShaderPayloadCount</code></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_shader_enqueue"><a class="anchor" href="#_shader_enqueue"></a>Shader Enqueue</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Compute shaders in an execution graph <strong>can</strong> use the
<code>OpInitializeNodePayloadsAMDX</code> to initialize nodes for dispatch.
Any node payload initialized in this way will be enqueued for dispatch once
the shader is done writing to the payload.
As compilers <strong>may</strong> be conservative when making this determination, shaders
<strong>can</strong> further call <code>OpFinalizeNodePayloadsAMDX</code> to guarantee that the
payload is no longer being written.</p>
</div>
<div class="paragraph">
<p>The <code>Node</code> <code>Name</code> operand of the <code>PayloadNodeNameAMDX</code> decoration
on a payload identifies the shader name of the node to be enqueued, and the
<code>Shader</code> <code>Index</code> operand of <code>OpInitializeNodePayloadsAMDX</code>
identifies the shader index.
A node identified in this way is dispatched as described in the following
sections.</p>
</div>
<div class="sect2">
<h3 id="_compute_nodes"><a class="anchor" href="#_compute_nodes"></a>Compute Nodes</h3>
<div class="paragraph">
<p>Compute shaders added as nodes to an execution graph are executed
differently based on the presence or absence of the
<code>StaticNumWorkgroupsAMDX</code> or <code>CoalescingAMDX</code> execution modes.</p>
</div>
<div class="paragraph">
<p>Dispatching a compute shader node that does not declare either the
<code>StaticNumWorkgroupsAMDX</code> or <code>CoalescingAMDX</code> execution mode will
execute a number of workgroups in each dimension specified by the first 12
bytes of the payload, interpreted as a <a href="dispatch.html#VkDispatchIndirectCommand" class="xref page">VkDispatchIndirectCommand</a>.
The same payload will be broadcast to each workgroup in the same dispatch.
Additional values in the payload are have no effect on execution.</p>
</div>
<div class="paragraph">
<p>Dispatching a compute shader node with the <code>StaticNumWorkgroupsAMDX</code>
execution mode will execute workgroups in each dimension according to the
<code>x</code>, <code>y</code>, and <code>z</code> <code>size</code> operands to the
<code>StaticNumWorkgroupsAMDX</code> execution mode.
The same payload will be broadcast to each workgroup in the same dispatch.
Any values in the payload have no effect on execution.</p>
</div>
<div class="paragraph">
<p>Dispatching a compute shader node with the <code>CoalescingAMDX</code> execution
mode will enqueue a single invocation for execution.
Implementations <strong>may</strong> combine multiple such dispatches into the same
workgroup, up to the size of the workgroup.
The number of invocations coalesced into a given workgroup in this way <strong>can</strong>
be queried via the <a href="interfaces.html#interfaces-builtin-variables-coalescedinputcountamd" class="xref page"><code>CoalescedInputCountAMDX</code></a> built-in.
Any values in the payload have no effect on execution.</p>
</div>
</div>
<div class="sect2">
<h3 id="executiongraphs-meshnodes"><a class="anchor" href="#executiongraphs-meshnodes"></a>Mesh Nodes</h3>
<div class="paragraph">
<p>Graphics pipelines added as nodes to an execution graph are executed in a
manner similar to a <a href="drawing.html#vkCmdDrawMeshTasksIndirectEXT" class="xref page">vkCmdDrawMeshTasksIndirectEXT</a>, using the same
payloads as compute shaders, but capturing some state from the command
buffer.</p>
</div>
<div id="executiongraphs-meshnodes-statecapture" class="paragraph">
<p>When an execution graph dispatch is recorded into a command buffer, it
captures the following dynamic state for use with draw nodes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_WIDTH</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other state is not captured, and graphics pipelines <strong>must</strong> not be created
with other dynamic states when used as a library in an execution graph
pipeline.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
