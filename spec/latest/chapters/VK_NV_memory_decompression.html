<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Memory Decompression :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_low_latency2/low_latency2.html">Low Latency 2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="VK_NV_memory_decompression.html">Memory Decompression</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/KhronosGroup/Vulkan-Docs/edit/main/antora/spec/modules/ROOT/pages/chapters/VK_NV_memory_decompression.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Memory Decompression</h1>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To decompress data between one or more memory regions call:</p>
</div>
<div id="vkCmdDecompressMemoryNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_memory_decompression
void vkCmdDecompressMemoryNV(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    decompressRegionCount,
    const VkDecompressMemoryRegionNV*           pDecompressMemoryRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>decompressRegionCount</code> is the number of memory regions to
decompress.</p>
</li>
<li>
<p><code>pDecompressMemoryRegions</code> is a pointer to an array of
<code>decompressRegionCount</code> <a href="#VkDecompressMemoryRegionNV">VkDecompressMemoryRegionNV</a> structures
specifying decompression parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region specified in <code>pDecompressMemoryRegions</code> is decompressed from
the source to destination region based on the specified decompression
method.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-None-07684" href="#VUID-vkCmdDecompressMemoryNV-None-07684"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-None-07684</span><br>

The <a href="features.html#features-memoryDecompression" class="xref page"><code>memoryDecompression</code></a> feature
<strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-commandBuffer-parameter" href="#VUID-vkCmdDecompressMemoryNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-pDecompressMemoryRegions-parameter" href="#VUID-vkCmdDecompressMemoryNV-pDecompressMemoryRegions-parameter"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-pDecompressMemoryRegions-parameter</span><br>
 <code>pDecompressMemoryRegions</code> <strong>must</strong> be a valid pointer to an array of <code>decompressRegionCount</code> valid <a href="#VkDecompressMemoryRegionNV">VkDecompressMemoryRegionNV</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-commandBuffer-recording" href="#VUID-vkCmdDecompressMemoryNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-commandBuffer-cmdpool" href="#VUID-vkCmdDecompressMemoryNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-renderpass" href="#VUID-vkCmdDecompressMemoryNV-renderpass"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-videocoding" href="#VUID-vkCmdDecompressMemoryNV-videocoding"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryNV-decompressRegionCount-arraylength" href="#VUID-vkCmdDecompressMemoryNV-decompressRegionCount-arraylength"></a> <span class="vuid">VUID-vkCmdDecompressMemoryNV-decompressRegionCount-arraylength</span><br>
 <code>decompressRegionCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDecompressMemoryRegionNV</code> structure is defined as:</p>
</div>
<div id="VkDecompressMemoryRegionNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_memory_decompression
typedef struct VkDecompressMemoryRegionNV {
    VkDeviceAddress                       srcAddress;
    VkDeviceAddress                       dstAddress;
    VkDeviceSize                          compressedSize;
    VkDeviceSize                          decompressedSize;
    VkMemoryDecompressionMethodFlagsNV    decompressionMethod;
} VkDecompressMemoryRegionNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcAddress</code> is the address where compressed data is stored.</p>
</li>
<li>
<p><code>dstAddress</code> is the destination address where decompressed data will
be written.</p>
</li>
<li>
<p><code>compressedSize</code> is the size of compressed data in bytes.</p>
</li>
<li>
<p><code>decompressedSize</code> is the size of decompressed data in bytes.</p>
</li>
<li>
<p><code>decompressionMethod</code> is a bitmask of
<code>VkMemoryDecompressionMethodFlagBitsNV</code> with a single bit set
specifying the method used to decompress data.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-srcAddress-07685" href="#VUID-VkDecompressMemoryRegionNV-srcAddress-07685"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-srcAddress-07685</span><br>

The <code>srcAddress</code> <strong>must</strong> be 4 byte aligned</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-srcAddress-07686" href="#VUID-VkDecompressMemoryRegionNV-srcAddress-07686"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-srcAddress-07686</span><br>

The memory in range <code>srcAddress</code> and <code>srcAddress</code> + 
<code>compressedSize</code> <strong>must</strong> be valid and bound to a <code>VkDeviceMemory</code>
object</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-dstAddress-07687" href="#VUID-VkDecompressMemoryRegionNV-dstAddress-07687"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-dstAddress-07687</span><br>

The <code>dstAddress</code> <strong>must</strong> be 4 byte aligned</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-decompressionMethod-09395" href="#VUID-VkDecompressMemoryRegionNV-decompressionMethod-09395"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-decompressionMethod-09395</span><br>

If <code>decompressionMethod</code> is
<code>VK_MEMORY_DECOMPRESSION_METHOD_GDEFLATE_1_0_BIT_NV</code>, then
<code>decompressedSize</code> <strong>must</strong> be less than or equal to 65536 bytes</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-dstAddress-07688" href="#VUID-VkDecompressMemoryRegionNV-dstAddress-07688"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-dstAddress-07688</span><br>

The memory in range <code>dstAddress</code> and <code>dstAddress</code> + 
<code>decompressedSize</code> <strong>must</strong> be valid and bound to a
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-decompressedSize-07689" href="#VUID-VkDecompressMemoryRegionNV-decompressedSize-07689"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-decompressedSize-07689</span><br>

The <code>decompressedSize</code> <strong>must</strong> be large enough to hold the
decompressed data based on the <code>decompressionMethod</code></p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-decompressionMethod-07690" href="#VUID-VkDecompressMemoryRegionNV-decompressionMethod-07690"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-decompressionMethod-07690</span><br>

The <code>decompressionMethod</code> <strong>must</strong> have a single bit set</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-srcAddress-07691" href="#VUID-VkDecompressMemoryRegionNV-srcAddress-07691"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-srcAddress-07691</span><br>

The <code>srcAddress</code> to <code>srcAddress</code> +  <code>compressedSize</code>
region <strong>must</strong> not overlap with the <code>dstAddress</code> and <code>dstAddress</code>
+  <code>decompressedSize</code> region</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-decompressionMethod-parameter" href="#VUID-VkDecompressMemoryRegionNV-decompressionMethod-parameter"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-decompressionMethod-parameter</span><br>
 <code>decompressionMethod</code> <strong>must</strong> be a valid combination of <a href="#VkMemoryDecompressionMethodFlagBitsNV">VkMemoryDecompressionMethodFlagBitsNV</a> values</p>
</li>
<li>
<p><a id="VUID-VkDecompressMemoryRegionNV-decompressionMethod-requiredbitmask" href="#VUID-VkDecompressMemoryRegionNV-decompressionMethod-requiredbitmask"></a> <span class="vuid">VUID-VkDecompressMemoryRegionNV-decompressionMethod-requiredbitmask</span><br>
 <code>decompressionMethod</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To decompress data between one or more memory regions by specifying
decompression parameters indirectly in a buffer, call:</p>
</div>
<div id="vkCmdDecompressMemoryIndirectCountNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_memory_decompression
void vkCmdDecompressMemoryIndirectCountNV(
    VkCommandBuffer                             commandBuffer,
    VkDeviceAddress                             indirectCommandsAddress,
    VkDeviceAddress                             indirectCommandsCountAddress,
    uint32_t                                    stride);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>indirectCommandsAddress</code> is the device address containing
decompression parameters laid out as an array of
<a href="#VkDecompressMemoryRegionNV">VkDecompressMemoryRegionNV</a> structures.</p>
</li>
<li>
<p><code>indirectCommandsCountAddress</code> is the device address containing the
decompression count.</p>
</li>
<li>
<p><code>stride</code> is the byte stride between successive sets of decompression
parameters located starting from <code>indirectCommandsAddress</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region specified in <code>indirectCommandsAddress</code> is decompressed from
the source to destination region based on the specified decompression
method.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-None-07692" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-None-07692"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-None-07692</span><br>

The <a href="features.html#features-memoryDecompression" class="xref page"><code>memoryDecompression</code></a> feature
<strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07693" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07693"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07693</span><br>

If <code>indirectCommandsAddress</code> comes from a non-sparse buffer then it
<strong>must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07694" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07694"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsAddress-07694</span><br>

The <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> that <code>indirectCommandsAddress</code> comes from <strong>must</strong>
have been created with the <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit
set</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-offset-07695" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-offset-07695"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-offset-07695</span><br>

<code>offset</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07696" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07696"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07696</span><br>

If <code>indirectCommandsCountAddress</code> comes from a non-sparse buffer
then it <strong>must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07697" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07697"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07697</span><br>

The <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> that <code>indirectCommandsCountAddress</code> comes from
<strong>must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07698" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07698"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07698</span><br>

<code>indirectCommandsCountAddress</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07699" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07699"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07699</span><br>

The count stored in <code>indirectCommandsCountAddress</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceMemoryDecompressionPropertiesNV</code>::<code>maxDecompressionIndirectCount</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-stride-07700" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-stride-07700"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-stride-07700</span><br>

<code>stride</code> <strong>must</strong> be a multiple of <code>4</code> and <strong>must</strong> be greater than or
equal to sizeof(<code>VkDecompressMemoryRegionNV</code>)</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07701" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07701"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07701</span><br>

If the count stored in <code>indirectCommandsCountAddress</code> is equal to
<code>1</code>, <span class="eq">(<code>offset</code> + 
sizeof(<code>VkDecompressMemoryRegionNV</code>))</span> <strong>must</strong> be less than or equal
to the size of the <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> that <code>indirectCommandsAddress</code>
comes from</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07702" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07702"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-indirectCommandsCountAddress-07702</span><br>

If the count stored in <code>indirectCommandsCountAddress</code> is greater
than <code>1</code>, <code>indirectCommandsAddress</code> + 
sizeof(<code>VkDecompressMemoryRegionNV</code>) +  <span class="eq">(<code>stride</code>
× (count stored in <code>countBuffer</code> - 1))</span> <strong>must</strong> be less than or
equal to the last valid address in the <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> that
<code>indirectCommandsAddress</code> was created from</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-parameter" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-recording" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-cmdpool" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-renderpass" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-renderpass"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDecompressMemoryIndirectCountNV-videocoding" href="#VUID-vkCmdDecompressMemoryIndirectCountNV-videocoding"></a> <span class="vuid">VUID-vkCmdDecompressMemoryIndirectCountNV-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="videocoding.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<code>VkDecompressMemoryRegionNV</code>::<code>decompressionMethod</code> specifying the
decompression method to select, or returned in
<code>VkPhysicalDeviceMemoryDecompressionPropertiesNV</code>::<code>decompressionMethods</code>
specifying the available decompression methods are:</p>
</div>
<div id="VkMemoryDecompressionMethodFlagBitsNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_memory_decompression
// Flag bits for VkMemoryDecompressionMethodFlagBitsNV
typedef VkFlags64 VkMemoryDecompressionMethodFlagBitsNV;
static const VkMemoryDecompressionMethodFlagBitsNV VK_MEMORY_DECOMPRESSION_METHOD_GDEFLATE_1_0_BIT_NV = 0x00000001ULL;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_DECOMPRESSION_METHOD_GDEFLATE_1_0_BIT_NV</code> specifies that
the GDeflate 1.0 algorithm is used to decompress data.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMemoryDecompressionMethodFlagsNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_memory_decompression
typedef VkFlags64 VkMemoryDecompressionMethodFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMemoryDecompressionMethodFlagsNV</code> is a bitmask type for specifying a
mask of one or more <code>VkMemoryDecompressionMethodFlagBitsNV</code>:</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <!--
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
    -->
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
