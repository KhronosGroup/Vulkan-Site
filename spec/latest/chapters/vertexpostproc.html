<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fixed-Function Vertex Post-Processing :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Fixed-Function Vertex Post-Processing</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>After <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stages</a>, the following fixed-function operations are applied to
vertices of the resulting primitives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flat shading (see <a href="#vertexpostproc-flatshading">Flat Shading</a>).</p>
</li>
<li>
<p>Primitive clipping, including application-defined half-spaces (see
<a href="#vertexpostproc-clipping">Primitive Clipping</a>).</p>
</li>
<li>
<p>Shader output attribute clipping (see
<a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>).</p>
</li>
<li>
<p>Perspective division on clip coordinates (see
<a href="#vertexpostproc-coord-transform">Coordinate Transformations</a>).</p>
</li>
<li>
<p>Viewport mapping, including depth range scaling (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>).</p>
</li>
<li>
<p>Front face determination for polygon primitives (see
<a href="primsrast.html#primsrast-polygons-basic" class="xref page">Basic Polygon Rasterization</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, rasterization is performed on primitives as described in chapter
<a href="primsrast.html#primsrast" class="xref page">Rasterization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc-flatshading"><a class="anchor" href="#vertexpostproc-flatshading"></a>Flat Shading</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Flat shading</em> a vertex output attribute means to assign all vertices of the
primitive the same value for that output.
The output values assigned are those of the <em>provoking vertex</em> of the
primitive.
Flat shading is applied to those vertex attributes that
<a href="interfaces.html#interfaces-iointerfaces-matching" class="xref page">match</a> fragment input attributes which
are decorated as <code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>If neither
<a href="geometry.html#geometry" class="xref page">geometry</a> nor <a href="tessellation.html#tessellation" class="xref page">tessellation shading</a> is active,
the provoking vertex is determined by the <a href="drawing.html#drawing-primitive-topologies" class="xref page">primitive topology</a> defined by
<a href="drawing.html#VkPipelineInputAssemblyStateCreateInfo" class="xref page">VkPipelineInputAssemblyStateCreateInfo</a>:<code>topology</code> used to execute
the <a href="drawing.html#drawing" class="xref page">drawing command</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="geometry.html#geometry" class="xref page">geometry shading</a> is active, the provoking vertex is
determined by the <a href="drawing.html#drawing-primitive-topologies" class="xref page">primitive topology</a>
defined by the <a href="drawing.html#drawing-point-lists" class="xref page"><code>OutputPoints</code></a>,
<a href="drawing.html#drawing-line-strips" class="xref page"><code>OutputLineStrip</code></a>, or <a href="drawing.html#drawing-triangle-strips" class="xref page"><code>OutputTriangleStrip</code></a> execution mode.</p>
</div>
<div class="paragraph">
<p>If <a href="tessellation.html#tessellation" class="xref page">tessellation shading</a> is active but <a href="geometry.html#geometry" class="xref page">geometry shading</a> is not, the provoking vertex <strong>may</strong> be any of the vertices in each
primitive.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc-clipping"><a class="anchor" href="#vertexpostproc-clipping"></a>Primitive Clipping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Primitives are culled against the <em>cull volume</em> and then clipped to the
<em>clip volume</em>.
In clip coordinates, the <em>view volume</em> is defined by:</p>
</div>
<div class="stemblock">
  <div class="content halign-center valign-middle" style="padding-top: 1rem">
<svg style="vertical-align: -3.733ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="14.97ex" height="8.597ex" role="img" focusable="false" viewBox="0 -2150 6616.6 3800"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtable"><g data-mml-node="mtr" transform="translate(0,1400)"><g data-mml-node="mtd"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(778,0)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mo" transform="translate(2161,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(3216.7,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mo" transform="translate(4455.7,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(5511.5,0)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(41,0)"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(778,0)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mo" transform="translate(2161,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(3216.7,0)"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mo" transform="translate(4373.7,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(5429.5,0)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-1400)"><g data-mml-node="mtd" transform="translate(410.7,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1446.6,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(2502.4,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mo" transform="translate(3634.4,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="msub" transform="translate(4690.1,0)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></g></g></g></svg>
  </div>
</div>
<div class="paragraph">
<p>where
<span class="eq">z<sub>m</sub></span> is equal to zero.</p>
</div>
<div class="paragraph">
<p>This view volume <strong>can</strong> be further restricted by as many as
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> application-defined
half-spaces.</p>
</div>
<div class="paragraph">
<p>The cull volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code> application-defined
half-spaces (if no application-defined cull half-spaces are enabled, culling
against the cull volume is skipped).</p>
</div>
<div class="paragraph">
<p>A shader <strong>must</strong> write a single cull distance for each enabled cull half-space
to elements of the <code>CullDistance</code> array.
If the cull distance for any enabled cull half-space is negative for all of
the vertices of the primitive under consideration, the primitive is
discarded.
Otherwise the primitive is clipped against the clip volume as defined below.</p>
</div>
<div class="paragraph">
<p>The clip volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> application-defined
half-spaces with the view volume (if no application-defined clip half-spaces
are enabled, the clip volume is the view volume).</p>
</div>
<div class="paragraph">
<p>A shader <strong>must</strong> write a single clip distance for each enabled clip half-space
to elements of the <code>ClipDistance</code> array.
Clip half-space <span class="eq">i</span> is then given by the set of points satisfying the
inequality</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">c<sub>i</sub>(<strong>P</strong>) ≥ 0</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is the clip distance <span class="eq">i</span> at point <span class="eq"><strong>P</strong></span>.
For point primitives, <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is simply the clip distance for the
vertex in question.
For line and triangle primitives, per-vertex clip distances are interpolated
using a weighted mean, with weights derived according to the algorithms
described in sections <a href="primsrast.html#primsrast-lines-basic" class="xref page">Basic Line Segment Rasterization</a> and <a href="primsrast.html#primsrast-polygons-basic" class="xref page">Basic Polygon Rasterization</a>, using the perspective interpolation equations.</p>
</div>
<div class="paragraph">
<p>The number of application-defined clip and cull half-spaces that are enabled
is determined by the explicit size of the built-in arrays <code>ClipDistance</code>
and <code>CullDistance</code>, respectively, declared as an output in the interface
of the entry point of the final shader stage before clipping.</p>
</div>
<div class="paragraph">
<p>Depth clamping is enabled or disabled via the <code>depthClampEnable</code> enable
of the <a href="primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a> structure.
Depth clipping is disabled when <code>depthClampEnable</code> is <code>VK_TRUE</code>.</p>
</div>
<div class="paragraph">
<p>When depth clipping is disabled, the plane equation</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z<sub>m</sub> ≤ z<sub>c</sub> ≤ w<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(see the clip volume definition above) is ignored by view volume clipping
(effectively, there is no near or far plane clipping).</p>
</div>
<div class="paragraph">
<p>If the primitive under consideration is a point or line segment, then
clipping passes it unchanged if its vertices lie entirely within the clip
volume.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="limits.html#VkPhysicalDevicePointClippingProperties" class="xref page">VkPhysicalDevicePointClippingProperties</a>::<code>pointClippingBehavior</code>,
specifying clipping behavior of a point primitive whose vertex lies outside
the clip volume, are:</p>
</div>
<div id="VkPointClippingBehavior" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkPointClippingBehavior {
    VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES = 0,
    VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY = 1,
} VkPointClippingBehavior;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES</code> specifies that the
primitive is discarded if the vertex lies outside any clip plane,
including the planes bounding the view volume.</p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY</code> specifies that
the primitive is discarded only if the vertex lies outside any user clip
plane.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If either of a line segment&#8217;s vertices lie outside of the clip volume, the
line segment <strong>may</strong> be clipped, with new vertex coordinates computed for each
vertex that lies outside the clip volume.
A clipped line segment endpoint lies on both the original line segment and
the boundary of the clip volume.</p>
</div>
<div class="paragraph">
<p>This clipping produces a value, <span class="eq">0 ≤ t ≤ 1</span>, for each clipped
vertex.
If the coordinates of a clipped vertex are <span class="eq"><strong>P</strong></span> and the unclipped
line segment&#8217;s vertex coordinates are <span class="eq"><strong>P</strong><sub>1</sub></span> and <span class="eq"><strong>P</strong><sub>2</sub></span>,
then <span class="eq">t</span> satisfies the following equation</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>P</strong> = t <strong>P</strong><sub>1</sub> +  (1-t) <strong>P</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="eq">t</span> is used to clip vertex output attributes as described in
<a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>.</p>
</div>
<div class="paragraph">
<p>If the primitive is a polygon, it passes unchanged if every one of its edges
lies entirely inside the clip volume, and is either clipped or discarded
otherwise.
If the edges of the polygon intersect the boundary of the clip volume, the
intersecting edges are reconnected by new edges that lie along the boundary
of the clip volume - in some cases requiring the introduction of new
vertices into a polygon.</p>
</div>
<div class="paragraph">
<p>If a polygon intersects an edge of the clip volume&#8217;s boundary, the clipped
polygon <strong>must</strong> include a point on this boundary edge.</p>
</div>
<div class="paragraph">
<p>Primitives rendered with application-defined half-spaces <strong>must</strong> satisfy a
complementarity criterion.
Suppose a series of primitives is drawn where each vertex <span class="eq">i</span> has a
single specified clip distance <span class="eq">d<sub>i</sub></span> (or a number of similarly
specified clip distances, if multiple half-spaces are enabled).
Next, suppose that the same series of primitives are drawn again with each
such clip distance replaced by <span class="eq">-d<sub>i</sub></span> (and the graphics pipeline is
otherwise the same).
In this case, primitives <strong>must</strong> not be missing any pixels, and pixels <strong>must</strong>
not be drawn twice in regions where those primitives are cut by the clip
planes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc-clipping-shader-outputs"><a class="anchor" href="#vertexpostproc-clipping-shader-outputs"></a>Clipping Shader Outputs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, vertex output attributes are clipped.
The output values associated with a vertex that lies within the clip volume
are unaffected by clipping.
If a primitive is clipped, however, the output values assigned to vertices
produced by clipping are clipped.</p>
</div>
<div class="paragraph">
<p>Let the output values assigned to the two vertices <span class="eq"><strong>P</strong><sub>1</sub></span> and
<span class="eq"><strong>P</strong><sub>2</sub></span> of an unclipped edge be <span class="eq"><strong>c</strong><sub>1</sub></span> and <span class="eq"><strong>c</strong><sub>2</sub></span>.
The value of <span class="eq">t</span> (see <a href="#vertexpostproc-clipping">Primitive Clipping</a>)
for a clipped point <span class="eq"><strong>P</strong></span> is used to obtain the output value
associated with <span class="eq"><strong>P</strong></span> as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>c</strong> = t <strong>c</strong><sub>1</sub> +  (1-t) <strong>c</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(Multiplying an output value by a scalar means multiplying each of <em>x</em>, <em>y</em>,
<em>z</em>, and <em>w</em> by the scalar.)</p>
</div>
<div class="paragraph">
<p>Since this computation is performed in clip space before division by
<span class="eq">w<sub>c</sub></span>, clipped output values are perspective-correct.</p>
</div>
<div class="paragraph">
<p>Polygon clipping creates a clipped vertex along an edge of the clip volume&#8217;s
boundary.
This situation is handled by noting that polygon clipping proceeds by
clipping against one half-space at a time.
Output value clipping is done in the same way, so that clipped points always
occur at the intersection of polygon edges (possibly already clipped) with
the clip volume&#8217;s boundary.</p>
</div>
<div class="paragraph">
<p>For vertex output attributes whose matching fragment input attributes are
decorated with <code>NoPerspective</code>, the value of <span class="eq">t</span> used to obtain the
output value associated with <span class="eq"><strong>P</strong></span> will be adjusted to produce results
that vary linearly in framebuffer space.</p>
</div>
<div class="paragraph">
<p>Output attributes of integer or unsigned integer type <strong>must</strong> always be flat
shaded.
Flat shaded attributes are constant over the primitive being rasterized (see
<a href="primsrast.html#primsrast-lines-basic" class="xref page">Basic Line Segment Rasterization</a> and
<a href="primsrast.html#primsrast-polygons-basic" class="xref page">Basic Polygon Rasterization</a>), and no
interpolation is performed.
The output value <span class="eq"><strong>c</strong></span> is taken from either <span class="eq"><strong>c</strong><sub>1</sub></span> or
<span class="eq"><strong>c</strong><sub>2</sub></span>, since flat shading has already occurred and the two values
are identical.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc-coord-transform"><a class="anchor" href="#vertexpostproc-coord-transform"></a>Coordinate Transformations</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Clip coordinates</em> for a vertex result from shader execution, which yields a
vertex coordinate <code>Position</code>.</p>
</div>
<div class="paragraph">
<p>Perspective division on clip coordinates yields <em>normalized device
coordinates</em>, followed by a <em>viewport</em> transformation (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>) to convert these
coordinates into <em>framebuffer coordinates</em>.</p>
</div>
<div class="paragraph">
<p>If a vertex in clip coordinates has a position given by</p>
</div>
<div class="stemblock">
  <div class="content halign-center valign-middle" style="padding-top: 1rem">
<svg style="vertical-align: -5.317ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="6.46ex" height="11.765ex" role="img" focusable="false" viewBox="0 -2850 2855.2 5200"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo"><path data-c="239B" d="M837 1154Q843 1148 843 1145Q843 1141 818 1106T753 1002T667 841T574 604T494 299Q417 -84 417 -609Q417 -641 416 -647T411 -654Q409 -655 366 -655Q299 -655 297 -654Q292 -652 292 -643T291 -583Q293 -400 304 -242T347 110T432 470T574 813T785 1136Q787 1139 790 1142T794 1147T796 1150T799 1152T802 1153T807 1154T813 1154H819H837Z" transform="translate(0,1696)"></path><path data-c="239D" d="M843 -635Q843 -638 837 -644H820Q801 -644 800 -643Q792 -635 785 -626Q684 -503 605 -363T473 -75T385 216T330 518T302 809T291 1093Q291 1144 291 1153T296 1164Q298 1165 366 1165Q409 1165 411 1164Q415 1163 416 1157T417 1119Q417 529 517 109T833 -617Q843 -631 843 -635Z" transform="translate(0,-1706)"></path><svg width="875" height="1782" y="-641" x="0" viewBox="0 402.4 875 1782"><path data-c="239C" d="M413 -9Q412 -9 407 -9T388 -10T354 -10Q300 -10 297 -9Q294 -8 293 -5Q291 5 291 127V300Q291 602 292 605L296 609Q298 610 366 610Q382 610 392 610T407 610T412 609Q416 609 416 592T417 473V127Q417 -9 413 -9Z" transform="scale(1,4.311)"></path></svg></g><g data-mml-node="mtable" transform="translate(875,0)"><g data-mml-node="mtr" transform="translate(0,2100)"><g data-mml-node="mtd" transform="translate(72,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,700)"><g data-mml-node="mtd" transform="translate(113,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-700)"><g data-mml-node="mtd" transform="translate(125.5,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-2100)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></g><g data-mml-node="mo" transform="translate(1980.2,0)"><path data-c="239E" d="M31 1143Q31 1154 49 1154H59Q72 1154 75 1152T89 1136Q190 1013 269 873T401 585T489 294T544 -8T572 -299T583 -583Q583 -634 583 -643T577 -654Q575 -655 508 -655Q465 -655 463 -654Q459 -653 458 -647T457 -609Q457 -58 371 340T100 1037Q87 1059 61 1098T31 1143Z" transform="translate(0,1696)"></path><path data-c="23A0" d="M56 -644H50Q31 -644 31 -635Q31 -632 37 -622Q69 -579 100 -527Q286 -228 371 170T457 1119Q457 1161 462 1164Q464 1165 520 1165Q575 1165 577 1164Q582 1162 582 1153T583 1093Q581 910 570 752T527 400T442 40T300 -303T89 -626Q78 -640 75 -642T61 -644H56Z" transform="translate(0,-1706)"></path><svg width="875" height="1782" y="-641" x="0" viewBox="0 402.4 875 1782"><path data-c="239F" d="M579 -9Q578 -9 573 -9T554 -10T520 -10Q466 -10 463 -9Q460 -8 459 -5Q457 5 457 127V300Q457 602 458 605L462 609Q464 610 532 610Q548 610 558 610T573 610T578 609Q582 609 582 592T583 473V127Q583 -9 579 -9Z" transform="scale(1,4.311)"></path></svg></g></g></g></g></svg>
  </div>
</div>
<div class="paragraph">
<p>then the vertex&#8217;s normalized device coordinates are</p>
</div>
<div class="stemblock">
  <div class="content halign-center valign-middle" style="padding-top: 1rem">
<svg style="vertical-align: -4.52ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="16.013ex" height="10.171ex" role="img" focusable="false" viewBox="0 -2497.7 7077.7 4495.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo"><path data-c="239B" d="M837 1154Q843 1148 843 1145Q843 1141 818 1106T753 1002T667 841T574 604T494 299Q417 -84 417 -609Q417 -641 416 -647T411 -654Q409 -655 366 -655Q299 -655 297 -654Q292 -652 292 -643T291 -583Q293 -400 304 -242T347 110T432 470T574 813T785 1136Q787 1139 790 1142T794 1147T796 1150T799 1152T802 1153T807 1154T813 1154H819H837Z" transform="translate(0,996)"></path><path data-c="239D" d="M843 -635Q843 -638 837 -644H820Q801 -644 800 -643Q792 -635 785 -626Q684 -503 605 -363T473 -75T385 216T330 518T302 809T291 1093Q291 1144 291 1153T296 1164Q298 1165 366 1165Q409 1165 411 1164Q415 1163 416 1157T417 1119Q417 529 517 109T833 -617Q843 -631 843 -635Z" transform="translate(0,-1006)"></path><svg width="875" height="382" y="59" x="0" viewBox="0 86.3 875 382"><path data-c="239C" d="M413 -9Q412 -9 407 -9T388 -10T354 -10Q300 -10 297 -9Q294 -8 293 -5Q291 5 291 127V300Q291 602 292 605L296 609Q298 610 366 610Q382 610 392 610T407 610T412 609Q416 609 416 592T417 473V127Q417 -9 413 -9Z" transform="scale(1,0.924)"></path></svg></g><g data-mml-node="mtable" transform="translate(875,0)"><g data-mml-node="mtr" transform="translate(0,1400)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(41,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-1400)"><g data-mml-node="mtd" transform="translate(53.5,0)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></g></g><g data-mml-node="mo" transform="translate(1897.7,0)"><path data-c="239E" d="M31 1143Q31 1154 49 1154H59Q72 1154 75 1152T89 1136Q190 1013 269 873T401 585T489 294T544 -8T572 -299T583 -583Q583 -634 583 -643T577 -654Q575 -655 508 -655Q465 -655 463 -654Q459 -653 458 -647T457 -609Q457 -58 371 340T100 1037Q87 1059 61 1098T31 1143Z" transform="translate(0,996)"></path><path data-c="23A0" d="M56 -644H50Q31 -644 31 -635Q31 -632 37 -622Q69 -579 100 -527Q286 -228 371 170T457 1119Q457 1161 462 1164Q464 1165 520 1165Q575 1165 577 1164Q582 1162 582 1153T583 1093Q581 910 570 752T527 400T442 40T300 -303T89 -626Q78 -640 75 -642T61 -644H56Z" transform="translate(0,-1006)"></path><svg width="875" height="382" y="59" x="0" viewBox="0 86.3 875 382"><path data-c="239F" d="M579 -9Q578 -9 573 -9T554 -10T520 -10Q466 -10 463 -9Q460 -8 459 -5Q457 5 457 127V300Q457 602 458 605L462 609Q464 610 532 610Q548 610 558 610T573 610T578 609Q582 609 582 592T583 473V127Q583 -9 579 -9Z" transform="scale(1,0.924)"></path></svg></g></g><g data-mml-node="mo" transform="translate(3050.5,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mrow" transform="translate(4106.3,0)"><g data-mml-node="mo"><path data-c="239B" d="M837 1154Q843 1148 843 1145Q843 1141 818 1106T753 1002T667 841T574 604T494 299Q417 -84 417 -609Q417 -641 416 -647T411 -654Q409 -655 366 -655Q299 -655 297 -654Q292 -652 292 -643T291 -583Q293 -400 304 -242T347 110T432 470T574 813T785 1136Q787 1139 790 1142T794 1147T796 1150T799 1152T802 1153T807 1154T813 1154H819H837Z" transform="translate(0,1343.7)"></path><path data-c="239D" d="M843 -635Q843 -638 837 -644H820Q801 -644 800 -643Q792 -635 785 -626Q684 -503 605 -363T473 -75T385 216T330 518T302 809T291 1093Q291 1144 291 1153T296 1164Q298 1165 366 1165Q409 1165 411 1164Q415 1163 416 1157T417 1119Q417 529 517 109T833 -617Q843 -631 843 -635Z" transform="translate(0,-1353.7)"></path><svg width="875" height="1077.4" y="-288.7" x="0" viewBox="0 243.3 875 1077.4"><path data-c="239C" d="M413 -9Q412 -9 407 -9T388 -10T354 -10Q300 -10 297 -9Q294 -8 293 -5Q291 5 291 127V300Q291 602 292 605L296 609Q298 610 366 610Q382 610 392 610T407 610T412 609Q416 609 416 592T417 473V127Q417 -9 413 -9Z" transform="scale(1,2.607)"></path></svg></g><g data-mml-node="mtable" transform="translate(875,0)"><g data-mml-node="mtr" transform="translate(0,1733.6)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(270.9,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="msub" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><rect width="981.5" height="60" x="120" y="220"></rect></g></g></g><g data-mml-node="mtr" transform="translate(0,79.5)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(299.9,485) scale(0.707)"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="msub" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><rect width="981.5" height="60" x="120" y="220"></rect></g></g></g><g data-mml-node="mtr" transform="translate(0,-1541.1)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(308.7,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="msub" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><rect width="981.5" height="60" x="120" y="220"></rect></g></g></g></g><g data-mml-node="mo" transform="translate(2096.5,0)"><path data-c="239E" d="M31 1143Q31 1154 49 1154H59Q72 1154 75 1152T89 1136Q190 1013 269 873T401 585T489 294T544 -8T572 -299T583 -583Q583 -634 583 -643T577 -654Q575 -655 508 -655Q465 -655 463 -654Q459 -653 458 -647T457 -609Q457 -58 371 340T100 1037Q87 1059 61 1098T31 1143Z" transform="translate(0,1343.7)"></path><path data-c="23A0" d="M56 -644H50Q31 -644 31 -635Q31 -632 37 -622Q69 -579 100 -527Q286 -228 371 170T457 1119Q457 1161 462 1164Q464 1165 520 1165Q575 1165 577 1164Q582 1162 582 1153T583 1093Q581 910 570 752T527 400T442 40T300 -303T89 -626Q78 -640 75 -642T61 -644H56Z" transform="translate(0,-1353.7)"></path><svg width="875" height="1077.4" y="-288.7" x="0" viewBox="0 243.3 875 1077.4"><path data-c="239F" d="M579 -9Q578 -9 573 -9T554 -10T520 -10Q466 -10 463 -9Q460 -8 459 -5Q457 5 457 127V300Q457 602 458 605L462 609Q464 610 532 610Q548 610 558 610T573 610T578 609Q582 609 582 592T583 473V127Q583 -9 579 -9Z" transform="scale(1,2.607)"></path></svg></g></g></g></g></svg>
  </div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc-viewport"><a class="anchor" href="#vertexpostproc-viewport"></a>Controlling the Viewport</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The viewport transformation is determined by the selected viewport&#8217;s width
and height in pixels, <span class="eq">p<sub>x</sub></span> and <span class="eq">p<sub>y</sub></span>, respectively, and its
center <span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> (also in pixels), as well as its depth range min
and max determining a depth range scale value <span class="eq">p<sub>z</sub></span> and a depth range
bias value <span class="eq">o<sub>z</sub></span> (defined below).
The vertex&#8217;s framebuffer coordinates <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> are given by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x<sub>f</sub> = (p<sub>x</sub> / 2) x<sub>d</sub> +  o<sub>x</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">y<sub>f</sub> = (p<sub>y</sub> / 2) y<sub>d</sub> +  o<sub>y</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z<sub>f</sub> = p<sub>z</sub> × z<sub>d</sub> +  o<sub>z</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Multiple viewports are available, numbered zero up to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code> minus one.
The number of viewports used by a pipeline is controlled by the
<code>viewportCount</code> member of the <code>VkPipelineViewportStateCreateInfo</code>
structure used in pipeline creation.</p>
</div>
<div class="paragraph">
<p><span class="eq">x<sub>f</sub></span> and <span class="eq">y<sub>f</sub></span> have limited precision, where the number of
fractional bits retained is specified by
<code>VkPhysicalDeviceLimits</code>::<code>subPixelPrecisionBits</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineViewportStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineViewportStateCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineViewportStateCreateInfo {
    VkStructureType                       sType;
    const void*                           pNext;
    VkPipelineViewportStateCreateFlags    flags;
    uint32_t                              viewportCount;
    const VkViewport*                     pViewports;
    uint32_t                              scissorCount;
    const VkRect2D*                       pScissors;
} VkPipelineViewportStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports used by the pipeline.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="#VkViewport">VkViewport</a>
structures, defining the viewport transforms.
If the viewport state is dynamic, this member is ignored.</p>
</li>
<li>
<p><code>scissorCount</code> is the number of <a href="fragops.html#fragops-scissor" class="xref page">scissors</a> and
<strong>must</strong> match the number of viewports.</p>
</li>
<li>
<p><code>pScissors</code> is a pointer to an array of <a href="fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> structures
defining the rectangular bounds of the scissor for the corresponding
viewport.
If the scissor state is dynamic, this member is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>viewportCount</code> <strong>must</strong> not be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>scissorCount</code> <strong>must</strong> not be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218</span><br>

<code>viewportCount</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219</span><br>

<code>scissorCount</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-x-02821" href="#VUID-VkPipelineViewportStateCreateInfo-x-02821"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-x-02821</span><br>

The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong>must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02822" href="#VUID-VkPipelineViewportStateCreateInfo-offset-02822"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-offset-02822</span><br>

Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong>must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02823" href="#VUID-VkPipelineViewportStateCreateInfo-offset-02823"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-offset-02823</span><br>

Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong>must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134</span><br>

If <code>scissorCount</code> and <code>viewportCount</code> are both not dynamic, then
<code>scissorCount</code> and <code>viewportCount</code> <strong>must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135</span><br>

If the graphics pipeline is being created with
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> set then <code>viewportCount</code>
<strong>must</strong> be <code>0</code>, otherwise
<code>viewportCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136</span><br>

If the graphics pipeline is being created with
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> set then <code>scissorCount</code>
<strong>must</strong> be <code>0</code>, otherwise
<code>scissorCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-sType-sType" href="#VUID-VkPipelineViewportStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineViewportStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="pipelines.html#pipelines-dynamic-state" class="xref page">dynamically set</a> the viewport count and
viewports, call:</p>
</div>
<div id="vkCmdSetViewportWithCount" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
void vkCmdSetViewportWithCount(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    viewportCount,
    const VkViewport*                           pViewports);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>viewportCount</code> specifies the viewport count.</p>
</li>
<li>
<p><code>pViewports</code> specifies the viewports to use for drawing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the viewport count and viewports state for subsequent
drawing commands
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT</code> set in
<a href="pipelines.html#VkPipelineDynamicStateCreateInfo" class="xref page">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the corresponding
<a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>::<code>viewportCount</code> and
<code>pViewports</code> values used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-None-08971" href="#VUID-vkCmdSetViewportWithCount-None-08971"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-None-08971</span><br>

At least one of the following <strong>must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> parent of <code>commandBuffer</code> is greater than or
equal to Version 1.3</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-viewportCount-03394" href="#VUID-vkCmdSetViewportWithCount-viewportCount-03394"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-viewportCount-03394</span><br>

<code>viewportCount</code> <strong>must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-viewportCount-03395" href="#VUID-vkCmdSetViewportWithCount-viewportCount-03395"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-viewportCount-03395</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>viewportCount</code> <strong>must</strong> be <code>1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-commandBuffer-parameter" href="#VUID-vkCmdSetViewportWithCount-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-pViewports-parameter" href="#VUID-vkCmdSetViewportWithCount-pViewports-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-pViewports-parameter</span><br>
 <code>pViewports</code> <strong>must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="#VkViewport">VkViewport</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-commandBuffer-recording" href="#VUID-vkCmdSetViewportWithCount-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-commandBuffer-cmdpool" href="#VUID-vkCmdSetViewportWithCount-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCount-viewportCount-arraylength" href="#VUID-vkCmdSetViewportWithCount-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewportWithCount-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="pipelines.html#pipelines-dynamic-state" class="xref page">dynamically set</a> the scissor count and
scissor rectangular bounds, call:</p>
</div>
<div id="vkCmdSetScissorWithCount" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
void vkCmdSetScissorWithCount(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    scissorCount,
    const VkRect2D*                             pScissors);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>scissorCount</code> specifies the scissor count.</p>
</li>
<li>
<p><code>pScissors</code> specifies the scissors to use for drawing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the scissor count and scissor rectangular bounds state for
subsequent drawing commands
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT</code> set in
<a href="pipelines.html#VkPipelineDynamicStateCreateInfo" class="xref page">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the corresponding
<a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>::<code>scissorCount</code> and
<code>pScissors</code> values used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-None-08971" href="#VUID-vkCmdSetScissorWithCount-None-08971"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-None-08971</span><br>

At least one of the following <strong>must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the value of <a href="initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code> used to create
the <a href="initialization.html#VkInstance" class="xref page">VkInstance</a> parent of <code>commandBuffer</code> is greater than or
equal to Version 1.3</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-scissorCount-03397" href="#VUID-vkCmdSetScissorWithCount-scissorCount-03397"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-scissorCount-03397</span><br>

<code>scissorCount</code> <strong>must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-scissorCount-03398" href="#VUID-vkCmdSetScissorWithCount-scissorCount-03398"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-scissorCount-03398</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>scissorCount</code> <strong>must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-x-03399" href="#VUID-vkCmdSetScissorWithCount-x-03399"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-x-03399</span><br>

The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong>must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-offset-03400" href="#VUID-vkCmdSetScissorWithCount-offset-03400"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-offset-03400</span><br>

Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong>must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-offset-03401" href="#VUID-vkCmdSetScissorWithCount-offset-03401"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-offset-03401</span><br>

Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong>must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-commandBuffer-parameter" href="#VUID-vkCmdSetScissorWithCount-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-pScissors-parameter" href="#VUID-vkCmdSetScissorWithCount-pScissors-parameter"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-pScissors-parameter</span><br>
 <code>pScissors</code> <strong>must</strong> be a valid pointer to an array of <code>scissorCount</code> <a href="fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-commandBuffer-recording" href="#VUID-vkCmdSetScissorWithCount-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-commandBuffer-cmdpool" href="#VUID-vkCmdSetScissorWithCount-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCount-scissorCount-arraylength" href="#VUID-vkCmdSetScissorWithCount-scissorCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetScissorWithCount-scissorCount-arraylength</span><br>
 <code>scissorCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineViewportStateCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineViewportStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineViewportStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A <em><a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a></em> <strong>can</strong> direct each primitive to one of several viewports.
The destination viewport for a primitive is selected by the last active
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> that has an output variable decorated with <code>ViewportIndex</code>.
The viewport transform uses the viewport corresponding to the value assigned
to <code>ViewportIndex</code>, and taken from an implementation-dependent vertex of
each primitive.
If <code>ViewportIndex</code> is outside the range zero to <code>viewportCount</code> minus
one for a primitive, or if the last active
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> did not assign a value to <code>ViewportIndex</code> for all vertices of a
primitive due to flow control, the values resulting from the viewport
transformation of the vertices of such primitives are <strong>undefined</strong>.
If the last <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> does not have an output decorated with <code>ViewportIndex</code>,
the viewport numbered zero is used by the viewport transformation.</p>
</div>
<div class="paragraph">
<p>A single vertex <strong>can</strong> be used in more than one individual primitive, in
primitives such as <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the viewport transformation is applied separately for each
primitive.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="pipelines.html#pipelines-dynamic-state" class="xref page">dynamically set</a> the viewport transformation
parameters, call:</p>
</div>
<div id="vkCmdSetViewport" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdSetViewport(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstViewport,
    uint32_t                                    viewportCount,
    const VkViewport*                           pViewports);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstViewport</code> is the index of the first viewport whose parameters
are updated by the command.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports whose parameters are
updated by the command.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="#VkViewport">VkViewport</a> structures
specifying viewport parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the viewport transformation parameters state for
subsequent drawing commands
when the graphics pipeline is created with <code>VK_DYNAMIC_STATE_VIEWPORT</code>
set in <a href="pipelines.html#VkPipelineDynamicStateCreateInfo" class="xref page">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<code>VkPipelineViewportStateCreateInfo</code>::<code>pViewports</code> values used to
create the currently active pipeline.</p>
</div>
<div class="paragraph">
<p>The viewport parameters taken from element <span class="eq">i</span> of <code>pViewports</code>
replace the current state for the viewport index <span class="eq"><code>firstViewport</code>
+  i</span>, for <span class="eq">i</span> in <span class="eq">[0, <code>viewportCount</code>)</span>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01223" href="#VUID-vkCmdSetViewport-firstViewport-01223"></a> <span class="vuid">VUID-vkCmdSetViewport-firstViewport-01223</span><br>

The sum of <code>firstViewport</code> and <code>viewportCount</code> <strong>must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01224" href="#VUID-vkCmdSetViewport-firstViewport-01224"></a> <span class="vuid">VUID-vkCmdSetViewport-firstViewport-01224</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>firstViewport</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-01225" href="#VUID-vkCmdSetViewport-viewportCount-01225"></a> <span class="vuid">VUID-vkCmdSetViewport-viewportCount-01225</span><br>

If the <a href="features.html#features-multiViewport" class="xref page"><code>multiViewport</code></a> feature is not
enabled, <code>viewportCount</code> <strong>must</strong> be <code>1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-parameter" href="#VUID-vkCmdSetViewport-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-pViewports-parameter" href="#VUID-vkCmdSetViewport-pViewports-parameter"></a> <span class="vuid">VUID-vkCmdSetViewport-pViewports-parameter</span><br>
 <code>pViewports</code> <strong>must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="#VkViewport">VkViewport</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-recording" href="#VUID-vkCmdSetViewport-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-cmdpool" href="#VUID-vkCmdSetViewport-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-arraylength" href="#VUID-vkCmdSetViewport-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewport-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Both <a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> and <a href="#vkCmdSetViewport">vkCmdSetViewport</a> use
<code>VkViewport</code> to set the viewport transformation parameters.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViewport</code> structure is defined as:</p>
</div>
<div id="VkViewport" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkViewport {
    float    x;
    float    y;
    float    width;
    float    height;
    float    minDepth;
    float    maxDepth;
} VkViewport;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> and <code>y</code> are the viewport&#8217;s upper left corner <span class="eq">(x,y)</span>.</p>
</li>
<li>
<p><code>width</code> and <code>height</code> are the viewport&#8217;s width and height,
respectively.</p>
</li>
<li>
<p><code>minDepth</code> and <code>maxDepth</code> are the depth range for the viewport.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Despite their names, <code>minDepth</code> <strong>can</strong> be less than, equal to, or greater
than <code>maxDepth</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The framebuffer depth coordinate <span class="eq"><code>z</code><sub>f</sub></span> <strong>may</strong> be represented using
either a fixed-point or floating-point representation.
However, a floating-point representation <strong>must</strong> be used if the depth/stencil
attachment has a floating-point depth component.
If an <span class="eq">m</span>-bit fixed-point representation is used, we assume that it
represents each value <span class="steminline"> <svg style="vertical-align: -0.912ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="4.966ex" height="2.913ex" role="img" focusable="false" viewBox="0 -884.7 2194.9 1287.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(913.3,394) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mrow" transform="translate(220,-345) scale(0.707)"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,289) scale(0.707)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1203.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1981.8,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><rect width="1954.9" height="60" x="120" y="220"></rect></g></g></g></svg> </span>, where <span class="eq">k ∈ {
0, 1, &#8230;&#8203;, 2<sup>m</sup>-1 }</span>, as <span class="eq">k</span> (e.g. 1.0 is represented in binary as a
string of all ones).</p>
</div>
<div class="paragraph">
<p>The viewport parameters shown in the above equations are found from these
values as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>x</sub> = <code>x</code> +  <code>width</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>y</sub> = <code>y</code> +  <code>height</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>z</sub> = <code>minDepth</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>x</sub> = <code>width</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>y</sub> = <code>height</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>z</sub> = <code>maxDepth</code> - <code>minDepth</code></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The application <strong>can</strong> specify a negative term for <code>height</code>, which has the
effect of negating the y coordinate in clip space before performing the
transform.
When using a negative <code>height</code>, the application <strong>should</strong> also adjust the
<code>y</code> value to point to the lower left corner of the viewport instead of
the upper left corner.
Using the negative <code>height</code> allows the application to avoid having to
negate the y component of the <code>Position</code> output from the last
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a>.</p>
</div>
<div class="paragraph">
<p>The width and height of the <a href="limits.html#limits-maxViewportDimensions" class="xref page">implementation-dependent maximum viewport dimensions</a> <strong>must</strong> be greater than
or equal to the width and height of the largest image which <strong>can</strong> be created
and attached to a framebuffer.</p>
</div>
<div class="paragraph">
<p>The floating-point viewport bounds are represented with an
<a href="limits.html#limits-viewportSubPixelBits" class="xref page">implementation-dependent precision</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViewport-width-01770" href="#VUID-VkViewport-width-01770"></a> <span class="vuid">VUID-VkViewport-width-01770</span><br>

<code>width</code> <strong>must</strong> be greater than <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkViewport-width-01771" href="#VUID-VkViewport-width-01771"></a> <span class="vuid">VUID-VkViewport-width-01771</span><br>

<code>width</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-apiVersion-07917" href="#VUID-VkViewport-apiVersion-07917"></a> <span class="vuid">VUID-VkViewport-apiVersion-07917</span><br>

If the <code>VK_KHR_maintenance1</code> extension is not enabled, the
<code>VK_AMD_negative_viewport_height</code> extension is not enabled, and
<a href="devsandqueues.html#VkPhysicalDeviceProperties" class="xref page">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> is less than Vulkan
1.1, <code>height</code> <strong>must</strong> be greater than <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkViewport-height-01773" href="#VUID-VkViewport-height-01773"></a> <span class="vuid">VUID-VkViewport-height-01773</span><br>

The absolute value of <code>height</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01774" href="#VUID-VkViewport-x-01774"></a> <span class="vuid">VUID-VkViewport-x-01774</span><br>

<code>x</code> <strong>must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01232" href="#VUID-VkViewport-x-01232"></a> <span class="vuid">VUID-VkViewport-x-01232</span><br>

<span class="eq">(<code>x</code> +  <code>width</code>)</span> <strong>must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01775" href="#VUID-VkViewport-y-01775"></a> <span class="vuid">VUID-VkViewport-y-01775</span><br>

<code>y</code> <strong>must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01776" href="#VUID-VkViewport-y-01776"></a> <span class="vuid">VUID-VkViewport-y-01776</span><br>

<code>y</code> <strong>must</strong> be less than or equal to <code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01777" href="#VUID-VkViewport-y-01777"></a> <span class="vuid">VUID-VkViewport-y-01777</span><br>

<span class="eq">(<code>y</code> +  <code>height</code>)</span> <strong>must</strong> be greater than or equal to
<code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01233" href="#VUID-VkViewport-y-01233"></a> <span class="vuid">VUID-VkViewport-y-01233</span><br>

<span class="eq">(<code>y</code> +  <code>height</code>)</span> <strong>must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-minDepth-01234" href="#VUID-VkViewport-minDepth-01234"></a> <span class="vuid">VUID-VkViewport-minDepth-01234</span><br>

<code>minDepth</code> <strong>must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkViewport-maxDepth-01235" href="#VUID-VkViewport-maxDepth-01235"></a> <span class="vuid">VUID-VkViewport-maxDepth-01235</span><br>

<code>maxDepth</code> <strong>must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
