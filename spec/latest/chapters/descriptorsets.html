<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Resource Descriptors :: Vulkan Documentation Project Demo</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_White_Dec16.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label for="search-input"></label><input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Vulkan Specification and Proposals</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="video_extensions.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../proposals/index.html">Vulkan Proposals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Vulkan Roadmap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/Roadmap.html">Vulkan Roadmap</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extension Proposals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_AMD_shader_early_and_late_fragment_tests.html">VK_AMD_shader_early_and_late_fragment_tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_attachment_feedback_loop_layout.html">VK_EXT_attachment_feedback_loop_layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_graphics_pipeline_library.html">VK_EXT_graphics_pipeline_library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_image_2d_array_of_3d.html">VK_EXT_image_2d_array_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_image_compression_control.html">VK_EXT_image_compression_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_metal_objects.html">VK_EXT_metal_objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_multisampled_render_to_single_sampled.html">VK_EXT_multisampled_render_to_single_sampled</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_non_seamless_cube_map.html">VK_EXT_non_seamless_cube_map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_primitives_generated_query.html">VK_EXT_primitives_generated_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_rasterization_order_attachment_access.html">VK_EXT_rasterization_order_attachment_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_shader_module_identifier.html">VK_EXT_shader_module_identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_subpass_merge_feedback.html">VK_EXT_subpass_merge_feedback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_GOOGLE_surfaceless_query.html">VK_GOOGLE_surfaceless_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_HUAWEI_invocation_mask.html">VK_HUAWEI_invocation_mask</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_dynamic_rendering.html">VK_KHR_dynamic_rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_fragment_shader_barycentric.html">VK_KHR_fragment_shader_barycentric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_fragment_shading_rate.html">VK_KHR_fragment_shading_rate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_shader_integer_dot_product.html">VK_KHR_shader_integer_dot_product</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_QCOM_image_processing.html">VK_QCOM_image_processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_QCOM_tile_properties.html">VK_QCOM_tile_properties</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extension Proposal Template</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/template.html">Proposal Template</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification and Proposals</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../guide/latest/index.html">Vulkan Guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../samples/latest/README.html">Vulkan Samples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Vulkan Specification and Proposals</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification and Proposals</a></li>
    <li><a href="descriptorsets.html">Resource Descriptors</a></li>
  </ul>
</nav>
    <!--
  <div class="edit-this-page"><a href="https://github.com/KhronosGroup/Vulkan-Docs/edit/main/antora/modules/ROOT/pages/chapters/descriptorsets.adoc">Edit this Page</a></div>
      -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Resource Descriptors</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A <em>descriptor</em> is an opaque data structure representing a shader resource
such as a buffer, buffer view, image view, sampler, or combined image
sampler.
Descriptors are organized into <em>descriptor sets</em>, which are bound during
command recording for use in subsequent drawing commands.
The arrangement of content in each descriptor set is determined by a
<em>descriptor set layout</em>, which determines what descriptors can be stored
within it.
The sequence of descriptor set layouts that <strong>can</strong> be used by a pipeline is
specified in a <em>pipeline layout</em>.
Each pipeline object <strong>can</strong> use up to <code>maxBoundDescriptorSets</code> (see
<a href="limits.html#limits" class="xref page">Limits</a>) descriptor sets.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature is
enabled, the implementation supports placing descriptors into
<a href="#descriptorbuffers">descriptor buffers</a> which are bound during command
recording in a similar way to descriptor sets.</p>
</div>
<div class="paragraph">
<p>Shaders access resources via variables decorated with a descriptor set and
binding number that link them to a descriptor in a descriptor set.
The shader interface mapping to bound descriptor sets is described in the
<a href="interfaces.html#interfaces-resources" class="xref page">Shader Resource Interface</a> section.</p>
</div>
<div class="paragraph">
<p>Shaders <strong>can</strong> also access buffers without going through descriptors by using
<a href="#descriptorsets-physical-storage-buffer">Physical Storage Buffer Access</a> to
access them through 64-bit addresses.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorsets-types"><a class="anchor" href="#descriptorsets-types"></a>Descriptor Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are a number of different types of descriptor supported by Vulkan,
corresponding to different resources or usage.
The following sections describe the API definitions of each descriptor type.
The mapping of each type to SPIR-V is listed in the
<a href="interfaces.html#interfaces-resources-correspondence" class="xref page">Shader Resource and Descriptor TypeCorrespondence</a> and <a href="interfaces.html#interfaces-resources-storage-class-correspondence" class="xref page">Shader Resource and Storage Class Correspondence</a> tables in the
<a href="interfaces.html#interfaces" class="xref page">Shader Interfaces</a> chapter.</p>
</div>
<div class="sect2">
<h3 id="descriptorsets-storageimage"><a class="anchor" href="#descriptorsets-storageimage"></a>Storage Image</h3>
<div class="paragraph">
<p>A <em>storage image</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>) is a descriptor
type associated with an <a href="resources.html#resources-images" class="xref page">image resource</a> via an
<a href="resources.html#resources-image-views" class="xref page">image view</a> that load, store, and atomic
operations <strong>can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage image loads are supported in all shader stages for image views whose
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> contain
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Stores to storage images are supported in
task, mesh and
compute shaders for image views whose
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> contain
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Atomic operations on storage images are supported in
task, mesh and
compute shaders for image views whose
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> contain
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>When the <a href="features.html#features-fragmentStoresAndAtomics" class="xref page"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage images in fragment shaders with
the same set of image formats as supported in compute shaders.
When the <a href="features.html#features-vertexPipelineStoresAndAtomics" class="xref page"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of image formats as supported in compute shaders.</p>
</div>
<div class="paragraph">
<p>The image subresources for a storage image <strong>must</strong> be in the
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-sampler"><a class="anchor" href="#descriptorsets-sampler"></a>Sampler</h3>
<div class="paragraph">
<p>A <em>sampler descriptor</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>) is a descriptor
type associated with a <a href="samplers.html#samplers" class="xref page">sampler</a> object, used to control the
behavior of <a href="textures.html#textures" class="xref page">sampling operations</a> performed on a
<a href="#descriptorsets-sampledimage">sampled image</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-sampledimage"><a class="anchor" href="#descriptorsets-sampledimage"></a>Sampled Image</h3>
<div class="paragraph">
<p>A <em>sampled image</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>) is a descriptor
type associated with an <a href="resources.html#resources-images" class="xref page">image resource</a> via an
<a href="resources.html#resources-image-views" class="xref page">image view</a> that <a href="textures.html#textures" class="xref page">sampling operations</a>
<strong>can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Shaders combine a sampled image variable and a sampler variable to perform
sampling operations.</p>
</div>
<div class="paragraph">
<p>Sampled images are supported in all shader stages for image views whose
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> contain
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>An image subresources for a sampled image <strong>must</strong> be in one of the following
layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-combinedimagesampler"><a class="anchor" href="#descriptorsets-combinedimagesampler"></a>Combined Image Sampler</h3>
<div class="paragraph">
<p>A <em>combined image sampler</em> (<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>)
is a single descriptor type associated with both a <a href="samplers.html#samplers" class="xref page">sampler</a> and
an <a href="resources.html#resources-images" class="xref page">image resource</a>, combining both a
<a href="#descriptorsets-sampler">sampler</a> and <a href="#descriptorsets-sampledimage">sampled image</a> descriptor into a single descriptor.</p>
</div>
<div class="paragraph">
<p>If the descriptor refers to a sampler that performs
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">Y′C<sub>B</sub>C<sub>R</sub> conversion</a> or samples a
<a href="samplers.html#samplers-subsamplesampler" class="xref page">subsampled image</a>,
the sampler <strong>must</strong> only be used to sample the image in the same descriptor.
Otherwise, the
sampler and image in this type of descriptor <strong>can</strong> be used freely with any
other samplers and images.</p>
</div>
<div class="paragraph">
<p>An image subresources for a combined image sampler <strong>must</strong> be in one of the
following layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On some implementations, it <strong>may</strong> be more efficient to sample from an image
using a combination of sampler and sampled image that are stored together in
the descriptor set in a combined descriptor.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-uniformtexelbuffer"><a class="anchor" href="#descriptorsets-uniformtexelbuffer"></a>Uniform Texel Buffer</h3>
<div class="paragraph">
<p>A <em>uniform texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="resources.html#resources-buffers" class="xref page">buffer resource</a>
via a <a href="resources.html#resources-buffer-views" class="xref page">buffer view</a> that <a href="textures.html#textures" class="xref page">image samplingoperations</a> <strong>can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Uniform texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.</p>
</div>
<div class="paragraph">
<p>Load operations from uniform texel buffers are supported in all shader
stages for buffer view formats which report
<a href="resources.html#resources-buffer-view-format-features" class="xref page">format features</a> support for
<code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-storagetexelbuffer"><a class="anchor" href="#descriptorsets-storagetexelbuffer"></a>Storage Texel Buffer</h3>
<div class="paragraph">
<p>A <em>storage texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="resources.html#resources-buffers" class="xref page">buffer resource</a>
via a <a href="resources.html#resources-buffer-views" class="xref page">buffer view</a> that <a href="textures.html#textures" class="xref page">image load,store, and atomic operations</a> <strong>can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.
Unlike <a href="#descriptorsets-uniformtexelbuffer">uniform texel buffers</a>, these
buffers can also be written to in the same way as for
<a href="#descriptorsets-storageimage">storage images</a>.</p>
</div>
<div class="paragraph">
<p>Storage texel buffer loads are supported in all shader stages for texel
buffer view formats which report
<a href="resources.html#resources-buffer-view-format-features" class="xref page">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</div>
<div class="paragraph">
<p>Stores to storage texel buffers are supported in
task, mesh and
compute shaders for texel buffer formats which report
<a href="resources.html#resources-buffer-view-format-features" class="xref page">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</div>
<div class="paragraph">
<p>Atomic operations on storage texel buffers are supported in
task, mesh and
compute shaders for texel buffer formats which report
<a href="resources.html#resources-buffer-view-format-features" class="xref page">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</div>
<div class="paragraph">
<p>When the <a href="features.html#features-fragmentStoresAndAtomics" class="xref page"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage texel buffers in fragment shaders
with the same set of texel buffer formats as supported in compute shaders.
When the <a href="features.html#features-vertexPipelineStoresAndAtomics" class="xref page"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of texel buffer formats as supported in compute shaders.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-storagebuffer"><a class="anchor" href="#descriptorsets-storagebuffer"></a>Storage Buffer</h3>
<div class="paragraph">
<p>A <em>storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>) is a descriptor
type associated with a <a href="resources.html#resources-buffers" class="xref page">buffer resource</a> directly,
described in a shader as a structure with various members that load, store,
and atomic operations <strong>can</strong> be performed on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Atomic operations <strong>can</strong> only be performed on members of certain types as
defined in the <a href="../appendices/spirvenv.html#spirvenv" class="xref page">SPIR-V environment appendix</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-uniformbuffer"><a class="anchor" href="#descriptorsets-uniformbuffer"></a>Uniform Buffer</h3>
<div class="paragraph">
<p>A <em>uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>) is a descriptor
type associated with a <a href="resources.html#resources-buffers" class="xref page">buffer resource</a> directly,
described in a shader as a structure with various members that load
operations <strong>can</strong> be performed on.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-uniformbufferdynamic"><a class="anchor" href="#descriptorsets-uniformbufferdynamic"></a>Dynamic Uniform Buffer</h3>
<div class="paragraph">
<p>A <em>dynamic uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="#descriptorsets-uniformbuffer">uniform buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-storagebufferdynamic"><a class="anchor" href="#descriptorsets-storagebufferdynamic"></a>Dynamic Storage Buffer</h3>
<div class="paragraph">
<p>A <em>dynamic storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="#descriptorsets-storagebuffer">storage buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-inlineuniformblock"><a class="anchor" href="#descriptorsets-inlineuniformblock"></a>Inline Uniform Block</h3>
<div class="paragraph">
<p>An <em>inline uniform block</em> (<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>) is
almost identical to a <a href="#descriptorsets-uniformbuffer">uniform buffer</a>, and
differs only in taking its storage directly from the encompassing descriptor
set instead of being backed by buffer memory.
It is typically used to access a small set of constant data that does not
require the additional flexibility provided by the indirection enabled when
using a uniform buffer where the descriptor and the referenced buffer memory
are decoupled.
Compared to push constants, they allow reusing the same set of constant data
across multiple disjoint sets of drawing and dispatching commands.</p>
</div>
<div class="paragraph">
<p>Inline uniform block descriptors <strong>cannot</strong> be aggregated into arrays.
Instead, the array size specified for an inline uniform block descriptor
binding specifies the binding&#8217;s capacity in bytes.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-weightimage"><a class="anchor" href="#descriptorsets-weightimage"></a>Sample Weight Image</h3>
<div class="paragraph">
<p>A <em>sample weight image</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>)
is a descriptor type associated with an <a href="resources.html#resources-images" class="xref page">image resource</a>
via an <a href="resources.html#resources-image-views" class="xref page">image view</a> that <strong>can</strong> be used in
<a href="textures.html#textures-weightimage" class="xref page">weight image sampling</a>.
The image view must have been created with
<a href="resources.html#VkImageViewSampleWeightCreateInfoQCOM" class="xref page">VkImageViewSampleWeightCreateInfoQCOM</a>.</p>
</div>
<div class="paragraph">
<p>Shaders <strong>can</strong> combine a weight image variable, a sampled image variable, and
a sampler variable to perform <a href="textures.html#textures-weightimage" class="xref page">weight imagesampling</a>.</p>
</div>
<div class="paragraph">
<p>Weight image sampling is supported in all shader stages if the weight image
view specifies a format that supports
<a href="resources.html#resources-image-view-format-features" class="xref page">format feature</a>
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM</code></a> and
the sampled image view specifies a format that supports
<a href="resources.html#resources-image-view-format-features" class="xref page">format feature</a>
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM</code></a></p>
</div>
<div class="paragraph">
<p>The image subresources for the weight image <strong>must</strong> be in the
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-blockmatch"><a class="anchor" href="#descriptorsets-blockmatch"></a>Block Matching Image</h3>
<div class="paragraph">
<p>A <em>block matching image</em> (<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>)
is a descriptor type associated with an <a href="resources.html#resources-images" class="xref page">image resource</a>
via an <a href="resources.html#resources-image-views" class="xref page">image view</a> that <strong>can</strong> be used in
<a href="textures.html#textures-blockmatch" class="xref page">block matching</a>.</p>
</div>
<div class="paragraph">
<p>Shaders <strong>can</strong> combine a target image variable, a reference image variable,
and a sampler variable to perform <a href="textures.html#textures-blockmatch" class="xref page">block matching</a>.</p>
</div>
<div class="paragraph">
<p>Block matching is supported in all shader stages for if both the target view
and reference view specifies a format that supports
<a href="resources.html#resources-image-view-format-features" class="xref page">format feature</a>
<a href="formats.html#formats-properties" class="xref page"><code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></a></p>
</div>
<div class="paragraph">
<p>The image subresources for block matching <strong>must</strong> be in the
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-inputattachment"><a class="anchor" href="#descriptorsets-inputattachment"></a>Input Attachment</h3>
<div class="paragraph">
<p>An <em>input attachment</em> (<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>) is a
descriptor type associated with an <a href="resources.html#resources-images" class="xref page">image resource</a> via
an <a href="resources.html#resources-image-views" class="xref page">image view</a> that <strong>can</strong> be used for
<a href="synchronization.html#synchronization-framebuffer-regions" class="xref page">framebuffer local</a> load operations in
fragment shaders.</p>
</div>
<div class="paragraph">
<p>All image formats that are supported for color attachments
(<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>
or <code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code>
) or depth/stencil attachments
(<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>) for a given image
tiling mode are also supported for input attachments.</p>
</div>
<div class="paragraph">
<p>An image view used as an input attachment <strong>must</strong> be in one of the following
layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-accelerationstructure"><a class="anchor" href="#descriptorsets-accelerationstructure"></a>Acceleration Structure</h3>
<div class="paragraph">
<p>An <em>acceleration structure</em> (
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>
or
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>
) is a descriptor type that is used to retrieve scene geometry from within
shaders that are used for ray traversal.
Shaders have read-only access to the memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-mutable"><a class="anchor" href="#descriptorsets-mutable"></a>Mutable</h3>
<div class="paragraph">
<p>A descriptor of <em>mutable</em> (<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>) type
indicates that this descriptor <strong>can</strong> mutate to any of the descriptor types
given in the
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a>::<code>pDescriptorTypes</code> list of
descriptor types in the <code>pNext</code> chain of
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> for this binding.
At any point, each individual descriptor of mutable type has an active
descriptor type.
The active descriptor type <strong>can</strong> be any one of the declared types in
<code>pDescriptorTypes</code>.
Additionally, a mutable descriptor&#8217;s active descriptor type <strong>can</strong> be of the
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> type, which is the initial active
descriptor type.
The active descriptor type <strong>can</strong> change when the descriptor is updated.
When a descriptor is consumed by binding a descriptor set, the active
descriptor type is considered, not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>.</p>
</div>
<div class="paragraph">
<p>An active descriptor type of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> is
considered an <strong>undefined</strong> descriptor.
If a descriptor is consumed where the active descriptor type does not match
what the shader expects, the descriptor is considered an <strong>undefined</strong>
descriptor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>To find which descriptor types are supported as
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the application <strong>can</strong> use
<a href="#vkGetDescriptorSetLayoutSupport">vkGetDescriptorSetLayoutSupport</a> with an
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> binding, with the list of descriptor
types to query in the
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a>::<code>pDescriptorTypes</code> array for
that binding.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The intention of a mutable descriptor type is that implementations allocate
N bytes per descriptor, where N is determined by the maximum descriptor size
for a given descriptor binding.
Implementations are not expected to keep track of the active descriptor
type, and it should be considered a C-like union type.</p>
</div>
<div class="paragraph">
<p>A mutable descriptor type is not considered as efficient in terms of runtime
performance as using a non-mutable descriptor type, and applications are not
encouraged to use them outside API layering efforts.
Mutable descriptor types can be more efficient if the alternative is using
many different descriptors to emulate mutable descriptor types.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorsets-sets"><a class="anchor" href="#descriptorsets-sets"></a>Descriptor Sets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Descriptors are grouped together into descriptor set objects.
A descriptor set object is an opaque object containing storage for a set of
descriptors, where the types and number of descriptors is defined by a
descriptor set layout.
The layout object <strong>may</strong> be used to define the association of each descriptor
binding with memory or other implementation resources.
The layout is used both for determining the resources that need to be
associated with the descriptor set, and determining the interface between
shader stages and shader resources.</p>
</div>
<div class="sect2">
<h3 id="descriptorsets-setlayout"><a class="anchor" href="#descriptorsets-setlayout"></a>Descriptor Set Layout</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings.
Each individual descriptor binding is specified by a descriptor type, a
count (array size) of the number of descriptors in the binding, a set of
shader stages that <strong>can</strong> access the binding, and (if using immutable
samplers) an array of sampler descriptors.</p>
</div>
<div class="paragraph">
<p>Descriptor set layout objects are represented by <code>VkDescriptorSetLayout</code>
handles:</p>
</div>
<div id="VkDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSetLayout)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create descriptor set layout objects, call:</p>
</div>
<div id="vkCreateDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateDescriptorSetLayout(
    VkDevice                                    device,
    const VkDescriptorSetLayoutCreateInfo*      pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorSetLayout*                      pSetLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor set
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specifying the state of
the descriptor set layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pSetLayout</code> is a pointer to a <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle in
which the resulting descriptor set layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-device-parameter" href="#VUID-vkCreateDescriptorSetLayout-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter" href="#VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pAllocator-parameter" href="#VUID-vkCreateDescriptorSetLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter" href="#VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter</span><br>
 <code>pSetLayout</code> <strong>must</strong> be a valid pointer to a <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the descriptor set layout is passed in a
<code>VkDescriptorSetLayoutCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorSetLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorSetLayoutCreateInfo {
    VkStructureType                        sType;
    const void*                            pNext;
    VkDescriptorSetLayoutCreateFlags       flags;
    uint32_t                               bindingCount;
    const VkDescriptorSetLayoutBinding*    pBindings;
} VkDescriptorSetLayoutCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask
of <a href="#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>
specifying options for descriptor set layout creation.</p>
</li>
<li>
<p><code>bindingCount</code> is the number of elements in <code>pBindings</code>.</p>
</li>
<li>
<p><code>pBindings</code> is a pointer to an array of
<a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-binding-00279" href="#VUID-VkDescriptorSetLayoutCreateInfo-binding-00279"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-binding-00279</span><br>

The <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a>::<code>binding</code> members of the
elements of the <code>pBindings</code> array <strong>must</strong> each have different values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-00280" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-00280"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-00280</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindings</code> <strong>must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-02208" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-02208"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-02208</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindings</code> <strong>must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-00281" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-00281"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-00281</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then the
total number of elements of all bindings <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDevicePushDescriptorPropertiesKHR" class="xref page">VkPhysicalDevicePushDescriptorPropertiesKHR</a>::<code>maxPushDescriptors</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-04590" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-04590"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-04590</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>,
<code>flags</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-04591" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-04591"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-04591</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>,
<code>pBindings</code> <strong>must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-03000" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-03000"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-03000</span><br>

If any binding has the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>
bit set, <code>flags</code> <strong>must</strong> include
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001" href="#VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001</span><br>

If any binding has the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>
bit set, then all bindings <strong>must</strong> not have <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-04592" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-04592"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-04592</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code>,
<code>flags</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pBindings-07303" href="#VUID-VkDescriptorSetLayoutCreateInfo-pBindings-07303"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-pBindings-07303</span><br>

If any element <code>pBindings</code>[i] has a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, then a
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a> <strong>must</strong> be present in the
<code>pNext</code> chain, and <code>mutableDescriptorTypeListCount</code> <strong>must</strong> be
greater than i</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-04594" href="#VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-04594"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-04594</span><br>

If a binding has a <code>descriptorType</code> value of
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, then <code>pImmutableSamplers</code>
<strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-mutableDescriptorType-04595" href="#VUID-VkDescriptorSetLayoutCreateInfo-mutableDescriptorType-04595"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-mutableDescriptorType-04595</span><br>

If
<a href="features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT</a>::<code>mutableDescriptorType</code>
is not enabled, <code>pBindings</code> <strong>must</strong> not contain a <code>descriptorType</code>
of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-04596" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-04596"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-04596</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code>,
<a href="features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT</a>::<code>mutableDescriptorType</code>
<strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-08000" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-08000"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-08000</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, then
all elements of <code>pBindings</code> <strong>must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-08001" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-08001"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-08001</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>,
<code>flags</code> <strong>must</strong> also contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-08002" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-08002"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-08002</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, then
<code>flags</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-08003" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-08003"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-08003</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>, then
<code>flags</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_VALVE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-sType-sType" href="#VUID-VkDescriptorSetLayoutCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext" href="#VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a> or <a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-sType-unique" href="#VUID-VkDescriptorSetLayoutCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter" href="#VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter</span><br>
 If <code>bindingCount</code> is not <code>0</code>, <code>pBindings</code> <strong>must</strong> be a valid pointer to an array of <code>bindingCount</code> valid <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> or
<a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a> structure includes a
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a> structure, then that structure
specifies Information about the possible descriptor types for mutable
descriptor types.</p>
</div>
<div class="paragraph">
<p>The <code>VkMutableDescriptorTypeCreateInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkMutableDescriptorTypeCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_mutable_descriptor_type
typedef struct VkMutableDescriptorTypeCreateInfoEXT {
    VkStructureType                          sType;
    const void*                              pNext;
    uint32_t                                 mutableDescriptorTypeListCount;
    const VkMutableDescriptorTypeListEXT*    pMutableDescriptorTypeLists;
} VkMutableDescriptorTypeCreateInfoEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkMutableDescriptorTypeCreateInfoVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_mutable_descriptor_type
typedef VkMutableDescriptorTypeCreateInfoEXT VkMutableDescriptorTypeCreateInfoVALVE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>mutableDescriptorTypeListCount</code> is the number of elements in
<code>pMutableDescriptorTypeLists</code>.</p>
</li>
<li>
<p><code>pMutableDescriptorTypeLists</code> is a pointer to an array of
<code>VkMutableDescriptorTypeListEXT</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>mutableDescriptorTypeListCount</code> is zero or if this structure is not
included in the <code>pNext</code> chain, the <a href="#VkMutableDescriptorTypeListEXT">VkMutableDescriptorTypeListEXT</a>
for each element is considered to be zero or <code>NULL</code> for each member.
Otherwise, the descriptor set layout binding at
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code>[i] uses the
descriptor type lists in
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a>::<code>pMutableDescriptorTypeLists</code>[i].</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMutableDescriptorTypeCreateInfoEXT-sType-sType" href="#VUID-VkMutableDescriptorTypeCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkMutableDescriptorTypeCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_MUTABLE_DESCRIPTOR_TYPE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeCreateInfoEXT-pMutableDescriptorTypeLists-parameter" href="#VUID-VkMutableDescriptorTypeCreateInfoEXT-pMutableDescriptorTypeLists-parameter"></a> <span class="vuid">VUID-VkMutableDescriptorTypeCreateInfoEXT-pMutableDescriptorTypeLists-parameter</span><br>
 If <code>mutableDescriptorTypeListCount</code> is not <code>0</code>, <code>pMutableDescriptorTypeLists</code> <strong>must</strong> be a valid pointer to an array of <code>mutableDescriptorTypeListCount</code> valid <a href="#VkMutableDescriptorTypeListEXT">VkMutableDescriptorTypeListEXT</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The list of potential descriptor types a given mutable descriptor <strong>can</strong>
mutate to is passed in a <code>VkMutableDescriptorTypeListEXT</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkMutableDescriptorTypeListEXT</code> structure is defined as:</p>
</div>
<div id="VkMutableDescriptorTypeListEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_mutable_descriptor_type
typedef struct VkMutableDescriptorTypeListEXT {
    uint32_t                   descriptorTypeCount;
    const VkDescriptorType*    pDescriptorTypes;
} VkMutableDescriptorTypeListEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkMutableDescriptorTypeListVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_mutable_descriptor_type
typedef VkMutableDescriptorTypeListEXT VkMutableDescriptorTypeListVALVE;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>descriptorTypeCount</code> is the number of elements in
<code>pDescriptorTypes</code>.</p>
</li>
<li>
<p><code>pDescriptorTypes</code> is <code>NULL</code> or a pointer to an array of
<code>descriptorTypeCount</code> <a href="#VkDescriptorType">VkDescriptorType</a> values defining which
descriptor types a given binding may mutate to.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04597" href="#VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04597"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04597</span><br>

<code>descriptorTypeCount</code> <strong>must</strong> not be <code>0</code> if the corresponding binding
is of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04598" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04598"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04598</span><br>

<code>pDescriptorTypes</code> <strong>must</strong> be a valid pointer to an array of
<code>descriptorTypeCount</code> valid, unique <a href="#VkDescriptorType">VkDescriptorType</a> values if
the given binding is of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> type</p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04599" href="#VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04599"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-descriptorTypeCount-04599</span><br>

<code>descriptorTypeCount</code> <strong>must</strong> be <code>0</code> if the corresponding binding is
not of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04600" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04600"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04600</span><br>

<code>pDescriptorTypes</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04601" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04601"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04601</span><br>

<code>pDescriptorTypes</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04602" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04602"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04602</span><br>

<code>pDescriptorTypes</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04603" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04603"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-04603</span><br>

<code>pDescriptorTypes</code> <strong>must</strong> not contain
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-parameter" href="#VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-parameter"></a> <span class="vuid">VUID-VkMutableDescriptorTypeListEXT-pDescriptorTypes-parameter</span><br>
 If <code>descriptorTypeCount</code> is not <code>0</code>, <code>pDescriptorTypes</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorTypeCount</code> valid <a href="#VkDescriptorType">VkDescriptorType</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code>, specifying options for
descriptor set layout, are:</p>
</div>
<div id="VkDescriptorSetLayoutCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkDescriptorSetLayoutCreateFlagBits {
  // Provided by VK_VERSION_1_2
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT = 0x00000002,
  // Provided by VK_KHR_push_descriptor
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR = 0x00000001,
  // Provided by VK_EXT_descriptor_buffer
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT = 0x00000010,
  // Provided by VK_EXT_descriptor_buffer
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT = 0x00000020,
  // Provided by VK_NV_device_generated_commands_compute
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_INDIRECT_BINDABLE_BIT_NV = 0x00000080,
  // Provided by VK_EXT_mutable_descriptor_type
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT = 0x00000004,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT_EXT = VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT,
  // Provided by VK_VALVE_mutable_descriptor_type
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_VALVE = VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT,
} VkDescriptorSetLayoutCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> specifies
that descriptor sets <strong>must</strong> not be allocated using this layout, and
descriptors are instead pushed by <a href="#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code>
specifies that descriptor sets using this layout <strong>must</strong> be allocated from
a descriptor pool created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> bit set.
Descriptor set layouts created with this bit set have alternate limits
for the maximum number of descriptors per-stage and per-pipeline layout.
The non-UpdateAfterBind limits only count descriptors in sets created
without this flag.
The UpdateAfterBind limits count all descriptors, but the limits <strong>may</strong> be
higher than the non-UpdateAfterBind limits.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_INDIRECT_BINDABLE_BIT_NV</code> specifies
that descriptor sets using this layout allows them to be bound with
compute pipelines that are created with
<code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code> flag set to be used in
<a href="VK_NV_device_generated_commands/generatedcommands.html#device-generated-commands" class="xref page">Device-Generated Commands</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>
specifies that this layout <strong>must</strong> only be used with descriptor buffers.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>
specifies that this is a layout only containing immutable samplers that
<strong>can</strong> be bound by <a href="#vkCmdBindDescriptorBufferEmbeddedSamplersEXT">vkCmdBindDescriptorBufferEmbeddedSamplersEXT</a>.
Unlike normal immutable samplers, embedded immutable samplers do not
require the application to provide them in a descriptor buffer.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code> specifies
that descriptor sets using this layout <strong>must</strong> be allocated from a
descriptor pool created with the
<code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code> bit set.
Descriptor set layouts created with this bit have no expressible limit
for maximum number of descriptors per-stage.
Host descriptor sets are limited only by available host memory, but <strong>may</strong>
be limited for implementation specific reasons.
Implementations <strong>may</strong> limit the number of supported descriptors to
UpdateAfterBind limits or non-UpdateAfterBind limits, whichever is
larger.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorSetLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkDescriptorSetLayoutCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorSetLayoutCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetLayoutBinding</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetLayoutBinding" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorSetLayoutBinding {
    uint32_t              binding;
    VkDescriptorType      descriptorType;
    uint32_t              descriptorCount;
    VkShaderStageFlags    stageFlags;
    const VkSampler*      pImmutableSamplers;
} VkDescriptorSetLayoutBinding;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>binding</code> is the binding number of this entry and corresponds to a
resource of the same binding number in the shader stages.</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="#VkDescriptorType">VkDescriptorType</a> specifying which type
of resource descriptors are used for this binding.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors contained in the
binding, accessed in a shader as an
array, except if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> in which case
<code>descriptorCount</code> is the size in bytes of the inline uniform block.
If <code>descriptorCount</code> is zero this binding entry is reserved and the
resource <strong>must</strong> not be accessed from any stage via this binding within
any pipeline using the set layout.</p>
</li>
<li>
<p><code>stageFlags</code> member is a bitmask of <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>
specifying which pipeline shader stages <strong>can</strong> access a resource for this
binding.
<code>VK_SHADER_STAGE_ALL</code> is a shorthand specifying that all defined
shader stages, including any additional stages defined by extensions,
<strong>can</strong> access the resource.</p>
<div class="paragraph">
<p>If a shader stage is not included in <code>stageFlags</code>, then a resource <strong>must</strong>
not be accessed from that stage via this binding within any pipeline using
the set layout.
Other than input attachments which are limited to the fragment shader, there
are no limitations on what combinations of stages <strong>can</strong> use a descriptor
binding, and in particular a binding <strong>can</strong> be used by both graphics stages
and the compute stage.</p>
</div>
</li>
<li>
<p><code>pImmutableSamplers</code> affects initialization of samplers.
If <code>descriptorType</code> specifies a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> type descriptor, then
<code>pImmutableSamplers</code> <strong>can</strong> be used to initialize a set of <em>immutable
samplers</em>.
Immutable samplers are permanently bound into the set layout and <strong>must</strong>
not be changed; updating a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> descriptor
with immutable samplers is not allowed and updates to a
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor with
immutable samplers does not modify the samplers (the image views are
updated, but the sampler updates are ignored).
If <code>pImmutableSamplers</code> is not <code>NULL</code>, then it is a pointer to an
array of sampler handles that will be copied into the set layout and
used for the corresponding binding.
Only the sampler handles are copied; the sampler objects <strong>must</strong> not be
destroyed before the final use of the set layout and any descriptor
pools and sets created using it.
If <code>pImmutableSamplers</code> is <code>NULL</code>, then the sampler slots are
dynamic and sampler handles <strong>must</strong> be bound into descriptor sets using
this layout.
If <code>descriptorType</code> is not one of these descriptor types, then
<code>pImmutableSamplers</code> is ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above layout definition allows the descriptor bindings to be specified
sparsely such that not all binding numbers between 0 and the maximum binding
number need to be specified in the <code>pBindings</code> array.
Bindings that are not specified have a <code>descriptorCount</code> and
<code>stageFlags</code> of zero, and the value of <code>descriptorType</code> is
<strong>undefined</strong>.
However, all binding numbers between 0 and the maximum binding number in the
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code> array <strong>may</strong> consume
memory in the descriptor set layout even if not all descriptor bindings are
used, though it <strong>should</strong> not consume additional memory from the descriptor
pool.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The maximum binding number specified <strong>should</strong> be as compact as possible to
avoid wasted memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-00282" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-00282"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-00282</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>descriptorCount</code> is not <code>0</code> and <code>pImmutableSamplers</code> is not
<code>NULL</code>, <code>pImmutableSamplers</code> <strong>must</strong> be a valid pointer to an array of
<code>descriptorCount</code> valid <code>VkSampler</code> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-04604" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-04604"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-04604</span><br>

If the <a href="features.html#features-inlineUniformBlock" class="xref page"><code>inlineUniformBlock</code></a> feature
is not enabled, <code>descriptorType</code> <strong>must</strong> not be
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-02209" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-02209"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-02209</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
then <code>descriptorCount</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-08004" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-08004"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-08004</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
and <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> does not contain
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> then
<code>descriptorCount</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceInlineUniformBlockPropertiesEXT</code>::<code>maxInlineUniformBlockSize</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-flags-08005" href="#VUID-VkDescriptorSetLayoutBinding-flags-08005"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-flags-08005</span><br>

If <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>,
<code>descriptorType</code> <strong>must</strong> be <code>VK_DESCRIPTOR_TYPE_SAMPLER</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-flags-08006" href="#VUID-VkDescriptorSetLayoutBinding-flags-08006"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-flags-08006</span><br>

If <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>,
<code>descriptorCount</code> <strong>must</strong> less than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-flags-08007" href="#VUID-VkDescriptorSetLayoutBinding-flags-08007"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-flags-08007</span><br>

If <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>,
and <code>descriptorCount</code> is equal to <code>1</code>, <code>pImmutableSamplers</code>
<strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283" href="#VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283</span><br>

If <code>descriptorCount</code> is not <code>0</code>, <code>stageFlags</code> <strong>must</strong> be a valid
combination of <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-01510" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-01510"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-01510</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> and
<code>descriptorCount</code> is not <code>0</code>, then <code>stageFlags</code> <strong>must</strong> be <code>0</code> or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-pImmutableSamplers-04009" href="#VUID-VkDescriptorSetLayoutBinding-pImmutableSamplers-04009"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-pImmutableSamplers-04009</span><br>

The sampler objects indicated by <code>pImmutableSamplers</code> <strong>must</strong> not have
a <code>borderColor</code> with one of the values
<code>VK_BORDER_COLOR_FLOAT_CUSTOM_EXT</code> or
<code>VK_BORDER_COLOR_INT_CUSTOM_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-04605" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-04605"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-04605</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, then
<code>pImmutableSamplers</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong>must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>
structure includes a <a href="#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a>
structure, then that structure includes an array of flags, one for each
descriptor set layout binding.</p>
</div>
<div class="paragraph">
<p>The <a href="#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a> structure is defined
as:</p>
</div>
<div id="VkDescriptorSetLayoutBindingFlagsCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef struct VkDescriptorSetLayoutBindingFlagsCreateInfo {
    VkStructureType                    sType;
    const void*                        pNext;
    uint32_t                           bindingCount;
    const VkDescriptorBindingFlags*    pBindingFlags;
} VkDescriptorSetLayoutBindingFlagsCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorSetLayoutBindingFlagsCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_indexing
typedef VkDescriptorSetLayoutBindingFlagsCreateInfo VkDescriptorSetLayoutBindingFlagsCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>bindingCount</code> is zero or the number of elements in
<code>pBindingFlags</code>.</p>
</li>
<li>
<p><code>pBindingFlags</code> is a pointer to an array of
<a href="#VkDescriptorBindingFlags">VkDescriptorBindingFlags</a> bitfields, one for each descriptor set
layout binding.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>bindingCount</code> is zero or if this structure is not included in the
<code>pNext</code> chain, the <a href="#VkDescriptorBindingFlags">VkDescriptorBindingFlags</a> for each descriptor
set layout binding is considered to be zero.
Otherwise, the descriptor set layout binding at
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code>[i] uses the flags in
<code>pBindingFlags</code>[i].</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002</span><br>

If <code>bindingCount</code> is not zero, <code>bindingCount</code> <strong>must</strong> equal
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>bindingCount</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003</span><br>

If <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> includes
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindingFlags</code> <strong>must</strong> not include
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>,
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code>, or
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004</span><br>

If an element of <code>pBindingFlags</code> includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, then all
other elements of <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code>
<strong>must</strong> have a smaller value of <code>binding</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUniformBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingSampledImageUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, or
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageImageUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUniformTexelBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageTexelBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211</span><br>

If
<a href="features.html#VkPhysicalDeviceInlineUniformBlockFeatures" class="xref page">VkPhysicalDeviceInlineUniformBlockFeatures</a>::<code>descriptorBindingInlineUniformBlockUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570</span><br>

If
<a href="features.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR" class="xref page">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a>::<code>descriptorBindingAccelerationStructureUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> or
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011</span><br>

All bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong>must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUpdateUnusedWhilePending</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong>must</strong> not include
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingPartiallyBound</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong>must</strong> not include
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014</span><br>

If
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingVariableDescriptorCount</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong>must</strong> not include
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015</span><br>

If an element of <code>pBindingFlags</code> includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, that
element&#8217;s <code>descriptorType</code> <strong>must</strong> not be
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_BINDING_FLAGS_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter" href="#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter</span><br>
 If <code>bindingCount</code> is not <code>0</code>, <code>pBindingFlags</code> <strong>must</strong> be a valid pointer to an array of <code>bindingCount</code> valid combinations of <a href="#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in each element of
<a href="#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a>::<code>pBindingFlags</code>,
specifying options for the corresponding descriptor set layout binding, are:</p>
</div>
<div id="VkDescriptorBindingFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef enum VkDescriptorBindingFlagBits {
    VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT = 0x00000001,
    VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT = 0x00000002,
    VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT = 0x00000004,
    VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT = 0x00000008,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT_EXT = VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT_EXT = VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT_EXT = VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT_EXT = VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT,
} VkDescriptorBindingFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorBindingFlagBitsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_indexing
typedef VkDescriptorBindingFlagBits VkDescriptorBindingFlagBitsEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> indicates that if
descriptors in this binding are updated between when the descriptor set
is bound in a command buffer and when that command buffer is submitted
to a queue, then the submission will use the most recently set
descriptors for this binding and the updates do not invalidate the
command buffer.
Descriptor bindings created with this flag are also partially exempt
from the external synchronization requirement in
<a href="#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a> and
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>.
Multiple descriptors with this flag set <strong>can</strong> be updated concurrently in
different threads, though the same descriptor <strong>must</strong> not be updated
concurrently by two threads.
Descriptors with this flag set <strong>can</strong> be updated concurrently with the set
being bound to a command buffer in another thread, but not concurrently
with the set being reset or freed.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> indicates that
descriptors in this binding that are not <em>dynamically used</em> need not
contain valid descriptors at the time the descriptors are consumed.
A descriptor is dynamically used if any shader invocation executes an
instruction that performs any memory access using the descriptor.
If a descriptor is not dynamically used, any resource referenced by the
descriptor is not considered to be referenced during command execution.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> indicates
that descriptors in this binding <strong>can</strong> be updated after a command buffer
has bound this descriptor set, or while a command buffer that uses this
descriptor set is pending execution, as long as the descriptors that are
updated are not used by those command buffers.
Descriptor bindings created with this flag are also partially exempt
from the external synchronization requirement in
<a href="#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a> and
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> in the same way as for
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>.
If <code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> is also set, then
descriptors <strong>can</strong> be updated as long as they are not dynamically used by
any shader invocations.
If <code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> is not set, then
descriptors <strong>can</strong> be updated as long as they are not statically used by
any shader invocations.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> indicates that
    this is a <em>variable-sized descriptor binding</em> whose size will be
    specified when a descriptor set is allocated using this layout.
    The value of <code>descriptorCount</code> is treated as an upper bound on the
    size of the binding.
    This <strong>must</strong> only be used for the last binding in the descriptor set
    layout (i.e. the binding with the largest value of <code>binding</code>).
    For the purposes of counting against limits such as
    <code>maxDescriptorSet</code>* and <code>maxPerStageDescriptor</code>*, the full value
    of <code>descriptorCount</code> is
    counted, except for descriptor bindings with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, when
    <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> does not contain
    <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code>.
    In this case, <code>descriptorCount</code> specifies the upper bound on the
    byte size of the binding; thus it counts against the
<a href="devsandqueues.html#limits-maxInlineUniformBlockSize" class="xref page"><code>maxInlineUniformBlockSize</code></a> and <a href="devsandqueues.html#limits-maxInlineUniformTotalSize" class="xref page"><code>maxInlineUniformTotalSize</code></a> limits
instead.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Note that while <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> and
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> both involve
updates to descriptor sets after they are bound,
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> is a weaker
requirement since it is only about descriptors that are not used, whereas
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> requires the
implementation to observe updates to descriptors that are used.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorBindingFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef VkFlags VkDescriptorBindingFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorBindingFlagsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_indexing
typedef VkDescriptorBindingFlags VkDescriptorBindingFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorBindingFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query information about whether a descriptor set layout <strong>can</strong> be created,
call:</p>
</div>
<div id="vkGetDescriptorSetLayoutSupport" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkGetDescriptorSetLayoutSupport(
    VkDevice                                    device,
    const VkDescriptorSetLayoutCreateInfo*      pCreateInfo,
    VkDescriptorSetLayoutSupport*               pSupport);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetDescriptorSetLayoutSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_maintenance3
void vkGetDescriptorSetLayoutSupportKHR(
    VkDevice                                    device,
    const VkDescriptorSetLayoutCreateInfo*      pCreateInfo,
    VkDescriptorSetLayoutSupport*               pSupport);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that would create the descriptor set
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specifying the state of
the descriptor set layout object.</p>
</li>
<li>
<p><code>pSupport</code> is a pointer to a <a href="#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a>
structure, in which information about support for the descriptor set
layout object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some implementations have limitations on what fits in a descriptor set which
are not easily expressible in terms of existing limits like
<code>maxDescriptorSet</code>*, for example if all descriptor types share a limited
space in memory but each descriptor is a different size or alignment.
This command returns information about whether a descriptor set satisfies
this limit.
If the descriptor set layout satisfies the
<a href="limits.html#VkPhysicalDeviceMaintenance3Properties" class="xref page">VkPhysicalDeviceMaintenance3Properties</a>::<code>maxPerSetDescriptors</code>
limit, this command is guaranteed to return <code>VK_TRUE</code> in
<a href="#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a>::<code>supported</code>.
If the descriptor set layout exceeds the
<a href="limits.html#VkPhysicalDeviceMaintenance3Properties" class="xref page">VkPhysicalDeviceMaintenance3Properties</a>::<code>maxPerSetDescriptors</code>
limit, whether the descriptor set layout is supported is
implementation-dependent and <strong>may</strong> depend on whether the descriptor sizes and
alignments cause the layout to exceed an internal limit.</p>
</div>
<div class="paragraph">
<p>This command does not consider other limits such as
<code>maxPerStageDescriptor</code>*, and so a descriptor set layout that is
supported according to this command <strong>must</strong> still satisfy the pipeline layout
limits such as <code>maxPerStageDescriptor</code>* in order to be used in a
pipeline layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This is a <code>VkDevice</code> query rather than <code>VkPhysicalDevice</code> because
the answer <strong>may</strong> depend on enabled features.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-device-parameter" href="#VUID-vkGetDescriptorSetLayoutSupport-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter" href="#VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter" href="#VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter</span><br>
 <code>pSupport</code> <strong>must</strong> be a valid pointer to a <a href="#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about support for the descriptor set layout is returned in a
<code>VkDescriptorSetLayoutSupport</code> structure:</p>
</div>
<div id="VkDescriptorSetLayoutSupport" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkDescriptorSetLayoutSupport {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           supported;
} VkDescriptorSetLayoutSupport;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorSetLayoutSupportKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_maintenance3
typedef VkDescriptorSetLayoutSupport VkDescriptorSetLayoutSupportKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supported</code> specifies whether the descriptor set layout <strong>can</strong> be
created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>supported</code> is set to <code>VK_TRUE</code> if the descriptor set <strong>can</strong> be
created, or else is set to <code>VK_FALSE</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-sType-sType" href="#VUID-VkDescriptorSetLayoutSupport-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-pNext-pNext" href="#VUID-VkDescriptorSetLayoutSupport-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkDescriptorSetVariableDescriptorCountLayoutSupport">VkDescriptorSetVariableDescriptorCountLayoutSupport</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-sType-unique" href="#VUID-VkDescriptorSetLayoutSupport-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a> structure
includes a <code>VkDescriptorSetVariableDescriptorCountLayoutSupport</code>
structure, then that structure returns additional information about whether
the descriptor set layout is supported.</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountLayoutSupport" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef struct VkDescriptorSetVariableDescriptorCountLayoutSupport {
    VkStructureType    sType;
    void*              pNext;
    uint32_t           maxVariableDescriptorCount;
} VkDescriptorSetVariableDescriptorCountLayoutSupport;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountLayoutSupportEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_indexing
typedef VkDescriptorSetVariableDescriptorCountLayoutSupport VkDescriptorSetVariableDescriptorCountLayoutSupportEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>maxVariableDescriptorCount</code> indicates the maximum number of
descriptors supported in the highest numbered binding of the layout, if
that binding is variable-sized.
If the highest numbered binding of the layout has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>maxVariableDescriptorCount</code> indicates the maximum byte size
supported for the binding, if that binding is variable-sized.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specified in
<a href="#vkGetDescriptorSetLayoutSupport">vkGetDescriptorSetLayoutSupport</a>::<code>pCreateInfo</code> includes a
variable-sized descriptor, then <code>supported</code> is determined assuming the
requested size of the variable-sized descriptor, and
<code>maxVariableDescriptorCount</code> is set to the maximum size of that
descriptor that <strong>can</strong> be successfully created (which is greater than or equal
to the requested size passed in).
If the <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure does not include a
variable-sized descriptor, or if the
<a href="features.html#VkPhysicalDeviceDescriptorIndexingFeatures" class="xref page">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingVariableDescriptorCount</code>
feature is not enabled, then <code>maxVariableDescriptorCount</code> is set to
zero.
For the purposes of this command, a variable-sized descriptor binding with a
<code>descriptorCount</code> of zero is treated as having a <code>descriptorCount</code>
of
four if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, or one otherwise,
and thus the binding is not ignored and the maximum descriptor count will be
returned.
If the layout is not supported, then the value written to
<code>maxVariableDescriptorCount</code> is <strong>undefined</strong>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType" href="#VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_LAYOUT_SUPPORT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The following examples show a shader snippet using two descriptor sets, and
application code that creates corresponding descriptor set layouts.</p>
</div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-glsl hljs" data-lang="glsl">//
// binding to a single sampled image descriptor in set 0
//
layout (set=0, binding=0) uniform texture2D mySampledImage;

//
// binding to an array of sampled image descriptors in set 0
//
layout (set=0, binding=1) uniform texture2D myArrayOfSampledImages[12];

//
// binding to a single uniform buffer descriptor in set 1
//
layout (set=1, binding=0) uniform myUniformBuffer
{
    vec4 myElement[32];
};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-spirv hljs" data-lang="spirv">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpName %14 "myArrayOfSampledImages"
               OpName %18 "myUniformBuffer"
               OpMemberName %18 0 "myElement"
               OpName %20 ""
               OpDecorate %9 DescriptorSet 0
               OpDecorate %9 Binding 0
               OpDecorate %14 DescriptorSet 0
               OpDecorate %14 Binding 1
               OpDecorate %17 ArrayStride 16
               OpMemberDecorate %18 0 Offset 0
               OpDecorate %18 Block
               OpDecorate %20 DescriptorSet 1
               OpDecorate %20 Binding 0
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
         %10 = OpTypeInt 32 0
         %11 = OpConstant %10 12
         %12 = OpTypeArray %7 %11
         %13 = OpTypePointer UniformConstant %12
         %14 = OpVariable %13 UniformConstant
         %15 = OpTypeVector %6 4
         %16 = OpConstant %10 32
         %17 = OpTypeArray %15 %16
         %18 = OpTypeStruct %17
         %19 = OpTypePointer Uniform %18
         %20 = OpVariable %19 Uniform
               ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">VkResult myResult;

const VkDescriptorSetLayoutBinding myDescriptorSetLayoutBinding[] =
{
    // binding to a single image descriptor
    {
        .binding = 0,
        .descriptorType = VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,
        .descriptorCount = 1,
        .stageFlags = VK_SHADER_STAGE_FRAGMENT_BIT,
        .pImmutableSamplers = NULL
    },

    // binding to an array of image descriptors
    {
        .binding = 1,
        .descriptorType = VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,
        .descriptorCount = 12,
        .stageFlags = VK_SHADER_STAGE_FRAGMENT_BIT,
        .pImmutableSamplers = NULL
    },

    // binding to a single uniform buffer descriptor
    {
        .binding = 0,
        .descriptorType = VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER,
        .descriptorCount = 1,
        .stageFlags = VK_SHADER_STAGE_FRAGMENT_BIT,
        .pImmutableSamplers = NULL
    }
};

const VkDescriptorSetLayoutCreateInfo myDescriptorSetLayoutCreateInfo[] =
{
    // Information for first descriptor set with two descriptor bindings
    {
        .sType = VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,
        .pNext = NULL,
        .flags = 0,
        .bindingCount = 2,
        .pBindings = &amp;myDescriptorSetLayoutBinding[0]
    },

    // Information for second descriptor set with one descriptor binding
    {
        .sType = VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,
        .pNext = NULL,
        .flags = 0,
        .bindingCount = 1,
        .pBindings = &amp;myDescriptorSetLayoutBinding[2]
    }
};

VkDescriptorSetLayout myDescriptorSetLayout[2];

//
// Create first descriptor set layout
//
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[0],
    NULL,
    &amp;myDescriptorSetLayout[0]);

//
// Create second descriptor set layout
//
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[1],
    NULL,
    &amp;myDescriptorSetLayout[1]);</code></pre>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor set layout, call:</p>
</div>
<div id="vkDestroyDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyDescriptorSetLayout(
    VkDevice                                    device,
    VkDescriptorSetLayout                       descriptorSetLayout,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor set
layout.</p>
</li>
<li>
<p><code>descriptorSetLayout</code> is the descriptor set layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284</span><br>

If <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, a compatible set of callbacks
<strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-device-parameter" href="#VUID-vkDestroyDescriptorSetLayout-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter</span><br>
 If <code>descriptorSetLayout</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>descriptorSetLayout</code> <strong>must</strong> be a valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter" href="#VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent</span><br>
 If <code>descriptorSetLayout</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorSetLayout</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-pipelinelayout"><a class="anchor" href="#descriptorsets-pipelinelayout"></a>Pipeline Layouts</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Access to descriptor sets from a pipeline is accomplished through a
<em>pipeline layout</em>.
Zero or more descriptor set layouts and zero or more push constant ranges
are combined to form a pipeline layout object describing the complete set of
resources that <strong>can</strong> be accessed by a pipeline.
The pipeline layout represents a sequence of descriptor sets with each
having a specific layout.
This sequence of layouts is used to determine the interface between shader
stages and shader resources.
Each pipeline is created using a pipeline layout.</p>
</div>
<div class="paragraph">
<p>Pipeline layout objects are represented by <code>VkPipelineLayout</code> handles:</p>
</div>
<div id="VkPipelineLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineLayout)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a pipeline layout, call:</p>
</div>
<div id="vkCreatePipelineLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreatePipelineLayout(
    VkDevice                                    device,
    const VkPipelineLayoutCreateInfo*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkPipelineLayout*                           pPipelineLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>
structure specifying the state of the pipeline layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineLayout</code> is a pointer to a <a href="#VkPipelineLayout">VkPipelineLayout</a> handle in
which the resulting pipeline layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineLayout-device-parameter" href="#VUID-vkCreatePipelineLayout-device-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pCreateInfo-parameter" href="#VUID-vkCreatePipelineLayout-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pAllocator-parameter" href="#VUID-vkCreatePipelineLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pPipelineLayout-parameter" href="#VUID-vkCreatePipelineLayout-pPipelineLayout-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pPipelineLayout-parameter</span><br>
 <code>pPipelineLayout</code> <strong>must</strong> be a valid pointer to a <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure is defined as:</p>
</div>
<div id="VkPipelineLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPipelineLayoutCreateInfo {
    VkStructureType                 sType;
    const void*                     pNext;
    VkPipelineLayoutCreateFlags     flags;
    uint32_t                        setLayoutCount;
    const VkDescriptorSetLayout*    pSetLayouts;
    uint32_t                        pushConstantRangeCount;
    const VkPushConstantRange*      pPushConstantRanges;
} VkPipelineLayoutCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineLayoutCreateFlagBits">VkPipelineLayoutCreateFlagBits</a>
specifying options for pipeline layout creation.</p>
</li>
<li>
<p><code>setLayoutCount</code> is the number of descriptor sets included in the
pipeline layout.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of
<code>VkDescriptorSetLayout</code> objects.</p>
</li>
<li>
<p><code>pushConstantRangeCount</code> is the number of push constant ranges
included in the pipeline layout.</p>
</li>
<li>
<p><code>pPushConstantRanges</code> is a pointer to an array of
<code>VkPushConstantRange</code> structures defining a set of push constant
ranges for use in a single pipeline layout.
In addition to descriptor set layouts, a pipeline layout also describes
how many push constants <strong>can</strong> be accessed by each stage of the pipeline.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286" href="#VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286</span><br>

<code>setLayoutCount</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxBoundDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03016" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03016"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03016</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03017" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03017"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03017</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>
and <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03018" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03018"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03018</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>
and <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-06939" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-06939"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-06939</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>, and
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03020" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03020"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03020</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
and <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03021" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03021"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03021</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
accessible to any given shader stage across all elements of
<code>pSetLayouts</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02214" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-02214"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02214</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxPerStageDescriptorInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03022" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03022"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03022</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03023" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03023"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03023</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03024" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03024"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03024</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03025" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03025"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03025</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03026" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03026"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03026</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03027" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03027"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03027</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible to any given shader
stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than or
equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02215" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-02215"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02215</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03028" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03028"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03028</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03029" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03029"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03029</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03030" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03030"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03030</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03031" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03031"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03031</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03032" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03032"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03032</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03033" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03033"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03033</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03034" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03034"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03034</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
and <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03035" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03035"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03035</span><br>

The total number of descriptors in descriptor set layouts created
without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02216" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-02216"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02216</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxDescriptorSetInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindUniformBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02217" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-02217"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02217</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxDescriptorSetUpdateAfterBindInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-06531" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-06531"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-06531</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<code>VkPhysicalDeviceVulkan13Properties</code>::<code>maxInlineUniformTotalSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292" href="#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292</span><br>

Any two elements of <code>pPushConstantRanges</code> <strong>must</strong> not include the same
stage in <code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293</span><br>

<code>pSetLayouts</code> <strong>must</strong> not contain more than one descriptor set layout
that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> set</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03571" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03571"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03571</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<a href="limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxPerStageDescriptorAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03572" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03572"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03572</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<a href="limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxPerStageDescriptorUpdateAfterBindAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03573" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03573"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03573</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible across
all shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<a href="limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxDescriptorSetAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03574" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-03574"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03574</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible across
all shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to
<a href="limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02381" href="#VUID-VkPipelineLayoutCreateInfo-descriptorType-02381"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02381</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be less
than or equal to
<a href="limits.html#VkPhysicalDeviceRayTracingPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingPropertiesNV</a>::<code>maxDescriptorSetAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pImmutableSamplers-03566" href="#VUID-VkPipelineLayoutCreateInfo-pImmutableSamplers-03566"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pImmutableSamplers-03566</span><br>

The total number of <code>pImmutableSamplers</code> created with <code>flags</code>
containing <code>VK_SAMPLER_CREATE_SUBSAMPLED_BIT_EXT</code> or
<code>VK_SAMPLER_CREATE_SUBSAMPLED_COARSE_RECONSTRUCTION_BIT_EXT</code> across
all shader stages and across all elements of <code>pSetLayouts</code> <strong>must</strong> be
less than or equal to <a href="limits.html#limits-maxDescriptorSetSubsampledSamplers" class="xref page">    <code>VkPhysicalDeviceFragmentDensityMap2PropertiesEXT</code>::<code>maxDescriptorSetSubsampledSamplers</code></a></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-04606" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-04606"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-04606</span><br>

Any element of <code>pSetLayouts</code> <strong>must</strong> not have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753" href="#VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753</span><br>

If <a href="features.html#features-graphicsPipelineLibrary" class="xref page"><code>graphicsPipelineLibrary</code></a>
is not enabled, elements of <code>pSetLayouts</code> <strong>must</strong> be valid
<a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> objects</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-08008" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-08008"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-08008</span><br>

If any element of <code>pSetLayouts</code> was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set,
all elements of <code>pSetLayouts</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-sType-sType" href="#VUID-VkPipelineLayoutCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pNext-pNext" href="#VUID-VkPipelineLayoutCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-flags-parameter" href="#VUID-VkPipelineLayoutCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkPipelineLayoutCreateFlagBits">VkPipelineLayoutCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter</span><br>
 If <code>setLayoutCount</code> is not <code>0</code>, <code>pSetLayouts</code> <strong>must</strong> be a valid pointer to an array of <code>setLayoutCount</code> valid or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter" href="#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter</span><br>
 If <code>pushConstantRangeCount</code> is not <code>0</code>, <code>pPushConstantRanges</code> <strong>must</strong> be a valid pointer to an array of <code>pushConstantRangeCount</code> valid <a href="#VkPushConstantRange">VkPushConstantRange</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineLayoutCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_graphics_pipeline_library
typedef enum VkPipelineLayoutCreateFlagBits {
  // Provided by VK_EXT_graphics_pipeline_library
    VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT = 0x00000002,
} VkPipelineLayoutCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code> specifies that
implementations <strong>must</strong> ensure that the properties and/or absence of a
particular descriptor set do not influence any other properties of the
pipeline layout.
This allows pipelines libraries linked without
<code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code> to be created
with a subset of the total descriptor sets.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineLayoutCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineLayoutCreateFlags</code> is a bitmask type for setting a mask of
<a href="#VkPipelineLayoutCreateFlagBits">VkPipelineLayoutCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPushConstantRange</code> structure is defined as:</p>
</div>
<div id="VkPushConstantRange" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkPushConstantRange {
    VkShaderStageFlags    stageFlags;
    uint32_t              offset;
    uint32_t              size;
} VkPushConstantRange;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>stageFlags</code> is a set of stage flags describing the shader stages
that will access a range of push constants.
If a particular stage is not included in the range, then accessing
members of that range of push constants from the corresponding shader
stage will return <strong>undefined</strong> values.</p>
</li>
<li>
<p><code>offset</code> and <code>size</code> are the start offset and size, respectively,
consumed by the range.
Both <code>offset</code> and <code>size</code> are in units of bytes and <strong>must</strong> be a
multiple of 4.
The layout of the push constant variables is specified in the shader.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00294" href="#VUID-VkPushConstantRange-offset-00294"></a> <span class="vuid">VUID-VkPushConstantRange-offset-00294</span><br>

<code>offset</code> <strong>must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00295" href="#VUID-VkPushConstantRange-offset-00295"></a> <span class="vuid">VUID-VkPushConstantRange-offset-00295</span><br>

<code>offset</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00296" href="#VUID-VkPushConstantRange-size-00296"></a> <span class="vuid">VUID-VkPushConstantRange-size-00296</span><br>

<code>size</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00297" href="#VUID-VkPushConstantRange-size-00297"></a> <span class="vuid">VUID-VkPushConstantRange-size-00297</span><br>

<code>size</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00298" href="#VUID-VkPushConstantRange-size-00298"></a> <span class="vuid">VUID-VkPushConstantRange-size-00298</span><br>

<code>size</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-parameter" href="#VUID-VkPushConstantRange-stageFlags-parameter"></a> <span class="vuid">VUID-VkPushConstantRange-stageFlags-parameter</span><br>
 <code>stageFlags</code> <strong>must</strong> be a valid combination of <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-requiredbitmask" href="#VUID-VkPushConstantRange-stageFlags-requiredbitmask"></a> <span class="vuid">VUID-VkPushConstantRange-stageFlags-requiredbitmask</span><br>
 <code>stageFlags</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Once created, pipeline layouts are used as part of pipeline creation (see
<a href="pipelines.html#pipelines" class="xref page">Pipelines</a>), as part of binding descriptor sets (see
<a href="#descriptorsets-binding">Descriptor Set Binding</a>), and as part of setting
push constants (see <a href="#descriptorsets-push-constants">Push ConstantUpdates</a>).
Pipeline creation accepts a pipeline layout as input, and the layout <strong>may</strong> be
used to map (set, binding, arrayElement) tuples to implementation resources
or memory locations within a descriptor set.
The assignment of implementation resources depends only on the bindings
defined in the descriptor sets that comprise the pipeline layout, and not on
any shader source.</p>
</div>
<div id="descriptorsets-pipelinelayout-consistency" class="paragraph">
<p>All resource variables <a href="shaders.html#shaders-staticuse" class="xref page">statically used</a> in all shaders
in a pipeline <strong>must</strong> be declared with a (set, binding, arrayElement) that
exists in the corresponding descriptor set layout and is of an appropriate
descriptor type and includes the set of shader stages it is used by in
<code>stageFlags</code>.
The pipeline layout <strong>can</strong> include entries that are not used by a particular
pipeline.
The pipeline layout allows the application to provide a consistent set of
bindings across multiple pipeline compiles, which enables those pipelines to
be compiled in a way that the implementation <strong>may</strong> cheaply switch pipelines
without reprogramming the bindings.</p>
</div>
<div class="paragraph">
<p>Similarly, the push constant block declared in each shader (if present)
<strong>must</strong> only place variables at offsets that are each included in a push
constant range with <code>stageFlags</code> including the bit corresponding to the
shader stage that uses it.
The pipeline layout <strong>can</strong> include ranges or portions of ranges that are not
used by a particular pipeline.</p>
</div>
<div class="paragraph">
<p>There is a limit on the total number of resources of each type that <strong>can</strong> be
included in bindings in all descriptor set layouts in a pipeline layout as
shown in <a href="#descriptorsets-pipelinelayout-limits">Pipeline Layout ResourceLimits</a>.
The &#8220;Total Resources Available&#8221; column gives the limit on the number of
each type of resource that <strong>can</strong> be included in bindings in all descriptor
sets in the pipeline layout.
Some resource types count against multiple limits.
Additionally, there are limits on the total number of each type of resource
that <strong>can</strong> be used in any pipeline stage as described in
<a href="interfaces.html#interfaces-resources-limits" class="xref page">Shader Resource Limits</a>.</p>
</div>
<table id="descriptorsets-pipelinelayout-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 1. Pipeline Layout Resource Limits</caption>
<colgroup>
<col style="width: 62.7118%;">
<col style="width: 37.2882%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Total Resources Available</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetSamplers</code>
or <code>maxDescriptorSetUpdateAfterBindSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>maxDescriptorSetSampledImages</code>
or <code>maxDescriptorSetUpdateAfterBindSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageImages</code>
or <code>maxDescriptorSetUpdateAfterBindStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code>
or <code>maxDescriptorSetUpdateAfterBindUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code>
or <code>maxDescriptorSetUpdateAfterBindUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code>
or <code>maxDescriptorSetUpdateAfterBindStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code>
or <code>maxDescriptorSetUpdateAfterBindStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInputAttachments</code>
or <code>maxDescriptorSetUpdateAfterBindInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInlineUniformBlocks</code>
or <code>maxDescriptorSetUpdateAfterBindInlineUniformBlocks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetAccelerationStructures</code>
or <code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">acceleration structure</p></td>
</tr>
</tbody>
</table>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline layout, call:</p>
</div>
<div id="vkDestroyPipelineLayout" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyPipelineLayout(
    VkDevice                                    device,
    VkPipelineLayout                            pipelineLayout,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline layout.</p>
</li>
<li>
<p><code>pipelineLayout</code> is the pipeline layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00299" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-00299"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-00299</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipelineLayout</code>
was created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00300" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-00300"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-00300</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>pipelineLayout</code> was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-02004" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-02004"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-02004</span><br>

<code>pipelineLayout</code> <strong>must</strong> not have been passed to any <code>vkCmd*</code>
command for any command buffers that are still in the
<a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a> when
<code>vkDestroyPipelineLayout</code> is called</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-device-parameter" href="#VUID-vkDestroyPipelineLayout-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parameter" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-parameter</span><br>
 If <code>pipelineLayout</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>pipelineLayout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pAllocator-parameter" href="#VUID-vkDestroyPipelineLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parent" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-parent"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-parent</span><br>
 If <code>pipelineLayout</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineLayout</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-compatibility"><a class="anchor" href="#descriptorsets-compatibility"></a>Pipeline Layout Compatibility</h4>
<div class="paragraph">
<p>Two pipeline layouts are defined to be &#8220;compatible for
<a href="#descriptorsets-push-constants">push constants</a>&#8221; if they were created
with identical push constant ranges.
Two pipeline layouts are defined to be &#8220;compatible for set N&#8221; if they were
created with <em>identically defined</em> descriptor set layouts for sets zero
through N,
if both of them either were or were not created with
<code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code>,
and if they were created with identical push constant ranges.</p>
</div>
<div class="paragraph">
<p>When binding a descriptor set (see <a href="#descriptorsets-binding">Descriptor SetBinding</a>) to set number N, a previously bound descriptor set bound with
lower index M than N is disturbed if the pipeline layouts for set M and N
are not compatible for set M. Otherwise, the bound descriptor set in M is
not disturbed.</p>
</div>
<div class="paragraph">
<p>If, additionally, the previously bound descriptor set for set N was bound
using a pipeline layout not compatible for set N, then all bindings in sets
numbered greater than N are disturbed.</p>
</div>
<div class="paragraph">
<p>When binding a pipeline, the pipeline <strong>can</strong> correctly access any previously
bound descriptor set N if it was bound with compatible pipeline layout for
set N, and it was not disturbed.</p>
</div>
<div class="paragraph">
<p>Layout compatibility means that descriptor sets <strong>can</strong> be bound to a command
buffer for use by any pipeline created with a compatible pipeline layout,
and without having bound a particular pipeline first.
It also means that descriptor sets <strong>can</strong> remain valid across a pipeline
change, and the same resources will be accessible to the newly bound
pipeline.</p>
</div>
<div class="paragraph">
<p>When a descriptor set is disturbed by binding descriptor sets, the disturbed
set is considered to contain <strong>undefined</strong> descriptors bound with the same
pipeline layout as the disturbing descriptor set.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Place the least frequently changing descriptor sets near the start of the
pipeline layout, and place the descriptor sets representing the most
frequently changing resources near the end.
When pipelines are switched, only the descriptor set bindings that have been
invalidated will need to be updated and the remainder of the descriptor set
bindings will remain in place.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The maximum number of descriptor sets that <strong>can</strong> be bound to a pipeline
layout is queried from physical device properties (see
<code>maxBoundDescriptorSets</code> in <a href="limits.html#limits" class="xref page">Limits</a>).</p>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">const VkDescriptorSetLayout layouts[] = { layout1, layout2 };

const VkPushConstantRange ranges[] =
{
    {
        .stageFlags = VK_SHADER_STAGE_VERTEX_BIT,
        .offset = 0,
        .size = 4
    },
    {
        .stageFlags = VK_SHADER_STAGE_FRAGMENT_BIT,
        .offset = 4,
        .size = 4
    },
};

const VkPipelineLayoutCreateInfo createInfo =
{
    .sType = VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO,
    .pNext = NULL,
    .flags = 0,
    .setLayoutCount = 2,
    .pSetLayouts = layouts,
    .pushConstantRangeCount = 2,
    .pPushConstantRanges = ranges
};

VkPipelineLayout myPipelineLayout;
myResult = vkCreatePipelineLayout(
    myDevice,
    &amp;createInfo,
    NULL,
    &amp;myPipelineLayout);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-allocation"><a class="anchor" href="#descriptorsets-allocation"></a>Allocation of Descriptor Sets</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>descriptor pool</em> maintains a pool of descriptors, from which descriptor
sets are allocated.
Descriptor pools are externally synchronized, meaning that the application
<strong>must</strong> not allocate and/or free descriptor sets from the same pool in
multiple threads simultaneously.</p>
</div>
<div class="paragraph">
<p>Descriptor pools are represented by <code>VkDescriptorPool</code> handles:</p>
</div>
<div id="VkDescriptorPool" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorPool)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a descriptor pool object, call:</p>
</div>
<div id="vkCreateDescriptorPool" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkCreateDescriptorPool(
    VkDevice                                    device,
    const VkDescriptorPoolCreateInfo*           pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorPool*                           pDescriptorPool);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor pool.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>
structure specifying the state of the descriptor pool object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDescriptorPool</code> is a pointer to a <a href="#VkDescriptorPool">VkDescriptorPool</a> handle in
which the resulting descriptor pool object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The created descriptor pool is returned in <code>pDescriptorPool</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorPool-device-parameter" href="#VUID-vkCreateDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pCreateInfo-parameter" href="#VUID-vkCreateDescriptorPool-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pAllocator-parameter" href="#VUID-vkCreateDescriptorPool-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pDescriptorPool-parameter" href="#VUID-vkCreateDescriptorPool-pDescriptorPool-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pDescriptorPool-parameter</span><br>
 <code>pDescriptorPool</code> <strong>must</strong> be a valid pointer to a <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FRAGMENTATION_EXT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Additional information about the pool is passed in a
<code>VkDescriptorPoolCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorPoolCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorPoolCreateInfo {
    VkStructureType                sType;
    const void*                    pNext;
    VkDescriptorPoolCreateFlags    flags;
    uint32_t                       maxSets;
    uint32_t                       poolSizeCount;
    const VkDescriptorPoolSize*    pPoolSizes;
} VkDescriptorPoolCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>
specifying certain supported operations on the pool.</p>
</li>
<li>
<p><code>maxSets</code> is the maximum number of descriptor sets that <strong>can</strong> be
allocated from the pool.</p>
</li>
<li>
<p><code>poolSizeCount</code> is the number of elements in <code>pPoolSizes</code>.</p>
</li>
<li>
<p><code>pPoolSizes</code> is a pointer to an array of <a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a>
structures, each containing a descriptor type and number of descriptors
of that type to be allocated in the pool.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple <code>VkDescriptorPoolSize</code> structures containing the same
descriptor type appear in the <code>pPoolSizes</code> array then the pool will be
created with enough storage for the total number of descriptors of each
type.</p>
</div>
<div class="paragraph">
<p>Fragmentation of a descriptor pool is possible and <strong>may</strong> lead to descriptor
set allocation failures.
A failure due to fragmentation is defined as failing a descriptor set
allocation despite the sum of all outstanding descriptor set allocations
from the pool plus the requested allocation requiring no more than the total
number of descriptors requested at pool creation.
Implementations provide certain guarantees of when fragmentation <strong>must</strong> not
cause allocation failure, as described below.</p>
</div>
<div class="paragraph">
<p>If a descriptor pool has not had any descriptor sets freed since it was
created or most recently reset then fragmentation <strong>must</strong> not cause an
allocation failure (note that this is always the case for a pool created
without the <code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> bit
set).
Additionally, if all sets allocated from the pool since it was created or
most recently reset use the same number of descriptors (of each type) and
the requested allocation also uses that same number of descriptors (of each
type), then fragmentation <strong>must</strong> not cause an allocation failure.</p>
</div>
<div class="paragraph">
<p>If an allocation failure occurs due to fragmentation, an application <strong>can</strong>
create an additional descriptor pool to perform further descriptor set
allocations.</p>
</div>
<div class="paragraph">
<p>If <code>flags</code> has the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code>
bit set, descriptor pool creation <strong>may</strong> fail with the error
<code>VK_ERROR_FRAGMENTATION</code> if the total number of descriptors across all
pools (including this one) created with this bit set exceeds
<code>maxUpdateAfterBindDescriptorsInAllPools</code>, or if fragmentation of the
underlying hardware resources occurs.</p>
</div>
<div class="paragraph">
<p>If a <code>pPoolSizes</code>[i]::<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, a
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a> struct in the <code>pNext</code> chain
<strong>can</strong> be used to specify which mutable descriptor types <strong>can</strong> be allocated
from the pool.
If included in the <code>pNext</code> chain,
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a>::<code>pMutableDescriptorTypeLists</code>[i]
specifies which kind of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> descriptors
<strong>can</strong> be allocated from this pool entry.
If <a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a> does not exist in the
<code>pNext</code> chain, or
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a>::<code>pMutableDescriptorTypeLists</code>[i]
is out of range, the descriptor pool allocates enough memory to be able to
allocate a <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> descriptor with any
supported <a href="#VkDescriptorType">VkDescriptorType</a> as a mutable descriptor.
A mutable descriptor <strong>can</strong> be allocated from a pool entry if the type list in
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> is a subset of the type list declared
in the descriptor pool, or if the pool entry is created without a descriptor
type list.
Multiple <code>pPoolSizes</code> entries with <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>
<strong>can</strong> be declared.
When multiple such pool entries are present in <code>pPoolSizes</code>, they
specify sets of supported descriptor types which either fully overlap,
partially overlap, or are disjoint.
Two sets fully overlap if the sets of supported descriptor types are equal.
If the sets are not disjoint they partially overlap.
A pool entry without a <code>VkMutableDescriptorTypeListEXT</code> assigned to it
is considered to partially overlap any other pool entry which has a
<code>VkMutableDescriptorTypeListEXT</code> assigned to it.
The application <strong>must</strong> ensure that partial overlap does not exist in
<code>pPoolSizes</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The requirement of no partial overlap is intended to resolve ambiguity for
validation as there is no confusion which <code>pPoolSizes</code> entries will be
allocated from.
An implementation is not expected to depend on this requirement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227" href="#VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227</span><br>

If the <a href="features.html#features-descriptorPoolOverallocation" class="xref page">    <code>descriptorPoolOverallocation</code></a> feature is not enabled, or
<code>flags</code> does not have
<code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV</code> set,
<code>maxSets</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-09228" href="#VUID-VkDescriptorPoolCreateInfo-flags-09228"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-flags-09228</span><br>

If <code>flags</code> has the
<code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV</code> or
<code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_POOLS_BIT_NV</code> bits
set, then <a href="features.html#features-descriptorPoolOverallocation" class="xref page">    <code>descriptorPoolOverallocation</code></a> <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-04607" href="#VUID-VkDescriptorPoolCreateInfo-flags-04607"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-flags-04607</span><br>

If <code>flags</code> has the <code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code>
bit set, then the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code>
bit <strong>must</strong> not be set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-mutableDescriptorType-04608" href="#VUID-VkDescriptorPoolCreateInfo-mutableDescriptorType-04608"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-mutableDescriptorType-04608</span><br>

If
<a href="features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT</a>::<code>mutableDescriptorType</code>
is not enabled, <code>pPoolSizes</code> <strong>must</strong> not contain a
<code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-04609" href="#VUID-VkDescriptorPoolCreateInfo-flags-04609"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-flags-04609</span><br>

If <code>flags</code> has the <code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code>
bit set,
<a href="features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT</a>::<code>mutableDescriptorType</code>
<strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pPoolSizes-04787" href="#VUID-VkDescriptorPoolCreateInfo-pPoolSizes-04787"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pPoolSizes-04787</span><br>

If <code>pPoolSizes</code> contains a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, any other
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> element in <code>pPoolSizes</code> <strong>must</strong>
not have sets of supported descriptor types which partially overlap</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-sType-sType" href="#VUID-VkDescriptorPoolCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pNext-pNext" href="#VUID-VkDescriptorPoolCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkDescriptorPoolInlineUniformBlockCreateInfo">VkDescriptorPoolInlineUniformBlockCreateInfo</a> or <a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-sType-unique" href="#VUID-VkDescriptorPoolCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-parameter" href="#VUID-VkDescriptorPoolCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong>must</strong> be a valid combination of <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter" href="#VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter</span><br>
 If <code>poolSizeCount</code> is not <code>0</code>, <code>pPoolSizes</code> <strong>must</strong> be a valid pointer to an array of <code>poolSizeCount</code> valid <a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In order to be able to allocate descriptor sets having
<a href="#descriptorsets-inlineuniformblock">inline uniform block</a> bindings the
descriptor pool <strong>must</strong> be created with specifying the inline uniform block
binding capacity of the descriptor pool, in addition to the total inline
uniform data capacity in bytes which is specified through a
<a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a> structure with a <code>descriptorType</code> value of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>.
This <strong>can</strong> be done by adding a
<code>VkDescriptorPoolInlineUniformBlockCreateInfo</code> structure to the
<code>pNext</code> chain of <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>The <code>VkDescriptorPoolInlineUniformBlockCreateInfo</code> structure is defined
as:</p>
</div>
<div id="VkDescriptorPoolInlineUniformBlockCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkDescriptorPoolInlineUniformBlockCreateInfo {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           maxInlineUniformBlockBindings;
} VkDescriptorPoolInlineUniformBlockCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorPoolInlineUniformBlockCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_inline_uniform_block
typedef VkDescriptorPoolInlineUniformBlockCreateInfo VkDescriptorPoolInlineUniformBlockCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>maxInlineUniformBlockBindings</code> is the number of inline uniform
block bindings to allocate.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType" href="#VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_INLINE_UNIFORM_BLOCK_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong>can</strong> be set in <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>flags</code>,
enabling operations on a descriptor pool, are:</p>
</div>
<div id="VkDescriptorPoolCreateFlagBits" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkDescriptorPoolCreateFlagBits {
    VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT = 0x00000001,
  // Provided by VK_VERSION_1_2
    VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT = 0x00000002,
  // Provided by VK_EXT_mutable_descriptor_type
    VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT = 0x00000004,
  // Provided by VK_NV_descriptor_pool_overallocation
    VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV = 0x00000008,
  // Provided by VK_NV_descriptor_pool_overallocation
    VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_POOLS_BIT_NV = 0x00000010,
  // Provided by VK_EXT_descriptor_indexing
    VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT_EXT = VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT,
  // Provided by VK_VALVE_mutable_descriptor_type
    VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_VALVE = VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT,
} VkDescriptorPoolCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> specifies that
descriptor sets <strong>can</strong> return their individual allocations to the pool,
i.e. all of <a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>, <a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a>,
and <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a> are allowed.
Otherwise, descriptor sets allocated from the pool <strong>must</strong> not be
individually freed back to the pool, i.e. only
<a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a> are
allowed.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> specifies that
descriptor sets allocated from this pool <strong>can</strong> include bindings with the
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit set.
It is valid to allocate descriptor sets that have bindings that do not
set the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit from a
pool that has <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> set.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code> specifies that this
descriptor pool and the descriptor sets allocated from it reside
entirely in host memory and cannot be bound.
Similar to descriptor sets allocated without this flag, applications
<strong>can</strong> copy-from and copy-to descriptors sets allocated from this
descriptor pool.
Descriptor sets allocated from this pool are partially exempt from the
external synchronization requirement in
<a href="#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a> and
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>.
Descriptor sets and their descriptors can be updated concurrently in
different threads, though the same descriptor <strong>must</strong> not be updated
concurrently by two threads.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV</code>
specifies that the implementation should allow the application to
allocate more than <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>maxSets</code>
descriptor set objects from the descriptor pool as available resources
allow.
The implementation <strong>may</strong> use the <code>maxSets</code> value to allocate the
initial available sets, but using zero is permitted.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_POOLS_BIT_NV</code>
specifies that the implementation should allow the application to
allocate more descriptors from the pool than was specified by the
<a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a>::<code>descriptorCount</code> for any descriptor
type as specified by
<a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>poolSizeCount</code> and
<a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>pPoolSizes</code>, as available
resources allow.
The implementation <strong>may</strong> use the <code>descriptorCount</code> for each
descriptor type to allocate the initial pool, but the application is
allowed to set the <code>poolSizeCount</code> to zero, or any of the
<code>descriptorCount</code> values in the <code>pPoolSizes</code> array to zero.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkDescriptorPoolCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolCreateFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorPoolSize</code> structure is defined as:</p>
</div>
<div id="VkDescriptorPoolSize" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorPoolSize {
    VkDescriptorType    type;
    uint32_t            descriptorCount;
} VkDescriptorPoolSize;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> is the type of descriptor.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors of that type to
allocate.
If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> is the number of bytes to allocate for descriptors
of this type.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When creating a descriptor pool that will contain descriptors for combined
image samplers of multi-planar formats, an application needs to account for
non-trivial descriptor consumption when choosing the <code>descriptorCount</code>
value, as indicated by
<a href="capabilities.html#VkSamplerYcbcrConversionImageFormatProperties" class="xref page">VkSamplerYcbcrConversionImageFormatProperties</a>::<code>combinedImageSamplerDescriptorCount</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-descriptorCount-00302" href="#VUID-VkDescriptorPoolSize-descriptorCount-00302"></a> <span class="vuid">VUID-VkDescriptorPoolSize-descriptorCount-00302</span><br>

<code>descriptorCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolSize-type-02218" href="#VUID-VkDescriptorPoolSize-type-02218"></a> <span class="vuid">VUID-VkDescriptorPoolSize-type-02218</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-type-parameter" href="#VUID-VkDescriptorPoolSize-type-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolSize-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor pool, call:</p>
</div>
<div id="vkDestroyDescriptorPool" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkDestroyDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pool is destroyed, all descriptor sets allocated from the pool are
implicitly freed and become invalid.
Descriptor sets allocated from a given pool do not need to be freed before
destroying that descriptor pool.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00303" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00303"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00303</span><br>

All submitted commands that refer to <code>descriptorPool</code> (via any
allocated descriptor sets) <strong>must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00304" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00304"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00304</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>descriptorPool</code>
was created, a compatible set of callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00305" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00305"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00305</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorPool</code> was created, <code>pAllocator</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-device-parameter" href="#VUID-vkDestroyDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parameter" href="#VUID-vkDestroyDescriptorPool-descriptorPool-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-parameter</span><br>
 If <code>descriptorPool</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>descriptorPool</code> <strong>must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-pAllocator-parameter" href="#VUID-vkDestroyDescriptorPool-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parent" href="#VUID-vkDestroyDescriptorPool-descriptorPool-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-parent</span><br>
 If <code>descriptorPool</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Descriptor sets are allocated from descriptor pool objects, and are
represented by <code>VkDescriptorSet</code> handles:</p>
</div>
<div id="VkDescriptorSet" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSet)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allocate descriptor sets from a descriptor pool, call:</p>
</div>
<div id="vkAllocateDescriptorSets" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkAllocateDescriptorSets(
    VkDevice                                    device,
    const VkDescriptorSetAllocateInfo*          pAllocateInfo,
    VkDescriptorSet*                            pDescriptorSets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>pAllocateInfo</code> is a pointer to a <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>
structure describing parameters of the allocation.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of <a href="#VkDescriptorSet">VkDescriptorSet</a>
handles in which the resulting descriptor set objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The allocated descriptor sets are returned in <code>pDescriptorSets</code>.</p>
</div>
<div id="descriptor-set-initial-state" class="paragraph">
<p>When a descriptor set is allocated, the initial state is largely
uninitialized and all descriptors are <strong>undefined</strong>, with the exception that
samplers with a non-null <code>pImmutableSamplers</code> are initialized on
allocation.
Descriptors also become <strong>undefined</strong> if the underlying resource or view object
is destroyed.
Descriptor sets containing <strong>undefined</strong> descriptors <strong>can</strong> still be bound and
used, subject to the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For descriptor set bindings created with the
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> bit set, all descriptors
in that binding that are dynamically used <strong>must</strong> have been populated
before the descriptor set is <a href="#descriptorsets-binding">consumed</a>.</p>
</li>
<li>
<p>For descriptor set bindings created without the
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> bit set, all descriptors
in that binding that are statically used <strong>must</strong> have been populated
before the descriptor set is <a href="#descriptorsets-binding">consumed</a>.</p>
</li>
<li>
<p>Descriptor bindings with descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> <strong>can</strong> be <strong>undefined</strong> when
the descriptor set is <a href="#descriptorsets-binding">consumed</a>; though values
in that block will be <strong>undefined</strong>.</p>
</li>
<li>
<p>Entries that are not used by a pipeline <strong>can</strong> have <strong>undefined</strong>
descriptors.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a call to <code>vkAllocateDescriptorSets</code> would cause the total number of
descriptor sets allocated from the pool to exceed the value of
<a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>maxSets</code> used to create
<code>pAllocateInfo-&gt;descriptorPool</code>, then the allocation <strong>may</strong> fail due to
lack of space in the descriptor pool.
Similarly, the allocation <strong>may</strong> fail due to lack of space if the call to
<code>vkAllocateDescriptorSets</code> would cause the number of any given
descriptor type to exceed the sum of all the <code>descriptorCount</code> members
of each element of <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>pPoolSizes</code> with a
<code>type</code> equal to that type.</p>
</div>
<div class="paragraph">
<p>Additionally, the allocation <strong>may</strong> also fail if a call to
<code>vkAllocateDescriptorSets</code> would cause the total number of inline
uniform block bindings allocated from the pool to exceed the value of
<a href="#VkDescriptorPoolInlineUniformBlockCreateInfo">VkDescriptorPoolInlineUniformBlockCreateInfo</a>::<code>maxInlineUniformBlockBindings</code>
used to create the descriptor pool.</p>
</div>
<div class="paragraph">
<p>If the allocation fails due to no more space in the descriptor pool, and not
because of system or device memory exhaustion, then
<code>VK_ERROR_OUT_OF_POOL_MEMORY</code> <strong>must</strong> be returned.</p>
</div>
<div class="paragraph">
<p><code>vkAllocateDescriptorSets</code> <strong>can</strong> be used to create multiple descriptor
sets.
If the creation of any of those descriptor sets fails, then the
implementation <strong>must</strong> destroy all successfully created descriptor set objects
from this command, set all entries of the <code>pDescriptorSets</code> array to
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> and return the error.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-device-parameter" href="#VUID-vkAllocateDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter" href="#VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter</span><br>
 <code>pAllocateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter" href="#VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter</span><br>
 <code>pDescriptorSets</code> <strong>must</strong> be a valid pointer to an array of <code>pAllocateInfo-&gt;descriptorSetCount</code> <a href="#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength" href="#VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength</span><br>
 <code>pAllocateInfo-&gt;descriptorSetCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pAllocateInfo-&gt;descriptorPool</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FRAGMENTED_POOL</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetAllocateInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetAllocateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorSetAllocateInfo {
    VkStructureType                 sType;
    const void*                     pNext;
    VkDescriptorPool                descriptorPool;
    uint32_t                        descriptorSetCount;
    const VkDescriptorSetLayout*    pSetLayouts;
} VkDescriptorSetAllocateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>descriptorPool</code> is the pool which the sets will be allocated from.</p>
</li>
<li>
<p><code>descriptorSetCount</code> determines the number of descriptor sets to be
allocated from the pool.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of descriptor set layouts,
with each member specifying how the corresponding descriptor set is
allocated.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-apiVersion-07895" href="#VUID-VkDescriptorSetAllocateInfo-apiVersion-07895"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-apiVersion-07895</span><br>

If the <a href="../appendices/extensions.html#VK_KHR_maintenance1" class="xref page">VK_KHR_maintenance1</a> extension is not enabled,
<a href="devsandqueues.html#VkPhysicalDeviceProperties" class="xref page">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> is less than Vulkan
1.1, <code>descriptorSetCount</code> <strong>must</strong> not be greater than the number of
sets that are currently available for allocation in <code>descriptorPool</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-apiVersion-07896" href="#VUID-VkDescriptorSetAllocateInfo-apiVersion-07896"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-apiVersion-07896</span><br>

If the <a href="../appendices/extensions.html#VK_KHR_maintenance1" class="xref page">VK_KHR_maintenance1</a> extension is not enabled,
<a href="devsandqueues.html#VkPhysicalDeviceProperties" class="xref page">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> is less than Vulkan
1.1, <code>descriptorPool</code> <strong>must</strong> have enough free descriptor capacity
remaining to allocate the descriptor sets of the specified layouts</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308</span><br>

Each element of <code>pSetLayouts</code> <strong>must</strong> not have been created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044</span><br>

If any element of <code>pSetLayouts</code> was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set, <code>descriptorPool</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-04610" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-04610"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-04610</span><br>

If any element of <code>pSetLayouts</code> was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code> bit set,
<code>descriptorPool</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-08009" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-08009"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-08009</span><br>

Each element of <code>pSetLayouts</code> <strong>must</strong> not have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-sType-sType" href="#VUID-VkDescriptorSetAllocateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pNext-pNext" href="#VUID-VkDescriptorSetAllocateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="#VkDescriptorSetVariableDescriptorCountAllocateInfo">VkDescriptorSetVariableDescriptorCountAllocateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-sType-unique" href="#VUID-VkDescriptorSetAllocateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter" href="#VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong>must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter</span><br>
 <code>pSetLayouts</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength" href="#VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-commonparent" href="#VUID-VkDescriptorSetAllocateInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-commonparent</span><br>
 Both of <code>descriptorPool</code>, and the elements of <code>pSetLayouts</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a> structure
includes a <code>VkDescriptorSetVariableDescriptorCountAllocateInfo</code>
structure, then that structure includes an array of descriptor counts for
variable-sized descriptor bindings, one for each descriptor set being
allocated.</p>
</div>
<div class="paragraph">
<p>The <code>VkDescriptorSetVariableDescriptorCountAllocateInfo</code> structure is
defined as:</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountAllocateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef struct VkDescriptorSetVariableDescriptorCountAllocateInfo {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           descriptorSetCount;
    const uint32_t*    pDescriptorCounts;
} VkDescriptorSetVariableDescriptorCountAllocateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountAllocateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_indexing
typedef VkDescriptorSetVariableDescriptorCountAllocateInfo VkDescriptorSetVariableDescriptorCountAllocateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is zero or the number of elements in
<code>pDescriptorCounts</code>.</p>
</li>
<li>
<p><code>pDescriptorCounts</code> is a pointer to an array of descriptor counts,
with each member specifying the number of descriptors in a
variable-sized descriptor binding in the corresponding descriptor set
being allocated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>descriptorSetCount</code> is zero or this structure is not included in the
<code>pNext</code> chain, then the variable lengths are considered to be zero.
Otherwise, <code>pDescriptorCounts</code>[i] is the number of descriptors in the
variable-sized descriptor binding in the corresponding descriptor set
layout.
If the variable-sized descriptor binding in the corresponding descriptor set
layout has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>pDescriptorCounts</code>[i] specifies the binding&#8217;s capacity in bytes.
If <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>pSetLayouts</code>[i] does not include
a variable-sized descriptor binding, then <code>pDescriptorCounts</code>[i] is
ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045" href="#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045</span><br>

If <code>descriptorSetCount</code> is not zero, <code>descriptorSetCount</code> <strong>must</strong>
equal <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>descriptorSetCount</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046" href="#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046</span><br>

If <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>pSetLayouts</code>[i] has a
variable-sized descriptor binding, then <code>pDescriptorCounts</code>[i] <strong>must</strong>
be less than or equal to the descriptor count specified for that binding
when the descriptor set layout was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType" href="#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter" href="#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter</span><br>
 If <code>descriptorSetCount</code> is not <code>0</code>, <code>pDescriptorCounts</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To free allocated descriptor sets, call:</p>
</div>
<div id="vkFreeDescriptorSets" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkFreeDescriptorSets(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    uint32_t                                    descriptorSetCount,
    const VkDescriptorSet*                      pDescriptorSets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool from which the descriptor
sets were allocated.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="#VkDescriptorSet">VkDescriptorSet</a> objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After calling <code>vkFreeDescriptorSets</code>, all descriptor sets in
<code>pDescriptorSets</code> are invalid.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00309" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-00309"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-00309</span><br>

All submitted commands that refer to any element of
<code>pDescriptorSets</code> <strong>must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00310" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-00310"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-00310</span><br>

<code>pDescriptorSets</code> <strong>must</strong> be a valid pointer to an array of
<code>descriptorSetCount</code> <code>VkDescriptorSet</code> handles, each element of
which <strong>must</strong> either be a valid handle or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-00312" href="#VUID-vkFreeDescriptorSets-descriptorPool-00312"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-00312</span><br>

<code>descriptorPool</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> flag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-device-parameter" href="#VUID-vkFreeDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkFreeDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parameter" href="#VUID-vkFreeDescriptorSets-descriptorPool-parameter"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong>must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength" href="#VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parent" href="#VUID-vkFreeDescriptorSets-descriptorPool-parent"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-parent</span><br>
 <code>descriptorPool</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-parent" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-parent"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-parent</span><br>
 Each element of <code>pDescriptorSets</code> that is a valid handle <strong>must</strong> have been created, allocated, or retrieved from <code>descriptorPool</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to each member of <code>pDescriptorSets</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To return all descriptor sets allocated from a given pool to the pool,
rather than freeing individual descriptor sets, call:</p>
</div>
<div id="vkResetDescriptorPool" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
VkResult vkResetDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    VkDescriptorPoolResetFlags                  flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to be reset.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resetting a descriptor pool recycles all of the resources from all of the
descriptor sets allocated from the descriptor pool back to the descriptor
pool, and the descriptor sets are implicitly freed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-00313" href="#VUID-vkResetDescriptorPool-descriptorPool-00313"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-00313</span><br>

All uses of <code>descriptorPool</code> (via any allocated descriptor sets)
<strong>must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-device-parameter" href="#VUID-vkResetDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkResetDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parameter" href="#VUID-vkResetDescriptorPool-descriptorPool-parameter"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong>must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-flags-zerobitmask" href="#VUID-vkResetDescriptorPool-flags-zerobitmask"></a> <span class="vuid">VUID-vkResetDescriptorPool-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parent" href="#VUID-vkResetDescriptorPool-descriptorPool-parent"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-parent</span><br>
 <code>descriptorPool</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolResetFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef VkFlags VkDescriptorPoolResetFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolResetFlags</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-updates"><a class="anchor" href="#descriptorsets-updates"></a>Descriptor Set Updates</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once allocated, descriptor sets <strong>can</strong> be updated with a combination of write
and copy operations.
To update descriptor sets, call:</p>
</div>
<div id="vkUpdateDescriptorSets" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkUpdateDescriptorSets(
    VkDevice                                    device,
    uint32_t                                    descriptorWriteCount,
    const VkWriteDescriptorSet*                 pDescriptorWrites,
    uint32_t                                    descriptorCopyCount,
    const VkCopyDescriptorSet*                  pDescriptorCopies);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that updates the descriptor sets.</p>
</li>
<li>
<p><code>descriptorWriteCount</code> is the number of elements in the
<code>pDescriptorWrites</code> array.</p>
</li>
<li>
<p><code>pDescriptorWrites</code> is a pointer to an array of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures describing the descriptor sets to
write to.</p>
</li>
<li>
<p><code>descriptorCopyCount</code> is the number of elements in the
<code>pDescriptorCopies</code> array.</p>
</li>
<li>
<p><code>pDescriptorCopies</code> is a pointer to an array of
<a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures describing the descriptor sets to
copy between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operations described by <code>pDescriptorWrites</code> are performed first,
followed by the operations described by <code>pDescriptorCopies</code>.
Within each array, the operations are performed in the order they appear in
the array.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorWrites</code> array describes an operation
updating the descriptor set using descriptors for resources specified in the
structure.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorCopies</code> array is a
<a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structure describing an operation copying
descriptors between sets.</p>
</div>
<div class="paragraph">
<p>If the <code>dstSet</code> member of any element of <code>pDescriptorWrites</code> or
<code>pDescriptorCopies</code> is bound, accessed, or modified by any command that
was recorded to a command buffer which is currently in the
<a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording or executable state</a>,
and any of the descriptor bindings that are updated were not created with
the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> or
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> bits set,
that command buffer becomes <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, elements of the
<code>pTexelBufferView</code> member of <code>pDescriptorWrites</code>[i] <strong>must</strong> have
been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of any element of the <code>pBufferInfo</code> member of
<code>pDescriptorWrites</code>[i] <strong>must</strong> have been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
not allocated with a layout that included immutable samplers for
<code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
any element of the <code>pImageInfo</code> member of <code>pDescriptorWrites</code>[i]
<strong>must</strong> have been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> the <code>imageView</code>
member of any element of <code>pDescriptorWrites</code>[i] <strong>must</strong> have been
created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, elements of the
<code>pAccelerationStructures</code> member of a
<a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain of <code>pDescriptorWrites</code>[i] <strong>must</strong> have been created
on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06241" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06241"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06241</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>, elements of the
<code>pAccelerationStructures</code> member of a
<a href="#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a> structure in the
<code>pNext</code> chain of <code>pDescriptorWrites</code>[i] <strong>must</strong> have been created
on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06940" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06940"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06940</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code> or
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>, the <code>imageView</code>
member of any element of <code>pDescriptorWrites</code>[i] <strong>must</strong> have been
created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>pDescriptorWrites</code>[i].<code>pImageInfo</code> <strong>must</strong> be a valid pointer to
an array of <code>pDescriptorWrites</code>[i].<code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06941" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06941"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06941</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code> or
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>,
<code>pDescriptorWrites</code>[i].<code>pImageInfo</code> <strong>must</strong> be a valid pointer to
an array of <code>pDescriptorWrites</code>[i].<code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-None-03047" href="#VUID-vkUpdateDescriptorSets-None-03047"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-None-03047</span><br>

Descriptor bindings updated by this command which were created without
the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> or
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> bits set
<strong>must</strong> not be used by any command that was recorded to a command buffer
which is in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993</span><br>

Host access to <code>pDescriptorWrites</code>[i].<code>dstSet</code> and
<code>pDescriptorCopies</code>[i].<code>dstSet</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a> unless
explicitly denoted otherwise for specific flags</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-device-parameter" href="#VUID-vkUpdateDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter</span><br>
 If <code>descriptorWriteCount</code> is not <code>0</code>, <code>pDescriptorWrites</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorWriteCount</code> valid <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter" href="#VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter</span><br>
 If <code>descriptorCopyCount</code> is not <code>0</code>, <code>pDescriptorCopies</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorCopyCount</code> valid <a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkWriteDescriptorSet" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkWriteDescriptorSet {
    VkStructureType                  sType;
    const void*                      pNext;
    VkDescriptorSet                  dstSet;
    uint32_t                         dstBinding;
    uint32_t                         dstArrayElement;
    uint32_t                         descriptorCount;
    VkDescriptorType                 descriptorType;
    const VkDescriptorImageInfo*     pImageInfo;
    const VkDescriptorBufferInfo*    pBufferInfo;
    const VkBufferView*              pTexelBufferView;
} VkWriteDescriptorSet;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>dstSet</code> is the destination descriptor set to update.</p>
</li>
<li>
<p><code>dstBinding</code> is the descriptor binding within that set.</p>
</li>
<li>
<p><code>dstArrayElement</code> is the starting element in that array.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>dstArrayElement</code>
specifies the starting byte offset within the binding.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to update.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, then
<code>descriptorCount</code> specifies the number of bytes to update.
Otherwise,
<code>descriptorCount</code> is one of</p>
<div class="ulist">
<ul>
<li>
<p>the number of elements in <code>pImageInfo</code></p>
</li>
<li>
<p>the number of elements in <code>pBufferInfo</code></p>
</li>
<li>
<p>the number of elements in <code>pTexelBufferView</code></p>
</li>
<li>
<p>a value matching the <code>dataSize</code> member of a
<a href="#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure in the
<code>pNext</code> chain</p>
</li>
<li>
<p>a value matching the <code>accelerationStructureCount</code> of a
<a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>descriptorType</code> is a <a href="#VkDescriptorType">VkDescriptorType</a> specifying the type of
each descriptor in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
<code>pTexelBufferView</code>, as described below.
If <code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at
<code>dstBinding</code> is not equal to <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>,
<code>descriptorType</code> <strong>must</strong>
be the same type as the <code>descriptorType</code> specified in
<code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at <code>dstBinding</code>.
The type of the descriptor also controls which array the descriptors are
taken from.</p>
</li>
<li>
<p><code>pImageInfo</code> is a pointer to an array of <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>
structures or is ignored, as described below.</p>
</li>
<li>
<p><code>pBufferInfo</code> is a pointer to an array of
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> structures or is ignored, as described
below.</p>
</li>
<li>
<p><code>pTexelBufferView</code> is a pointer to an array of <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a>
handles as described in the <a href="resources.html#resources-buffer-views" class="xref page">Buffer Views</a>
section or is ignored, as described below.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only one of <code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code>
members is used according to the descriptor type specified in the
<code>descriptorType</code> member of the containing <code>VkWriteDescriptorSet</code>
structure,
or none of them in case <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, in which case the source data
for the descriptor writes is taken from the
<a href="#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure included in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>,
or if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, in which case the
source data for the descriptor writes is taken from the
<a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>,
or if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>, in which case the source
data for the descriptor writes is taken from the
<a href="#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a> structure in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>,
as specified below.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is enabled,
the buffer,
acceleration structure,
imageView, or bufferView <strong>can</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>.
Loads from a null descriptor return zero values and stores and atomics to a
null descriptor are discarded.
A null acceleration structure descriptor results in the miss shader being
invoked.</p>
</div>
<div class="paragraph">
<p>If the destination descriptor is a mutable descriptor, the active descriptor
type for the destination descriptor becomes <code>descriptorType</code>.</p>
</div>
<div id="descriptorsets-updates-consecutive" class="paragraph">
<p>If the <code>dstBinding</code> has fewer than <code>descriptorCount</code> array elements
remaining starting from <code>dstArrayElement</code>, then the remainder will be
used to update the subsequent binding - <span class="eq"><code>dstBinding</code>+1</span> starting at
array element zero.
If a binding has a <code>descriptorCount</code> of zero, it is skipped.
This behavior applies recursively, with the update affecting consecutive
bindings as needed to update all <code>descriptorCount</code> descriptors.
Consecutive bindings <strong>must</strong> have identical <a href="#VkDescriptorType">VkDescriptorType</a>,
<a href="pipelines.html#VkShaderStageFlags" class="xref page">VkShaderStageFlags</a>,
<a href="#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>,
and immutable samplers references.
In addition, if the <a href="#VkDescriptorType">VkDescriptorType</a> is
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the supported descriptor types in
<a href="#VkMutableDescriptorTypeCreateInfoEXT">VkMutableDescriptorTypeCreateInfoEXT</a> <strong>must</strong> be equally defined.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The same behavior applies to bindings with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> where <code>descriptorCount</code>
specifies the number of bytes to update while <code>dstArrayElement</code>
specifies the starting byte offset, thus in this case if the
<code>dstBinding</code> has a smaller byte size than the sum of
<code>dstArrayElement</code> and <code>descriptorCount</code>, then the remainder will be
used to update the subsequent binding - <span class="eq"><code>dstBinding</code>+1</span> starting at
offset zero.
This falls out as a special case of the above rule.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00315" href="#VUID-VkWriteDescriptorSet-dstBinding-00315"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstBinding-00315</span><br>

<code>dstBinding</code> <strong>must</strong> be less than or equal to the maximum value of
<code>binding</code> of all <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures
specified when <code>dstSet</code>&#8217;s descriptor set layout was created</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00316" href="#VUID-VkWriteDescriptorSet-dstBinding-00316"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstBinding-00316</span><br>

<code>dstBinding</code> <strong>must</strong> be a binding with a non-zero
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00317" href="#VUID-VkWriteDescriptorSet-descriptorCount-00317"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-00317</span><br>

All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong>must</strong> have
identical <code>descriptorType</code> and <code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00318" href="#VUID-VkWriteDescriptorSet-descriptorCount-00318"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-00318</span><br>

All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong>must</strong> all
either use immutable samplers or <strong>must</strong> all not use immutable samplers</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00319" href="#VUID-VkWriteDescriptorSet-descriptorType-00319"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00319</span><br>

<code>descriptorType</code> <strong>must</strong> match the type of <code>dstBinding</code> within
<code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstSet-00320" href="#VUID-VkWriteDescriptorSet-dstSet-00320"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstSet-00320</span><br>

<code>dstSet</code> <strong>must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstArrayElement-00321" href="#VUID-VkWriteDescriptorSet-dstArrayElement-00321"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstArrayElement-00321</span><br>

The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong>must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">descriptorsets-updates-consecutive</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02219" href="#VUID-VkWriteDescriptorSet-descriptorType-02219"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02219</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>dstArrayElement</code>
<strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02220" href="#VUID-VkWriteDescriptorSet-descriptorType-02220"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02220</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02994" href="#VUID-VkWriteDescriptorSet-descriptorType-02994"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02994</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, each element of
<code>pTexelBufferView</code> <strong>must</strong> be either a valid <code>VkBufferView</code> handle
or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02995" href="#VUID-VkWriteDescriptorSet-descriptorType-02995"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02995</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, each element of <code>pTexelBufferView</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00324" href="#VUID-VkWriteDescriptorSet-descriptorType-00324"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00324</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, <code>pBufferInfo</code> <strong>must</strong>
be a valid pointer to an array of <code>descriptorCount</code> valid
<code>VkDescriptorBufferInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00325" href="#VUID-VkWriteDescriptorSet-descriptorType-00325"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00325</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
not allocated with a layout that included immutable samplers for
<code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
each element of <code>pImageInfo</code> <strong>must</strong> be a valid <code>VkSampler</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02996" href="#VUID-VkWriteDescriptorSet-descriptorType-02996"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02996</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, the <code>imageView</code> member of
each element of <code>pImageInfo</code> <strong>must</strong> be either a valid
<code>VkImageView</code> handle or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02997" href="#VUID-VkWriteDescriptorSet-descriptorType-02997"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02997</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, the <code>imageView</code> member of each element of <code>pImageInfo</code>
<strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-07683" href="#VUID-VkWriteDescriptorSet-descriptorType-07683"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-07683</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong>must</strong> not
be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02221" href="#VUID-VkWriteDescriptorSet-descriptorType-02221"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02221</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, the <code>pNext</code> chain
<strong>must</strong> include a <a href="#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure
whose <code>dataSize</code> member equals <code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02382" href="#VUID-VkWriteDescriptorSet-descriptorType-02382"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02382</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, the <code>pNext</code>
chain <strong>must</strong> include a <a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a>
structure whose <code>accelerationStructureCount</code> member equals
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-03817" href="#VUID-VkWriteDescriptorSet-descriptorType-03817"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-03817</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>, the <code>pNext</code>
chain <strong>must</strong> include a <a href="#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a>
structure whose <code>accelerationStructureCount</code> member equals
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01946" href="#VUID-VkWriteDescriptorSet-descriptorType-01946"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-01946</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, then
the <code>imageView</code> member of each <code>pImageInfo</code> element <strong>must</strong> have
been created without a <code>VkSamplerYcbcrConversionInfo</code> structure in
its <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02738" href="#VUID-VkWriteDescriptorSet-descriptorType-02738"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02738</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and if any element of
<code>pImageInfo</code> has a <code>imageView</code> member that was created with a
<code>VkSamplerYcbcrConversionInfo</code> structure in its <code>pNext</code> chain,
then <code>dstSet</code> <strong>must</strong> have been allocated with a layout that included
immutable samplers for <code>dstBinding</code>, and the corresponding immutable
sampler <strong>must</strong> have been created with an <em>identically defined</em>
<code>VkSamplerYcbcrConversionInfo</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01948" href="#VUID-VkWriteDescriptorSet-descriptorType-01948"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-01948</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
allocated with a layout that included immutable samplers for
<code>dstBinding</code>, then the <code>imageView</code> member of each element of
<code>pImageInfo</code> which corresponds to an immutable sampler that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a> <strong>must</strong> have been
created with a <code>VkSamplerYcbcrConversionInfo</code> structure in its
<code>pNext</code> chain with an <em>identically defined</em>
<code>VkSamplerYcbcrConversionInfo</code> to the corresponding immutable
sampler</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00327" href="#VUID-VkWriteDescriptorSet-descriptorType-00327"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00327</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong>must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00328" href="#VUID-VkWriteDescriptorSet-descriptorType-00328"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00328</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong>must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00329" href="#VUID-VkWriteDescriptorSet-descriptorType-00329"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00329</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, and the <code>buffer</code>
member of any element of <code>pBufferInfo</code> is the handle of a non-sparse
buffer, then that buffer <strong>must</strong> be bound completely and contiguously to a
single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00330" href="#VUID-VkWriteDescriptorSet-descriptorType-00330"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00330</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong>must</strong> have been created with
<code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00331" href="#VUID-VkWriteDescriptorSet-descriptorType-00331"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00331</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong>must</strong> have been created with
<code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00332" href="#VUID-VkWriteDescriptorSet-descriptorType-00332"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00332</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the
<a href="#buffer-info-effective-range">effective range</a> if <code>range</code> is
<code>VK_WHOLE_SIZE</code>, <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxUniformBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00333" href="#VUID-VkWriteDescriptorSet-descriptorType-00333"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00333</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the
<a href="#buffer-info-effective-range">effective range</a> if <code>range</code> is
<code>VK_WHOLE_SIZE</code>, <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxStorageBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-08765" href="#VUID-VkWriteDescriptorSet-descriptorType-08765"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-08765</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, the
<code>pTexelBufferView</code> <a href="resources.html#resources-buffer-views-usage" class="xref page">buffer view    usage</a> <strong>must</strong> include <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-08766" href="#VUID-VkWriteDescriptorSet-descriptorType-08766"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-08766</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the
<code>pTexelBufferView</code> <a href="resources.html#resources-buffer-views-usage" class="xref page">buffer view    usage</a> <strong>must</strong> include <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00336" href="#VUID-VkWriteDescriptorSet-descriptorType-00336"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00336</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> member of
each element of <code>pImageInfo</code> <strong>must</strong> have been created with the
identity swizzle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00337" href="#VUID-VkWriteDescriptorSet-descriptorType-00337"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00337</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the <code>imageView</code>
member of each element of <code>pImageInfo</code> <strong>must</strong> have been created with
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04149" href="#VUID-VkWriteDescriptorSet-descriptorType-04149"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04149</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong>must</strong> be a
member of the list given in <a href="#descriptorsets-sampledimage">Sampled    Image</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04150" href="#VUID-VkWriteDescriptorSet-descriptorType-04150"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04150</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> the <code>imageLayout</code>
member of each element of <code>pImageInfo</code> <strong>must</strong> be a member of the list
given in <a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04151" href="#VUID-VkWriteDescriptorSet-descriptorType-04151"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04151</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong>must</strong> be a
member of the list given in <a href="#descriptorsets-inputattachment">Input    Attachment</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04152" href="#VUID-VkWriteDescriptorSet-descriptorType-04152"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04152</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong>must</strong> be a
member of the list given in <a href="#descriptorsets-storageimage">Storage    Image</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00338" href="#VUID-VkWriteDescriptorSet-descriptorType-00338"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00338</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong>must</strong>
have been created with <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00339" href="#VUID-VkWriteDescriptorSet-descriptorType-00339"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00339</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, the
<code>imageView</code> member of each element of <code>pImageInfo</code> <strong>must</strong> have
been created with <code>VK_IMAGE_USAGE_STORAGE_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02752" href="#VUID-VkWriteDescriptorSet-descriptorType-02752"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02752</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then
<code>dstSet</code> <strong>must</strong> not have been allocated with a layout that included
immutable samplers for <code>dstBinding</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstSet-04611" href="#VUID-VkWriteDescriptorSet-dstSet-04611"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstSet-04611</span><br>

If the <code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the new active
descriptor type <code>descriptorType</code> <strong>must</strong> exist in the corresponding
<code>pMutableDescriptorTypeLists</code> list for <code>dstBinding</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-06450" href="#VUID-VkWriteDescriptorSet-descriptorType-06450"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-06450</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong>must</strong>
have either been created without a <a href="resources.html#VkImageViewMinLodCreateInfoEXT" class="xref page">VkImageViewMinLodCreateInfoEXT</a>
included in the <code>pNext</code> chain or with a
<a href="resources.html#VkImageViewMinLodCreateInfoEXT" class="xref page">VkImageViewMinLodCreateInfoEXT</a>::<code>minLod</code> of <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-06942" href="#VUID-VkWriteDescriptorSet-descriptorType-06942"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-06942</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code>, the <code>imageView</code>
member of each element of <code>pImageInfo</code> <strong>must</strong> have been created with
a view created with an <code>image</code> created with
<code>VK_IMAGE_USAGE_SAMPLE_WEIGHT_BIT_QCOM</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-06943" href="#VUID-VkWriteDescriptorSet-descriptorType-06943"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-06943</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code>, the <code>imageView</code>
member of each element of <code>pImageInfo</code> <strong>must</strong> have been created with
a view created with an <code>image</code> created with
<code>VK_IMAGE_USAGE_SAMPLE_BLOCK_MATCH_BIT_QCOM</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-sType-sType" href="#VUID-VkWriteDescriptorSet-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSet-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-pNext-pNext" href="#VUID-VkWriteDescriptorSet-pNext-pNext"></a> <span class="vuid">VUID-VkWriteDescriptorSet-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a>, <a href="#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a>, or <a href="#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-sType-unique" href="#VUID-VkWriteDescriptorSet-sType-unique"></a> <span class="vuid">VUID-VkWriteDescriptorSet-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-parameter" href="#VUID-VkWriteDescriptorSet-descriptorType-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong>must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-arraylength" href="#VUID-VkWriteDescriptorSet-descriptorCount-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-arraylength</span><br>
 <code>descriptorCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-commonparent" href="#VUID-VkWriteDescriptorSet-commonparent"></a> <span class="vuid">VUID-VkWriteDescriptorSet-commonparent</span><br>
 Both of <code>dstSet</code>, and the elements of <code>pTexelBufferView</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of descriptors in a descriptor set is specified by
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>descriptorType</code>, which <strong>must</strong> be one of the
values:</p>
</div>
<div id="VkDescriptorType" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef enum VkDescriptorType {
    VK_DESCRIPTOR_TYPE_SAMPLER = 0,
    VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER = 1,
    VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE = 2,
    VK_DESCRIPTOR_TYPE_STORAGE_IMAGE = 3,
    VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER = 4,
    VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER = 5,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER = 6,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER = 7,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC = 8,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC = 9,
    VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT = 10,
  // Provided by VK_VERSION_1_3
    VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK = 1000138000,
  // Provided by VK_KHR_acceleration_structure
    VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR = 1000150000,
  // Provided by VK_NV_ray_tracing
    VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV = 1000165000,
  // Provided by VK_QCOM_image_processing
    VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM = 1000440000,
  // Provided by VK_QCOM_image_processing
    VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM = 1000440001,
  // Provided by VK_EXT_mutable_descriptor_type
    VK_DESCRIPTOR_TYPE_MUTABLE_EXT = 1000351000,
  // Provided by VK_EXT_inline_uniform_block
    VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK_EXT = VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK,
  // Provided by VK_VALVE_mutable_descriptor_type
    VK_DESCRIPTOR_TYPE_MUTABLE_VALVE = VK_DESCRIPTOR_TYPE_MUTABLE_EXT,
} VkDescriptorType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> specifies a <a href="#descriptorsets-sampler">    sampler descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> specifies a
<a href="#descriptorsets-combinedimagesampler">combined image sampler    descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> specifies a
<a href="#descriptorsets-sampledimage">sampled image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> specifies a
<a href="#descriptorsets-storageimage">storage image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> specifies a
<a href="#descriptorsets-uniformtexelbuffer">uniform texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> specifies a
<a href="#descriptorsets-storagetexelbuffer">storage texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> specifies a
<a href="#descriptorsets-uniformbuffer">uniform buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> specifies a
<a href="#descriptorsets-storagebuffer">storage buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> specifies a
<a href="#descriptorsets-uniformbufferdynamic">dynamic uniform buffer    descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> specifies a
<a href="#descriptorsets-storagebufferdynamic">dynamic storage buffer    descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> specifies an
<a href="#descriptorsets-inputattachment">input attachment descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> specifies an
<a href="#descriptorsets-inlineuniformblock">inline uniform block</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> specifies a
<a href="#descriptorsets-mutable">descriptor of mutable type</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code> specifies a
<a href="#descriptorsets-weightimage">sampled weight image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code> specifies a
<a href="#descriptorsets-blockmatch">block matching image descriptor</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a descriptor set is updated via elements of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>,
members of <code>pImageInfo</code>, <code>pBufferInfo</code> and <code>pTexelBufferView</code>
are only accessed by the implementation when they correspond to descriptor
type being defined - otherwise they are ignored.
The members accessed are as follows for each descriptor type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, only the <code>sampler</code> member of
each element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> is
accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, only the <code>imageView</code> and
<code>imageLayout</code> members of each element of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, all members of each
element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, all members of each
element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pBufferInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, each element of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pTexelBufferView</code> is accessed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When updating descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, none of the <code>pImageInfo</code>,
<code>pBufferInfo</code>, or <code>pTexelBufferView</code> members are accessed, instead
the source data of the descriptor update operation is taken from the
<a href="#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure in the <code>pNext</code>
chain of <code>VkWriteDescriptorSet</code>.
When updating descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, none of the
<code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code> members are
accessed, instead the source data of the descriptor update operation is
taken from the <a href="#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure
in the <code>pNext</code> chain of <code>VkWriteDescriptorSet</code>.
When updating descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>, none of the
<code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code> members are
accessed, instead the source data of the descriptor update operation is
taken from the <a href="#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a> structure
in the <code>pNext</code> chain of <code>VkWriteDescriptorSet</code>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorBufferInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorBufferInfo {
    VkBuffer        buffer;
    VkDeviceSize    offset;
    VkDeviceSize    range;
} VkDescriptorBufferInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buffer</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or
the buffer resource.</p>
</li>
<li>
<p><code>offset</code> is the offset in bytes from the start of <code>buffer</code>.
Access to buffer memory via this descriptor uses addressing that is
relative to this starting offset.</p>
</li>
<li>
<p><code>range</code> is the size in bytes that is used for this descriptor
update, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code> to the
end of the buffer.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When setting <code>range</code> to <code>VK_WHOLE_SIZE</code>, the
<a href="#buffer-info-effective-range">effective range</a> <strong>must</strong> not be larger than
the maximum range for the descriptor type (<a href="limits.html#limits-maxUniformBufferRange" class="xref page"><code>maxUniformBufferRange</code></a> or <a href="limits.html#limits-maxStorageBufferRange" class="xref page"><code>maxStorageBufferRange</code></a>).
This means that <code>VK_WHOLE_SIZE</code> is not typically useful in the common
case where uniform buffer descriptors are suballocated from a buffer that is
much larger than <code>maxUniformBufferRange</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> descriptor types,
<code>offset</code> is the base offset from which the dynamic offset is applied and
<code>range</code> is the static size used for all dynamic offsets.</p>
</div>
<div id="buffer-info-effective-range" class="paragraph">
<p>When <code>range</code> is <code>VK_WHOLE_SIZE</code> the effective range is calculated at
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> is by taking the size of <code>buffer</code> minus the
<code>offset</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-offset-00340" href="#VUID-VkDescriptorBufferInfo-offset-00340"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-offset-00340</span><br>

<code>offset</code> <strong>must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00341" href="#VUID-VkDescriptorBufferInfo-range-00341"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-range-00341</span><br>

If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong>must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00342" href="#VUID-VkDescriptorBufferInfo-range-00342"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-range-00342</span><br>

If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong>must</strong> be
less than or equal to the size of <code>buffer</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-02998" href="#VUID-VkDescriptorBufferInfo-buffer-02998"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-buffer-02998</span><br>

If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>buffer</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-02999" href="#VUID-VkDescriptorBufferInfo-buffer-02999"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-buffer-02999</span><br>

If <code>buffer</code> is <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>offset</code> <strong>must</strong> be zero and
<code>range</code> <strong>must</strong> be <code>VK_WHOLE_SIZE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-parameter" href="#VUID-VkDescriptorBufferInfo-buffer-parameter"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-buffer-parameter</span><br>
 If <code>buffer</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>buffer</code> <strong>must</strong> be a valid <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorImageInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorImageInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDescriptorImageInfo {
    VkSampler        sampler;
    VkImageView      imageView;
    VkImageLayout    imageLayout;
} VkDescriptorImageInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sampler</code> is a sampler handle, and is used in descriptor updates for
types <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> if the binding being
updated does not use immutable samplers.</p>
</li>
<li>
<p><code>imageView</code> is
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> or
an image view handle, and is used in descriptor updates for types
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
<li>
<p><code>imageLayout</code> is the layout that the image subresources accessible
from <code>imageView</code> will be in at the time this descriptor is accessed.
<code>imageLayout</code> is used in descriptor updates for types
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Members of <code>VkDescriptorImageInfo</code> that are not used in an update (as
described above) are ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-06712" href="#VUID-VkDescriptorImageInfo-imageView-06712"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-06712</span><br>

<code>imageView</code> <strong>must</strong> not be a 2D array image view created from a 3D
image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-07795" href="#VUID-VkDescriptorImageInfo-imageView-07795"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-07795</span><br>

If <code>imageView</code> is a 2D view created from a 3D image, then
<code>descriptorType</code> <strong>must</strong> be <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-07796" href="#VUID-VkDescriptorImageInfo-imageView-07796"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-07796</span><br>

If <code>imageView</code> is a 2D view created from a 3D image, then the image
<strong>must</strong> have been created with
<code>VK_IMAGE_CREATE_2D_VIEW_COMPATIBLE_BIT_EXT</code> set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-descriptorType-06713" href="#VUID-VkDescriptorImageInfo-descriptorType-06713"></a> <span class="vuid">VUID-VkDescriptorImageInfo-descriptorType-06713</span><br>

If the <a href="features.html#features-image2DViewOf3D" class="xref page"><code>image2DViewOf3D</code></a> feature is
not enabled or <code>descriptorType</code> is not
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> then
<code>imageView</code> <strong>must</strong> not be a 2D view created from a 3D image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-descriptorType-06714" href="#VUID-VkDescriptorImageInfo-descriptorType-06714"></a> <span class="vuid">VUID-VkDescriptorImageInfo-descriptorType-06714</span><br>

If the <a href="features.html#features-sampler2DViewOf3D" class="xref page"><code>sampler2DViewOf3D</code></a> feature
is not enabled or <code>descriptorType</code> is not
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> then
<code>imageView</code> <strong>must</strong> not be a 2D view created from a 3D image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-01976" href="#VUID-VkDescriptorImageInfo-imageView-01976"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-01976</span><br>

If <code>imageView</code> is created from a depth/stencil image, the
<code>aspectMask</code> used to create the <code>imageView</code> <strong>must</strong> include either
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> but
not both</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageLayout-00344" href="#VUID-VkDescriptorImageInfo-imageLayout-00344"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageLayout-00344</span><br>

<code>imageLayout</code> <strong>must</strong> match the actual <a href="resources.html#VkImageLayout" class="xref page">VkImageLayout</a> of each
subresource accessible from <code>imageView</code> at the time this descriptor
is accessed as defined by the <a href="resources.html#resources-image-layouts-matching-rule" class="xref page">    image layout matching rules</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-sampler-01564" href="#VUID-VkDescriptorImageInfo-sampler-01564"></a> <span class="vuid">VUID-VkDescriptorImageInfo-sampler-01564</span><br>

If <code>sampler</code> is used and the <a href="formats.html#VkFormat" class="xref page">VkFormat</a> of the image is a
<a href="formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">multi-planar format</a>, the
image <strong>must</strong> have been created with
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>, and the <code>aspectMask</code> of
the <code>imageView</code> <strong>must</strong> be a valid
<a href="formats.html#formats-planes-image-aspect" class="xref page">multi-planar aspect mask</a> bit</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450" href="#VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450"></a> <span class="vuid">VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450</span><br>

If the <code><a href="../appendices/extensions.html#VK_KHR_portability_subset" class="xref page">VK_KHR_portability_subset</a></code> extension is enabled, and
<a href="features.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR" class="xref page">VkPhysicalDevicePortabilitySubsetFeaturesKHR</a>::<code>mutableComparisonSamplers</code>
is <code>VK_FALSE</code>, then <code>sampler</code> <strong>must</strong> have been created with
<a href="samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>::<code>compareEnable</code> set to <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-commonparent" href="#VUID-VkDescriptorImageInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorImageInfo-commonparent</span><br>
 Both of <code>imageView</code>, and <code>sampler</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>descriptorType</code> member of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then the data to write to the
descriptor set is specified through a
<code>VkWriteDescriptorSetInlineUniformBlock</code> structure included in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkWriteDescriptorSetInlineUniformBlock</code> structure is defined as:</p>
</div>
<div id="VkWriteDescriptorSetInlineUniformBlock" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_3
typedef struct VkWriteDescriptorSetInlineUniformBlock {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           dataSize;
    const void*        pData;
} VkWriteDescriptorSetInlineUniformBlock;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkWriteDescriptorSetInlineUniformBlockEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_inline_uniform_block
typedef VkWriteDescriptorSetInlineUniformBlock VkWriteDescriptorSetInlineUniformBlockEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>dataSize</code> is the number of bytes of inline uniform block data
pointed to by <code>pData</code>.</p>
</li>
<li>
<p><code>pData</code> is a pointer to <code>dataSize</code> number of bytes of data to
write to the inline uniform block.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222" href="#VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222</span><br>

<code>dataSize</code> <strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType" href="#VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter" href="#VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength" href="#VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSetAccelerationStructureKHR</code> structure is defined
as:</p>
</div>
<div id="VkWriteDescriptorSetAccelerationStructureKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_acceleration_structure
typedef struct VkWriteDescriptorSetAccelerationStructureKHR {
    VkStructureType                      sType;
    const void*                          pNext;
    uint32_t                             accelerationStructureCount;
    const VkAccelerationStructureKHR*    pAccelerationStructures;
} VkWriteDescriptorSetAccelerationStructureKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>accelerationStructureCount</code> is the number of elements in
<code>pAccelerationStructures</code>.</p>
</li>
<li>
<p><code>pAccelerationStructures</code> is a pointer to an array of
<a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> structures specifying the acceleration
structures to update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236</span><br>

<code>accelerationStructureCount</code> <strong>must</strong> be equal to <code>descriptorCount</code>
in the extended structure</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579</span><br>

Each acceleration structure in <code>pAccelerationStructures</code> <strong>must</strong> have
been created with a <code>type</code> of
<code>VK_ACCELERATION_STRUCTURE_TYPE_TOP_LEVEL_KHR</code> or
<code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580</span><br>

If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, each element of <code>pAccelerationStructures</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter</span><br>
 <code>pAccelerationStructures</code> <strong>must</strong> be a valid pointer to an array of <code>accelerationStructureCount</code> valid or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength" href="#VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength</span><br>
 <code>accelerationStructureCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSetAccelerationStructureNV</code> structure is defined
as:</p>
</div>
<div id="VkWriteDescriptorSetAccelerationStructureNV" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NV_ray_tracing
typedef struct VkWriteDescriptorSetAccelerationStructureNV {
    VkStructureType                     sType;
    const void*                         pNext;
    uint32_t                            accelerationStructureCount;
    const VkAccelerationStructureNV*    pAccelerationStructures;
} VkWriteDescriptorSetAccelerationStructureNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>accelerationStructureCount</code> is the number of elements in
<code>pAccelerationStructures</code>.</p>
</li>
<li>
<p><code>pAccelerationStructures</code> is a pointer to an array of
<a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a> structures specifying the acceleration
structures to update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-03747" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-03747"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-03747</span><br>

<code>accelerationStructureCount</code> <strong>must</strong> be equal to <code>descriptorCount</code>
in the extended structure</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03748" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03748"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03748</span><br>

Each acceleration structure in <code>pAccelerationStructures</code> <strong>must</strong> have
been created with <code>VK_ACCELERATION_STRUCTURE_TYPE_TOP_LEVEL_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03749" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03749"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-03749</span><br>

If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, each member of <code>pAccelerationStructures</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-sType-sType" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-parameter" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-pAccelerationStructures-parameter</span><br>
 <code>pAccelerationStructures</code> <strong>must</strong> be a valid pointer to an array of <code>accelerationStructureCount</code> valid or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a> handles</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-arraylength" href="#VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureNV-accelerationStructureCount-arraylength</span><br>
 <code>accelerationStructureCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCopyDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkCopyDescriptorSet" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkCopyDescriptorSet {
    VkStructureType    sType;
    const void*        pNext;
    VkDescriptorSet    srcSet;
    uint32_t           srcBinding;
    uint32_t           srcArrayElement;
    VkDescriptorSet    dstSet;
    uint32_t           dstBinding;
    uint32_t           dstArrayElement;
    uint32_t           descriptorCount;
} VkCopyDescriptorSet;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>srcSet</code>, <code>srcBinding</code>, and <code>srcArrayElement</code> are the source
set, binding, and array element, respectively.
If the descriptor binding identified by <code>srcSet</code> and
<code>srcBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>srcArrayElement</code>
specifies the starting byte offset within the binding to copy from.</p>
</li>
<li>
<p><code>dstSet</code>, <code>dstBinding</code>, and <code>dstArrayElement</code> are the
destination set, binding, and array element, respectively.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>dstArrayElement</code>
specifies the starting byte offset within the binding to copy to.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to copy from the
source to destination.
If <code>descriptorCount</code> is greater than the number of remaining array
elements in the source or destination binding, those affect consecutive
bindings in a manner similar to <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> above.
If the descriptor binding identified by <code>srcSet</code> and
<code>srcBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>descriptorCount</code>
specifies the number of bytes to copy and the remaining array elements
in the source or destination binding refer to the remaining number of
bytes in those.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VkDescriptorSetLayoutBinding</code> for <code>dstBinding</code> is
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> and <code>srcBinding</code> is not
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the new active descriptor type becomes
the descriptor type of <code>srcBinding</code>.
If both <code>VkDescriptorSetLayoutBinding</code> for <code>srcBinding</code> and
<code>dstBinding</code> are <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the active
descriptor type in each source descriptor is copied into the corresponding
destination descriptor.
The active descriptor type <strong>can</strong> be different for each source descriptor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The intention is that copies to and from mutable descriptors is a simple
memcpy.
Copies between non-mutable and mutable descriptors are expected to require
one memcpy per descriptor to handle the difference in size, but this use
case with more than one <code>descriptorCount</code> is considered rare.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-00345" href="#VUID-VkCopyDescriptorSet-srcBinding-00345"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-00345</span><br>

<code>srcBinding</code> <strong>must</strong> be a valid binding within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcArrayElement-00346" href="#VUID-VkCopyDescriptorSet-srcArrayElement-00346"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcArrayElement-00346</span><br>

The sum of <code>srcArrayElement</code> and <code>descriptorCount</code> <strong>must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>srcBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">descriptorsets-updates-consecutive</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-00347" href="#VUID-VkCopyDescriptorSet-dstBinding-00347"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-00347</span><br>

<code>dstBinding</code> <strong>must</strong> be a valid binding within <code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstArrayElement-00348" href="#VUID-VkCopyDescriptorSet-dstArrayElement-00348"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstArrayElement-00348</span><br>

The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong>must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">descriptorsets-updates-consecutive</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02632" href="#VUID-VkCopyDescriptorSet-dstBinding-02632"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02632</span><br>

The type of <code>dstBinding</code> within <code>dstSet</code> <strong>must</strong> be equal to the
type of <code>srcBinding</code> within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-00349" href="#VUID-VkCopyDescriptorSet-srcSet-00349"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-00349</span><br>

If <code>srcSet</code> is equal to <code>dstSet</code>, then the source and
destination ranges of descriptors <strong>must</strong> not overlap, where the ranges
<strong>may</strong> include array elements from consecutive bindings as described by
<a href="#descriptorsets-updates-consecutive">descriptorsets-updates-consecutive</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-02223" href="#VUID-VkCopyDescriptorSet-srcBinding-02223"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-02223</span><br>

If the descriptor type of the descriptor set binding specified by
<code>srcBinding</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>,
<code>srcArrayElement</code> <strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02224" href="#VUID-VkCopyDescriptorSet-dstBinding-02224"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02224</span><br>

If the descriptor type of the descriptor set binding specified by
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>,
<code>dstArrayElement</code> <strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-02225" href="#VUID-VkCopyDescriptorSet-srcBinding-02225"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-02225</span><br>

If the descriptor type of the descriptor set binding specified by either
<code>srcBinding</code> or <code>dstBinding</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-01918" href="#VUID-VkCopyDescriptorSet-srcSet-01918"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-01918</span><br>

If <code>srcSet</code>&#8217;s layout was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set, then <code>dstSet</code>&#8217;s layout <strong>must</strong> also have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-04885" href="#VUID-VkCopyDescriptorSet-srcSet-04885"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-04885</span><br>

If <code>srcSet</code>&#8217;s layout was created with neither
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> nor
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code> flags set,
then <code>dstSet</code>&#8217;s layout <strong>must</strong> have been created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-01920" href="#VUID-VkCopyDescriptorSet-srcSet-01920"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-01920</span><br>

If the descriptor pool from which <code>srcSet</code> was allocated was created
with the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set,
then the descriptor pool from which <code>dstSet</code> was allocated <strong>must</strong>
also have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-04887" href="#VUID-VkCopyDescriptorSet-srcSet-04887"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-04887</span><br>

If the descriptor pool from which <code>srcSet</code> was allocated was created
with neither <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> nor
<code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code> flags set, then the
descriptor pool from which <code>dstSet</code> was allocated <strong>must</strong> have been
created without the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02753" href="#VUID-VkCopyDescriptorSet-dstBinding-02753"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02753</span><br>

If the descriptor type of the descriptor set binding specified by
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then <code>dstSet</code>
<strong>must</strong> not have been allocated with a layout that included immutable
samplers for <code>dstBinding</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstSet-04612" href="#VUID-VkCopyDescriptorSet-dstSet-04612"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstSet-04612</span><br>

If <code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the new active
descriptor type <strong>must</strong> exist in the corresponding
<code>pMutableDescriptorTypeLists</code> list for <code>dstBinding</code> if the new
active descriptor type is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-04613" href="#VUID-VkCopyDescriptorSet-srcSet-04613"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-04613</span><br>

If <code>VkDescriptorSetLayoutBinding</code> for <code>srcSet</code> at
<code>srcBinding</code> is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code> and the
<code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at <code>dstBinding</code>
is not <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the active descriptor type
for the source descriptor <strong>must</strong> match the descriptor type of
<code>dstBinding</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstSet-04614" href="#VUID-VkCopyDescriptorSet-dstSet-04614"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstSet-04614</span><br>

If <code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, and the new
active descriptor type is <code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code>, the
<code>pMutableDescriptorTypeLists</code> for <code>srcBinding</code> and
<code>dstBinding</code> <strong>must</strong> match exactly</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-sType-sType" href="#VUID-VkCopyDescriptorSet-sType-sType"></a> <span class="vuid">VUID-VkCopyDescriptorSet-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-pNext-pNext" href="#VUID-VkCopyDescriptorSet-pNext-pNext"></a> <span class="vuid">VUID-VkCopyDescriptorSet-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-parameter" href="#VUID-VkCopyDescriptorSet-srcSet-parameter"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-parameter</span><br>
 <code>srcSet</code> <strong>must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstSet-parameter" href="#VUID-VkCopyDescriptorSet-dstSet-parameter"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstSet-parameter</span><br>
 <code>dstSet</code> <strong>must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-commonparent" href="#VUID-VkCopyDescriptorSet-commonparent"></a> <span class="vuid">VUID-VkCopyDescriptorSet-commonparent</span><br>
 Both of <code>dstSet</code>, and <code>srcSet</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-updates-with-template"><a class="anchor" href="#descriptorsets-updates-with-template"></a>Descriptor Update Templates</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A descriptor update template specifies a mapping from descriptor update
information in host memory to descriptors in a descriptor set.
It is designed to avoid passing redundant information to the driver when
frequently updating the same set of descriptors in descriptor sets.</p>
</div>
<div class="paragraph">
<p>Descriptor update template objects are represented by
<code>VkDescriptorUpdateTemplate</code> handles:</p>
</div>
<div id="VkDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorUpdateTemplate)</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
typedef VkDescriptorUpdateTemplate VkDescriptorUpdateTemplateKHR;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_descriptor_set_updates_with_templates"><a class="anchor" href="#_descriptor_set_updates_with_templates"></a>Descriptor Set Updates with Templates</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Updating a large <code>VkDescriptorSet</code> array <strong>can</strong> be an expensive operation
since an application <strong>must</strong> specify one <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structure
for each descriptor or descriptor array to update, each of which
re-specifies the same state when updating the same descriptor in multiple
descriptor sets.
For cases when an application wishes to update the same set of descriptors
in multiple descriptor sets allocated using the same
<code>VkDescriptorSetLayout</code>, <a href="#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a> <strong>can</strong> be
used as a replacement for <a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>.</p>
</div>
<div class="paragraph">
<p><code>VkDescriptorUpdateTemplate</code> allows implementations to convert a set of
descriptor update operations on a single descriptor set to an internal
format that, in conjunction with <a href="#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>
or <a href="#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a>
, <strong>can</strong> be more efficient compared to calling <a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>
or <a href="#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a>
.
The descriptors themselves are not specified in the
<code>VkDescriptorUpdateTemplate</code>, rather, offsets into an application
provided pointer to host memory are specified, which are combined with a
pointer passed to <a href="#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>
or <a href="#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a>
.
This allows large batches of updates to be executed without having to
convert application data structures into a strictly-defined Vulkan data
structure.</p>
</div>
<div class="paragraph">
<p>To create a descriptor update template, call:</p>
</div>
<div id="vkCreateDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
VkResult vkCreateDescriptorUpdateTemplate(
    VkDevice                                    device,
    const VkDescriptorUpdateTemplateCreateInfo* pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorUpdateTemplate*                 pDescriptorUpdateTemplate);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkCreateDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
VkResult vkCreateDescriptorUpdateTemplateKHR(
    VkDevice                                    device,
    const VkDescriptorUpdateTemplateCreateInfo* pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDescriptorUpdateTemplate*                 pDescriptorUpdateTemplate);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor update
template.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure specifying the set
of descriptors to update with a single call to
<a href="#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a> or
<a href="#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDescriptorUpdateTemplate</code> is a pointer to a
<code>VkDescriptorUpdateTemplate</code> handle in which the resulting
descriptor update template object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-device-parameter" href="#VUID-vkCreateDescriptorUpdateTemplate-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter" href="#VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter" href="#VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter" href="#VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter</span><br>
 <code>pDescriptorUpdateTemplate</code> <strong>must</strong> be a valid pointer to a <a href="#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure is defined as:</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkDescriptorUpdateTemplateCreateInfo {
    VkStructureType                           sType;
    const void*                               pNext;
    VkDescriptorUpdateTemplateCreateFlags     flags;
    uint32_t                                  descriptorUpdateEntryCount;
    const VkDescriptorUpdateTemplateEntry*    pDescriptorUpdateEntries;
    VkDescriptorUpdateTemplateType            templateType;
    VkDescriptorSetLayout                     descriptorSetLayout;
    VkPipelineBindPoint                       pipelineBindPoint;
    VkPipelineLayout                          pipelineLayout;
    uint32_t                                  set;
} VkDescriptorUpdateTemplateCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
typedef VkDescriptorUpdateTemplateCreateInfo VkDescriptorUpdateTemplateCreateInfoKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>descriptorUpdateEntryCount</code> is the number of elements in the
<code>pDescriptorUpdateEntries</code> array.</p>
</li>
<li>
<p><code>pDescriptorUpdateEntries</code> is a pointer to an array of
<a href="#VkDescriptorUpdateTemplateEntry">VkDescriptorUpdateTemplateEntry</a> structures describing the
descriptors to be updated by the descriptor update template.</p>
</li>
<li>
<p><code>templateType</code> Specifies the type of the descriptor update template.
If set to <code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code> it
<strong>can</strong> only be used to update descriptor sets with a fixed
<code>descriptorSetLayout</code>.
If set to <code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>
it <strong>can</strong> only be used to push descriptor sets using the provided
<code>pipelineBindPoint</code>, <code>pipelineLayout</code>, and <code>set</code> number.</p>
</li>
<li>
<p><code>descriptorSetLayout</code> is the descriptor set layout used to build the
descriptor update template.
All descriptor sets which are going to be updated through the newly
created descriptor update template <strong>must</strong> be created with a layout that
matches (is the same as, or defined identically to) this layout.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code>.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><code>pipelineLayout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program
the bindings.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code>,
<code>descriptorSetLayout</code> <strong>must</strong> be a valid <code>VkDescriptorSetLayout</code>
handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>,
<code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>,
<code>pipelineLayout</code> <strong>must</strong> be a valid <code>VkPipelineLayout</code> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>, <code>set</code>
<strong>must</strong> be the unique set number in the pipeline layout that uses a
descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-04615" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-04615"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-04615</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code>,
<code>descriptorSetLayout</code> <strong>must</strong> not contain a binding with type
<code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong>must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter</span><br>
 <code>pDescriptorUpdateEntries</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorUpdateEntryCount</code> valid <a href="#VkDescriptorUpdateTemplateEntry">VkDescriptorUpdateTemplateEntry</a> structures</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter</span><br>
 <code>templateType</code> <strong>must</strong> be a valid <a href="#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a> value</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength</span><br>
 <code>descriptorUpdateEntryCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent" href="#VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent</span><br>
 Both of <code>descriptorSetLayout</code>, and <code>pipelineLayout</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorUpdateTemplateCreateFlags" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef VkFlags VkDescriptorUpdateTemplateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
typedef VkDescriptorUpdateTemplateCreateFlags VkDescriptorUpdateTemplateCreateFlagsKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorUpdateTemplateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The descriptor update template type is determined by the
<a href="#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a>::<code>templateType</code> property,
which takes the following values:</p>
</div>
<div id="VkDescriptorUpdateTemplateType" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef enum VkDescriptorUpdateTemplateType {
    VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET = 0,
  // Provided by VK_VERSION_1_1 with VK_KHR_push_descriptor, VK_KHR_descriptor_update_template with VK_KHR_push_descriptor
    VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR = 1,
  // Provided by VK_KHR_descriptor_update_template
    VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET_KHR = VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET,
} VkDescriptorUpdateTemplateType;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateTypeKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
typedef VkDescriptorUpdateTemplateType VkDescriptorUpdateTemplateTypeKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code> specifies that
the descriptor update template will be used for descriptor set updates
only.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code> specifies
that the descriptor update template will be used for push descriptor
updates only.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorUpdateTemplateEntry</code> structure is defined as:</p>
</div>
<div id="VkDescriptorUpdateTemplateEntry" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
typedef struct VkDescriptorUpdateTemplateEntry {
    uint32_t            dstBinding;
    uint32_t            dstArrayElement;
    uint32_t            descriptorCount;
    VkDescriptorType    descriptorType;
    size_t              offset;
    size_t              stride;
} VkDescriptorUpdateTemplateEntry;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateEntryKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
typedef VkDescriptorUpdateTemplateEntry VkDescriptorUpdateTemplateEntryKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dstBinding</code> is the descriptor binding to update when using this
descriptor update template.</p>
</li>
<li>
<p><code>dstArrayElement</code> is the starting element in the array belonging to
<code>dstBinding</code>.
If the descriptor binding identified by <code>dstBinding</code> has a
descriptor type of <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>dstArrayElement</code> specifies the starting byte offset to update.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to update.
If <code>descriptorCount</code> is greater than the number of remaining array
elements in the destination binding, those affect consecutive bindings
in a manner similar to <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> above.
If the descriptor binding identified by <code>dstBinding</code> has a
descriptor type of <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> specifies the number of bytes to update and the
remaining array elements in the destination binding refer to the
remaining number of bytes in it.</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="#VkDescriptorType">VkDescriptorType</a> specifying the type of
the descriptor.</p>
</li>
<li>
<p><code>offset</code> is the offset in bytes of the first binding in the raw data
structure.</p>
</li>
<li>
<p><code>stride</code> is the stride in bytes between two consecutive array
elements of the descriptor update information in the raw data structure.
The actual pointer ptr for each array element j of update entry i is
computed using the following formula:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    const char *ptr = (const char *)pData + pDescriptorUpdateEntries[i].offset + j * pDescriptorUpdateEntries[i].stride</code></pre>
</div>
</div>
<div class="paragraph">
<p>The stride is useful in case the bindings are stored in structs along with
other data.
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
then the value of <code>stride</code> is ignored and the stride is assumed to be
<code>1</code>, i.e. the descriptor update information for them is always specified as
a contiguous range.</p>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354" href="#VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354</span><br>

<code>dstBinding</code> <strong>must</strong> be a valid binding in the descriptor set layout
implicitly specified when using a descriptor update template to update
descriptors</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355" href="#VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355</span><br>

<code>dstArrayElement</code> and <code>descriptorCount</code> <strong>must</strong> be less than or
equal to the number of array elements in the descriptor set binding
implicitly specified when using a descriptor update template to update
descriptors, and all applicable consecutive bindings, as described by
<a href="#descriptorsets-updates-consecutive">descriptorsets-updates-consecutive</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226" href="#VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226</span><br>

If <code>descriptor</code> type is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>dstArrayElement</code>
<strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227" href="#VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227</span><br>

If <code>descriptor</code> type is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong>must</strong> be an integer multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter" href="#VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong>must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor update template, call:</p>
</div>
<div id="vkDestroyDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkDestroyDescriptorUpdateTemplate(
    VkDevice                                    device,
    VkDescriptorUpdateTemplate                  descriptorUpdateTemplate,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkDestroyDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
void vkDestroyDescriptorUpdateTemplateKHR(
    VkDevice                                    device,
    VkDescriptorUpdateTemplate                  descriptorUpdateTemplate,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that has been used to create the
descriptor update template</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is the descriptor update template to
destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="memory.html#memory-allocation" class="xref page">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356" href="#VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356</span><br>

If <code>VkAllocationCallbacks</code> were provided when
<code>descriptorUpdateTemplate</code> was created, a compatible set of
callbacks <strong>must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357" href="#VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorUpdateTemplate</code> was created, <code>pAllocator</code> <strong>must</strong> be
<code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-device-parameter" href="#VUID-vkDestroyDescriptorUpdateTemplate-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter" href="#VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter</span><br>
 If <code>descriptorUpdateTemplate</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>descriptorUpdateTemplate</code> <strong>must</strong> be a valid <a href="#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter" href="#VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent" href="#VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent</span><br>
 If <code>descriptorUpdateTemplate</code> is a valid handle, it <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorUpdateTemplate</code> <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once a <code>VkDescriptorUpdateTemplate</code> has been created, descriptor sets
<strong>can</strong> be updated by calling:</p>
</div>
<div id="vkUpdateDescriptorSetWithTemplate" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkUpdateDescriptorSetWithTemplate(
    VkDevice                                    device,
    VkDescriptorSet                             descriptorSet,
    VkDescriptorUpdateTemplate                  descriptorUpdateTemplate,
    const void*                                 pData);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkUpdateDescriptorSetWithTemplateKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_descriptor_update_template
void vkUpdateDescriptorSetWithTemplateKHR(
    VkDevice                                    device,
    VkDescriptorSet                             descriptorSet,
    VkDescriptorUpdateTemplate                  descriptorUpdateTemplate,
    const void*                                 pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that updates the descriptor set.</p>
</li>
<li>
<p><code>descriptorSet</code> is the descriptor set to update</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is a <a href="#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a>
object specifying the update mapping between <code>pData</code> and the
descriptor set to update.</p>
</li>
<li>
<p><code>pData</code> is a pointer to memory containing one or more
    <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>, <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or
    <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> structures
or <a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a>
or <a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a>
handles
    used to write the descriptors.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-pData-01685" href="#VUID-vkUpdateDescriptorSetWithTemplate-pData-01685"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-pData-01685</span><br>

<code>pData</code> <strong>must</strong> be a valid pointer to a memory containing one or more
valid instances of <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>,
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> in a layout defined
by <code>descriptorUpdateTemplate</code> when it was created with
<a href="#vkCreateDescriptorUpdateTemplate">vkCreateDescriptorUpdateTemplate</a></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995" href="#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995</span><br>

Host access to <code>descriptorSet</code> <strong>must</strong> be
<a href="fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a> unless
explicitly denoted otherwise for specific flags</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-device-parameter" href="#VUID-vkUpdateDescriptorSetWithTemplate-device-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter" href="#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter</span><br>
 <code>descriptorSet</code> <strong>must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter" href="#VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter</span><br>
 <code>descriptorUpdateTemplate</code> <strong>must</strong> be a valid <a href="#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent" href="#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent</span><br>
 <code>descriptorSet</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent" href="#VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent</span><br>
 <code>descriptorUpdateTemplate</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">struct AppBufferView {
    VkBufferView bufferView;
    uint32_t     applicationRelatedInformation;
};

struct AppDataStructure
{
    VkDescriptorImageInfo  imageInfo;          // a single image info
    VkDescriptorBufferInfo bufferInfoArray[3]; // 3 buffer infos in an array
    AppBufferView          bufferView[2];      // An application defined structure containing a bufferView
    // ... some more application related data
};

const VkDescriptorUpdateTemplateEntry descriptorUpdateTemplateEntries[] =
{
    // binding to a single image descriptor
    {
        .binding = 0,
        .dstArrayElement = 0,
        .descriptorCount = 1,
        .descriptorType = VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER,
        .offset = offsetof(AppDataStructure, imageInfo),
        .stride = 0         // stride not required if descriptorCount is 1
    },

    // binding to an array of buffer descriptors
    {
        .binding = 1,
        .dstArrayElement = 0,
        .descriptorCount = 3,
        .descriptorType = VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER,
        .offset = offsetof(AppDataStructure, bufferInfoArray),
        .stride = sizeof(VkDescriptorBufferInfo)    // descriptor buffer infos are compact
    },

    // binding to an array of buffer views
    {
        .binding = 2,
        .dstArrayElement = 0,
        .descriptorCount = 2,
        .descriptorType = VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER,
        .offset = offsetof(AppDataStructure, bufferView) +
                  offsetof(AppBufferView, bufferView),
        .stride = sizeof(AppBufferView)             // bufferViews do not have to be compact
    },
};

// create a descriptor update template for descriptor set updates
const VkDescriptorUpdateTemplateCreateInfo createInfo =
{
    .sType = VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO,
    .pNext = NULL,
    .flags = 0,
    .descriptorUpdateEntryCount = 3,
    .pDescriptorUpdateEntries = descriptorUpdateTemplateEntries,
    .templateType = VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET,
    .descriptorSetLayout = myLayout,
    .pipelineBindPoint = 0,     // ignored by given templateType
    .pipelineLayout = 0,        // ignored by given templateType
    .set = 0,                   // ignored by given templateType
};

VkDescriptorUpdateTemplate myDescriptorUpdateTemplate;
myResult = vkCreateDescriptorUpdateTemplate(
    myDevice,
    &amp;createInfo,
    NULL,
    &amp;myDescriptorUpdateTemplate);

AppDataStructure appData;

// fill appData here or cache it in your engine
vkUpdateDescriptorSetWithTemplate(myDevice, myDescriptorSet, myDescriptorUpdateTemplate, &amp;appData);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-binding"><a class="anchor" href="#descriptorsets-binding"></a>Descriptor Set Binding</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind one or more descriptor sets to a command buffer, call:</p>
</div>
<div id="vkCmdBindDescriptorSets" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdBindDescriptorSets(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    firstSet,
    uint32_t                                    descriptorSetCount,
    const VkDescriptorSet*                      pDescriptorSets,
    uint32_t                                    dynamicOffsetCount,
    const uint32_t*                             pDynamicOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptor sets will
be bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
There is a separate set of bind points for each pipeline type, so
binding one does not disturb the others.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>firstSet</code> is the set number of the first descriptor set to be
bound.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="#VkDescriptorSet">VkDescriptorSet</a> objects describing the descriptor sets to bind to.</p>
</li>
<li>
<p><code>dynamicOffsetCount</code> is the number of dynamic offsets in the
<code>pDynamicOffsets</code> array.</p>
</li>
<li>
<p><code>pDynamicOffsets</code> is a pointer to an array of <code>uint32_t</code> values
specifying dynamic offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBindDescriptorSets</code> binds descriptor sets
<code>pDescriptorSets</code>[0..<code>descriptorSetCount</code>-1] to set numbers
[<code>firstSet</code>..<code>firstSet</code>+<code>descriptorSetCount</code>-1] for subsequent
<a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipeline commands</a> set by
<code>pipelineBindPoint</code>.
Any bindings that were previously applied via these sets
, or calls to <a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a> or
<a href="#vkCmdBindDescriptorBufferEmbeddedSamplersEXT">vkCmdBindDescriptorBufferEmbeddedSamplersEXT</a>,
are no longer valid.</p>
</div>
<div class="paragraph">
<p>Once bound, a descriptor set affects rendering of subsequent commands that
interact with the given pipeline type in the command buffer until either a
different set is bound to the same set number, or the set is disturbed as
described in <a href="#descriptorsets-compatibility">Pipeline LayoutCompatibility</a>.</p>
</div>
<div class="paragraph">
<p>A compatible descriptor set <strong>must</strong> be bound for all set numbers that any
shaders in a pipeline access, at the time that a drawing or dispatching
command is recorded to execute using that pipeline.
However, if none of the shaders in a pipeline statically use any bindings
with a particular set number, then no descriptor set need be bound for that
set number, even if the pipeline layout includes a non-trivial descriptor
set layout for that set number.</p>
</div>
<div id="descriptor-validity" class="paragraph">
<p>When consuming a descriptor, a descriptor is considered valid if the
descriptor is not <strong>undefined</strong> as described by
<a href="#descriptor-set-initial-state">descriptor set allocation</a>.
If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is enabled,
a null descriptor is also considered valid.
A descriptor that was disturbed by <a href="#descriptorsets-compatibility">PipelineLayout Compatibility</a>, or was never bound by <code>vkCmdBindDescriptorSets</code>
is not considered valid.
If a pipeline accesses a descriptor either statically or dynamically
depending on the <a href="#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>, the consuming descriptor
type in the pipeline <strong>must</strong> match the <a href="#VkDescriptorType">VkDescriptorType</a> in
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> for the descriptor to be considered
valid.
If a descriptor is a mutable descriptor, the consuming descriptor type in
the pipeline <strong>must</strong> match the active descriptor type for the descriptor to be
considered valid.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Further validation may be carried out beyond validation for descriptor
types, e.g. <a href="textures.html#textures-input-validation" class="xref page">Texel Input Validation</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="descriptorsets-binding-dynamicoffsets" class="paragraph">
<p>If any of the sets being bound include dynamic uniform or storage buffers,
then <code>pDynamicOffsets</code> includes one element for each array element in
each dynamic descriptor type binding in each set.
Values are taken from <code>pDynamicOffsets</code> in an order such that all
entries for set N come before set N+1; within a set, entries are ordered by
the binding numbers in the descriptor set layouts; and within a binding
array, elements are in order.
<code>dynamicOffsetCount</code> <strong>must</strong> equal the total number of dynamic descriptors
in the sets being bound.</p>
</div>
<div id="dynamic-effective-offset" class="paragraph">
<p>The effective offset used for dynamic uniform and storage buffer bindings is
the sum of the relative offset taken from <code>pDynamicOffsets</code>, and the
base address of the buffer plus base offset in the descriptor set.
The range of the dynamic uniform and storage buffer bindings is the buffer
range as specified in the descriptor set.</p>
</div>
<div class="paragraph">
<p>Each of the <code>pDescriptorSets</code> <strong>must</strong> be compatible with the pipeline
layout specified by <code>layout</code>.
The layout used to program the bindings <strong>must</strong> also be compatible with the
pipeline used in subsequent <a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipelinecommands</a> with that pipeline type, as defined in the
<a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a> section.</p>
</div>
<div class="paragraph">
<p>The descriptor set contents bound by a call to <code>vkCmdBindDescriptorSets</code>
<strong>may</strong> be consumed at the following times:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For descriptor bindings created with the
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit set, the contents
<strong>may</strong> be consumed when the command buffer is submitted to a queue, or
during shader execution of the resulting draws and dispatches, or any
time in between.
Otherwise,</p>
</li>
<li>
<p>during host execution of the command, or during shader execution of the
resulting draws and dispatches, or any time in between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thus, the contents of a descriptor set binding <strong>must</strong> not be altered
(overwritten by an update command, or freed) between the first point in time
that it <strong>may</strong> be consumed, and when the command completes executing on the
queue.</p>
</div>
<div class="paragraph">
<p>The contents of <code>pDynamicOffsets</code> are consumed immediately during
execution of <code>vkCmdBindDescriptorSets</code>.
Once all pending uses have completed, it is legal to update and reuse a
descriptor set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358</span><br>

Each element of <code>pDescriptorSets</code> <strong>must</strong> have been allocated with a
<code>VkDescriptorSetLayout</code> that matches (is the same as, or identically
defined as) the <code>VkDescriptorSetLayout</code> at set <em>n</em> in <code>layout</code>,
where <em>n</em> is the sum of <code>firstSet</code> and the index into
<code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359" href="#VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359</span><br>

<code>dynamicOffsetCount</code> <strong>must</strong> be equal to the total number of dynamic
descriptors in <code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-firstSet-00360" href="#VUID-vkCmdBindDescriptorSets-firstSet-00360"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-firstSet-00360</span><br>

The sum of <code>firstSet</code> and <code>descriptorSetCount</code> <strong>must</strong> be less
than or equal to <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code>
provided when <code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361" href="#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361</span><br>

<code>pipelineBindPoint</code> <strong>must</strong> be supported by the <code>commandBuffer</code>&#8217;s
parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971</span><br>

Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <strong>must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972</span><br>

Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong>must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979</span><br>

For each dynamic uniform or storage buffer binding in
<code>pDescriptorSets</code>, the sum of the <a href="#dynamic-effective-offset">    effective offset</a> and the range of the binding <strong>must</strong> be less than or
equal to the size of the buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715</span><br>

For each dynamic uniform or storage buffer binding in
<code>pDescriptorSets</code>, if the range was set with <code>VK_WHOLE_SIZE</code>
then <code>pDynamicOffsets</code> which corresponds to the descriptor binding
<strong>must</strong> be 0</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-04616" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-04616"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-04616</span><br>

Each element of <code>pDescriptorSets</code> <strong>must</strong> not have been allocated from
a <code>VkDescriptorPool</code> with the
<code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code> flag set</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754" href="#VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754</span><br>

If <a href="features.html#features-graphicsPipelineLibrary" class="xref page"><code>graphicsPipelineLibrary</code></a>
is not enabled, each element of <code>pDescriptorSets</code> <strong>must</strong> be a valid
<a href="#VkDescriptorSet">VkDescriptorSet</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-08010" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-08010"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-08010</span><br>

Each element of <code>pDescriptorSets</code> <strong>must</strong> have been allocated with a
<code>VkDescriptorSetLayout</code> which was not created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-parameter" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter" href="#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-layout-parameter" href="#VUID-vkCmdBindDescriptorSets-layout-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter</span><br>
 <code>pDescriptorSets</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <a href="#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter</span><br>
 If <code>dynamicOffsetCount</code> is not <code>0</code>, <code>pDynamicOffsets</code> <strong>must</strong> be a valid pointer to an array of <code>dynamicOffsetCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-recording" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-videocoding" href="#VUID-vkCmdBindDescriptorSets-videocoding"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength" href="#VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commonparent" href="#VUID-vkCmdBindDescriptorSets-commonparent"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commonparent</span><br>
 Each of <code>commandBuffer</code>, <code>layout</code>, and the elements of <code>pDescriptorSets</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-push-descriptors"><a class="anchor" href="#descriptorsets-push-descriptors"></a>Push Descriptor Updates</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In addition to allocating descriptor sets and binding them to a command
buffer, an application <strong>can</strong> record descriptor updates into the command
buffer.</p>
</div>
<div class="paragraph">
<p>To push descriptor updates into a command buffer, call:</p>
</div>
<div id="vkCmdPushDescriptorSetKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_push_descriptor
void vkCmdPushDescriptorSetKHR(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    set,
    uint32_t                                    descriptorWriteCount,
    const VkWriteDescriptorSet*                 pDescriptorWrites);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptors will be
recorded in.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
There is a separate set of push descriptor bindings for each pipeline
type, so binding one does not disturb the others.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.</p>
</li>
<li>
<p><code>descriptorWriteCount</code> is the number of elements in the
<code>pDescriptorWrites</code> array.</p>
</li>
<li>
<p><code>pDescriptorWrites</code> is a pointer to an array of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures describing the descriptors to be
updated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Push descriptors</em> are a small bank of descriptors whose storage is
internally managed by the command buffer rather than being written into a
descriptor set and later bound to a command buffer.
Push descriptors allow for incremental updates of descriptors without
managing the lifetime of descriptor sets.</p>
</div>
<div class="paragraph">
<p>When a command buffer begins recording, all push descriptors are <strong>undefined</strong>.
Push descriptors <strong>can</strong> be updated incrementally and cause shaders to use the
updated descriptors for subsequent <a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">boundpipeline commands</a> with the pipeline type set by <code>pipelineBindPoint</code>
until the descriptor is overwritten, or else until the set is disturbed as
described in <a href="#descriptorsets-compatibility">Pipeline LayoutCompatibility</a>.
When the set is disturbed or push descriptors with a different descriptor
set layout are set, all push descriptors are <strong>undefined</strong>.</p>
</div>
<div class="paragraph">
<p>Push descriptors that are <a href="shaders.html#shaders-staticuse" class="xref page">statically used</a> by a
pipeline <strong>must</strong> not be <strong>undefined</strong> at the time that a drawing or dispatching
command is recorded to execute using that pipeline.
This includes immutable sampler descriptors, which <strong>must</strong> be pushed before
they are accessed by a pipeline (the immutable samplers are pushed, rather
than the samplers in <code>pDescriptorWrites</code>).
Push descriptors that are not statically used <strong>can</strong> remain <strong>undefined</strong>.</p>
</div>
<div class="paragraph">
<p>Push descriptors do not use dynamic offsets.
Instead, the corresponding non-dynamic descriptor types <strong>can</strong> be used and the
<code>offset</code> member of <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> <strong>can</strong> be changed each
time the descriptor is written.</p>
</div>
<div class="paragraph">
<p>Each element of <code>pDescriptorWrites</code> is interpreted as in
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>, except the <code>dstSet</code> member is ignored.</p>
</div>
<div class="paragraph">
<p>To push an immutable sampler, use a <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> with
<code>dstBinding</code> and <code>dstArrayElement</code> selecting the immutable sampler&#8217;s
binding.
If the descriptor type is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, the
<code>pImageInfo</code> parameter is ignored and the immutable sampler is taken
from the push descriptor set layout in the pipeline layout.
If the descriptor type is <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
the <code>sampler</code> member of the <code>pImageInfo</code> parameter is ignored and
the immutable sampler is taken from the push descriptor set layout in the
pipeline layout.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363" href="#VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363</span><br>

<code>pipelineBindPoint</code> <strong>must</strong> be supported by the <code>commandBuffer</code>&#8217;s
parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-set-00364" href="#VUID-vkCmdPushDescriptorSetKHR-set-00364"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-set-00364</span><br>

<code>set</code> <strong>must</strong> be less than
<a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-set-00365" href="#VUID-vkCmdPushDescriptorSetKHR-set-00365"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-set-00365</span><br>

<code>set</code> <strong>must</strong> be the unique set number in the pipeline layout that
uses a descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494" href="#VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>pDescriptorWrites</code>[i].<code>pImageInfo</code> <strong>must</strong> be a valid pointer to
an array of <code>pDescriptorWrites</code>[i].<code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter" href="#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter" href="#VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-layout-parameter" href="#VUID-vkCmdPushDescriptorSetKHR-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter" href="#VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter</span><br>
 <code>pDescriptorWrites</code> <strong>must</strong> be a valid pointer to an array of <code>descriptorWriteCount</code> valid <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording" href="#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool" href="#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-videocoding" href="#VUID-vkCmdPushDescriptorSetKHR-videocoding"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength" href="#VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength</span><br>
 <code>descriptorWriteCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commonparent" href="#VUID-vkCmdPushDescriptorSetKHR-commonparent"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_push_descriptor_updates_with_descriptor_update_templates"><a class="anchor" href="#_push_descriptor_updates_with_descriptor_update_templates"></a>Push Descriptor Updates with Descriptor Update Templates</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>It is also possible to use a descriptor update template to specify the push
descriptors to update.
To do so, call:</p>
</div>
<div id="vkCmdPushDescriptorSetWithTemplateKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1 with VK_KHR_push_descriptor, VK_KHR_descriptor_update_template with VK_KHR_push_descriptor
void vkCmdPushDescriptorSetWithTemplateKHR(
    VkCommandBuffer                             commandBuffer,
    VkDescriptorUpdateTemplate                  descriptorUpdateTemplate,
    VkPipelineLayout                            layout,
    uint32_t                                    set,
    const void*                                 pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptors will be
recorded in.</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is a descriptor update template defining
how to interpret the descriptor information in <code>pData</code>.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.
It <strong>must</strong> be compatible with the layout used to create the
<code>descriptorUpdateTemplate</code> handle.</p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.
This <strong>must</strong> be the same number used to create the
<code>descriptorUpdateTemplate</code> handle.</p>
</li>
<li>
<p><code>pData</code> is a pointer to memory containing descriptors for the
templated update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366</span><br>

The <code>pipelineBindPoint</code> specified during the creation of the
descriptor update template <strong>must</strong> be supported by the
<code>commandBuffer</code>&#8217;s parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686</span><br>

<code>pData</code> <strong>must</strong> be a valid pointer to a memory containing one or more
valid instances of <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>,
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> in a layout defined
by <code>descriptorUpdateTemplate</code> when it was created with
<a href="#vkCreateDescriptorUpdateTemplate">vkCreateDescriptorUpdateTemplate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993</span><br>

<code>layout</code> <strong>must</strong> be compatible with the layout used to create
<code>descriptorUpdateTemplate</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994</span><br>

<code>descriptorUpdateTemplate</code> <strong>must</strong> have been created with a
<code>templateType</code> of
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995</span><br>

<code>set</code> <strong>must</strong> be the same value used to create
<code>descriptorUpdateTemplate</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304</span><br>

<code>set</code> <strong>must</strong> be less than
<a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305</span><br>

<code>set</code> <strong>must</strong> be the unique set number in the pipeline layout that
uses a descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter</span><br>
 <code>descriptorUpdateTemplate</code> <strong>must</strong> be a valid <a href="#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent" href="#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent</span><br>
 Each of <code>commandBuffer</code>, <code>descriptorUpdateTemplate</code>, and <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">struct AppDataStructure
{
    VkDescriptorImageInfo  imageInfo;          // a single image info
    // ... some more application related data
};

const VkDescriptorUpdateTemplateEntry descriptorUpdateTemplateEntries[] =
{
    // binding to a single image descriptor
    {
        .binding = 0,
        .dstArrayElement = 0,
        .descriptorCount = 1,
        .descriptorType = VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER,
        .offset = offsetof(AppDataStructure, imageInfo),
        .stride = 0     // not required if descriptorCount is 1
    }
};

// create a descriptor update template for push descriptor set updates
const VkDescriptorUpdateTemplateCreateInfo createInfo =
{
    .sType = VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO,
    .pNext = NULL,
    .flags = 0,
    .descriptorUpdateEntryCount = 1,
    .pDescriptorUpdateEntries = descriptorUpdateTemplateEntries,
    .templateType = VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR,
    .descriptorSetLayout = 0,   // ignored by given templateType
    .pipelineBindPoint = VK_PIPELINE_BIND_POINT_GRAPHICS,
    .pipelineLayout = myPipelineLayout,
    .set = 0,
};

VkDescriptorUpdateTemplate myDescriptorUpdateTemplate;
myResult = vkCreateDescriptorUpdateTemplate(
    myDevice,
    &amp;createInfo,
    NULL,
    &amp;myDescriptorUpdateTemplate);

AppDataStructure appData;
// fill appData here or cache it in your engine
vkCmdPushDescriptorSetWithTemplateKHR(myCmdBuffer, myDescriptorUpdateTemplate, myPipelineLayout, 0,&amp;appData);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-push-constants"><a class="anchor" href="#descriptorsets-push-constants"></a>Push Constant Updates</h3>
<div class="paragraph">
<p>As described above in section <a href="#descriptorsets-pipelinelayout">PipelineLayouts</a>, the pipeline layout defines shader push constants which are
updated via Vulkan commands rather than via writes to memory or copy
commands.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To update push constants, call:</p>
</div>
<div id="vkCmdPushConstants" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdPushConstants(
    VkCommandBuffer                             commandBuffer,
    VkPipelineLayout                            layout,
    VkShaderStageFlags                          stageFlags,
    uint32_t                                    offset,
    uint32_t                                    size,
    const void*                                 pValues);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which the push constant
update will be recorded.</p>
</li>
<li>
<p><code>layout</code> is the pipeline layout used to program the push constant
updates.</p>
</li>
<li>
<p><code>stageFlags</code> is a bitmask of <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a> specifying
the shader stages that will use the push constants in the updated range.</p>
</li>
<li>
<p><code>offset</code> is the start offset of the push constant range to update,
in units of bytes.</p>
</li>
<li>
<p><code>size</code> is the size of the push constant range to update, in units of
bytes.</p>
</li>
<li>
<p><code>pValues</code> is a pointer to an array of <code>size</code> bytes containing
the new push constant values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a command buffer begins recording, all push constant values are
<strong>undefined</strong>.
Reads of <strong>undefined</strong> push constant values by the executing shader return
<strong>undefined</strong> values.</p>
</div>
<div class="paragraph">
<p>Push constant values <strong>can</strong> be updated incrementally, causing shader stages in
<code>stageFlags</code> to read the new data from <code>pValues</code> for push constants
modified by this command, while still reading the previous data for push
constants not modified by this command.
When a <a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipeline command</a> is issued,
the bound pipeline&#8217;s layout <strong>must</strong> be compatible with the layouts used to set
the values of all push constants in the pipeline layout&#8217;s push constant
ranges, as described in <a href="#descriptorsets-compatibility">Pipeline LayoutCompatibility</a>.
Binding a pipeline with a layout that is not compatible with the push
constant layout does not disturb the push constant values.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As <code>stageFlags</code> needs to include all flags the relevant push constant
ranges were created with, any flags that are not supported by the queue
family that the <a href="cmdbuffers.html#VkCommandPool" class="xref page">VkCommandPool</a> used to allocate <code>commandBuffer</code> was
created on are ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01795" href="#VUID-vkCmdPushConstants-offset-01795"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-01795</span><br>

For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each shader stage in <code>stageFlags</code>, there <strong>must</strong> be a push
constant range in <code>layout</code> that includes that byte and that stage</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01796" href="#VUID-vkCmdPushConstants-offset-01796"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-01796</span><br>

For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each push constant range that overlaps that byte, <code>stageFlags</code>
<strong>must</strong> include all stages in that push constant range&#8217;s
<a href="#VkPushConstantRange">VkPushConstantRange</a>::<code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00368" href="#VUID-vkCmdPushConstants-offset-00368"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-00368</span><br>

<code>offset</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00369" href="#VUID-vkCmdPushConstants-size-00369"></a> <span class="vuid">VUID-vkCmdPushConstants-size-00369</span><br>

<code>size</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00370" href="#VUID-vkCmdPushConstants-offset-00370"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-00370</span><br>

<code>offset</code> <strong>must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00371" href="#VUID-vkCmdPushConstants-size-00371"></a> <span class="vuid">VUID-vkCmdPushConstants-size-00371</span><br>

<code>size</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-parameter" href="#VUID-vkCmdPushConstants-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-layout-parameter" href="#VUID-vkCmdPushConstants-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-parameter" href="#VUID-vkCmdPushConstants-stageFlags-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-stageFlags-parameter</span><br>
 <code>stageFlags</code> <strong>must</strong> be a valid combination of <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-requiredbitmask" href="#VUID-vkCmdPushConstants-stageFlags-requiredbitmask"></a> <span class="vuid">VUID-vkCmdPushConstants-stageFlags-requiredbitmask</span><br>
 <code>stageFlags</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-pValues-parameter" href="#VUID-vkCmdPushConstants-pValues-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-pValues-parameter</span><br>
 <code>pValues</code> <strong>must</strong> be a valid pointer to an array of <code>size</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-recording" href="#VUID-vkCmdPushConstants-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-cmdpool" href="#VUID-vkCmdPushConstants-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-videocoding" href="#VUID-vkCmdPushConstants-videocoding"></a> <span class="vuid">VUID-vkCmdPushConstants-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-arraylength" href="#VUID-vkCmdPushConstants-size-arraylength"></a> <span class="vuid">VUID-vkCmdPushConstants-size-arraylength</span><br>
 <code>size</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commonparent" href="#VUID-vkCmdPushConstants-commonparent"></a> <span class="vuid">VUID-vkCmdPushConstants-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorsets-physical-storage-buffer"><a class="anchor" href="#descriptorsets-physical-storage-buffer"></a>Physical Storage Buffer Access</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query a 64-bit buffer device address value through which buffer memory
<strong>can</strong> be accessed in a shader, call:</p>
</div>
<div id="vkGetBufferDeviceAddress" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
VkDeviceAddress vkGetBufferDeviceAddress(
    VkDevice                                    device,
    const VkBufferDeviceAddressInfo*            pInfo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetBufferDeviceAddressKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_buffer_device_address
VkDeviceAddress vkGetBufferDeviceAddressKHR(
    VkDevice                                    device,
    const VkBufferDeviceAddressInfo*            pInfo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetBufferDeviceAddressEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_buffer_device_address
VkDeviceAddress vkGetBufferDeviceAddressEXT(
    VkDevice                                    device,
    const VkBufferDeviceAddressInfo*            pInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that the buffer was created on.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure
specifying the buffer to retrieve an address for.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The 64-bit return value is an address of the start of <code>pInfo-&gt;buffer</code>.
The address range starting at this value and whose size is the size of the
buffer <strong>can</strong> be used in a shader to access the memory bound to that buffer,
using the
<code>SPV_KHR_physical_storage_buffer</code> extension
or the equivalent
<code>SPV_EXT_physical_storage_buffer</code> extension
and the <code>PhysicalStorageBuffer</code> storage class.
For example, this value <strong>can</strong> be stored in a uniform buffer, and the shader
<strong>can</strong> read the value from the uniform buffer and use it to do a dependent
read/write to this buffer.
A value of zero is reserved as a &#8220;null&#8221; pointer and <strong>must</strong> not be returned
as a valid buffer device address.
All loads, stores, and atomics in a shader through
<code>PhysicalStorageBuffer</code> pointers <strong>must</strong> access addresses in the address
range of some buffer.</p>
</div>
<div class="paragraph">
<p>If the buffer was created with a non-zero value of
<a href="resources.html#VkBufferOpaqueCaptureAddressCreateInfo" class="xref page">VkBufferOpaqueCaptureAddressCreateInfo</a>::<code>opaqueCaptureAddress</code> or
<a href="resources.html#VkBufferDeviceAddressCreateInfoEXT" class="xref page">VkBufferDeviceAddressCreateInfoEXT</a>::<code>deviceAddress</code>,
the return value will be the same address that was returned at capture time.</p>
</div>
<div class="paragraph">
<p>The returned address <strong>must</strong> satisfy the alignment requirement specified by
<a href="resources.html#VkMemoryRequirements" class="xref page">VkMemoryRequirements</a>::<code>alignment</code> for the buffer in
<a href="#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a>::<code>buffer</code>.</p>
</div>
<div class="paragraph">
<p>If multiple <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> objects are bound to overlapping ranges of
<a href="memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>, implementations <strong>may</strong> return address ranges which
overlap.
In this case, it is ambiguous which <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> is associated with any
given device address.
For purposes of valid usage, if multiple <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> objects <strong>can</strong> be
attributed to a device address, a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> is selected such that valid
usage passes, if it exists.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324" href="#VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324</span><br>

The <a href="features.html#features-bufferDeviceAddress" class="xref page"><code>bufferDeviceAddress</code></a> or
<a href="features.html#features-bufferDeviceAddressEXT" class="xref page">    <code>VkPhysicalDeviceBufferDeviceAddressFeaturesEXT</code>::<code>bufferDeviceAddress</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-device-03325" href="#VUID-vkGetBufferDeviceAddress-device-03325"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-device-03325</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> or
<a href="features.html#features-bufferDeviceAddressMultiDeviceEXT" class="xref page">    <code>VkPhysicalDeviceBufferDeviceAddressFeaturesEXT</code>::<code>bufferDeviceAddressMultiDevice</code></a>
feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-device-parameter" href="#VUID-vkGetBufferDeviceAddress-device-parameter"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-pInfo-parameter" href="#VUID-vkGetBufferDeviceAddress-pInfo-parameter"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferDeviceAddressInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferDeviceAddressInfo" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
typedef struct VkBufferDeviceAddressInfo {
    VkStructureType    sType;
    const void*        pNext;
    VkBuffer           buffer;
} VkBufferDeviceAddressInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkBufferDeviceAddressInfoKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_buffer_device_address
typedef VkBufferDeviceAddressInfo VkBufferDeviceAddressInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkBufferDeviceAddressInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_buffer_device_address
typedef VkBufferDeviceAddressInfo VkBufferDeviceAddressInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>buffer</code> specifies the buffer whose address is being queried.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-02600" href="#VUID-VkBufferDeviceAddressInfo-buffer-02600"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-02600</span><br>

If <code>buffer</code> is non-sparse and was not created with the
<code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT</code> flag, then it
<strong>must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-02601" href="#VUID-VkBufferDeviceAddressInfo-buffer-02601"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-02601</span><br>

<code>buffer</code> <strong>must</strong> have been created with
<code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-sType-sType" href="#VUID-VkBufferDeviceAddressInfo-sType-sType"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-pNext-pNext" href="#VUID-VkBufferDeviceAddressInfo-pNext-pNext"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-parameter" href="#VUID-VkBufferDeviceAddressInfo-buffer-parameter"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-parameter</span><br>
 <code>buffer</code> <strong>must</strong> be a valid <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query a 64-bit buffer opaque capture address, call:</p>
</div>
<div id="vkGetBufferOpaqueCaptureAddress" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_2
uint64_t vkGetBufferOpaqueCaptureAddress(
    VkDevice                                    device,
    const VkBufferDeviceAddressInfo*            pInfo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetBufferOpaqueCaptureAddressKHR" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_KHR_buffer_device_address
uint64_t vkGetBufferOpaqueCaptureAddressKHR(
    VkDevice                                    device,
    const VkBufferDeviceAddressInfo*            pInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that the buffer was created on.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure
specifying the buffer to retrieve an address for.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The 64-bit return value is an opaque capture address of the start of
<code>pInfo-&gt;buffer</code>.</p>
</div>
<div class="paragraph">
<p>If the buffer was created with a non-zero value of
<a href="resources.html#VkBufferOpaqueCaptureAddressCreateInfo" class="xref page">VkBufferOpaqueCaptureAddressCreateInfo</a>::<code>opaqueCaptureAddress</code> the
return value <strong>must</strong> be the same address.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-None-03326" href="#VUID-vkGetBufferOpaqueCaptureAddress-None-03326"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-None-03326</span><br>

The <a href="features.html#features-bufferDeviceAddress" class="xref page"><code>bufferDeviceAddress</code></a> feature
<strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-device-03327" href="#VUID-vkGetBufferOpaqueCaptureAddress-device-03327"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-device-03327</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-device-parameter" href="#VUID-vkGetBufferOpaqueCaptureAddress-device-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter" href="#VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorbuffers"><a class="anchor" href="#descriptorbuffers"></a>Descriptor Buffers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature is
enabled, an alternative way to specify descriptor sets is via buffers,
rather than descriptor set objects.</p>
</div>
<div class="sect2">
<h3 id="descriptorbuffers-puttingdescriptorsinmemory"><a class="anchor" href="#descriptorbuffers-puttingdescriptorsinmemory"></a>Putting descriptors in memory</h3>
<div class="paragraph">
<p>Commands are provided to retrieve descriptor data, and also to locate where
in memory that data <strong>must</strong> be written to match the given descriptor set
layout.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the amount of memory needed to store all descriptors with a
given layout, call:</p>
</div>
<div id="vkGetDescriptorSetLayoutSizeEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkGetDescriptorSetLayoutSizeEXT(
    VkDevice                                    device,
    VkDescriptorSetLayout                       layout,
    VkDeviceSize*                               pLayoutSizeInBytes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the size.</p>
</li>
<li>
<p><code>layout</code> is the descriptor set layout being queried.</p>
</li>
<li>
<p><code>pLayoutSizeInBytes</code> is a pointer to <code>VkDeviceSize</code> where the
size in bytes will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The size of a descriptor set layout will be at least as large as the sum
total of the size of all descriptors in the layout, and <strong>may</strong> be larger.
This size represents the amount of memory that will be required to store all
of the descriptors for this layout in memory, when placed according to the
layout&#8217;s offsets as obtained by
<a href="#vkGetDescriptorSetLayoutBindingOffsetEXT">vkGetDescriptorSetLayoutBindingOffsetEXT</a>.</p>
</div>
<div class="paragraph">
<p>If any <code>binding</code> in <code>layout</code> is
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, the returned size
includes space for the maximum <code>descriptorCount</code> descriptors as declared
for that <code>binding</code>.
To compute the required size of a descriptor set with a
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">size = offset + descriptorSize ×
variableDescriptorCount</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">offset</span> is obtained by
<a href="#vkGetDescriptorSetLayoutBindingOffsetEXT">vkGetDescriptorSetLayoutBindingOffsetEXT</a> and <span class="eq">descriptorSize</span> is
the size of the relevant descriptor as obtained from
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>, and
<span class="eq">variableDescriptorCount</span> is the equivalent of
<a href="#VkDescriptorSetVariableDescriptorCountAllocateInfo">VkDescriptorSetVariableDescriptorCountAllocateInfo</a>::<code>pDescriptorCounts</code>.
For <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>,
<span class="eq">variableDescriptorCount</span> is the size in bytes for the inline uniform
block, and <span class="eq">descriptorSize</span> is 1.</p>
</div>
<div class="paragraph">
<p>If
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>combinedImageSamplerDescriptorSingleArray</code>
is <code>VK_FALSE</code> and the variable descriptor type is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<span class="eq">variableDescriptorCount</span> is always considered to be the upper bound.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-None-08011" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-None-08011"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-None-08011</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-layout-08012" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-layout-08012"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-layout-08012</span><br>

<code>layout</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> flag set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-device-parameter" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parameter" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-pLayoutSizeInBytes-parameter" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-pLayoutSizeInBytes-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-pLayoutSizeInBytes-parameter</span><br>
 <code>pLayoutSizeInBytes</code> <strong>must</strong> be a valid pointer to a <code>VkDeviceSize</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parent" href="#VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parent"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSizeEXT-layout-parent</span><br>
 <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the offset of a binding within a descriptor set layout in memory,
call:</p>
</div>
<div id="vkGetDescriptorSetLayoutBindingOffsetEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkGetDescriptorSetLayoutBindingOffsetEXT(
    VkDevice                                    device,
    VkDescriptorSetLayout                       layout,
    uint32_t                                    binding,
    VkDeviceSize*                               pOffset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the offset.</p>
</li>
<li>
<p><code>layout</code> is the descriptor set layout being queried.</p>
</li>
<li>
<p><code>binding</code> is the binding number being queried.</p>
</li>
<li>
<p><code>pOffset</code> is a pointer to <code>VkDeviceSize</code> where the byte
offset of the binding will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each binding in a descriptor set layout is assigned an offset in memory by
the implementation.
When a shader accesses a resource with that binding, it will access the
bound descriptor buffer from that offset to look for its descriptor.
This command provides an application with that offset, so that descriptors
can be placed in the correct locations.
The precise location accessed by a shader for a given descriptor is as
follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">location = bufferAddress +  setOffset + 
descriptorOffset +  (arrayElement × descriptorSize)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">bufferAddress</span> and <span class="eq">setOffset</span> are the base address and
offset for the identified descriptor set as specified by
<a href="#vkCmdBindDescriptorBuffersEXT">vkCmdBindDescriptorBuffersEXT</a> and
<a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a>, <span class="eq">descriptorOffset</span> is the
offset for the binding returned by this command, <span class="eq">arrayElement</span> is the
index into the array specified in the shader, and <span class="eq">descriptorSize</span> is
the size of the relevant descriptor as obtained from
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>.
Applications are responsible for placing valid descriptors at the expected
location in order for a shader to access it.
The overall offset added to <span class="eq">bufferAddress</span> to calculate <span class="eq">location</span>
<strong>must</strong> be less than
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxSamplerDescriptorBufferRange</code>
for samplers and
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxResourceDescriptorBufferRange</code>
for resources.</p>
</div>
<div class="paragraph">
<p>If any <code>binding</code> in <code>layout</code> is
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, that
<code>binding</code> <strong>must</strong> have the largest offset of any <code>binding</code>.</p>
</div>
<div class="paragraph">
<p>A descriptor <code>binding</code> with type <code>VK_DESCRIPTOR_TYPE_MUTABLE_VALVE</code>
<strong>can</strong> be used.
Any potential types in
<a href="#VkMutableDescriptorTypeCreateInfoVALVE">VkMutableDescriptorTypeCreateInfoVALVE</a>::<code>pDescriptorTypes</code> for
<code>binding</code> share the same offset.
If the size of the <a href="#descriptorsets-mutable">mutable descriptor</a> is larger
than the size of a concrete descriptor type being accessed, the padding area
is ignored by the implementation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-None-08013" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-None-08013"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-None-08013</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-08014" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-08014"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-08014</span><br>

<code>layout</code> <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> flag set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-device-parameter" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parameter" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-pOffset-parameter" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-pOffset-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-pOffset-parameter</span><br>
 <code>pOffset</code> <strong>must</strong> be a valid pointer to a <code>VkDeviceSize</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parent" href="#VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parent"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutBindingOffsetEXT-layout-parent</span><br>
 <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get descriptor data to place in a buffer, call:</p>
</div>
<div id="vkGetDescriptorEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkGetDescriptorEXT(
    VkDevice                                    device,
    const VkDescriptorGetInfoEXT*               pDescriptorInfo,
    size_t                                      dataSize,
    void*                                       pDescriptor);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the descriptor.</p>
</li>
<li>
<p><code>pDescriptorInfo</code> is a pointer to a <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>
structure specifying the parameters of the descriptor to get.</p>
</li>
<li>
<p><code>dataSize</code> is the amount of the descriptor data to get in bytes.</p>
</li>
<li>
<p><code>pDescriptor</code> is a pointer to a user-allocated buffer where the
descriptor will be written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The size of the data for each descriptor type is determined by the value in
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>.
This value also defines the stride in bytes for arrays of that descriptor
type.</p>
</div>
<div class="paragraph">
<p>If the
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>combinedImageSamplerDescriptorSingleArray</code>
property is <code>VK_FALSE</code> the implementation requires an array of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptors to be written
into a descriptor buffer as an array of image descriptors, immediately
followed by an array of sampler descriptors.
Applications <strong>must</strong> write the first
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>sampledImageDescriptorSize</code>
bytes of the data returned through <code>pDescriptor</code> to the first array, and
the remaining
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>samplerDescriptorSize</code>
bytes of the data to the second array.
For variable-sized descriptor bindings of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptors, the two arrays
each have a size equal to the upper bound <code>descriptorCount</code> of that
binding.</p>
</div>
<div class="paragraph">
<p>A descriptor obtained by this command references the underlying
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> or <a href="samplers.html#VkSampler" class="xref page">VkSampler</a>, and these objects <strong>must</strong> not be
destroyed before the last time a descriptor is dynamically accessed.
For descriptor types which consume an address instead of an object, the
underlying <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> is referenced instead.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorEXT-None-08015" href="#VUID-vkGetDescriptorEXT-None-08015"></a> <span class="vuid">VUID-vkGetDescriptorEXT-None-08015</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorEXT-dataSize-08125" href="#VUID-vkGetDescriptorEXT-dataSize-08125"></a> <span class="vuid">VUID-vkGetDescriptorEXT-dataSize-08125</span><br>

<code>dataSize</code> <strong>must</strong> equal the size of a descriptor of type
<a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>::<code>type</code> determined by the value in
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>, or
<a href="limits.html#VkPhysicalDeviceDescriptorBufferDensityMapPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferDensityMapPropertiesEXT</a>::<code>combinedImageSamplerDensityMapDescriptorSize</code>
if <code>pDescriptorInfo</code> specifies a
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> whose <a href="samplers.html#VkSampler" class="xref page">VkSampler</a>
was created with <code>VK_SAMPLER_CREATE_SUBSAMPLED_BIT_EXT</code> set</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorEXT-pDescriptor-08016" href="#VUID-vkGetDescriptorEXT-pDescriptor-08016"></a> <span class="vuid">VUID-vkGetDescriptorEXT-pDescriptor-08016</span><br>

<code>pDescriptor</code> <strong>must</strong> be a valid pointer to an array of at least
<code>dataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorEXT-device-parameter" href="#VUID-vkGetDescriptorEXT-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorEXT-pDescriptorInfo-parameter" href="#VUID-vkGetDescriptorEXT-pDescriptorInfo-parameter"></a> <span class="vuid">VUID-vkGetDescriptorEXT-pDescriptorInfo-parameter</span><br>
 <code>pDescriptorInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorEXT-pDescriptor-parameter" href="#VUID-vkGetDescriptorEXT-pDescriptor-parameter"></a> <span class="vuid">VUID-vkGetDescriptorEXT-pDescriptor-parameter</span><br>
 <code>pDescriptor</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorEXT-dataSize-arraylength" href="#VUID-vkGetDescriptorEXT-dataSize-arraylength"></a> <span class="vuid">VUID-vkGetDescriptorEXT-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the descriptor to get is passed in a
<code>VkDescriptorGetInfoEXT</code> structure:</p>
</div>
<div id="VkDescriptorGetInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkDescriptorGetInfoEXT {
    VkStructureType        sType;
    const void*            pNext;
    VkDescriptorType       type;
    VkDescriptorDataEXT    data;
} VkDescriptorGetInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>type</code> is the type of descriptor to get.</p>
</li>
<li>
<p><code>data</code> is a structure containing the information needed to get the
descriptor.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08018" href="#VUID-VkDescriptorGetInfoEXT-type-08018"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08018</span><br>

<code>type</code> <strong>must</strong> not be <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08019" href="#VUID-VkDescriptorGetInfoEXT-type-08019"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08019</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the
<code>pCombinedImageSampler-&gt;sampler</code> member of <code>data</code> <strong>must</strong> be a
<a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08020" href="#VUID-VkDescriptorGetInfoEXT-type-08020"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08020</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the
<code>pCombinedImageSampler-&gt;imageView</code> member of <code>data</code> <strong>must</strong> be a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> created on <code>device</code>, or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08021" href="#VUID-VkDescriptorGetInfoEXT-type-08021"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08021</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the
<code>pInputAttachmentImage-&gt;imageView</code> member of <code>data</code> <strong>must</strong> be a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08022" href="#VUID-VkDescriptorGetInfoEXT-type-08022"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08022</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and if
<code>pSampledImage</code> is not <code>NULL</code>, the <code>pSampledImage-&gt;imageView</code>
member of <code>data</code> <strong>must</strong> be a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> created on
<code>device</code>, or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08023" href="#VUID-VkDescriptorGetInfoEXT-type-08023"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08023</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and if
<code>pStorageImage</code> is not <code>NULL</code>, the <code>pStorageImage-&gt;imageView</code>
member of <code>data</code> <strong>must</strong> be a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> created on
<code>device</code>, or <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08024" href="#VUID-VkDescriptorGetInfoEXT-type-08024"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08024</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>,
<code>pUniformTexelBuffer</code> is not <code>NULL</code> and
<code>pUniformTexelBuffer-&gt;address</code> is not zero,
<code>pUniformTexelBuffer-&gt;address</code> must be an address within a
<a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08025" href="#VUID-VkDescriptorGetInfoEXT-type-08025"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08025</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>,
<code>pStorageTexelBuffer</code> is not <code>NULL</code> and
<code>pStorageTexelBuffer-&gt;address</code> is not zero,
<code>pStorageTexelBuffer-&gt;address</code> must be an address within a
<a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08026" href="#VUID-VkDescriptorGetInfoEXT-type-08026"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08026</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>pUniformBuffer</code> is not <code>NULL</code> and <code>pUniformBuffer-&gt;address</code> is
not zero, <code>pUniformBuffer-&gt;address</code> must be an address within a
<a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08027" href="#VUID-VkDescriptorGetInfoEXT-type-08027"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08027</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>pStorageBuffer</code> is not <code>NULL</code> and <code>pStorageBuffer-&gt;address</code> is
not zero, <code>pStorageBuffer-&gt;address</code> must be an address within a
<a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08028" href="#VUID-VkDescriptorGetInfoEXT-type-08028"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08028</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> and
<code>accelerationStructure</code> is not <code>0</code>, <code>accelerationStructure</code>
<strong>must</strong> contain the address of a <a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> created
on <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-08029" href="#VUID-VkDescriptorGetInfoEXT-type-08029"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-08029</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code> and
<code>accelerationStructure</code> is not <code>0</code>, <code>accelerationStructure</code>
<strong>must</strong> contain the handle of a <a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a> created on
<code>device</code>, returned by <a href="resources.html#vkGetAccelerationStructureHandleNV" class="xref page">vkGetAccelerationStructureHandleNV</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-sType-sType" href="#VUID-VkDescriptorGetInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_GET_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pNext-pNext" href="#VUID-VkDescriptorGetInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-type-parameter" href="#VUID-VkDescriptorGetInfoEXT-type-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-type-parameter</span><br>
 <code>type</code> <strong>must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pSampler-parameter" href="#VUID-VkDescriptorGetInfoEXT-pSampler-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pSampler-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, the <code>pSampler</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pCombinedImageSampler-parameter" href="#VUID-VkDescriptorGetInfoEXT-pCombinedImageSampler-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pCombinedImageSampler-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the <code>pCombinedImageSampler</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pInputAttachmentImage-parameter" href="#VUID-VkDescriptorGetInfoEXT-pInputAttachmentImage-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pInputAttachmentImage-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>pInputAttachmentImage</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pSampledImage-parameter" href="#VUID-VkDescriptorGetInfoEXT-pSampledImage-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pSampledImage-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and if <code>pSampledImage</code> is not <code>NULL</code>, the <code>pSampledImage</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pStorageImage-parameter" href="#VUID-VkDescriptorGetInfoEXT-pStorageImage-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pStorageImage-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and if <code>pStorageImage</code> is not <code>NULL</code>, the <code>pStorageImage</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pUniformTexelBuffer-parameter" href="#VUID-VkDescriptorGetInfoEXT-pUniformTexelBuffer-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pUniformTexelBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, and if <code>pUniformTexelBuffer</code> is not <code>NULL</code>, the <code>pUniformTexelBuffer</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pStorageTexelBuffer-parameter" href="#VUID-VkDescriptorGetInfoEXT-pStorageTexelBuffer-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pStorageTexelBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, and if <code>pStorageTexelBuffer</code> is not <code>NULL</code>, the <code>pStorageTexelBuffer</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pUniformBuffer-parameter" href="#VUID-VkDescriptorGetInfoEXT-pUniformBuffer-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pUniformBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>, and if <code>pUniformBuffer</code> is not <code>NULL</code>, the <code>pUniformBuffer</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorGetInfoEXT-pStorageBuffer-parameter" href="#VUID-VkDescriptorGetInfoEXT-pStorageBuffer-parameter"></a> <span class="vuid">VUID-VkDescriptorGetInfoEXT-pStorageBuffer-parameter</span><br>
 If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, and if <code>pStorageBuffer</code> is not <code>NULL</code>, the <code>pStorageBuffer</code> member of <code>data</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data describing the descriptor is passed in a <code>VkDescriptorDataEXT</code>
structure:</p>
</div>
<div id="VkDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef union VkDescriptorDataEXT {
    const VkSampler*                     pSampler;
    const VkDescriptorImageInfo*         pCombinedImageSampler;
    const VkDescriptorImageInfo*         pInputAttachmentImage;
    const VkDescriptorImageInfo*         pSampledImage;
    const VkDescriptorImageInfo*         pStorageImage;
    const VkDescriptorAddressInfoEXT*    pUniformTexelBuffer;
    const VkDescriptorAddressInfoEXT*    pStorageTexelBuffer;
    const VkDescriptorAddressInfoEXT*    pUniformBuffer;
    const VkDescriptorAddressInfoEXT*    pStorageBuffer;
    VkDeviceAddress                      accelerationStructure;
} VkDescriptorDataEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pSampler</code> is a pointer to a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> handle specifying the
parameters of a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> descriptor.</p>
</li>
<li>
<p><code>pCombinedImageSampler</code> is a pointer to a
<a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor.</p>
</li>
<li>
<p><code>pInputAttachmentImage</code> is a pointer to a
<a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a> structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> descriptor.</p>
</li>
<li>
<p><code>pSampledImage</code> is a pointer to a <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>
structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> descriptor.</p>
</li>
<li>
<p><code>pStorageImage</code> is a pointer to a <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>
structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> descriptor.</p>
</li>
<li>
<p><code>pUniformTexelBuffer</code> is a pointer to a
<a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure specifying the parameters of
a <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>pStorageTexelBuffer</code> is a pointer to a
<a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a> structure specifying the parameters of
a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>pUniformBuffer</code> is a pointer to a <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a>
structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>pStorageBuffer</code> is a pointer to a <a href="#VkDescriptorAddressInfoEXT">VkDescriptorAddressInfoEXT</a>
structure specifying the parameters of a
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>accelerationStructure</code> is
     the address of a <a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> specifying the
     parameters of a <code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>
     descriptor
, or
    a <a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a> handle specifying the parameters of a
    <code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code> descriptor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is enabled,
<code>pSampledImage</code>, <code>pStorageImage</code>, <code>pUniformTexelBuffer</code>,
<code>pStorageTexelBuffer</code>, <code>pUniformBuffer</code>, and <code>pStorageBuffer</code>
<strong>can</strong> each be <code>NULL</code>.
Loads from a null descriptor return zero values and stores and atomics to a
null descriptor are discarded.</p>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is enabled,
<code>accelerationStructure</code> <strong>can</strong> be <code>0</code>.
A null acceleration structure descriptor results in the miss shader being
invoked.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08030" href="#VUID-VkDescriptorDataEXT-type-08030"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08030</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>, and
<code>pUniformBuffer-&gt;address</code> is the address of a non-sparse buffer,
then that buffer <strong>must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08031" href="#VUID-VkDescriptorDataEXT-type-08031"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08031</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, and
<code>pStorageBuffer-&gt;address</code> is the address of a non-sparse buffer,
then that buffer <strong>must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08032" href="#VUID-VkDescriptorDataEXT-type-08032"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08032</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, and
<code>pUniformTexelBuffer-&gt;address</code> is the address of a non-sparse
buffer, then that buffer <strong>must</strong> be bound completely and contiguously to a
single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08033" href="#VUID-VkDescriptorDataEXT-type-08033"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08033</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, and
<code>pStorageTexelBuffer-&gt;address</code> is the address of a non-sparse
buffer, then that buffer <strong>must</strong> be bound completely and contiguously to a
single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08034" href="#VUID-VkDescriptorDataEXT-type-08034"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08034</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pCombinedImageSampler-&gt;imageView</code> <strong>must</strong> not be
<a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08035" href="#VUID-VkDescriptorDataEXT-type-08035"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08035</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pSampledImage</code> <strong>must</strong> not be <code>NULL</code> and
<code>pSampledImage-&gt;imageView</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08036" href="#VUID-VkDescriptorDataEXT-type-08036"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08036</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pStorageImage</code> <strong>must</strong> not be <code>NULL</code> and
<code>pStorageImage-&gt;imageView</code> <strong>must</strong> not be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08037" href="#VUID-VkDescriptorDataEXT-type-08037"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08037</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pUniformTexelBuffer</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08038" href="#VUID-VkDescriptorDataEXT-type-08038"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08038</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pStorageTexelBuffer</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08039" href="#VUID-VkDescriptorDataEXT-type-08039"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08039</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pUniformBuffer</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08040" href="#VUID-VkDescriptorDataEXT-type-08040"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08040</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>pStorageBuffer</code> <strong>must</strong> not be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08041" href="#VUID-VkDescriptorDataEXT-type-08041"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08041</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>accelerationStructure</code> <strong>must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorDataEXT-type-08042" href="#VUID-VkDescriptorDataEXT-type-08042"></a> <span class="vuid">VUID-VkDescriptorDataEXT-type-08042</span><br>

If <a href="#VkDescriptorGetInfoEXT">VkDescriptorGetInfoEXT</a>:<code>type</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code>, and the
<a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled, <code>accelerationStructure</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data describing a <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is passed in a
<code>VkDescriptorAddressInfoEXT</code> structure:</p>
</div>
<div id="VkDescriptorAddressInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkDescriptorAddressInfoEXT {
    VkStructureType    sType;
    void*              pNext;
    VkDeviceAddress    address;
    VkDeviceSize       range;
    VkFormat           format;
} VkDescriptorAddressInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>address</code> is either <code>0</code> or a device address at an offset in a
buffer, where the base address can be queried from
<a href="#vkGetBufferDeviceAddress">vkGetBufferDeviceAddress</a>.</p>
</li>
<li>
<p><code>range</code> is the size in bytes of the buffer or buffer view used by
the descriptor.</p>
</li>
<li>
<p><code>format</code> is the format of the data elements in the buffer view and
is ignored for buffers.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-address-08043" href="#VUID-VkDescriptorAddressInfoEXT-address-08043"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-address-08043</span><br>

If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is not
enabled,
<code>address</code> <strong>must</strong> not be zero</p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08938" href="#VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08938"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08938</span><br>

If <code>address</code> is zero, <code>range</code> <strong>must</strong> be <code>VK_WHOLE_SIZE</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08939" href="#VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08939"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-nullDescriptor-08939</span><br>

If <code>address</code> is not zero,
<code>range</code> <strong>must</strong> not be <code>VK_WHOLE_SIZE</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-None-08044" href="#VUID-VkDescriptorAddressInfoEXT-None-08044"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-None-08044</span><br>

If <code>address</code> is not zero, <code>address</code> <strong>must</strong> be a valid device
address at an offset within a <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-range-08045" href="#VUID-VkDescriptorAddressInfoEXT-range-08045"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-range-08045</span><br>

<code>range</code> <strong>must</strong> be less than or equal to the size of the buffer
containing <code>address</code> minus the offset of <code>address</code> from the base
address of the buffer</p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-range-08940" href="#VUID-VkDescriptorAddressInfoEXT-range-08940"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-range-08940</span><br>

<code>range</code> <strong>must</strong> not be zero</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-sType-sType" href="#VUID-VkDescriptorAddressInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_ADDRESS_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-pNext-pNext" href="#VUID-VkDescriptorAddressInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorAddressInfoEXT-format-parameter" href="#VUID-VkDescriptorAddressInfoEXT-format-parameter"></a> <span class="vuid">VUID-VkDescriptorAddressInfoEXT-format-parameter</span><br>
 <code>format</code> <strong>must</strong> be a valid <a href="formats.html#VkFormat" class="xref page">VkFormat</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <a href="features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> feature is enabled,
<code>address</code> <strong>can</strong> be zero.
Loads from a null descriptor return zero values and stores and atomics to a
null descriptor are discarded.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Immutable samplers specified in a descriptor set layout through
<code>pImmutableSamplers</code> <strong>must</strong> be provided by applications when obtaining
descriptor data.
Immutable samplers written in a descriptor buffer <strong>must</strong> have identical
parameters to the immutable samplers in the descriptor set layout that
consumes the sampler.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If the descriptor set layout was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>,
there is no buffer backing for the immutable sampler, so this requirement
does not exist.
The implementation handles allocation of these descriptors internally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As descriptors are now in regular memory, drivers cannot hide copies of
immutable samplers that end up in descriptor sets from the application.
As such, applications are required to provide these samplers as if they were
not provided immutably.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="descriptorbuffers-binding"><a class="anchor" href="#descriptorbuffers-binding"></a>Binding descriptor buffers</h3>
<div class="paragraph">
<p>Descriptor buffers have their own separate binding point on the command
buffer, with buffers bound using <a href="#vkCmdBindDescriptorBuffersEXT">vkCmdBindDescriptorBuffersEXT</a>.
<a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a> assigns pairs of buffer binding
indices and buffer offsets to the same binding point on the command buffer
as <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a>, allowing subsequent
<a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipeline commands</a> to use the
specified descriptor buffers.
Bindings applied via <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a> <strong>cannot</strong> exist
simultaneously with those applied via calls to
<a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a> or
<a href="#vkCmdBindDescriptorBufferEmbeddedSamplersEXT">vkCmdBindDescriptorBufferEmbeddedSamplersEXT</a>, as calls to
<a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a> or
<a href="#vkCmdBindDescriptorBufferEmbeddedSamplersEXT">vkCmdBindDescriptorBufferEmbeddedSamplersEXT</a> invalidate any bindings
by previous calls to <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a> and vice-versa.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind descriptor buffers to a command buffer, call:</p>
</div>
<div id="vkCmdBindDescriptorBuffersEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkCmdBindDescriptorBuffersEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    bufferCount,
    const VkDescriptorBufferBindingInfoEXT*     pBindingInfos);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptor buffers
will be bound to.</p>
</li>
<li>
<p><code>bufferCount</code> is the number of elements in the <code>pBindingInfos</code>
array.</p>
</li>
<li>
<p><code>pBindingInfos</code> is a pointer to an array of
<a href="#VkDescriptorBufferBindingInfoEXT">VkDescriptorBufferBindingInfoEXT</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBindDescriptorBuffersEXT</code> causes any offsets previously set by
<a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a> that use the bindings numbered
[<code>0</code>..
<code>bufferCount</code>-1] to be no longer valid for subsequent bound pipeline
commands.
Any previously bound buffers at binding points greater than or equal to
<code>bufferCount</code> are unbound.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-None-08047" href="#VUID-vkCmdBindDescriptorBuffersEXT-None-08047"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-None-08047</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-maxSamplerDescriptorBufferBindings-08048" href="#VUID-vkCmdBindDescriptorBuffersEXT-maxSamplerDescriptorBufferBindings-08048"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-maxSamplerDescriptorBufferBindings-08048</span><br>

There <strong>must</strong> be no more than
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxSamplerDescriptorBufferBindings</code>
descriptor buffers containing sampler descriptor data bound</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-maxResourceDescriptorBufferBindings-08049" href="#VUID-vkCmdBindDescriptorBuffersEXT-maxResourceDescriptorBufferBindings-08049"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-maxResourceDescriptorBufferBindings-08049</span><br>

There <strong>must</strong> be no more than
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxResourceDescriptorBufferBindings</code>
descriptor buffers containing resource descriptor data bound</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-None-08050" href="#VUID-vkCmdBindDescriptorBuffersEXT-None-08050"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-None-08050</span><br>

There <strong>must</strong> be no more than <code>1</code> descriptor buffer bound that was created
with the
<code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-08051" href="#VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-08051"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-08051</span><br>

<code>bufferCount</code> <strong>must</strong> be less than or equal to
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxDescriptorBufferBindings</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08052" href="#VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08052"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08052</span><br>

For any element of <code>pBindingInfos</code>, if the buffer from which
<code>address</code> was queried is non-sparse then it <strong>must</strong> be bound
completely and contiguously to a single <a href="memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a> object</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08053" href="#VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08053"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08053</span><br>

For any element of <code>pBindingInfos</code>, the buffer from which
<code>address</code> was queried <strong>must</strong> have been created with the
<code>VK_BUFFER_USAGE_SAMPLER_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set if it
contains sampler descriptor data</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08054" href="#VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08054"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08054</span><br>

For any element of <code>pBindingInfos</code>, the buffer from which
<code>address</code> was queried <strong>must</strong> have been created with the
<code>VK_BUFFER_USAGE_RESOURCE_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set if it
contains resource descriptor data</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08055" href="#VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08055"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-08055</span><br>

For any element of <code>pBindingInfos</code>, <code>usage</code> <strong>must</strong> match the
buffer from which <code>address</code> was queried</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-parameter" href="#VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-parameter" href="#VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-pBindingInfos-parameter</span><br>
 <code>pBindingInfos</code> <strong>must</strong> be a valid pointer to an array of <code>bufferCount</code> valid <a href="#VkDescriptorBufferBindingInfoEXT">VkDescriptorBufferBindingInfoEXT</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-recording" href="#VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-cmdpool" href="#VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-videocoding" href="#VUID-vkCmdBindDescriptorBuffersEXT-videocoding"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-arraylength" href="#VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-arraylength"></a> <span class="vuid">VUID-vkCmdBindDescriptorBuffersEXT-bufferCount-arraylength</span><br>
 <code>bufferCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data describing a descriptor buffer binding is passed in a
<code>VkDescriptorBufferBindingInfoEXT</code> structure:</p>
</div>
<div id="VkDescriptorBufferBindingInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkDescriptorBufferBindingInfoEXT {
    VkStructureType       sType;
    void*                 pNext;
    VkDeviceAddress       address;
    VkBufferUsageFlags    usage;
} VkDescriptorBufferBindingInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>address</code> is a <code>VkDeviceAddress</code> specifying the device
address defining the descriptor buffer to be bound.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> specifying the
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>usage</code> for the buffer from which
<code>address</code> was queried.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <a href="pipelines.html#VkPipelineCreateFlags2CreateInfoKHR" class="xref page">VkPipelineCreateFlags2CreateInfoKHR</a> structure is present in the
<code>pNext</code> chain, <a href="pipelines.html#VkPipelineCreateFlags2CreateInfoKHR" class="xref page">VkPipelineCreateFlags2CreateInfoKHR</a>::<code>flags</code>
from that structure is used instead of <code>flags</code> from this structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-bufferlessPushDescriptors-08056" href="#VUID-VkDescriptorBufferBindingInfoEXT-bufferlessPushDescriptors-08056"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-bufferlessPushDescriptors-08056</span><br>

If <a href="limits.html#limits-bufferlessPushDescriptors" class="xref page">    <code>VkPhysicalDeviceDescriptorBufferPropertiesEXT</code>::<code>bufferlessPushDescriptors</code></a>
is <code>VK_FALSE</code>, and <code>usage</code> contains
<code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code>, then
the <code>pNext</code> chain <strong>must</strong> include a
<a href="#VkDescriptorBufferBindingPushDescriptorBufferHandleEXT">VkDescriptorBufferBindingPushDescriptorBufferHandleEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-address-08057" href="#VUID-VkDescriptorBufferBindingInfoEXT-address-08057"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-address-08057</span><br>

<code>address</code> <strong>must</strong> be aligned to
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>descriptorBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-usage-08122" href="#VUID-VkDescriptorBufferBindingInfoEXT-usage-08122"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-usage-08122</span><br>

If <code>usage</code> includes
<code>VK_BUFFER_USAGE_SAMPLER_DESCRIPTOR_BUFFER_BIT_EXT</code>, <code>address</code>
<strong>must</strong> be an address within a valid buffer that was created with
<code>VK_BUFFER_USAGE_SAMPLER_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-usage-08123" href="#VUID-VkDescriptorBufferBindingInfoEXT-usage-08123"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-usage-08123</span><br>

If <code>usage</code> includes
<code>VK_BUFFER_USAGE_RESOURCE_DESCRIPTOR_BUFFER_BIT_EXT</code>, <code>address</code>
<strong>must</strong> be an address within a valid buffer that was created with
<code>VK_BUFFER_USAGE_RESOURCE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-usage-08124" href="#VUID-VkDescriptorBufferBindingInfoEXT-usage-08124"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-usage-08124</span><br>

If <code>usage</code> includes
<code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code>,
<code>address</code> <strong>must</strong> be an address within a valid buffer that was created
with <code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-sType-sType" href="#VUID-VkDescriptorBufferBindingInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_BUFFER_BINDING_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-pNext-pNext" href="#VUID-VkDescriptorBufferBindingInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong>must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="resources.html#VkBufferUsageFlags2CreateInfoKHR" class="xref page">VkBufferUsageFlags2CreateInfoKHR</a> or <a href="#VkDescriptorBufferBindingPushDescriptorBufferHandleEXT">VkDescriptorBufferBindingPushDescriptorBufferHandleEXT</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-sType-unique" href="#VUID-VkDescriptorBufferBindingInfoEXT-sType-unique"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong>must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-usage-parameter" href="#VUID-VkDescriptorBufferBindingInfoEXT-usage-parameter"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-usage-parameter</span><br>
 <code>usage</code> <strong>must</strong> be a valid combination of <a href="resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingInfoEXT-usage-requiredbitmask" href="#VUID-VkDescriptorBufferBindingInfoEXT-usage-requiredbitmask"></a> <span class="vuid">VUID-VkDescriptorBufferBindingInfoEXT-usage-requiredbitmask</span><br>
 <code>usage</code> <strong>must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When the <a href="limits.html#limits-bufferlessPushDescriptors" class="xref page"><code>VkPhysicalDeviceDescriptorBufferPropertiesEXT</code>::<code>bufferlessPushDescriptors</code></a>
property is <code>VK_FALSE</code>, the <code>VkBuffer</code> handle of the buffer for push
descriptors is passed in a
<code>VkDescriptorBufferBindingPushDescriptorBufferHandleEXT</code> structure:</p>
</div>
<div id="VkDescriptorBufferBindingPushDescriptorBufferHandleEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkDescriptorBufferBindingPushDescriptorBufferHandleEXT {
    VkStructureType    sType;
    void*              pNext;
    VkBuffer           buffer;
} VkDescriptorBufferBindingPushDescriptorBufferHandleEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>buffer</code> is the <code>VkBuffer</code> handle of the buffer for push
descriptors.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-bufferlessPushDescriptors-08059" href="#VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-bufferlessPushDescriptors-08059"></a> <span class="vuid">VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-bufferlessPushDescriptors-08059</span><br>

<a href="limits.html#limits-bufferlessPushDescriptors" class="xref page">    <code>VkPhysicalDeviceDescriptorBufferPropertiesEXT</code>::<code>bufferlessPushDescriptors</code></a>
<strong>must</strong> be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-sType-sType" href="#VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-sType-sType"></a> <span class="vuid">VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_BUFFER_BINDING_PUSH_DESCRIPTOR_BUFFER_HANDLE_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-buffer-parameter" href="#VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-buffer-parameter"></a> <span class="vuid">VUID-VkDescriptorBufferBindingPushDescriptorBufferHandleEXT-buffer-parameter</span><br>
 <code>buffer</code> <strong>must</strong> be a valid <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To set descriptor buffer offsets in a command buffer, call:</p>
</div>
<div id="vkCmdSetDescriptorBufferOffsetsEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkCmdSetDescriptorBufferOffsetsEXT(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    firstSet,
    uint32_t                                    setCount,
    const uint32_t*                             pBufferIndices,
    const VkDeviceSize*                         pOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which the descriptor buffer
offsets will be set.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>firstSet</code> is the number of the first set to be bound.</p>
</li>
<li>
<p><code>setCount</code> is the number of elements in the <code>pBufferIndices</code> and
<code>pOffsets</code> arrays.</p>
</li>
<li>
<p><code>pBufferIndices</code> is a pointer to an array of indices into the
descriptor buffer binding points set by
<a href="#vkCmdBindDescriptorBuffersEXT">vkCmdBindDescriptorBuffersEXT</a>.</p>
</li>
<li>
<p><code>pOffsets</code> is a pointer to an array of <code>VkDeviceSize</code> offsets
to apply to the bound descriptor buffers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdSetDescriptorBufferOffsetsEXT</code> binds <code>setCount</code> pairs of
descriptor buffers, specified by indices into the binding points bound using
<a href="#vkCmdBindDescriptorBuffersEXT">vkCmdBindDescriptorBuffersEXT</a>, and buffer offsets to set numbers
[<code>firstSet</code>..<code>firstSet</code>+<code>descriptorSetCount</code>-1] for subsequent
<a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipeline commands</a> set by
<code>pipelineBindPoint</code>.
Set [<code>firstSet</code> + i] is bound to the descriptor buffer at binding
<code>pBufferIndices</code>[i] at an offset of <code>pOffsets</code>[i].
Any bindings that were previously applied via these sets, or calls to
<a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a>, are no longer valid.
Other sets will also be invalidated upon calling this command if
<code>layout</code> differs from the pipeline layout used to bind those other sets,
as described in <a href="#descriptorsets-compatibility">Pipeline LayoutCompatibility</a>.</p>
</div>
<div class="paragraph">
<p>After binding descriptors, applications <strong>can</strong> modify descriptor memory either
by performing writes on the host or with device commands.
When descriptor memory is updated with device commands, visibility for the
shader stage accessing a descriptor is ensured with the
<code>VK_ACCESS_2_DESCRIPTOR_BUFFER_READ_BIT_EXT</code> access flag.
Implementations <strong>must</strong> not access resources referenced by these descriptors
unless they are dynamically accessed by shaders.
Descriptors bound with this call <strong>can</strong> be <strong>undefined</strong> if they are not
dynamically accessed by shaders.</p>
</div>
<div class="paragraph">
<p>Implementations <strong>may</strong> read descriptor data for any statically accessed
descriptor if the <code>binding</code> in <code>layout</code> is not declared with the
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> flag.
If the <code>binding</code> in <code>layout</code> is declared with
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, implementations
<strong>must</strong> not read descriptor data that is not dynamically accessed.</p>
</div>
<div class="paragraph">
<p>Applications <strong>must</strong> ensure that any descriptor which the implementation <strong>may</strong>
read <strong>must</strong> be in-bounds of the underlying descriptor buffer binding.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications can freely decide how large a variable descriptor buffer
binding is, so it may not be safe to read such descriptor payloads
statically.
The intention of these rules is to allow implementations to speculatively
prefetch descriptor payloads where feasible.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dynamically accessing a resource through descriptor data from an unbound
region of a <a href="sparsemem.html#sparsememory-partially-resident-buffers" class="xref page">sparsepartially-resident buffer</a> will result in invalid descriptor data being
read, and therefore <strong>undefined</strong> behavior.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For descriptors written by the host, visibility is implied through the
automatic visibility operation on queue submit, and there is no need to
consider <code>VK_ACCESS_2_DESCRIPTOR_BUFFER_READ_BIT</code>.
Explicit synchronization for descriptors is only required when descriptors
are updated on the device.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The requirements above imply that all descriptor bindings have been defined
with the equivalent of <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>,
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> and
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code>, but enabling those features
is not required to get this behavior.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-None-08060" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-None-08060"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-None-08060</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08061" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08061"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08061</span><br>

The offsets in <code>pOffsets</code> <strong>must</strong> be aligned to
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>descriptorBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08063" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08063"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08063</span><br>

The offsets in <code>pOffsets</code> <strong>must</strong> be small enough such that any
descriptor binding referenced by <code>layout</code> without the
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> flag computes
a valid address inside the underlying <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08126" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08126"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08126</span><br>

The offsets in <code>pOffsets</code> <strong>must</strong> be small enough such that any
location accessed by a shader as a sampler descriptor <strong>must</strong> be within
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxSamplerDescriptorBufferRange</code>
of the sampler descriptor buffer binding</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08127" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08127"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-08127</span><br>

The offsets in <code>pOffsets</code> <strong>must</strong> be small enough such that any
location accessed by a shader as a resource descriptor <strong>must</strong> be within
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxResourceDescriptorBufferRange</code>
of the resource descriptor buffer binding</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08064" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08064"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08064</span><br>

Each element of <code>pBufferIndices</code> <strong>must</strong> be less than
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>maxDescriptorBufferBindings</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08065" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08065"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-08065</span><br>

Each element of <code>pBufferIndices</code> <strong>must</strong> reference a valid descriptor
buffer binding set by a previous call to
<a href="#vkCmdBindDescriptorBuffersEXT">vkCmdBindDescriptorBuffersEXT</a> in <code>commandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-08066" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-08066"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-08066</span><br>

The sum of <code>firstSet</code> and <code>setCount</code> <strong>must</strong> be less than or equal
to <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-08067" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-08067"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-08067</span><br>

<code>pipelineBindPoint</code> <strong>must</strong> be supported by the <code>commandBuffer</code>&#8217;s
parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-09006" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-09006"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-firstSet-09006</span><br>

The <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> for each set from <code>firstSet</code> to
<span class="eq"><code>firstSet</code> +  <code>setCount</code></span> when <code>layout</code> was created
<strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code> bit set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-parameter" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-layout-parameter" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-layout-parameter"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-parameter" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-parameter"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pBufferIndices-parameter</span><br>
 <code>pBufferIndices</code> <strong>must</strong> be a valid pointer to an array of <code>setCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-parameter" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-parameter"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-pOffsets-parameter</span><br>
 <code>pOffsets</code> <strong>must</strong> be a valid pointer to an array of <code>setCount</code> <code>VkDeviceSize</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-recording" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-videocoding" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-setCount-arraylength" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-setCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-setCount-arraylength</span><br>
 <code>setCount</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDescriptorBufferOffsetsEXT-commonparent" href="#VUID-vkCmdSetDescriptorBufferOffsetsEXT-commonparent"></a> <span class="vuid">VUID-vkCmdSetDescriptorBufferOffsetsEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind an embedded immutable sampler set to a command buffer, call:</p>
</div>
<div id="vkCmdBindDescriptorBufferEmbeddedSamplersEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
void vkCmdBindDescriptorBufferEmbeddedSamplersEXT(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    set);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the embedded immutable
samplers will be bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the embedded immutable samplers.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>set</code> is the number of the set to be bound.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBindDescriptorBufferEmbeddedSamplersEXT</code> binds the embedded immutable
samplers in <code>set</code> of <code>layout</code> to <code>set</code> for the command buffer
for subsequent <a href="pipelines.html#pipelines-bindpoint-commands" class="xref page">bound pipeline commands</a> set
by <code>pipelineBindPoint</code>.
Any previous binding to this set by <a href="#vkCmdSetDescriptorBufferOffsetsEXT">vkCmdSetDescriptorBufferOffsetsEXT</a>
or this command is overwritten.
Any sets that were last bound by a call to <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a> are
invalidated upon calling this command.
Other sets will also be invalidated upon calling this command if
<code>layout</code> differs from the pipeline layout used to bind those other sets,
as described in <a href="#descriptorsets-compatibility">Pipeline LayoutCompatibility</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-None-08068" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-None-08068"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-None-08068</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBuffer</code></a> feature <strong>must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-08069" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-08069"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-08069</span><br>

<code>pipelineBindPoint</code> <strong>must</strong> be supported by the <code>commandBuffer</code>&#8217;s
parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08070" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08070"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08070</span><br>

The <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> at index <code>set</code> when <code>layout</code> was
created <strong>must</strong> have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code>
bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08071" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08071"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-set-08071</span><br>

<code>set</code> <strong>must</strong> be less than or equal to
<a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-parameter" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-parameter" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong>must</strong> be a valid <a href="pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-layout-parameter" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-layout-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-layout-parameter</span><br>
 <code>layout</code> <strong>must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-recording" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-cmdpool" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-videocoding" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-videocoding"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commonparent" href="#VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commonparent"></a> <span class="vuid">VUID-vkCmdBindDescriptorBufferEmbeddedSamplersEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorbuffers-updates"><a class="anchor" href="#descriptorbuffers-updates"></a>Updating descriptor buffers</h3>
<div class="paragraph">
<p>Updates to descriptor data in buffers <strong>can</strong> be performed by any operation on
either the host or device that <strong>can</strong> access memory.</p>
</div>
<div class="paragraph">
<p>Descriptor buffer reads <strong>can</strong> be synchronized using
<code>VK_ACCESS_2_DESCRIPTOR_BUFFER_READ_BIT_EXT</code> in the relevant shader
stage.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorbuffers-push-descriptors"><a class="anchor" href="#descriptorbuffers-push-descriptors"></a>Push Descriptors with Descriptor Buffers</h3>
<div class="paragraph">
<p>If the <a href="features.html#features-descriptorBufferPushDescriptors" class="xref page"><code>descriptorBufferPushDescriptors</code></a> feature is enabled, push descriptors
<strong>can</strong> be used with descriptor buffers in the same way as with descriptor
sets.</p>
</div>
<div class="paragraph">
<p>The <a href="limits.html#limits-bufferlessPushDescriptors" class="xref page"><code>VkPhysicalDeviceDescriptorBufferPropertiesEXT</code>::<code>bufferlessPushDescriptors</code></a>
property indicates whether the implementation requires a buffer to back push
descriptors.
If the property is <code>VK_FALSE</code> then before recording any push descriptors
the application <strong>must</strong> bind exactly <code>1</code> descriptor buffer that was created
with the <code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code>
bit set.
When this buffer is bound any previously recorded push descriptors that are
required for a subsequent command <strong>must</strong> be recorded again.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptorbuffers-capturereplay"><a class="anchor" href="#descriptorbuffers-capturereplay"></a>Capture and replay</h3>
<div class="paragraph">
<p>In a similar way to <a href="features.html#features-bufferDeviceAddressCaptureReplay" class="xref page"><code>bufferDeviceAddressCaptureReplay</code></a>, the
<a href="features.html#features-descriptorBufferCaptureReplay" class="xref page"><code>descriptorBufferCaptureReplay</code></a> feature allows the creation of opaque
handles for objects at capture time that <strong>can</strong> be passed into object creation
calls in a future replay, causing descriptors to be created with the same
data.
The opaque memory address for any memory used by these resources <strong>must</strong> have
been captured using <a href="memory.html#vkGetDeviceMemoryOpaqueCaptureAddress" class="xref page">vkGetDeviceMemoryOpaqueCaptureAddress</a> and be
replayed using <a href="memory.html#VkMemoryOpaqueCaptureAddressAllocateInfo" class="xref page">VkMemoryOpaqueCaptureAddressAllocateInfo</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the opaque descriptor data for a buffer, call:</p>
</div>
<div id="vkGetBufferOpaqueCaptureDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
VkResult vkGetBufferOpaqueCaptureDescriptorDataEXT(
    VkDevice                                    device,
    const VkBufferCaptureDescriptorDataInfoEXT* pInfo,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the data.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkBufferCaptureDescriptorDataInfoEXT">VkBufferCaptureDescriptorDataInfoEXT</a>
structure specifying the buffer.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the data will
be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-None-08072" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-None-08072"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-None-08072</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBufferCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-08073" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-08073"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-08073</span><br>

<code>pData</code> <strong>must</strong> point to a buffer that is at least
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>bufferCaptureReplayDescriptorDataSize</code>
bytes in size</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-08074" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-08074"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-08074</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-parameter" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pInfo-parameter" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkBufferCaptureDescriptorDataInfoEXT">VkBufferCaptureDescriptorDataInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-parameter" href="#VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureDescriptorDataEXT-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the buffer to get descriptor buffer capture data for is
passed in a <code>VkBufferCaptureDescriptorDataInfoEXT</code> structure:</p>
</div>
<div id="VkBufferCaptureDescriptorDataInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkBufferCaptureDescriptorDataInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkBuffer           buffer;
} VkBufferCaptureDescriptorDataInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>buffer</code> is the <code>VkBuffer</code> handle of the buffer to get opaque
capture data for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-08075" href="#VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-08075"></a> <span class="vuid">VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-08075</span><br>

<code>buffer</code> <strong>must</strong> have been created with
<code>VK_BUFFER_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code> set in
<a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>::<code>flags</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCaptureDescriptorDataInfoEXT-sType-sType" href="#VUID-VkBufferCaptureDescriptorDataInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkBufferCaptureDescriptorDataInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCaptureDescriptorDataInfoEXT-pNext-pNext" href="#VUID-VkBufferCaptureDescriptorDataInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkBufferCaptureDescriptorDataInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-parameter" href="#VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-parameter"></a> <span class="vuid">VUID-VkBufferCaptureDescriptorDataInfoEXT-buffer-parameter</span><br>
 <code>buffer</code> <strong>must</strong> be a valid <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the opaque capture descriptor data for an image, call:</p>
</div>
<div id="vkGetImageOpaqueCaptureDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
VkResult vkGetImageOpaqueCaptureDescriptorDataEXT(
    VkDevice                                    device,
    const VkImageCaptureDescriptorDataInfoEXT*  pInfo,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the data.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="#VkImageCaptureDescriptorDataInfoEXT">VkImageCaptureDescriptorDataInfoEXT</a>
structure specifying the image.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the data will
be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-None-08076" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-None-08076"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-None-08076</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBufferCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-08077" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-08077"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-08077</span><br>

<code>pData</code> <strong>must</strong> point to a buffer that is at least
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>imageCaptureReplayDescriptorDataSize</code>
bytes in size</p>
</li>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-08078" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-08078"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-08078</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-parameter" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pInfo-parameter" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkImageCaptureDescriptorDataInfoEXT">VkImageCaptureDescriptorDataInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-parameter" href="#VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetImageOpaqueCaptureDescriptorDataEXT-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the image to get descriptor buffer capture data for is
passed in a <code>VkImageCaptureDescriptorDataInfoEXT</code> structure:</p>
</div>
<div id="VkImageCaptureDescriptorDataInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkImageCaptureDescriptorDataInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkImage            image;
} VkImageCaptureDescriptorDataInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>image</code> is the <code>VkImage</code> handle of the image to get opaque
capture data for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCaptureDescriptorDataInfoEXT-image-08079" href="#VUID-VkImageCaptureDescriptorDataInfoEXT-image-08079"></a> <span class="vuid">VUID-VkImageCaptureDescriptorDataInfoEXT-image-08079</span><br>

<code>image</code> <strong>must</strong> have been created with
<code>VK_IMAGE_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code> set in
<a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>flags</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCaptureDescriptorDataInfoEXT-sType-sType" href="#VUID-VkImageCaptureDescriptorDataInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkImageCaptureDescriptorDataInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCaptureDescriptorDataInfoEXT-pNext-pNext" href="#VUID-VkImageCaptureDescriptorDataInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkImageCaptureDescriptorDataInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageCaptureDescriptorDataInfoEXT-image-parameter" href="#VUID-VkImageCaptureDescriptorDataInfoEXT-image-parameter"></a> <span class="vuid">VUID-VkImageCaptureDescriptorDataInfoEXT-image-parameter</span><br>
 <code>image</code> <strong>must</strong> be a valid <a href="resources.html#VkImage" class="xref page">VkImage</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the opaque capture descriptor data for an image view, call:</p>
</div>
<div id="vkGetImageViewOpaqueCaptureDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
VkResult vkGetImageViewOpaqueCaptureDescriptorDataEXT(
    VkDevice                                    device,
    const VkImageViewCaptureDescriptorDataInfoEXT* pInfo,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the data.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a
<a href="#VkImageViewCaptureDescriptorDataInfoEXT">VkImageViewCaptureDescriptorDataInfoEXT</a> structure specifying the
image view.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the data will
be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-None-08080" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-None-08080"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-None-08080</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBufferCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-08081" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-08081"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-08081</span><br>

<code>pData</code> <strong>must</strong> point to a buffer that is at least
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>imageViewCaptureReplayDescriptorDataSize</code>
bytes in size</p>
</li>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-08082" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-08082"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-08082</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-parameter" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pInfo-parameter" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkImageViewCaptureDescriptorDataInfoEXT">VkImageViewCaptureDescriptorDataInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-parameter" href="#VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetImageViewOpaqueCaptureDescriptorDataEXT-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the image view to get descriptor buffer capture data for
is passed in a <code>VkImageViewCaptureDescriptorDataInfoEXT</code> structure:</p>
</div>
<div id="VkImageViewCaptureDescriptorDataInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkImageViewCaptureDescriptorDataInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkImageView        imageView;
} VkImageViewCaptureDescriptorDataInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>imageView</code> is the <code>VkImageView</code> handle of the image view to get
opaque capture data for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-08083" href="#VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-08083"></a> <span class="vuid">VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-08083</span><br>

<code>imageView</code> <strong>must</strong> have been created with
<code>VK_IMAGE_VIEW_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code> set
in <a href="resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>::<code>flags</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCaptureDescriptorDataInfoEXT-sType-sType" href="#VUID-VkImageViewCaptureDescriptorDataInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkImageViewCaptureDescriptorDataInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_VIEW_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCaptureDescriptorDataInfoEXT-pNext-pNext" href="#VUID-VkImageViewCaptureDescriptorDataInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkImageViewCaptureDescriptorDataInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-parameter" href="#VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-parameter"></a> <span class="vuid">VUID-VkImageViewCaptureDescriptorDataInfoEXT-imageView-parameter</span><br>
 <code>imageView</code> <strong>must</strong> be a valid <a href="resources.html#VkImageView" class="xref page">VkImageView</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the opaque capture descriptor data for a sampler, call:</p>
</div>
<div id="vkGetSamplerOpaqueCaptureDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
VkResult vkGetSamplerOpaqueCaptureDescriptorDataEXT(
    VkDevice                                    device,
    const VkSamplerCaptureDescriptorDataInfoEXT* pInfo,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the data.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a
<a href="#VkSamplerCaptureDescriptorDataInfoEXT">VkSamplerCaptureDescriptorDataInfoEXT</a> structure specifying the
sampler.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the data will
be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-None-08084" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-None-08084"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-None-08084</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBufferCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-08085" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-08085"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-08085</span><br>

<code>pData</code> <strong>must</strong> point to a buffer that is at least
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>samplerCaptureReplayDescriptorDataSize</code>
bytes in size</p>
</li>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-08086" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-08086"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-08086</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-parameter" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pInfo-parameter" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkSamplerCaptureDescriptorDataInfoEXT">VkSamplerCaptureDescriptorDataInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-parameter" href="#VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetSamplerOpaqueCaptureDescriptorDataEXT-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the sampler to get descriptor buffer capture data for is
passed in a <code>VkSamplerCaptureDescriptorDataInfoEXT</code> structure:</p>
</div>
<div id="VkSamplerCaptureDescriptorDataInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkSamplerCaptureDescriptorDataInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    VkSampler          sampler;
} VkSamplerCaptureDescriptorDataInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sampler</code> is the <code>VkSampler</code> handle of the sampler to get opaque
capture data for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-08087" href="#VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-08087"></a> <span class="vuid">VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-08087</span><br>

<code>sampler</code> <strong>must</strong> have been created with
<code>VK_SAMPLER_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code> set in
<a href="samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>::<code>flags</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerCaptureDescriptorDataInfoEXT-sType-sType" href="#VUID-VkSamplerCaptureDescriptorDataInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSamplerCaptureDescriptorDataInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLER_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCaptureDescriptorDataInfoEXT-pNext-pNext" href="#VUID-VkSamplerCaptureDescriptorDataInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkSamplerCaptureDescriptorDataInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-parameter" href="#VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-parameter"></a> <span class="vuid">VUID-VkSamplerCaptureDescriptorDataInfoEXT-sampler-parameter</span><br>
 <code>sampler</code> <strong>must</strong> be a valid <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To get the opaque capture descriptor data for an acceleration structure,
call:</p>
</div>
<div id="vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer with VK_KHR_acceleration_structure or VK_NV_ray_tracing
VkResult vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT(
    VkDevice                                    device,
    const VkAccelerationStructureCaptureDescriptorDataInfoEXT* pInfo,
    void*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that gets the data.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a
<a href="#VkAccelerationStructureCaptureDescriptorDataInfoEXT">VkAccelerationStructureCaptureDescriptorDataInfoEXT</a> structure
specifying the acceleration structure.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the data will
be written.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-None-08088" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-None-08088"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-None-08088</span><br>

The <a href="features.html#features-descriptorBuffer" class="xref page"><code>descriptorBufferCaptureReplay</code></a>
feature <strong>must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-08089" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-08089"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-08089</span><br>

<code>pData</code> <strong>must</strong> point to a buffer that is at least
<a href="limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a>::<code>accelerationStructureCaptureReplayDescriptorDataSize</code>
bytes in size</p>
</li>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-08090" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-08090"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-08090</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="features.html#features-bufferDeviceAddressMultiDevice" class="xref page">    <code>bufferDeviceAddressMultiDevice</code></a> feature <strong>must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-parameter" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-parameter"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pInfo-parameter" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pInfo-parameter"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pInfo-parameter</span><br>
 <code>pInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkAccelerationStructureCaptureDescriptorDataInfoEXT">VkAccelerationStructureCaptureDescriptorDataInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-parameter" href="#VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-parameter"></a> <span class="vuid">VUID-vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the acceleration structure to get descriptor buffer
capture data for is passed in a
<code>VkAccelerationStructureCaptureDescriptorDataInfoEXT</code> structure:</p>
</div>
<div id="VkAccelerationStructureCaptureDescriptorDataInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer with VK_KHR_acceleration_structure or VK_NV_ray_tracing
typedef struct VkAccelerationStructureCaptureDescriptorDataInfoEXT {
    VkStructureType               sType;
    const void*                   pNext;
    VkAccelerationStructureKHR    accelerationStructure;
    VkAccelerationStructureNV     accelerationStructureNV;
} VkAccelerationStructureCaptureDescriptorDataInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>accelerationStructure</code> is the <code>VkAccelerationStructureKHR</code>
handle of the acceleration structure to get opaque capture data for.</p>
</li>
<li>
<p><code>accelerationStructureNV</code> is the <code>VkAccelerationStructureNV</code>
handle of the acceleration structure to get opaque capture data for.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08091" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08091"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08091</span><br>

If <code>accelerationStructure</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> then
<code>accelerationStructure</code> <strong>must</strong> have been created with
<code>VK_ACCELERATION_STRUCTURE_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code>
set in <a href="resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a>::<code>createFlags</code></p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08092" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08092"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08092</span><br>

If <code>accelerationStructureNV</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> then
<code>accelerationStructureNV</code> <strong>must</strong> have been created with
<code>VK_ACCELERATION_STRUCTURE_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code>
set in <a href="resources.html#VkAccelerationStructureCreateInfoNV" class="xref page">VkAccelerationStructureCreateInfoNV</a>::<code>info.flags</code></p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08093" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08093"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-08093</span><br>

If <code>accelerationStructure</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> then
<code>accelerationStructureNV</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08094" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08094"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-08094</span><br>

If <code>accelerationStructureNV</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> then
<code>accelerationStructure</code> <strong>must</strong> be <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-sType-sType" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-pNext-pNext" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-parameter" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-parameter"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructure-parameter</span><br>
 If <code>accelerationStructure</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>accelerationStructure</code> <strong>must</strong> be a valid <a href="resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-parameter" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-parameter"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-accelerationStructureNV-parameter</span><br>
 If <code>accelerationStructureNV</code> is not <a href="../appendices/boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a>, <code>accelerationStructureNV</code> <strong>must</strong> be a valid <a href="resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a> handle</p>
</li>
<li>
<p><a id="VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-commonparent" href="#VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-commonparent"></a> <span class="vuid">VUID-VkAccelerationStructureCaptureDescriptorDataInfoEXT-commonparent</span><br>
 Both of <code>accelerationStructure</code>, and <code>accelerationStructureNV</code> that are valid handles of non-ignored parameters <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkOpaqueCaptureDescriptorDataCreateInfoEXT</code> structure is defined
as:</p>
</div>
<div id="VkOpaqueCaptureDescriptorDataCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_EXT_descriptor_buffer
typedef struct VkOpaqueCaptureDescriptorDataCreateInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    const void*        opaqueCaptureDescriptorData;
} VkOpaqueCaptureDescriptorDataCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="fundamentals.html#VkStructureType" class="xref page">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>opaqueCaptureDescriptorData</code> is a pointer to a user-allocated
buffer containing opaque capture data retrieved using
<a href="#vkGetBufferOpaqueCaptureDescriptorDataEXT">vkGetBufferOpaqueCaptureDescriptorDataEXT</a>,
<a href="#vkGetImageOpaqueCaptureDescriptorDataEXT">vkGetImageOpaqueCaptureDescriptorDataEXT</a>,
<a href="#vkGetImageViewOpaqueCaptureDescriptorDataEXT">vkGetImageViewOpaqueCaptureDescriptorDataEXT</a>,
<a href="#vkGetSamplerOpaqueCaptureDescriptorDataEXT">vkGetSamplerOpaqueCaptureDescriptorDataEXT</a>, or
<a href="#vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT">vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During replay, opaque descriptor capture data <strong>can</strong> be specified by adding a
<code>VkOpaqueCaptureDescriptorDataCreateInfoEXT</code> structure to the relevant
<code>pNext</code> chain of a <a href="resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>, <a href="resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>,
<a href="resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>, <a href="samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>,
<a href="resources.html#VkAccelerationStructureCreateInfoNV" class="xref page">VkAccelerationStructureCreateInfoNV</a> or
<a href="resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-sType-sType" href="#VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_OPAQUE_CAPTURE_DESCRIPTOR_DATA_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-opaqueCaptureDescriptorData-parameter" href="#VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-opaqueCaptureDescriptorData-parameter"></a> <span class="vuid">VUID-VkOpaqueCaptureDescriptorDataCreateInfoEXT-opaqueCaptureDescriptorData-parameter</span><br>
 <code>opaqueCaptureDescriptorData</code> <strong>must</strong> be a pointer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <!--
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
    -->
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
