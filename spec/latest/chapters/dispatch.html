<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dispatching Commands :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="dispatch.html">Dispatching Commands</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Dispatching Commands</h1>
<div class="paragraph">
<p><em>Dispatching commands</em> (commands with <code>Dispatch</code> in the name) provoke
work in a compute pipeline.
Dispatching commands are recorded into a command buffer and when executed by
a queue, will produce work which executes according to the bound compute
pipeline.
A compute pipeline <strong>must</strong> be bound to a command buffer before any dispatching
commands are recorded in that command buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a dispatch, call:</p>
</div>
<div id="vkCmdDispatch" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdDispatch(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>groupCountX</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>groupCountY</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>groupCountZ</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, a global workgroup consisting of
<span class="eq"><code>groupCountX</code> × <code>groupCountY</code> × <code>groupCountZ</code></span>
local workgroups is assembled.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-magFilter-04553" href="#VUID-vkCmdDispatch-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatch-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-magFilter-09598" href="#VUID-vkCmdDispatch-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatch-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-mipmapMode-04770" href="#VUID-vkCmdDispatch-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatch-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-mipmapMode-09599" href="#VUID-vkCmdDispatch-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatch-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatch-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatch-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-unnormalizedCoordinates-09636" href="#VUID-vkCmdDispatch-unnormalizedCoordinates-09636"></a> <span class="vuid">VUID-vkCmdDispatch-unnormalizedCoordinates-09636</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-06479" href="#VUID-vkCmdDispatch-None-06479"></a> <span class="vuid">VUID-vkCmdDispatch-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02691" href="#VUID-vkCmdDispatch-None-02691"></a> <span class="vuid">VUID-vkCmdDispatch-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-07888" href="#VUID-vkCmdDispatch-None-07888"></a> <span class="vuid">VUID-vkCmdDispatch-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpTypeImage-07027" href="#VUID-vkCmdDispatch-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatch-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpTypeImage-07028" href="#VUID-vkCmdDispatch-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatch-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpTypeImage-07029" href="#VUID-vkCmdDispatch-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatch-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpTypeImage-07030" href="#VUID-vkCmdDispatch-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatch-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08600" href="#VUID-vkCmdDispatch-None-08600"></a> <span class="vuid">VUID-vkCmdDispatch-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08601" href="#VUID-vkCmdDispatch-None-08601"></a> <span class="vuid">VUID-vkCmdDispatch-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-10068" href="#VUID-vkCmdDispatch-None-10068"></a> <span class="vuid">VUID-vkCmdDispatch-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-maintenance4-08602" href="#VUID-vkCmdDispatch-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatch-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08114" href="#VUID-vkCmdDispatch-None-08114"></a> <span class="vuid">VUID-vkCmdDispatch-None-08114</span><br>

    Descriptors in each bound descriptor set, specified via
    <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
    <a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
    by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08606" href="#VUID-vkCmdDispatch-None-08606"></a> <span class="vuid">VUID-vkCmdDispatch-None-08606</span><br>

A
    valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
    command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08608" href="#VUID-vkCmdDispatch-None-08608"></a> <span class="vuid">VUID-vkCmdDispatch-None-08608</span><br>

There
    <strong>must</strong> not have been any calls to dynamic state setting commands for any
    state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
    pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08609" href="#VUID-vkCmdDispatch-None-08609"></a> <span class="vuid">VUID-vkCmdDispatch-None-08609</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used to sample from any <a href="resources.html#VkImage" class="xref page">VkImage</a> with a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
<code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08610" href="#VUID-vkCmdDispatch-None-08610"></a> <span class="vuid">VUID-vkCmdDispatch-None-08610</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions with <code>ImplicitLod</code>, <code>Dref</code>
or <code>Proj</code> in their name, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-08611" href="#VUID-vkCmdDispatch-None-08611"></a> <span class="vuid">VUID-vkCmdDispatch-None-08611</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions that includes a LOD bias or any
offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-uniformBuffers-06935" href="#VUID-vkCmdDispatch-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatch-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-storageBuffers-06936" href="#VUID-vkCmdDispatch-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatch-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02707" href="#VUID-vkCmdDispatch-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-06550" href="#VUID-vkCmdDispatch-None-06550"></a> <span class="vuid">VUID-vkCmdDispatch-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-ConstOffset-06551" href="#VUID-vkCmdDispatch-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatch-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-viewType-07752" href="#VUID-vkCmdDispatch-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatch-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-format-07753" href="#VUID-vkCmdDispatch-format-07753"></a> <span class="vuid">VUID-vkCmdDispatch-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpImageWrite-08795" href="#VUID-vkCmdDispatch-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatch-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-OpImageWrite-04469" href="#VUID-vkCmdDispatch-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatch-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-07288" href="#VUID-vkCmdDispatch-None-07288"></a> <span class="vuid">VUID-vkCmdDispatch-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-09600" href="#VUID-vkCmdDispatch-None-09600"></a> <span class="vuid">VUID-vkCmdDispatch-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, the image subresource identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02712" href="#VUID-vkCmdDispatch-commandBuffer-02712"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02712</span><br>

If <code>commandBuffer</code> is a protected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource written to by the <code>VkPipeline</code> object bound to the
pipeline bind point used by this command <strong>must</strong> not be an unprotected
resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02713" href="#VUID-vkCmdDispatch-commandBuffer-02713"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-02713</span><br>

If <code>commandBuffer</code> is a protected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command <strong>must</strong> not write to any resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountX-00386" href="#VUID-vkCmdDispatch-groupCountX-00386"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountX-00386</span><br>

<code>groupCountX</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountY-00387" href="#VUID-vkCmdDispatch-groupCountY-00387"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountY-00387</span><br>

<code>groupCountY</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountZ-00388" href="#VUID-vkCmdDispatch-groupCountZ-00388"></a> <span class="vuid">VUID-vkCmdDispatch-groupCountZ-00388</span><br>

<code>groupCountZ</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-parameter" href="#VUID-vkCmdDispatch-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-recording" href="#VUID-vkCmdDispatch-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-cmdpool" href="#VUID-vkCmdDispatch-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatch-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-renderpass" href="#VUID-vkCmdDispatch-renderpass"></a> <span class="vuid">VUID-vkCmdDispatch-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an indirect dispatching command, call:</p>
</div>
<div id="vkCmdDispatchIndirect" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
void vkCmdDispatchIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer containing dispatch parameters.</p>
</li>
<li>
<p><code>offset</code> is the byte offset into <code>buffer</code> where parameters
begin.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdDispatchIndirect</code> behaves similarly to <a href="#vkCmdDispatch">vkCmdDispatch</a> except
that the parameters are read by the device from a buffer during execution.
The parameters of the dispatch are encoded in a
<a href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a> structure taken from <code>buffer</code> starting
at <code>offset</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-magFilter-04553" href="#VUID-vkCmdDispatchIndirect-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-magFilter-09598" href="#VUID-vkCmdDispatchIndirect-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-mipmapMode-04770" href="#VUID-vkCmdDispatchIndirect-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-mipmapMode-09599" href="#VUID-vkCmdDispatchIndirect-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09636" href="#VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09636"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-unnormalizedCoordinates-09636</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-06479" href="#VUID-vkCmdDispatchIndirect-None-06479"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02691" href="#VUID-vkCmdDispatchIndirect-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-07888" href="#VUID-vkCmdDispatchIndirect-None-07888"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpTypeImage-07027" href="#VUID-vkCmdDispatchIndirect-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpTypeImage-07028" href="#VUID-vkCmdDispatchIndirect-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpTypeImage-07029" href="#VUID-vkCmdDispatchIndirect-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpTypeImage-07030" href="#VUID-vkCmdDispatchIndirect-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08600" href="#VUID-vkCmdDispatchIndirect-None-08600"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08601" href="#VUID-vkCmdDispatchIndirect-None-08601"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-10068" href="#VUID-vkCmdDispatchIndirect-None-10068"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-maintenance4-08602" href="#VUID-vkCmdDispatchIndirect-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08114" href="#VUID-vkCmdDispatchIndirect-None-08114"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08114</span><br>

    Descriptors in each bound descriptor set, specified via
    <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
    <a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
    by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08606" href="#VUID-vkCmdDispatchIndirect-None-08606"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08606</span><br>

A
    valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
    command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08608" href="#VUID-vkCmdDispatchIndirect-None-08608"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08608</span><br>

There
    <strong>must</strong> not have been any calls to dynamic state setting commands for any
    state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
    pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08609" href="#VUID-vkCmdDispatchIndirect-None-08609"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08609</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used to sample from any <a href="resources.html#VkImage" class="xref page">VkImage</a> with a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
<code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08610" href="#VUID-vkCmdDispatchIndirect-None-08610"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08610</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions with <code>ImplicitLod</code>, <code>Dref</code>
or <code>Proj</code> in their name, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-08611" href="#VUID-vkCmdDispatchIndirect-None-08611"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-08611</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions that includes a LOD bias or any
offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-uniformBuffers-06935" href="#VUID-vkCmdDispatchIndirect-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-storageBuffers-06936" href="#VUID-vkCmdDispatchIndirect-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02707" href="#VUID-vkCmdDispatchIndirect-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-06550" href="#VUID-vkCmdDispatchIndirect-None-06550"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-ConstOffset-06551" href="#VUID-vkCmdDispatchIndirect-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-viewType-07752" href="#VUID-vkCmdDispatchIndirect-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-format-07753" href="#VUID-vkCmdDispatchIndirect-format-07753"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpImageWrite-08795" href="#VUID-vkCmdDispatchIndirect-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-OpImageWrite-04469" href="#VUID-vkCmdDispatchIndirect-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-07288" href="#VUID-vkCmdDispatchIndirect-None-07288"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-09600" href="#VUID-vkCmdDispatchIndirect-None-09600"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, the image subresource identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02708" href="#VUID-vkCmdDispatchIndirect-buffer-02708"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-02708</span><br>

If <code>buffer</code> is non-sparse then it <strong>must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02709" href="#VUID-vkCmdDispatchIndirect-buffer-02709"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-02709</span><br>

<code>buffer</code> <strong>must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-02710" href="#VUID-vkCmdDispatchIndirect-offset-02710"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-offset-02710</span><br>

<code>offset</code> <strong>must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02711" href="#VUID-vkCmdDispatchIndirect-commandBuffer-02711"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-02711</span><br>

<code>commandBuffer</code> <strong>must</strong> not be a protected command buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-00407" href="#VUID-vkCmdDispatchIndirect-offset-00407"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-offset-00407</span><br>

The sum of <code>offset</code> and the size of <code>VkDispatchIndirectCommand</code>
<strong>must</strong> be less than or equal to the size of <code>buffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-parameter" href="#VUID-vkCmdDispatchIndirect-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-parameter" href="#VUID-vkCmdDispatchIndirect-buffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-buffer-parameter</span><br>
 <code>buffer</code> <strong>must</strong> be a valid <a href="resources.html#VkBuffer" class="xref page">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-recording" href="#VUID-vkCmdDispatchIndirect-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-renderpass" href="#VUID-vkCmdDispatchIndirect-renderpass"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commonparent" href="#VUID-vkCmdDispatchIndirect-commonparent"></a> <span class="vuid">VUID-vkCmdDispatchIndirect-commonparent</span><br>
 Both of <code>buffer</code>, and <code>commandBuffer</code> <strong>must</strong> have been created, allocated, or retrieved from the same <a href="devsandqueues.html#VkDevice" class="xref page">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDispatchIndirectCommand</code> structure is defined as:</p>
</div>
<div id="VkDispatchIndirectCommand" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_0
typedef struct VkDispatchIndirectCommand {
    uint32_t    x;
    uint32_t    y;
    uint32_t    z;
} VkDispatchIndirectCommand;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>y</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>z</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDispatchIndirectCommand</code> have the same meaning as the
corresponding parameters of <a href="#vkCmdDispatch">vkCmdDispatch</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-x-00417" href="#VUID-VkDispatchIndirectCommand-x-00417"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-x-00417</span><br>

<code>x</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-y-00418" href="#VUID-VkDispatchIndirectCommand-y-00418"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-y-00418</span><br>

<code>y</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-z-00419" href="#VUID-VkDispatchIndirectCommand-z-00419"></a> <span class="vuid">VUID-VkDispatchIndirectCommand-z-00419</span><br>

<code>z</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a dispatch using non-zero base values for the components of
<code>WorkgroupId</code>, call:</p>
</div>
<div id="vkCmdDispatchBase" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VERSION_1_1
void vkCmdDispatchBase(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    baseGroupX,
    uint32_t                                    baseGroupY,
    uint32_t                                    baseGroupZ,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>baseGroupX</code> is the start value for the X component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>baseGroupY</code> is the start value for the Y component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>baseGroupZ</code> is the start value for the Z component of
<code>WorkgroupId</code>.</p>
</li>
<li>
<p><code>groupCountX</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>groupCountY</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>groupCountZ</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, a global workgroup consisting of
<span class="eq"><code>groupCountX</code> × <code>groupCountY</code> × <code>groupCountZ</code></span>
local workgroups is assembled, with <code>WorkgroupId</code> values ranging from
<span class="eq">[<code>baseGroup*</code>, <code>baseGroup*</code> +  <code>groupCount*</code>)</span> in each
component.
<a href="#vkCmdDispatch">vkCmdDispatch</a> is equivalent to
<code>vkCmdDispatchBase(0,0,0,groupCountX,groupCountY,groupCountZ)</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-magFilter-04553" href="#VUID-vkCmdDispatchBase-magFilter-04553"></a> <span class="vuid">VUID-vkCmdDispatchBase-magFilter-04553</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-magFilter-09598" href="#VUID-vkCmdDispatchBase-magFilter-09598"></a> <span class="vuid">VUID-vkCmdDispatchBase-magFilter-09598</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>magFilter</code> or <code>minFilter</code>
equal to <code>VK_FILTER_LINEAR</code> and <code>reductionMode</code> equal to either
<code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-mipmapMode-04770" href="#VUID-vkCmdDispatchBase-mipmapMode-04770"></a> <span class="vuid">VUID-vkCmdDispatchBase-mipmapMode-04770</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
<code>reductionMode</code> equal to
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE</code>,
and <code>compareEnable</code> equal to <code>VK_FALSE</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-mipmapMode-09599" href="#VUID-vkCmdDispatchBase-mipmapMode-09599"></a> <span class="vuid">VUID-vkCmdDispatchBase-mipmapMode-09599</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>mipmapMode</code> equal to
<code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> and <code>reductionMode</code> equal to
either <code>VK_SAMPLER_REDUCTION_MODE_MIN</code> or
<code>VK_SAMPLER_REDUCTION_MODE_MAX</code> is used to sample a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-unnormalizedCoordinates-09635" href="#VUID-vkCmdDispatchBase-unnormalizedCoordinates-09635"></a> <span class="vuid">VUID-vkCmdDispatchBase-unnormalizedCoordinates-09635</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>levelCount</code> and <code>layerCount</code>
<strong>must</strong> be 1</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-unnormalizedCoordinates-09636" href="#VUID-vkCmdDispatchBase-unnormalizedCoordinates-09636"></a> <span class="vuid">VUID-vkCmdDispatchBase-unnormalizedCoordinates-09636</span><br>

If a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> created with <code>unnormalizedCoordinates</code> equal to
<code>VK_TRUE</code> is used to sample a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> as a result of this
command, then the image view&#8217;s <code>viewType</code> <strong>must</strong> be
<code>VK_IMAGE_VIEW_TYPE_1D</code> or <code>VK_IMAGE_VIEW_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-06479" href="#VUID-vkCmdDispatchBase-None-06479"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-06479</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is sampled with
<a href="textures.html#textures-depth-compare-operation" class="xref page">depth comparison</a>, the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-02691" href="#VUID-vkCmdDispatchBase-None-02691"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-02691</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-07888" href="#VUID-vkCmdDispatchBase-None-07888"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-07888</span><br>

If a <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer&#8217;s <a href="resources.html#resources-buffer-view-format-features" class="xref page">format    features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpTypeImage-07027" href="#VUID-vkCmdDispatchBase-OpTypeImage-07027"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpTypeImage-07027</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being written as a storage image where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpTypeImage-07028" href="#VUID-vkCmdDispatchBase-OpTypeImage-07028"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpTypeImage-07028</span><br>

For any <a href="resources.html#VkImageView" class="xref page">VkImageView</a> being read as a storage image where the image
format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the view&#8217;s
<a href="resources.html#resources-image-view-format-features" class="xref page">format features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpTypeImage-07029" href="#VUID-vkCmdDispatchBase-OpTypeImage-07029"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpTypeImage-07029</span><br>

For any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being written as a storage texel buffer where
the image format field of the <code>OpTypeImage</code> is <code>Unknown</code>, the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpTypeImage-07030" href="#VUID-vkCmdDispatchBase-OpTypeImage-07030"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpTypeImage-07030</span><br>

Any <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> being read as a storage texel buffer where the
image format field of the <code>OpTypeImage</code> is <code>Unknown</code> then the
view&#8217;s <a href="formats.html#VkFormatProperties3" class="xref page">buffer features</a> <strong>must</strong> contain
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08600" href="#VUID-vkCmdDispatchBase-None-08600"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08600</span><br>

For each set <em>n</em> that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, a descriptor set <strong>must</strong> have been bound to <em>n</em> at the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for set <em>n</em>, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the current
<a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08601" href="#VUID-vkCmdDispatchBase-None-08601"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08601</span><br>

For each push constant that is statically used by <a href="shaders.html#shaders-binding" class="xref page">a    bound shader</a>, a push constant value <strong>must</strong> have been set for the same
pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> that is compatible
for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> used to create the
current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-10068" href="#VUID-vkCmdDispatchBase-None-10068"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-10068</span><br>

For each array of resources that is used by <a href="shaders.html#shaders-binding" class="xref page">a bound    shader</a>, the indices used to access members of the array <strong>must</strong> be less
than the descriptor count for the identified binding in the descriptor
sets used by this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-maintenance4-08602" href="#VUID-vkCmdDispatchBase-maintenance4-08602"></a> <span class="vuid">VUID-vkCmdDispatchBase-maintenance4-08602</span><br>

If the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is not
enabled, then for each push constant that is statically used by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a>, a push constant value <strong>must</strong> have
been set for the same pipeline bind point, with a <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
that is compatible for push constants, with the <a href="descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a>
used to create the current <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
, as described in <a href="descriptorsets.html#descriptorsets-compatibility" class="xref page">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08114" href="#VUID-vkCmdDispatchBase-None-08114"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08114</span><br>

    Descriptors in each bound descriptor set, specified via
    <a href="descriptorsets.html#vkCmdBindDescriptorSets" class="xref page">vkCmdBindDescriptorSets</a>, <strong>must</strong> be valid as described by
    <a href="descriptorsets.html#descriptor-validity" class="xref page">descriptor validity</a> if they are statically used
    by
<a href="shaders.html#shaders-binding" class="xref page">a bound shader</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08606" href="#VUID-vkCmdDispatchBase-None-08606"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08606</span><br>

A
    valid pipeline <strong>must</strong> be bound to the pipeline bind point used by this
    command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08608" href="#VUID-vkCmdDispatchBase-None-08608"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08608</span><br>

There
    <strong>must</strong> not have been any calls to dynamic state setting commands for any
    state specified statically in the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the
    pipeline bind point used by this command, since that pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08609" href="#VUID-vkCmdDispatchBase-None-08609"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08609</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used to sample from any <a href="resources.html#VkImage" class="xref page">VkImage</a> with a
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> of the type <code>VK_IMAGE_VIEW_TYPE_3D</code>,
<code>VK_IMAGE_VIEW_TYPE_CUBE</code>, <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>,
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08610" href="#VUID-vkCmdDispatchBase-None-08610"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08610</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions with <code>ImplicitLod</code>, <code>Dref</code>
or <code>Proj</code> in their name, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-08611" href="#VUID-vkCmdDispatchBase-None-08611"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-08611</span><br>

If the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind point used by
this command
accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> object that uses unnormalized coordinates,
that sampler <strong>must</strong> not be used with any of the SPIR-V <code>OpImageSample*</code>
or <code>OpImageSparseSample*</code> instructions that includes a LOD bias or any
offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-uniformBuffers-06935" href="#VUID-vkCmdDispatchBase-uniformBuffers-06935"></a> <span class="vuid">VUID-vkCmdDispatchBase-uniformBuffers-06935</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-storageBuffers-06936" href="#VUID-vkCmdDispatchBase-storageBuffers-06936"></a> <span class="vuid">VUID-vkCmdDispatchBase-storageBuffers-06936</span><br>

If any stage of the <a href="pipelines.html#VkPipeline" class="xref page">VkPipeline</a> object bound to the pipeline bind
point used by this command accesses a storage buffer,
and the <a href="features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a>
feature is not enabled, that stage <strong>must</strong> not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02707" href="#VUID-vkCmdDispatchBase-commandBuffer-02707"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02707</span><br>

If <code>commandBuffer</code> is an unprotected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource accessed by <a href="shaders.html#shaders-binding" class="xref page">bound shaders</a> <strong>must</strong> not be
a protected resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-06550" href="#VUID-vkCmdDispatchBase-None-06550"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-06550</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> only be used with <code>OpImageSample*</code> or <code>OpImageSparseSample*</code>
instructions</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-ConstOffset-06551" href="#VUID-vkCmdDispatchBase-ConstOffset-06551"></a> <span class="vuid">VUID-vkCmdDispatchBase-ConstOffset-06551</span><br>

If <a href="shaders.html#shaders-binding" class="xref page">a bound shader</a> accesses a <a href="samplers.html#VkSampler" class="xref page">VkSampler</a> or
<a href="resources.html#VkImageView" class="xref page">VkImageView</a> object that enables
<a href="samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a>, that object
<strong>must</strong> not use the <code>ConstOffset</code> and <code>Offset</code> operands</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-viewType-07752" href="#VUID-vkCmdDispatchBase-viewType-07752"></a> <span class="vuid">VUID-vkCmdDispatchBase-viewType-07752</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
image view&#8217;s <code>viewType</code> <strong>must</strong> match the <code>Dim</code> operand of the
<code>OpTypeImage</code> as described in <a href="../appendices/spirvenv.html#spirvenv-image-dimensions" class="xref page">Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-format-07753" href="#VUID-vkCmdDispatchBase-format-07753"></a> <span class="vuid">VUID-vkCmdDispatchBase-format-07753</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a> is accessed as a result of this command, then the
<a href="formats.html#formats-numericformat" class="xref page">numeric type</a> of the image view&#8217;s <code>format</code>
and the <code>Sampled</code> <code>Type</code> operand of the <code>OpTypeImage</code> <strong>must</strong>
match</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpImageWrite-08795" href="#VUID-vkCmdDispatchBase-OpImageWrite-08795"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpImageWrite-08795</span><br>

If a <a href="resources.html#VkImageView" class="xref page">VkImageView</a>
is accessed using <code>OpImageWrite</code> as a result of this command, then
the <code>Type</code> of the <code>Texel</code> operand of that instruction <strong>must</strong> have
at least as many components as the image view&#8217;s format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-OpImageWrite-04469" href="#VUID-vkCmdDispatchBase-OpImageWrite-04469"></a> <span class="vuid">VUID-vkCmdDispatchBase-OpImageWrite-04469</span><br>

If a <a href="resources.html#VkBufferView" class="xref page">VkBufferView</a> is accessed using <code>OpImageWrite</code> as a result
of this command, then the <code>Type</code> of the <code>Texel</code> operand of that
instruction <strong>must</strong> have at least as many components as the buffer view&#8217;s
format</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-07288" href="#VUID-vkCmdDispatchBase-None-07288"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-07288</span><br>

Any shader invocation executed by this command <strong>must</strong>
<a href="shaders.html#shaders-termination" class="xref page">terminate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-None-09600" href="#VUID-vkCmdDispatchBase-None-09600"></a> <span class="vuid">VUID-vkCmdDispatchBase-None-09600</span><br>

If a descriptor with type equal to any of
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> is accessed as a result of
this command, the image subresource identified by that descriptor <strong>must</strong>
be in the image layout identified when the descriptor was written</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02712" href="#VUID-vkCmdDispatchBase-commandBuffer-02712"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02712</span><br>

If <code>commandBuffer</code> is a protected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
any resource written to by the <code>VkPipeline</code> object bound to the
pipeline bind point used by this command <strong>must</strong> not be an unprotected
resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-02713" href="#VUID-vkCmdDispatchBase-commandBuffer-02713"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-02713</span><br>

If <code>commandBuffer</code> is a protected command buffer and
<a href="devsandqueues.html#limits-protectedNoFault" class="xref page"><code>protectedNoFault</code></a> is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command <strong>must</strong> not write to any resource</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00421" href="#VUID-vkCmdDispatchBase-baseGroupX-00421"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00421</span><br>

<code>baseGroupX</code> <strong>must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00422" href="#VUID-vkCmdDispatchBase-baseGroupX-00422"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00422</span><br>

<code>baseGroupY</code> <strong>must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupZ-00423" href="#VUID-vkCmdDispatchBase-baseGroupZ-00423"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupZ-00423</span><br>

<code>baseGroupZ</code> <strong>must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountX-00424" href="#VUID-vkCmdDispatchBase-groupCountX-00424"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountX-00424</span><br>

<code>groupCountX</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0] minus
<code>baseGroupX</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountY-00425" href="#VUID-vkCmdDispatchBase-groupCountY-00425"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountY-00425</span><br>

<code>groupCountY</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1] minus
<code>baseGroupY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-groupCountZ-00426" href="#VUID-vkCmdDispatchBase-groupCountZ-00426"></a> <span class="vuid">VUID-vkCmdDispatchBase-groupCountZ-00426</span><br>

<code>groupCountZ</code> <strong>must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2] minus
<code>baseGroupZ</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-baseGroupX-00427" href="#VUID-vkCmdDispatchBase-baseGroupX-00427"></a> <span class="vuid">VUID-vkCmdDispatchBase-baseGroupX-00427</span><br>

If any of <code>baseGroupX</code>, <code>baseGroupY</code>, or <code>baseGroupZ</code> are
not zero, then the bound compute pipeline <strong>must</strong> have been created with
the <code>VK_PIPELINE_CREATE_DISPATCH_BASE</code> flag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-parameter" href="#VUID-vkCmdDispatchBase-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-recording" href="#VUID-vkCmdDispatchBase-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchBase-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdDispatchBase-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchBase-renderpass" href="#VUID-vkCmdDispatchBase-renderpass"></a> <span class="vuid">VUID-vkCmdDispatchBase-renderpass</span><br>
 This command <strong>must</strong> only be called outside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong>must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
