<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shader Interfaces :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:spec" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Specification</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="videocoding.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executiongraphs.html">Execution Graphs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendices/credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification</a></li>
    <li><a href="interfaces.html">Shader Interfaces</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Shader Interfaces</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When a pipeline is created, the set of shaders specified in the
corresponding <code>VkPipelineCreateInfo</code> structure are implicitly linked at
a number of different interfaces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#interfaces-iointerfaces">Shader Input and Output Interface</a></p>
</li>
<li>
<p><a href="#interfaces-vertexinput">Vertex Input Interface</a></p>
</li>
<li>
<p><a href="#interfaces-fragmentoutput">Fragment Output Interface</a></p>
</li>
<li>
<p><a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a></p>
</li>
<li>
<p><a href="#interfaces-resources">Shader Resource Interface</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This chapter describes valid uses for a set of SPIR-V decorations.
Any other use of one of these decorations is invalid, with the exception
that, when using SPIR-V versions 1.4 and earlier: <code>Block</code>,
<code>BufferBlock</code>, <code>Offset</code>, <code>ArrayStride</code>, and <code>MatrixStride</code> can
also decorate types and type members used by variables in the <code>Private</code>
and <code>Function</code> storage classes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In this chapter, there are references to SPIR-V terms such as the
<code>MeshNV</code> execution model.
These terms will appear even in a build of the specification which does not
support any extensions.
This is as intended, since these terms appear in the unified SPIR-V
specification without such qualifiers.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-iointerfaces"><a class="anchor" href="#interfaces-iointerfaces"></a>Shader Input and Output Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When multiple stages are present in a pipeline, the outputs of one stage
form an interface with the inputs of the next stage.
When such an interface involves a shader, shader outputs are matched against
the inputs of the next stage, and shader inputs are matched against the
outputs of the previous stage.</p>
</div>
<div class="paragraph">
<p>All the variables forming the shader input and output <em>interfaces</em> are
listed as operands to the <code>OpEntryPoint</code> instruction and are declared
with the <code>Input</code> or <code>Output</code> storage classes, respectively, in the
SPIR-V module.
These generally form the interfaces between consecutive shader stages,
regardless of any non-shader stages between the consecutive shader stages.</p>
</div>
<div class="paragraph">
<p>There are two classes of variables that <strong>can</strong> be matched between shader
stages, built-in variables and user-defined variables.
Each class has a different set of matching criteria.</p>
</div>
<div class="paragraph">
<p><code>Output</code> variables of a shader stage have <strong>undefined</strong> values until the
shader writes to them or uses the <code>Initializer</code> operand when declaring
the variable.</p>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces-builtin"><a class="anchor" href="#interfaces-iointerfaces-builtin"></a>Built-in Interface Block</h3>
<div class="paragraph">
<p>Shader <a href="#interfaces-builtin-variables">built-in</a> variables meeting the
following requirements define the <em>built-in interface block</em>.
They <strong>must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>be explicitly declared (there are no implicit built-ins),</p>
</li>
<li>
<p>be identified with a <code>BuiltIn</code> decoration,</p>
</li>
<li>
<p>form object types as described in the
<a href="#interfaces-builtin-variables">Built-in Variables</a> section, and</p>
</li>
<li>
<p>be declared in a block whose top-level members are the built-ins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong>must</strong> be no more than one built-in interface block per shader per
interface
.</p>
</div>
<div class="paragraph">
<p>Built-ins <strong>must</strong> not have any <code>Location</code> or <code>Component</code> decorations.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces-user"><a class="anchor" href="#interfaces-iointerfaces-user"></a>User-defined Variable Interface</h3>
<div class="paragraph">
<p>The non-built-in variables listed by <code>OpEntryPoint</code> with the <code>Input</code>
or <code>Output</code> storage class form the <em>user-defined variable interface</em>.
These <strong>must</strong> have <a href="formats.html#formats-numericformat" class="xref page">numeric type</a> or, recursively,
composite types of such types.
If an implementation supports <a href="features.html#features-storageInputOutput16" class="xref page"><code>storageInputOutput16</code></a>, components <strong>can</strong> have a width of 16 bits.
These variables <strong>must</strong> be identified with a <code>Location</code> decoration and <strong>can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces-matching"><a class="anchor" href="#interfaces-iointerfaces-matching"></a>Interface Matching</h3>
<div class="paragraph">
<p>An output variable, block, or structure member in a given shader stage has
an interface match with an input variable, block, or structure member in a
subsequent shader stage if they both adhere to the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>They have equivalent decorations, other than:</p>
<div class="ulist">
<ul>
<li>
<p>one is not decorated with <code>Component</code> and the other is declared with
a <code>Component</code> of <code>0</code></p>
</li>
<li>
<p><a href="shaders.html#shaders-interpolation-decorations" class="xref page">Interpolation decorations</a></p>
</li>
<li>
<p><code>RelaxedPrecision</code> if one is an input variable and the other an
output variable</p>
</li>
</ul>
</div>
</li>
<li>
<p>Their types match as follows:</p>
<div class="ulist">
<ul>
<li>
<p>if the input is declared in a tessellation control or geometry shader
as an <code>OpTypeArray</code> with an <code>Element</code> <code>Type</code> equivalent to the
<code>OpType*</code> declaration of the output, and neither is a structure
member; or</p>
</li>
<li>
<p>if the <a href="features.html#features-maintenance4" class="xref page"><code>maintenance4</code></a> feature is
enabled, they are declared as <code>OpTypeVector</code> variables, and the
output has a <code>Component</code> <code>Count</code> value higher than that of the
input but the same <code>Component</code> <code>Type</code>; or</p>
</li>
<li>
<p>if in any other case they are declared with an equivalent <code>OpType*</code>
declaration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If both are structures and every member has an interface match.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The word &#8220;structure&#8221; above refers to both variables that have an
<code>OpTypeStruct</code> type and interface blocks (which are also declared as
<code>OpTypeStruct</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All input variables and blocks <strong>must</strong> have an interface match in the
preceding shader stage, except for built-in variables in fragment shaders.
Shaders <strong>can</strong> declare and write to output variables that are not declared or
read by the subsequent stage.</p>
</div>
<div class="paragraph">
<p>The value of an input variable is <strong>undefined</strong> if the preceding stage does not
write to a matching output variable, as described above.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces-locations"><a class="anchor" href="#interfaces-iointerfaces-locations"></a>Location Assignment</h3>
<div class="paragraph">
<p>This section describes <code>Location</code> assignments for user-defined variables
and how many <code>Location</code> slots are consumed by a given user-variable type.
<a href="#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This outer array level is removed from the type before considering how many
<code>Location</code> slots the type consumes.</p>
</div>
<div class="paragraph">
<p>The <code>Location</code> value specifies an interface slot comprised of a 32-bit
four-component vector conveyed between stages.
The <code>Component</code> specifies <a href="#interfaces-iointerfaces-components">word components</a> within these vector <code>Location</code> slots.
Only types with widths of
16,
32 or 64 are supported in shader interfaces.</p>
</div>
<div class="paragraph">
<p>Inputs and outputs of the following types consume a single interface
<code>Location</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>16-bit scalar and vector types, and</p>
</li>
<li>
<p>32-bit scalar and vector types, and</p>
</li>
<li>
<p>64-bit scalar and 2-component vector types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>64-bit three- and four-component vectors consume two consecutive
<code>Location</code> slots.</p>
</div>
<div class="paragraph">
<p>If a declared input or output is an array of size <em>n</em> and each element takes
<em>m</em> <code>Location</code> slots, it will be assigned <em>m</em> × <em>n</em> consecutive
<code>Location</code> slots starting with the specified <code>Location</code>.</p>
</div>
<div class="paragraph">
<p>If the declared input or output is an <em>n</em> × <em>m</em>
16-,
32- or 64-bit matrix, it will be assigned multiple <code>Location</code> slots
starting with the specified <code>Location</code>.
The number of <code>Location</code> slots assigned for each matrix will be the same
as for an <em>n</em>-element array of <em>m</em>-component vectors.</p>
</div>
<div class="paragraph">
<p>An <code>OpVariable</code> with a structure type that is not a block <strong>must</strong> be
decorated with a <code>Location</code>.</p>
</div>
<div class="paragraph">
<p>When an <code>OpVariable</code> with a structure type (either block or non-block) is
decorated with a <code>Location</code>, the members in the structure type <strong>must</strong> not
be decorated with a <code>Location</code>.
The <code>OpVariable</code>&#8217;s members are assigned consecutive <code>Location</code> slots
in declaration order, starting from the first member, which is assigned the
<code>Location</code> decoration from the <code>OpVariable</code>.</p>
</div>
<div class="paragraph">
<p>When a block-type <code>OpVariable</code> is declared without a <code>Location</code>
decoration, each member in its structure type <strong>must</strong> be decorated with a
<code>Location</code>.
Types nested deeper than the top-level members <strong>must</strong> not have <code>Location</code>
decorations.</p>
</div>
<div class="paragraph">
<p>The <code>Location</code> slots consumed by block and structure members are
determined by applying the rules above in a depth-first traversal of the
instantiated members as though the structure or block member were declared
as an input or output variable of the same type.</p>
</div>
<div class="paragraph">
<p>Any two inputs listed as operands on the same <code>OpEntryPoint</code> <strong>must</strong> not be
assigned the same <code>Location</code> slot and <code>Component</code> word, either
explicitly or implicitly.
Any two outputs listed as operands on the same <code>OpEntryPoint</code> <strong>must</strong> not
be assigned the same <code>Location</code> slot and <code>Component</code> word, either
explicitly or implicitly.</p>
</div>
<div class="paragraph">
<p>The number of input and output <code>Location</code> slots available for a shader
input or output interface is limited, and dependent on the shader stage as
described in <a href="#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.
All variables in both the <a href="#interfaces-builtin-variables">built-in interface block</a> and the <a href="#interfaces-iointerfaces-user">user-defined variable interface</a> count against these limits.
Each effective <code>Location</code> <strong>must</strong> have a value less than the number of
<code>Location</code> slots available for the given interface, as specified in the
&#8220;Locations Available&#8221; column in <a href="#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.</p>
</div>
<table id="interfaces-iointerfaces-limits" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 1. Shader Input and Output Locations</caption>
<colgroup>
<col style="width: 31.5789%;">
<col style="width: 68.4211%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader Interface</th>
<th class="tableblock halign-left valign-top">Locations Available</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces-components"><a class="anchor" href="#interfaces-iointerfaces-components"></a>Component Assignment</h3>
<div class="paragraph">
<p>The <code>Component</code> decoration allows the <code>Location</code> to be more finely
specified for scalars and vectors, down to the individual <code>Component</code>
word within a <code>Location</code> slot that are consumed.
The <code>Component</code> word within a <code>Location</code> are 0, 1, 2, and 3.
A variable or block member starting at <code>Component</code> N will consume
<code>Component</code> words N, N+1, N+2, &#8230;&#8203;
up through its size.
For 16-, and 32-bit types,
it is invalid if this sequence of <code>Component</code> words gets larger than 3.
A scalar 64-bit type will consume two of these <code>Component</code> words in
sequence, and a two-component 64-bit vector type will consume all four
<code>Component</code> words available within a <code>Location</code>.
A three- or four-component 64-bit vector type <strong>must</strong> not specify a non-zero
<code>Component</code> decoration.
A three-component 64-bit vector type will consume all four <code>Component</code>
words of the first <code>Location</code> and <code>Component</code> 0 and 1 of the second
<code>Location</code>.
This leaves <code>Component</code> 2 and 3 available for other component-qualified
declarations.</p>
</div>
<div class="paragraph">
<p>A scalar or two-component 64-bit data type <strong>must</strong> not specify a
<code>Component</code> decoration of 1 or 3.
A <code>Component</code> decoration <strong>must</strong> not be specified for any type that is not
a scalar or vector.</p>
</div>
<div class="paragraph">
<p>A four-component 64-bit data type will consume all four <code>Component</code> words
of the first <code>Location</code> and all four <code>Component</code> words of the second
<code>Location</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-vertexinput"><a class="anchor" href="#interfaces-vertexinput"></a>Vertex Input Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the vertex stage is present in a pipeline, the vertex shader input
variables form an interface with the vertex input attributes.
The vertex shader input variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the vertex input attributes specified in the
<code>pVertexInputState</code> member of the <a href="pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>
structure.</p>
</div>
<div class="paragraph">
<p>The vertex shader input variables listed by <code>OpEntryPoint</code> with the
<code>Input</code> storage class form the <em>vertex input interface</em>.
These variables <strong>must</strong> be identified with a <code>Location</code> decoration and <strong>can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
<div class="paragraph">
<p>For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.
The number of available vertex input <code>Location</code> slots is given by the
<code>maxVertexInputAttributes</code> member of the <code>VkPhysicalDeviceLimits</code>
structure.</p>
</div>
<div class="paragraph">
<p>See <a href="fxvertex.html#fxvertex-attrib-location" class="xref page">Attribute Location and Component Assignment</a> for details.</p>
</div>
<div class="paragraph">
<p>All vertex shader inputs declared as above <strong>must</strong> have a corresponding
attribute and binding in the pipeline.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-fragmentoutput"><a class="anchor" href="#interfaces-fragmentoutput"></a>Fragment Output Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the fragment stage is present in a pipeline, the fragment shader
outputs form an interface with the output attachments defined by a
<a href="renderpass.html#renderpass" class="xref page">render pass instance</a>.
The fragment shader output variables are matched by the <code>Location</code> and
<code>Component</code> decorations to specified color attachments.</p>
</div>
<div class="paragraph">
<p>The fragment shader output variables listed by <code>OpEntryPoint</code> with the
<code>Output</code> storage class form the <em>fragment output interface</em>.
These variables <strong>must</strong> be identified with a <code>Location</code> decoration.
They <strong>can</strong> also be identified with a <code>Component</code> decoration and/or an
<code>Index</code> decoration.
For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero, and variables declared without an <code>Index</code> decoration are
considered to have an <code>Index</code> decoration of zero.</p>
</div>
<div class="paragraph">
<p>A fragment shader output variable identified with a <code>Location</code> decoration
of <em>i</em> is associated with
the color attachment indicated by
<a href="renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>::<code>pColorAttachments</code>[<em>i</em>].
When using render pass objects, it is associated with
the color attachment indicated by
<a href="renderpass.html#VkSubpassDescription" class="xref page">VkSubpassDescription</a>::<code>pColorAttachments</code>[<em>i</em>].
Values are written to those attachments after passing through the blending
unit as described in <a href="framebuffer.html#framebuffer-blending" class="xref page">Blending</a>, if enabled.
Locations are consumed as described in
<a href="#interfaces-iointerfaces-locations">Location Assignment</a>.
The number of available fragment output <code>Location</code> slots is given by the
<code>maxFragmentOutputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>When an active fragment shader invocation finishes, the values of all
fragment shader outputs are copied out and used as blend inputs or color
attachments writes.
If the invocation does not set a value for them, the input values to those
blending or color attachment writes are <strong>undefined</strong>.</p>
</div>
<div class="paragraph">
<p>Components of the output variables are assigned as described in
<a href="#interfaces-iointerfaces-components">Component Assignment</a>.
Output <code>Component</code> words identified as 0, 1, 2, and 3 will be directed to
the R, G, B, and A inputs to the blending unit, respectively, or to the
output attachment if blending is disabled.
If two variables are placed within the same <code>Location</code>, they <strong>must</strong> have
the same underlying type (floating-point or integer).
<code>Component</code> words which do not correspond to any fragment shader output
will also result in <strong>undefined</strong> values for blending or color attachment
writes.</p>
</div>
<div class="paragraph">
<p>Fragment outputs identified with an <code>Index</code> of zero are directed to the
first input of the blending unit associated with the corresponding
<code>Location</code>.
Outputs identified with an <code>Index</code> of one are directed to the second
input of the corresponding blending unit.</p>
</div>
<div class="paragraph">
<p>There <strong>must</strong> be no output variable which has the same <code>Location</code>,
<code>Component</code>, and <code>Index</code> as any other, either explicitly declared or
implied.</p>
</div>
<div class="paragraph">
<p>Output values written by a fragment shader <strong>must</strong> be declared with either
<code>OpTypeFloat</code> or <code>OpTypeInt</code>, and a <code>Width</code> of 32.
If <code>storageInputOutput16</code> is supported, output values written by a
fragment shader <strong>can</strong> be also declared with either <code>OpTypeFloat</code> or
<code>OpTypeInt</code> and a <code>Width</code> of 16.
Composites of these types are also permitted.
If the color attachment has a signed or unsigned normalized fixed-point
format, color values are assumed to be floating-point and are converted to
fixed-point as described in <a href="fundamentals.html#fundamentals-fpfixedconv" class="xref page">Conversion From Floating-Point to Normalized Fixed-Point</a>; If the color
attachment has an integer format, color values are assumed to be integers
and converted to the bit-depth of the target.
Any value that cannot be represented in the attachment&#8217;s format is
<strong>undefined</strong>.
For any other attachment format no conversion is performed.
If the type of the values written by the fragment shader do not match the
format of the corresponding color attachment, the resulting values are
<strong>undefined</strong> for those components.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-inputattachment"><a class="anchor" href="#interfaces-inputattachment"></a>Fragment Input Attachment Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a fragment stage is present in a pipeline, the fragment shader subpass
inputs form an interface with the input attachments of the current subpass.
The fragment shader subpass input variables are matched by
<code>InputAttachmentIndex</code> decorations to the input attachments specified in
the <code>pInputAttachments</code> array of the <a href="renderpass.html#VkSubpassDescription" class="xref page">VkSubpassDescription</a>
structure describing the subpass that the fragment shader is executed in.</p>
</div>
<div class="paragraph">
<p>The fragment shader subpass input variables with the <code>UniformConstant</code>
storage class and a decoration of <code>InputAttachmentIndex</code> that are
statically used by <code>OpEntryPoint</code> form the <em>fragment input attachment
interface</em>.
These variables <strong>must</strong> be declared with a type of <code>OpTypeImage</code>, a
<code>Dim</code> operand of <code>SubpassData</code>, an <code>Arrayed</code> operand of 0, and a
<code>Sampled</code> operand of 2.
The <code>MS</code> operand of the <code>OpTypeImage</code> <strong>must</strong> be 0 if the <code>samples</code>
field of the corresponding <a href="renderpass.html#VkAttachmentDescription" class="xref page">VkAttachmentDescription</a> is
<code>VK_SAMPLE_COUNT_1_BIT</code> and
1 otherwise.</p>
</div>
<div class="paragraph">
<p>A subpass input variable identified with an <code>InputAttachmentIndex</code>
decoration of <em>i</em> reads from the input attachment indicated by
<code>pInputAttachments</code>[<em>i</em>] member of <code>VkSubpassDescription</code>.
If the subpass input variable is declared as an array of size N, it consumes
N consecutive input attachments, starting with the index specified.
There <strong>must</strong> not be more than one input variable with the same
<code>InputAttachmentIndex</code> whether explicitly declared or implied by an array
declaration per image aspect.
A multi-aspect image (e.g. a depth/stencil format) <strong>can</strong> use the same input
variable.
The number of available input attachment indices is given by the
<code>maxPerStageDescriptorInputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>InputAttachmentIndex</code> <strong>must</strong> only be used
by a fragment stage.
The <a href="formats.html#formats-numericformat" class="xref page">numeric format</a> of the subpass input <strong>must</strong>
match the format of the corresponding input attachment, or the values of
subpass loads from these variables are <strong>undefined</strong>.
If the framebuffer attachment contains both depth and stencil aspects, the
numeric format of the subpass input determines if depth or stencil aspect is
accessed by the shader.</p>
</div>
<div class="paragraph">
<p>See <a href="descriptorsets.html#descriptorsets-inputattachment" class="xref page">Input Attachment</a> for more details.</p>
</div>
<div class="sect2">
<h3 id="compatibility-inputattachment"><a class="anchor" href="#compatibility-inputattachment"></a>Fragment Input Attachment Compatibility</h3>
<div class="paragraph">
<p>An input attachment that is statically accessed by a fragment shader <strong>must</strong>
be backed by a descriptor that is equivalent to the <a href="resources.html#VkImageView" class="xref page">VkImageView</a> in the
<a href="renderpass.html#VkFramebuffer" class="xref page">VkFramebuffer</a>, except for <code>subresourceRange.aspectMask</code>.
The <code>aspectMask</code> <strong>must</strong> be equal to the aspect accessed by the shader.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-resources"><a class="anchor" href="#interfaces-resources"></a>Shader Resource Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a shader stage accesses buffer or image resources, as described in the
<a href="descriptorsets.html#descriptorsets" class="xref page">Resource Descriptors</a> section, the shader resource
variables <strong>must</strong> be matched with the <a href="descriptorsets.html#descriptorsets-pipelinelayout" class="xref page">pipeline layout</a> that is provided at pipeline creation time.</p>
</div>
<div class="paragraph">
<p>The set of shader variables that form the <em>shader resource interface</em> for a
stage are the variables statically used by that stage&#8217;s <code>OpEntryPoint</code>
with a storage class of <code>Uniform</code>, <code>UniformConstant</code>,
<code>StorageBuffer</code>,
or <code>PushConstant</code>.
For the fragment shader, this includes the <a href="#interfaces-inputattachment">fragment input attachment interface</a>.</p>
</div>
<div class="paragraph">
<p>The shader resource interface consists of two sub-interfaces: the push
constant interface and the descriptor set interface.</p>
</div>
<div class="sect2">
<h3 id="interfaces-resources-pushconst"><a class="anchor" href="#interfaces-resources-pushconst"></a>Push Constant Interface</h3>
<div class="paragraph">
<p>The shader variables defined with a storage class of <code>PushConstant</code> that
are statically used by the shader entry points for the pipeline define the
<em>push constant interface</em>.
They <strong>must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>,</p>
</li>
<li>
<p>identified with a <code>Block</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong>must</strong> be no more than one push constant block statically used per
shader entry point.</p>
</div>
<div class="paragraph">
<p>Each statically used member of a push constant block <strong>must</strong> be placed at an
<code>Offset</code> such that the entire member is entirely contained within the
<a href="descriptorsets.html#VkPushConstantRange" class="xref page">VkPushConstantRange</a> for each <code>OpEntryPoint</code> that uses it, and the
<code>stageFlags</code> for that range <strong>must</strong> specify the appropriate
<a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a> for that stage.
The <code>Offset</code> decoration for any member of a push constant block <strong>must</strong> not
cause the space required for that member to extend outside the range
<span class="eq">[0, <code>maxPushConstantsSize</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Any member of a push constant block that is declared as an array <strong>must</strong> only
be accessed with <em>dynamically uniform</em> indices.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-resources-descset"><a class="anchor" href="#interfaces-resources-descset"></a>Descriptor Set Interface</h3>
<div class="paragraph">
<p>The <em>descriptor set interface</em> is comprised of the shader variables with the
storage class of
<code>StorageBuffer</code>,
<code>Uniform</code> or <code>UniformConstant</code> (including the variables in the
<a href="#interfaces-inputattachment">fragment input attachment interface</a>) that are
statically used by the shader entry points for the pipeline.</p>
</div>
<div class="paragraph">
<p>These variables <strong>must</strong> have <code>DescriptorSet</code> and <code>Binding</code> decorations
specified, which are assigned and matched with the
<code>VkDescriptorSetLayout</code> objects in the pipeline layout as described in
<a href="#interfaces-resources-setandbinding">DescriptorSet and Binding Assignment</a>.</p>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong>must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpImageRead</code>,
<code>OpImageSparseRead</code>, or <code>OpImageWrite</code> operations, except under the
following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>OpImageWrite</code>, if the image format is listed in the
<a href="formats.html#formats-without-shader-storage-format" class="xref page">storage without format</a> list
and if the <code>shaderStorageImageWriteWithoutFormat</code> feature is enabled
and the shader module declares the <code>StorageImageWriteWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageWrite</code>, if the image format supports
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code> and the
shader module declares the <code>StorageImageWriteWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code> or <code>OpImageSparseRead</code>, if the image format is
listed in the <a href="formats.html#formats-without-shader-storage-format" class="xref page">storage without    format</a> list and if the <code>shaderStorageImageReadWithoutFormat</code>
feature is enabled and the shader module declares the
<code>StorageImageReadWithoutFormat</code> capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code> or <code>OpImageSparseRead</code>, if the image format
supports <code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code> and
the shader module declares the <code>StorageImageReadWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code>, if <code>Dim</code> is <code>SubpassData</code> (indicating a read
from an input attachment).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong>must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpAtomic*</code> operations.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>Uniform</code> storage class are used to access
transparent buffer backed resources.
Such variables <strong>must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>, or an array of this type,</p>
</li>
<li>
<p>identified with a <code>Block</code> or <code>BufferBlock</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Variables identified with the <code>StorageBuffer</code> storage class are used to
access transparent buffer backed resources.
Such variables <strong>must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>, or an array of this type,</p>
</li>
<li>
<p>identified with a <code>Block</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Offset</code> decoration for any member of a <code>Block</code>-decorated variable
in the <code>Uniform</code> storage class <strong>must</strong> not cause the space required for
that variable to extend outside the range <span class="eq">[0,
<code>maxUniformBufferRange</code>)</span>.
The <code>Offset</code> decoration for any member of a <code>Block</code>-decorated variable
in the <code>StorageBuffer</code> storage class <strong>must</strong> not cause the space required
for that variable to extend outside the range <span class="eq">[0,
<code>maxStorageBufferRange</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>Uniform</code> storage class <strong>can</strong> also be used
to access transparent descriptor set backed resources when the variable is
assigned to a descriptor set layout binding with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>.
In this case the variable <strong>must</strong> be typed as <code>OpTypeStruct</code> and <strong>cannot</strong> be
aggregated into arrays of that type.
Further, the <code>Offset</code> decoration for any member of such a variable <strong>must</strong>
not cause the space required for that variable to extend outside the range
<span class="eq">[0,<code>maxInlineUniformBlockSize</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Variables identified with a storage class of <code>UniformConstant</code> and a
decoration of <code>InputAttachmentIndex</code> <strong>must</strong> be declared as described in
<a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a>.</p>
</div>
<div class="paragraph">
<p>SPIR-V variables decorated with a descriptor set and binding that identify a
<a href="descriptorsets.html#descriptorsets-combinedimagesampler" class="xref page">combined image sampler descriptor</a>
<strong>can</strong> have a type of <code>OpTypeImage</code>, <code>OpTypeSampler</code> (<code>Sampled</code>=1),
or <code>OpTypeSampledImage</code>.</p>
</div>
<div class="paragraph">
<p>When accessing a resource through such a variable, the resource <strong>must</strong> be
selected via compile time constant expressions unless features are enabled
to allow dynamically uniform or non-uniform expressions, as described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Storage images (except storage texel buffers and input attachments):</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageImageArrayDynamicIndexing</code> and
<code>StorageImageArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageImageArrayNonUniformIndexing</code> and
<code>StorageImageArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Storage texel buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageTexelBufferArrayDynamicIndexing</code>
and <code>StorageTexelBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageTexelBufferArrayNonUniformIndexing</code> and
<code>StorageTexelBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Input attachments:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderInputAttachmentArrayDynamicIndexing</code>
and <code>InputAttachmentArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderInputAttachmentArrayNonUniformIndexing</code> and
<code>InputAttachmentArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Sampled images (except uniform texel buffers), samplers and combined
image samplers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderSampledImageArrayDynamicIndexing</code> and
<code>SampledImageArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderSampledImageArrayNonUniformIndexing</code> and
<code>SampledImageArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Uniform texel buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderUniformTexelBufferArrayDynamicIndexing</code>
and <code>UniformTexelBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderUniformTexelBufferArrayNonUniformIndexing</code> and
<code>UniformTexelBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Uniform buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderUniformBufferArrayDynamicIndexing</code> and
<code>UniformBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderUniformBufferArrayNonUniformIndexing</code> and
<code>UniformBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Storage buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageBufferArrayDynamicIndexing</code> and
<code>StorageBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageBufferArrayNonUniformIndexing</code> and
<code>StorageBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="title">Example 1. Note</div>
<div class="content">
<div class="paragraph">
<p>Implementations must take care when implementing this if subgroups are not
necessarily a subset of the invocation group for their hardware (e.g. if
multiple draw calls are packed together).
If such an implementation needs uniformity across the subgroup for any
resource access, the implementation is responsible for ensuring that indices
that are only dynamically uniform across the invocation group still function
as expected if they advertise the respective feature.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A combined image sampler in an array that
enables sampler Y′C<sub>B</sub>C<sub>R</sub> conversion
<strong>must</strong> only be indexed by constant integral expressions.</p>
</div>
<table id="interfaces-resources-correspondence" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 2. Shader Resource and Descriptor Type Correspondence</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Descriptor Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p></td>
</tr>
</tbody>
</table>
<table id="interfaces-resources-storage-class-correspondence" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Shader Resource and Storage Class Correspondence</caption>
<colgroup>
<col style="width: 21%;">
<col style="width: 22%;">
<col style="width: 27%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Storage Class</th>
<th class="tableblock halign-left valign-top">Type<sup>1</sup></th>
<th class="tableblock halign-left valign-top">Decoration(s)<sup>2</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampledImage</code><br>
                                 <code>OpTypeImage</code> (<code>Sampled</code>=1)<br>
                                 <code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BufferBlock</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageBuffer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>SubpassData</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputAttachmentIndex</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>Where <code>OpTypeImage</code> is referenced, the <code>Dim</code> values <code>Buffer</code>
and <code>Subpassdata</code> are only accepted where they are specifically
referenced.
They do not correspond to resource types where a generic
<code>OpTypeImage</code> is specified.</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>In addition to <code>DescriptorSet</code> and <code>Binding</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-resources-setandbinding"><a class="anchor" href="#interfaces-resources-setandbinding"></a>DescriptorSet and Binding Assignment</h3>
<div class="paragraph">
<p>A variable decorated with a <code>DescriptorSet</code> decoration of <span class="eq">s</span> and a
<code>Binding</code> decoration of <span class="eq">b</span> indicates that this variable is
associated with the <a href="descriptorsets.html#VkDescriptorSetLayoutBinding" class="xref page">VkDescriptorSetLayoutBinding</a> that has a
<code>binding</code> equal to <span class="eq">b</span> in <code>pSetLayouts</code>[<em>s</em>] that was specified
in <a href="descriptorsets.html#VkPipelineLayoutCreateInfo" class="xref page">VkPipelineLayoutCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p><code>DescriptorSet</code> decoration values <strong>must</strong> be between zero and
<code>maxBoundDescriptorSets</code> minus one, inclusive.
<code>Binding</code> decoration values <strong>can</strong> be any 32-bit unsigned integer value, as
described in <a href="descriptorsets.html#descriptorsets-setlayout" class="xref page">Descriptor Set Layout</a>.
Each descriptor set has its own binding name space.</p>
</div>
<div class="paragraph">
<p>If the <code>Binding</code> decoration is used with an array, the entire array is
assigned that binding value.
The array <strong>must</strong> be a single-dimensional array and size of the array <strong>must</strong> be
no larger than the number of descriptors in the binding.
If the array is runtime-sized, then array elements greater than or equal to
the size of that binding in the bound descriptor set <strong>must</strong> not be used.
If the array is runtime-sized, the <code>runtimeDescriptorArray</code> feature
<strong>must</strong> be enabled and the <code>RuntimeDescriptorArray</code> capability <strong>must</strong> be
declared.
The index of each element of the array is referred to as the <em>arrayElement</em>.
For the purposes of interface matching and descriptor set
<a href="descriptorsets.html#descriptorsets-updates" class="xref page">operations</a>, if a resource variable is not an
array, it is treated as if it has an arrayElement of zero.</p>
</div>
<div class="paragraph">
<p>There is a limit on the number of resources of each type that <strong>can</strong> be
accessed by a pipeline stage as shown in
<a href="#interfaces-resources-limits">Shader Resource Limits</a>.
The &#8220;Resources Per Stage&#8221; column gives the limit on the number each type
of resource that <strong>can</strong> be statically used for an entry point in any given
stage in a pipeline.
The &#8220;Resource Types&#8221; column lists which resource types are counted against
the limit.
Some resource types count against multiple limits.</p>
</div>
<div class="paragraph">
<p>The pipeline layout <strong>may</strong> include descriptor sets and bindings which are not
referenced by any variables statically used by the entry points for the
shader stages in the binding&#8217;s <code>stageFlags</code>.</p>
</div>
<div class="paragraph">
<p>However, if a variable assigned to a given <code>DescriptorSet</code> and
<code>Binding</code> is statically used by the entry point for a shader stage, the
pipeline layout <strong>must</strong> contain a descriptor set layout binding in that
descriptor set layout and for that binding number, and that binding&#8217;s
<code>stageFlags</code> <strong>must</strong> include the appropriate <a href="pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>
for that stage.
The variable <strong>must</strong> be of a valid resource type determined by its SPIR-V type
and storage class, as defined in
<a href="#interfaces-resources-storage-class-correspondence">Shader Resource and Storage Class Correspondence</a>.
The descriptor set layout binding <strong>must</strong> be of a corresponding descriptor
type, as defined in <a href="#interfaces-resources-correspondence">Shader Resource and Descriptor Type Correspondence</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There are no limits on the number of shader variables that can have
overlapping set and binding values in a shader; but which resources are
<a href="shaders.html#shaders-staticuse" class="xref page">statically used</a> has an impact.
If any shader variable identifying a resource is
<a href="shaders.html#shaders-staticuse" class="xref page">statically used</a> in a shader, then the underlying
descriptor bound at the declared set and binding <strong>must</strong>
<a href="#interfaces-resources-correspondence">support the declared type in the shader</a> when the shader executes.</p>
</div>
<div class="paragraph">
<p>If multiple shader variables are declared with the same set and binding
values, and with the same underlying descriptor type, they can all be
statically used within the same shader.
However, accesses are not automatically synchronized, and <code>Aliased</code>
decorations should be used to avoid data hazards (see
<a href="https://registry.khronos.org/spir-v/specs/unified1/SPIRV.html#_a_id_aliasingsection_a_aliasing">section
2.18.2 Aliasing in the SPIR-V specification</a>).</p>
</div>
<div class="paragraph">
<p>If multiple shader variables with the same set and binding values are
declared in a single shader, but with different declared types, where any of
those are not supported by the relevant bound descriptor, that shader can
only be executed if the variables with the unsupported type are not
statically used.</p>
</div>
<div class="paragraph">
<p>A noteworthy example of using multiple statically-used shader variables
sharing the same descriptor set and binding values is a descriptor of type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> that has multiple
corresponding shader variables in the <code>UniformConstant</code> storage class,
where some could be <code>OpTypeImage</code> (<code>Sampled</code>=1), some could be
<code>OpTypeSampler</code>, and some could be <code>OpTypeSampledImage</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="interfaces-resources-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 4. Shader Resource Limits</caption>
<colgroup>
<col style="width: 60.3448%;">
<col style="width: 39.6552%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resources per Stage</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorSamplers</code>
or <code>maxPerStageDescriptorUpdateAfterBindSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code>
or <code>maxPerStageDescriptorUpdateAfterBindSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code>
or <code>maxPerStageDescriptorUpdateAfterBindStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code>
or <code>maxPerStageDescriptorUpdateAfterBindUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code>
or <code>maxPerStageDescriptorUpdateAfterBindStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code>
or <code>maxPerStageDescriptorUpdateAfterBindInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInlineUniformBlocks</code>
or <code>maxPerStageDescriptorUpdateAfterBindInlineUniformBlocks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>Input attachments <strong>can</strong> only be used in the fragment shader stage</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-resources-layout"><a class="anchor" href="#interfaces-resources-layout"></a>Offset and Stride Assignment</h3>
<div class="paragraph">
<p>Certain objects <strong>must</strong> be explicitly laid out using the <code>Offset</code>,
<code>ArrayStride</code>, and <code>MatrixStride</code>, as described in
<a href="https://registry.khronos.org/spir-v/specs/unified1/SPIRV.html#ShaderValidation">SPIR-V
explicit layout validation rules</a>.
All such layouts also <strong>must</strong> conform to the following requirements.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The numeric order of <code>Offset</code> decorations does not need to follow member
declaration order.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="interfaces-alignment-requirements" class="paragraph">
<p><strong>Alignment Requirements</strong></p>
</div>
<div class="paragraph">
<p>There are different alignment requirements depending on the specific
resources and on the features enabled on the device.</p>
</div>
<div class="paragraph">
<p>Matrix types are defined in terms of arrays as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A column-major matrix with <span class="eq">C</span> columns and <span class="eq">R</span> rows is
equivalent to a <span class="eq">C</span> element array of vectors with <span class="eq">R</span>
components.</p>
</li>
<li>
<p>A row-major matrix with <span class="eq">C</span> columns and <span class="eq">R</span> rows is equivalent
to an <span class="eq">R</span> element array of vectors with <span class="eq">C</span> components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>scalar alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar of size <span class="eq">N</span> has a scalar alignment of <span class="eq">N</span>.</p>
</li>
<li>
<p>A vector type has a scalar alignment equal to that of its component
type.</p>
</li>
<li>
<p>An array type has a scalar alignment equal to that of its element type.</p>
</li>
<li>
<p>A structure has a scalar alignment equal to the largest scalar alignment
of any of its members.</p>
</li>
<li>
<p>A matrix type inherits <em>scalar alignment</em> from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>base alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar has a base alignment equal to its scalar alignment.</p>
</li>
<li>
<p>A two-component vector has a base alignment equal to twice its scalar
alignment.</p>
</li>
<li>
<p>A three- or four-component vector has a base alignment equal to four
times its scalar alignment.</p>
</li>
<li>
<p>An array has a base alignment equal to the base alignment of its element
type.</p>
</li>
<li>
<p>A structure has a base alignment equal to the largest base alignment of
any of its members.
An empty structure has a base alignment equal to the size of the
smallest scalar type permitted by the capabilities declared in the
SPIR-V module.
(e.g., for a 1 byte aligned empty struct in the <code>StorageBuffer</code>
storage class, <code>StorageBuffer8BitAccess</code> or
<code>UniformAndStorageBuffer8BitAccess</code> <strong>must</strong> be declared in the SPIR-V
module.)</p>
</li>
<li>
<p>A matrix type inherits <em>base alignment</em> from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>extended alignment</em> of the type of an <code>OpTypeStruct</code> member is
similarly defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar or vector type has an extended alignment equal to its base
alignment.</p>
</li>
<li>
<p>An array or structure type has an extended alignment equal to the
largest extended alignment of any of its members, rounded up to a
multiple of 16.</p>
</li>
<li>
<p>A matrix type inherits extended alignment from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A member is defined to <em>improperly straddle</em> if either of the following are
true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is a vector with total size less than or equal to 16 bytes, and has
<code>Offset</code> decorations placing its first byte at <span class="eq">F</span> and its last
byte at <span class="eq">L</span>, where <span class="eq">floor(F / 16) != floor(L / 16)</span>.</p>
</li>
<li>
<p>It is a vector with total size greater than 16 bytes and has its
<code>Offset</code> decorations placing its first byte at a non-integer multiple
of 16.</p>
</li>
</ul>
</div>
<div id="interfaces-resources-standard-layout" class="paragraph">
<p><strong>Standard Buffer Layout</strong></p>
</div>
<div class="paragraph">
<p>Every member of an <code>OpTypeStruct</code> that is required to be explicitly laid
out <strong>must</strong> be aligned according to the first matching rule as follows.
If the struct is contained in pointer types of multiple storage classes, it
<strong>must</strong> satisfy the requirements for every storage class used to reference it.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the <code>scalarBlockLayout</code> feature is enabled on the device and the
storage class is <code>Uniform</code>, <code>StorageBuffer</code>,
<code>PhysicalStorageBuffer</code>,
or <code>PushConstant</code> then every member <strong>must</strong> be aligned according to its
scalar alignment.</p>
</li>
<li>
<p>All vectors <strong>must</strong> be aligned according to their scalar alignment.</p>
</li>
<li>
<p>If the <code>uniformBufferStandardLayout</code> feature is not enabled on the
device, then any
member of an <code>OpTypeStruct</code> with a storage class of <code>Uniform</code> and
a decoration of <code>Block</code> <strong>must</strong> be aligned according to its extended
alignment.</p>
</li>
<li>
<p>Every other member <strong>must</strong> be aligned according to its base alignment.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Even if scalar alignment is supported, it is generally more performant to
use the <em>base alignment</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The memory layout <strong>must</strong> obey the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Offset</code> decoration of any member <strong>must</strong> be a multiple of its
alignment.</p>
</li>
<li>
<p>Any <code>ArrayStride</code> or <code>MatrixStride</code> decoration <strong>must</strong> be a multiple
of the alignment of the array or matrix as defined above.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If one of the conditions below applies</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The storage class is <code>Uniform</code>, <code>StorageBuffer</code>,
<code>PhysicalStorageBuffer</code>,
or <code>PushConstant</code>, and the <code>scalarBlockLayout</code> feature is not
enabled on the device.</p>
</li>
<li>
<p>The storage class is any other storage class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>the memory layout <strong>must</strong> also obey the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vectors <strong>must</strong> not improperly straddle, as defined above.</p>
</li>
<li>
<p>The <code>Offset</code> decoration of a member <strong>must</strong> not place it between the
end of a structure, an array or a matrix and the next multiple of the
alignment of that structure, array or matrix.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <strong>std430 layout</strong> in GLSL satisfies these rules for types using the base
alignment.
The <strong>std140 layout</strong> satisfies the rules for types using the extended
alignment.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-builtin-variables"><a class="anchor" href="#interfaces-builtin-variables"></a>Built-In Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Built-in variables are accessed in shaders by declaring a variable decorated
with a <code>BuiltIn</code> SPIR-V decoration.
The meaning of each <code>BuiltIn</code> decoration is as follows.
In the remainder of this section, the name of a built-in is used
interchangeably with a term equivalent to a variable decorated with that
particular built-in.
Built-ins that represent integer values <strong>can</strong> be declared as either signed or
unsigned 32-bit integers.</p>
</div>
<div class="paragraph">
<p><a href="#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This level of arrayness is not included in the type descriptions below, but
<strong>must</strong> be included when declaring the built-in.</p>
</div>
<div class="paragraph">
<p>Any two <code>Input</code> storage class <code>OpVariable</code> declarations listed as
operands on the same <code>OpEntryPoint</code> <strong>must</strong> not have the same <code>BuiltIn</code>
decoration.
Any two <code>Output</code> storage class <code>OpVariable</code> declarations listed as
operands on the same <code>OpEntryPoint</code> <strong>must</strong> not have the same <code>BuiltIn</code>
decoration.</p>
</div>
<div id="interfaces-builtin-variables-baseinstance" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaseInstance</code></dt>
<dd>
<p>Decorating a variable with the <code>BaseInstance</code> built-in will make that
variable contain the integer value corresponding to the first instance that
was passed to the command that invoked the current vertex shader invocation.
<code>BaseInstance</code> is the <code>firstInstance</code> parameter to a <em>direct drawing
command</em> or the <code>firstInstance</code> member of a structure consumed by an
<em>indirect drawing command</em>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04181" href="#VUID-BaseInstance-BaseInstance-04181"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04181</span><br>

The <code>BaseInstance</code> decoration <strong>must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04182" href="#VUID-BaseInstance-BaseInstance-04182"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04182</span><br>

The variable decorated with <code>BaseInstance</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04183" href="#VUID-BaseInstance-BaseInstance-04183"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04183</span><br>

The variable decorated with <code>BaseInstance</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-basevertex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaseVertex</code></dt>
<dd>
<p>Decorating a variable with the <code>BaseVertex</code> built-in will make that
variable contain the integer value corresponding to the first vertex or
vertex offset that was passed to the command that invoked the current vertex
shader invocation.
For <em>non-indexed drawing commands</em>, this variable is the <code>firstVertex</code>
parameter to a <em>direct drawing command</em> or the <code>firstVertex</code> member of
the structure consumed by an <em>indirect drawing command</em>.
For <em>indexed drawing commands</em>, this variable is the <code>vertexOffset</code>
parameter to a <em>direct drawing command</em> or the <code>vertexOffset</code> member of
the structure consumed by an <em>indirect drawing command</em>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04184" href="#VUID-BaseVertex-BaseVertex-04184"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04184</span><br>

The <code>BaseVertex</code> decoration <strong>must</strong> be used only within the <code>Vertex</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04185" href="#VUID-BaseVertex-BaseVertex-04185"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04185</span><br>

The variable decorated with <code>BaseVertex</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04186" href="#VUID-BaseVertex-BaseVertex-04186"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04186</span><br>

The variable decorated with <code>BaseVertex</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-clipdistance" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ClipDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>ClipDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user clipping.
<code>ClipDistance</code> is an array such that the i<sup>th</sup> element of the array
specifies the clip distance for plane i.
A clip distance of 0 means the vertex is on the plane, a positive distance
means the vertex is inside the clip half-space, and a negative distance
means the vertex is outside the clip half-space.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The array variable decorated with <code>ClipDistance</code> is explicitly sized by
the shader.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the last <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a>, these values will be linearly interpolated across the
primitive and the portion of the primitive with interpolated distances less
than 0 will be considered outside the clip volume.
If <code>ClipDistance</code> is then used by a fragment shader, <code>ClipDistance</code>
contains these linearly interpolated values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04187" href="#VUID-ClipDistance-ClipDistance-04187"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04187</span><br>

The <code>ClipDistance</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>MeshNV</code>, <code>Vertex</code>, <code>Fragment</code>,
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04188" href="#VUID-ClipDistance-ClipDistance-04188"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04188</span><br>

The variable decorated with <code>ClipDistance</code> within the <code>MeshEXT</code>,
<code>MeshNV</code>, or <code>Vertex</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04189" href="#VUID-ClipDistance-ClipDistance-04189"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04189</span><br>

The variable decorated with <code>ClipDistance</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04190" href="#VUID-ClipDistance-ClipDistance-04190"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04190</span><br>

The variable decorated with <code>ClipDistance</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> not be declared in a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04191" href="#VUID-ClipDistance-ClipDistance-04191"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04191</span><br>

The variable decorated with <code>ClipDistance</code> <strong>must</strong> be declared as an
array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-culldistance" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CullDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>CullDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user culling.
If any member of this array is assigned a negative value for all vertices
belonging to a primitive, then the primitive is discarded before
rasterization.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In fragment shaders, the values of the <code>CullDistance</code> array are linearly
interpolated across each primitive.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code>CullDistance</code> decorates an input variable, that variable will contain
the corresponding value from the <code>CullDistance</code> decorated output variable
from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-CullDistance-CullDistance-04196" href="#VUID-CullDistance-CullDistance-04196"></a> <span class="vuid">VUID-CullDistance-CullDistance-04196</span><br>

The <code>CullDistance</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>MeshNV</code>, <code>Vertex</code>, <code>Fragment</code>,
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04197" href="#VUID-CullDistance-CullDistance-04197"></a> <span class="vuid">VUID-CullDistance-CullDistance-04197</span><br>

The variable decorated with <code>CullDistance</code> within the <code>MeshEXT</code>,
<code>MeshNV</code> or <code>Vertex</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04198" href="#VUID-CullDistance-CullDistance-04198"></a> <span class="vuid">VUID-CullDistance-CullDistance-04198</span><br>

The variable decorated with <code>CullDistance</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04199" href="#VUID-CullDistance-CullDistance-04199"></a> <span class="vuid">VUID-CullDistance-CullDistance-04199</span><br>

The variable decorated with <code>CullDistance</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04200" href="#VUID-CullDistance-CullDistance-04200"></a> <span class="vuid">VUID-CullDistance-CullDistance-04200</span><br>

The variable decorated with <code>CullDistance</code> <strong>must</strong> be declared as an
array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-deviceindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>DeviceIndex</code></dt>
<dd>
<p>The <code>DeviceIndex</code> decoration <strong>can</strong> be applied to a shader input which will
be filled with the device index of the physical device that is executing the
current shader invocation.
This value will be in the range <span class="steminline"> <svg style="vertical-align: -0.566ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="33.388ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 14757.3 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1222.7,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(2100.7,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(2629.7,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(3201.7,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(3590.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(4090.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(4535.3,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(5038.3,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g><g data-mml-node="mi" transform="translate(5614.3,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(6104.3,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mi" transform="translate(6573.3,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(6918.3,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g><g data-mml-node="mi" transform="translate(7351.3,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(7880.3,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(8178.3,0)"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(9006.3,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(9472.3,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mi" transform="translate(9957.3,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(10302.3,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g><g data-mml-node="mi" transform="translate(10735.3,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(11201.3,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(11961.3,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(12446.3,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(13018.3,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(13618.3,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mo" transform="translate(13979.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(14368.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg> </span>,
where physicalDeviceCount is the <code>physicalDeviceCount</code> member of
<a href="devsandqueues.html#VkDeviceGroupDeviceCreateInfo" class="xref page">VkDeviceGroupDeviceCreateInfo</a>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-DeviceIndex-DeviceIndex-04205" href="#VUID-DeviceIndex-DeviceIndex-04205"></a> <span class="vuid">VUID-DeviceIndex-DeviceIndex-04205</span><br>

The variable decorated with <code>DeviceIndex</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-DeviceIndex-DeviceIndex-04206" href="#VUID-DeviceIndex-DeviceIndex-04206"></a> <span class="vuid">VUID-DeviceIndex-DeviceIndex-04206</span><br>

The variable decorated with <code>DeviceIndex</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-drawindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>DrawIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>DrawIndex</code> built-in will make that
variable contain the integer value corresponding to the zero-based index of
the draw that invoked the current
vertex shader invocation.
For <em>indirect drawing commands</em>, <code>DrawIndex</code> begins at zero and
increments by one for each draw executed.
The number of draws is given by the <code>drawCount</code> parameter.
For <em>direct drawing commands</em>,
<code>DrawIndex</code> is always zero.
<code>DrawIndex</code> is dynamically uniform.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04207" href="#VUID-DrawIndex-DrawIndex-04207"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04207</span><br>

The <code>DrawIndex</code> decoration <strong>must</strong> be used only within the <code>Vertex</code>,
<code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04208" href="#VUID-DrawIndex-DrawIndex-04208"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04208</span><br>

The variable decorated with <code>DrawIndex</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04209" href="#VUID-DrawIndex-DrawIndex-04209"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04209</span><br>

The variable decorated with <code>DrawIndex</code> <strong>must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fragcoord" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>FragCoord</code> built-in decoration will make
that variable contain the framebuffer coordinate
<span class="steminline"> <svg style="vertical-align: -0.798ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="10.374ex" height="2.755ex" role="img" focusable="false" viewBox="0 -864.9 4585.3 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(961,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1405.7,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1895.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(2340.3,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(2805.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mfrac" transform="translate(3250,0)"><g data-mml-node="mn" transform="translate(296.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><rect width="706.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(4196.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg> </span> of the fragment being processed.
The <span class="eq">(x,y)</span> coordinate <span class="eq">(0,0)</span> is the upper left corner of the upper
left pixel in the framebuffer.</p>
<div class="paragraph">
<p>When <a href="primsrast.html#primsrast-sampleshading" class="xref page">Sample Shading</a> is enabled, the <span class="eq">x</span> and
<span class="eq">y</span> components of <code>FragCoord</code> reflect the location of one of the
samples corresponding to the shader invocation.</p>
</div>
<div class="paragraph">
<p>Otherwise, the <span class="eq">x</span> and <span class="eq">y</span> components of <code>FragCoord</code> reflect the
location of the center of the fragment.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">z</span> component of <code>FragCoord</code> is the interpolated depth value of
the primitive.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">w</span> component is the interpolated <span class="steminline"> <svg style="vertical-align: -0.798ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="2.141ex" height="2.755ex" role="img" focusable="false" viewBox="0 -864.9 946.3 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(296.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><rect width="706.3" height="60" x="120" y="220"></rect></g></g></g></svg> </span>.</p>
</div>
<div class="paragraph">
<p>The <code>Centroid</code> interpolation decoration is ignored, but allowed, on
<code>FragCoord</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragCoord-FragCoord-04210" href="#VUID-FragCoord-FragCoord-04210"></a> <span class="vuid">VUID-FragCoord-FragCoord-04210</span><br>

The <code>FragCoord</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragCoord-FragCoord-04211" href="#VUID-FragCoord-FragCoord-04211"></a> <span class="vuid">VUID-FragCoord-FragCoord-04211</span><br>

The variable decorated with <code>FragCoord</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragCoord-FragCoord-04212" href="#VUID-FragCoord-FragCoord-04212"></a> <span class="vuid">VUID-FragCoord-FragCoord-04212</span><br>

The variable decorated with <code>FragCoord</code> <strong>must</strong> be declared as a
four-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fragdepth" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragDepth</code></dt>
<dd>
<p>To have a shader supply a fragment-depth value, the shader <strong>must</strong> declare the
<code>DepthReplacing</code> execution mode.
Such a shader&#8217;s fragment-depth value will come from the variable decorated
with the <code>FragDepth</code> built-in decoration.</p>
<div class="paragraph">
<p>This value will be used for any subsequent depth testing performed by the
implementation or writes to the depth attachment.
See <a href="fragops.html#fragops-shader-depthreplacement" class="xref page">fragment shader depth replacement</a>
for details.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragDepth-FragDepth-04213" href="#VUID-FragDepth-FragDepth-04213"></a> <span class="vuid">VUID-FragDepth-FragDepth-04213</span><br>

The <code>FragDepth</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04214" href="#VUID-FragDepth-FragDepth-04214"></a> <span class="vuid">VUID-FragDepth-FragDepth-04214</span><br>

The variable decorated with <code>FragDepth</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04215" href="#VUID-FragDepth-FragDepth-04215"></a> <span class="vuid">VUID-FragDepth-FragDepth-04215</span><br>

The variable decorated with <code>FragDepth</code> <strong>must</strong> be declared as a scalar
32-bit floating-point value</p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04216" href="#VUID-FragDepth-FragDepth-04216"></a> <span class="vuid">VUID-FragDepth-FragDepth-04216</span><br>

If the shader dynamically writes to the variable decorated with
<code>FragDepth</code>, the <code>DepthReplacing</code> <code>Execution</code> <code>Mode</code> <strong>must</strong> be
declared</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-frontfacing" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FrontFacing</code></dt>
<dd>
<p>Decorating a variable with the <code>FrontFacing</code> built-in decoration will
make that variable contain whether the fragment is front or back facing.
This variable is non-zero if the current fragment is considered to be part
of a <a href="primsrast.html#primsrast-polygons-basic" class="xref page">front-facing</a> polygon primitive or of a
non-polygon primitive and is zero if the fragment is considered to be part
of a back-facing polygon primitive.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04229" href="#VUID-FrontFacing-FrontFacing-04229"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04229</span><br>

The <code>FrontFacing</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04230" href="#VUID-FrontFacing-FrontFacing-04230"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04230</span><br>

The variable decorated with <code>FrontFacing</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04231" href="#VUID-FrontFacing-FrontFacing-04231"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04231</span><br>

The variable decorated with <code>FrontFacing</code> <strong>must</strong> be declared as a
boolean value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-globalinvocationid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>GlobalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>GlobalInvocationId</code> built-in decoration
will make that variable contain the location of the current invocation
within the global workgroup.
Each component is equal to the index of the local workgroup multiplied by
the size of the local workgroup plus <code>LocalInvocationId</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04236" href="#VUID-GlobalInvocationId-GlobalInvocationId-04236"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04236</span><br>

The <code>GlobalInvocationId</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04237" href="#VUID-GlobalInvocationId-GlobalInvocationId-04237"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04237</span><br>

The variable decorated with <code>GlobalInvocationId</code> <strong>must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04238" href="#VUID-GlobalInvocationId-GlobalInvocationId-04238"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04238</span><br>

The variable decorated with <code>GlobalInvocationId</code> <strong>must</strong> be declared as
a three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-helperinvocation" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>HelperInvocation</code></dt>
<dd>
<p>Decorating a variable with the <code>HelperInvocation</code> built-in decoration
will make that variable contain whether the current invocation is a helper
invocation.
This variable is non-zero if the current fragment being shaded is a helper
invocation and zero otherwise.
A helper invocation is an invocation of the shader that is produced to
satisfy internal requirements such as the generation of derivatives.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is very likely that a helper invocation will have a value of
<code>SampleMask</code> fragment shader input value that is zero.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04239" href="#VUID-HelperInvocation-HelperInvocation-04239"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04239</span><br>

The <code>HelperInvocation</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04240" href="#VUID-HelperInvocation-HelperInvocation-04240"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04240</span><br>

The variable decorated with <code>HelperInvocation</code> <strong>must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04241" href="#VUID-HelperInvocation-HelperInvocation-04241"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04241</span><br>

The variable decorated with <code>HelperInvocation</code> <strong>must</strong> be declared as a
boolean value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-invocationid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>InvocationId</code> built-in decoration will
make that variable contain the index of the current shader invocation in a
geometry shader, or the index of the output patch vertex in a tessellation
control shader.</p>
<div class="paragraph">
<p>In a geometry shader, the index of the current shader invocation ranges from
zero to the number of <a href="geometry.html#geometry-invocations" class="xref page">instances</a> declared in the
shader minus one.
If the instance count of the geometry shader is one or is not specified,
then <code>InvocationId</code> will be zero.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InvocationId-InvocationId-04257" href="#VUID-InvocationId-InvocationId-04257"></a> <span class="vuid">VUID-InvocationId-InvocationId-04257</span><br>

The <code>InvocationId</code> decoration <strong>must</strong> be used only within the
<code>TessellationControl</code> or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InvocationId-InvocationId-04258" href="#VUID-InvocationId-InvocationId-04258"></a> <span class="vuid">VUID-InvocationId-InvocationId-04258</span><br>

The variable decorated with <code>InvocationId</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InvocationId-InvocationId-04259" href="#VUID-InvocationId-InvocationId-04259"></a> <span class="vuid">VUID-InvocationId-InvocationId-04259</span><br>

The variable decorated with <code>InvocationId</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-instanceindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InstanceIndex</code></dt>
<dd>
<p>Decorating a variable in a vertex shader with the <code>InstanceIndex</code>
built-in decoration will make that variable contain the index of the
instance that is being processed by the current vertex shader invocation.
<code>InstanceIndex</code> begins at the <code>firstInstance</code> parameter to
<a href="drawing.html#vkCmdDraw" class="xref page">vkCmdDraw</a> or <a href="drawing.html#vkCmdDrawIndexed" class="xref page">vkCmdDrawIndexed</a> or at the <code>firstInstance</code>
member of a structure consumed by <a href="drawing.html#vkCmdDrawIndirect" class="xref page">vkCmdDrawIndirect</a> or
<a href="drawing.html#vkCmdDrawIndexedIndirect" class="xref page">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04263" href="#VUID-InstanceIndex-InstanceIndex-04263"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04263</span><br>

The <code>InstanceIndex</code> decoration <strong>must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04264" href="#VUID-InstanceIndex-InstanceIndex-04264"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04264</span><br>

The variable decorated with <code>InstanceIndex</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04265" href="#VUID-InstanceIndex-InstanceIndex-04265"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04265</span><br>

The variable decorated with <code>InstanceIndex</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-layer" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Layer</code></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Decorating a variable with the <code>Layer</code> built-in decoration will make that
variable contain the select layer of a multi-layer framebuffer attachment.</p>
</div>
<div class="paragraph">
<p>In a
vertex, tessellation evaluation, or
geometry shader, any variable decorated with <code>Layer</code> can be written with
the framebuffer layer index to which the primitive produced by that shader
will be directed.</p>
</div>
<div class="paragraph">
<p>The last active
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> (in pipeline order) controls the <code>Layer</code> that is used.
Outputs in previous shader stages are not used, even if the last stage fails
to write the <code>Layer</code>.</p>
</div>
<div class="paragraph">
<p>If the last active
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> shader entry point&#8217;s interface does not include a variable decorated
with <code>Layer</code>, then the first layer is used.
If a <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> shader entry point&#8217;s interface includes a variable decorated with
<code>Layer</code>, it <strong>must</strong> write the same value to <code>Layer</code> for all output
vertices of a given primitive.
If the <code>Layer</code> value is less than 0 or greater than or equal to the
number of layers in the framebuffer, then primitives <strong>may</strong> still be
rasterized, fragment shaders <strong>may</strong> be executed, and the framebuffer values
for all layers are <strong>undefined</strong>.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, a variable decorated with <code>Layer</code> contains the
layer index of the primitive that the fragment invocation belongs to.</p>
</div>
</div>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-Layer-Layer-04272" href="#VUID-Layer-Layer-04272"></a> <span class="vuid">VUID-Layer-Layer-04272</span><br>

The <code>Layer</code> decoration <strong>must</strong> be used only within the <code>MeshEXT</code>,
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationEvaluation</code>, <code>Geometry</code>, or
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04273" href="#VUID-Layer-Layer-04273"></a> <span class="vuid">VUID-Layer-Layer-04273</span><br>

If the <a href="features.html#features-shaderOutputLayer" class="xref page"><code>shaderOutputLayer</code></a> feature
is not enabled then the <code>Layer</code> decoration <strong>must</strong> be used only within
the <code>Geometry</code> or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04274" href="#VUID-Layer-Layer-04274"></a> <span class="vuid">VUID-Layer-Layer-04274</span><br>

The variable decorated with <code>Layer</code> within the <code>MeshEXT</code>,
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04275" href="#VUID-Layer-Layer-04275"></a> <span class="vuid">VUID-Layer-Layer-04275</span><br>

The variable decorated with <code>Layer</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04276" href="#VUID-Layer-Layer-04276"></a> <span class="vuid">VUID-Layer-Layer-04276</span><br>

The variable decorated with <code>Layer</code> <strong>must</strong> be declared as a scalar
32-bit integer value</p>
</li>
<li>
<p><a id="VUID-Layer-Layer-07039" href="#VUID-Layer-Layer-07039"></a> <span class="vuid">VUID-Layer-Layer-07039</span><br>

The variable decorated with <code>Layer</code> within the <code>MeshEXT</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> also be decorated with the <code>PerPrimitiveEXT</code>
decoration</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-localinvocationid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LocalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationId</code> built-in decoration
will make that variable contain the location of the current
compute shader invocation within the local workgroup.
Each component ranges from zero through to the size of the workgroup in that
dimension minus one.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the size of the workgroup in a particular dimension is one, then the
<code>LocalInvocationId</code> in that dimension will be zero.
If the workgroup is effectively two-dimensional, then
<code>LocalInvocationId.z</code> will be zero.
If the workgroup is effectively one-dimensional, then both
<code>LocalInvocationId.y</code> and <code>LocalInvocationId.z</code> will be zero.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04281" href="#VUID-LocalInvocationId-LocalInvocationId-04281"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04281</span><br>

The <code>LocalInvocationId</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04282" href="#VUID-LocalInvocationId-LocalInvocationId-04282"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04282</span><br>

The variable decorated with <code>LocalInvocationId</code> <strong>must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04283" href="#VUID-LocalInvocationId-LocalInvocationId-04283"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04283</span><br>

The variable decorated with <code>LocalInvocationId</code> <strong>must</strong> be declared as
a three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-localinvocationindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LocalInvocationIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationIndex</code> built-in decoration
will make that variable contain a one-dimensional representation of
<code>LocalInvocationId</code>.
This is computed as:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">LocalInvocationIndex =
    LocalInvocationId.z * WorkgroupSize.x * WorkgroupSize.y +
    LocalInvocationId.y * WorkgroupSize.x +
    LocalInvocationId.x;</code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04284" href="#VUID-LocalInvocationIndex-LocalInvocationIndex-04284"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04284</span><br>

The <code>LocalInvocationIndex</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04285" href="#VUID-LocalInvocationIndex-LocalInvocationIndex-04285"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04285</span><br>

The variable decorated with <code>LocalInvocationIndex</code> <strong>must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04286" href="#VUID-LocalInvocationIndex-LocalInvocationIndex-04286"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04286</span><br>

The variable decorated with <code>LocalInvocationIndex</code> <strong>must</strong> be declared
as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-numsubgroups" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NumSubgroups</code></dt>
<dd>
<p>Decorating a variable with the <code>NumSubgroups</code> built-in decoration will
make that variable contain the number of subgroups in the local workgroup.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04293" href="#VUID-NumSubgroups-NumSubgroups-04293"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04293</span><br>

The <code>NumSubgroups</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04294" href="#VUID-NumSubgroups-NumSubgroups-04294"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04294</span><br>

The variable decorated with <code>NumSubgroups</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04295" href="#VUID-NumSubgroups-NumSubgroups-04295"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04295</span><br>

The variable decorated with <code>NumSubgroups</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-numworkgroups" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NumWorkgroups</code></dt>
<dd>
<p>Decorating a variable with the <code>NumWorkgroups</code> built-in decoration will
make that variable contain the number of local workgroups that are part of
the dispatch that the invocation belongs to.
Each component is equal to the values of the workgroup count parameters
passed into the dispatching commands.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04296" href="#VUID-NumWorkgroups-NumWorkgroups-04296"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04296</span><br>

The <code>NumWorkgroups</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, or <code>TaskEXT</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04297" href="#VUID-NumWorkgroups-NumWorkgroups-04297"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04297</span><br>

The variable decorated with <code>NumWorkgroups</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04298" href="#VUID-NumWorkgroups-NumWorkgroups-04298"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04298</span><br>

The variable decorated with <code>NumWorkgroups</code> <strong>must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-patchvertices" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PatchVertices</code></dt>
<dd>
<p>Decorating a variable with the <code>PatchVertices</code> built-in decoration will
make that variable contain the number of vertices in the input patch being
processed by the shader.
In a Tessellation Control Shader, this is the same as the
name:patchControlPoints member of
<a href="tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a>.
In a Tessellation Evaluation Shader, <code>PatchVertices</code> is equal to the
tessellation control output patch size.
When the same shader is used in different pipelines where the patch sizes
are configured differently, the value of the <code>PatchVertices</code> variable
will also differ.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04308" href="#VUID-PatchVertices-PatchVertices-04308"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04308</span><br>

The <code>PatchVertices</code> decoration <strong>must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04309" href="#VUID-PatchVertices-PatchVertices-04309"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04309</span><br>

The variable decorated with <code>PatchVertices</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04310" href="#VUID-PatchVertices-PatchVertices-04310"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04310</span><br>

The variable decorated with <code>PatchVertices</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-pointcoord" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PointCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>PointCoord</code> built-in decoration will make
that variable contain the coordinate of the current fragment within the
point being rasterized, normalized to the size of the point with origin in
the upper left corner of the point, as described in
<a href="primsrast.html#primsrast-points-basic" class="xref page">Basic Point Rasterization</a>.
If the primitive the fragment shader invocation belongs to is not a point,
then the variable decorated with <code>PointCoord</code> contains an <strong>undefined</strong>
value.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Depending on how the point is rasterized, <code>PointCoord</code> <strong>may</strong> never reach
<span class="eq">(0,0)</span> or <span class="eq">(1,1)</span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PointCoord-PointCoord-04311" href="#VUID-PointCoord-PointCoord-04311"></a> <span class="vuid">VUID-PointCoord-PointCoord-04311</span><br>

The <code>PointCoord</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PointCoord-PointCoord-04312" href="#VUID-PointCoord-PointCoord-04312"></a> <span class="vuid">VUID-PointCoord-PointCoord-04312</span><br>

The variable decorated with <code>PointCoord</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PointCoord-PointCoord-04313" href="#VUID-PointCoord-PointCoord-04313"></a> <span class="vuid">VUID-PointCoord-PointCoord-04313</span><br>

The variable decorated with <code>PointCoord</code> <strong>must</strong> be declared as a
two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-pointsize" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PointSize</code></dt>
<dd>
<p>Decorating a variable with the <code>PointSize</code> built-in decoration will make
that variable contain the size of point primitives
.
The value written to the variable decorated with <code>PointSize</code> by the last
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> in the pipeline is used as the framebuffer-space size of points
produced by rasterization.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When <code>PointSize</code> decorates a variable in the <code>Input</code> <code>Storage</code> <code>Class</code>,
it contains the data written to the output variable decorated with
<code>PointSize</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PointSize-PointSize-04314" href="#VUID-PointSize-PointSize-04314"></a> <span class="vuid">VUID-PointSize-PointSize-04314</span><br>

The <code>PointSize</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>MeshNV</code>, <code>Vertex</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04315" href="#VUID-PointSize-PointSize-04315"></a> <span class="vuid">VUID-PointSize-PointSize-04315</span><br>

The variable decorated with <code>PointSize</code> within the <code>MeshEXT</code>,
<code>MeshNV</code>, or <code>Vertex</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04316" href="#VUID-PointSize-PointSize-04316"></a> <span class="vuid">VUID-PointSize-PointSize-04316</span><br>

The variable decorated with <code>PointSize</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04317" href="#VUID-PointSize-PointSize-04317"></a> <span class="vuid">VUID-PointSize-PointSize-04317</span><br>

The variable decorated with <code>PointSize</code> <strong>must</strong> be declared as a scalar
32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-position" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Position</code></dt>
<dd>
<p>Decorating a variable with the <code>Position</code> built-in decoration will make
that variable contain the position of the current vertex.
In the last <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a>, the value of the variable decorated with <code>Position</code> is
used in subsequent primitive assembly, clipping, and rasterization
operations.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When <code>Position</code> decorates a variable in the <code>Input</code> <code>Storage</code> <code>Class</code>, it
contains the data written to the output variable decorated with
<code>Position</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-Position-Position-04318" href="#VUID-Position-Position-04318"></a> <span class="vuid">VUID-Position-Position-04318</span><br>

The <code>Position</code> decoration <strong>must</strong> be used only within the <code>MeshEXT</code>,
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04319" href="#VUID-Position-Position-04319"></a> <span class="vuid">VUID-Position-Position-04319</span><br>

The variable decorated with <code>Position</code> within the <code>MeshEXT</code>,
<code>MeshNV</code>, or <code>Vertex</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04320" href="#VUID-Position-Position-04320"></a> <span class="vuid">VUID-Position-Position-04320</span><br>

The variable decorated with <code>Position</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04321" href="#VUID-Position-Position-04321"></a> <span class="vuid">VUID-Position-Position-04321</span><br>

The variable decorated with <code>Position</code> <strong>must</strong> be declared as a
four-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-primitiveid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveId</code></dt>
<dd>
<p>Decorating a variable with the <code>PrimitiveId</code> built-in decoration will
make that variable contain the index of the current primitive.</p>
<div class="paragraph">
<p>The index of the first primitive generated by a drawing command is zero, and
the index is incremented after every individual point, line, or triangle
primitive is processed.</p>
</div>
<div class="paragraph">
<p>For triangles drawn as points or line segments (see <a href="primsrast.html#primsrast-polygonmode" class="xref page">Polygon Mode</a>), the primitive index is incremented only once, even if
multiple points or lines are eventually drawn.</p>
</div>
<div class="paragraph">
<p>Variables decorated with <code>PrimitiveId</code> are reset to zero between each
instance drawn.</p>
</div>
<div class="paragraph">
<p>Restarting a primitive topology using primitive restart has no effect on the
value of variables decorated with <code>PrimitiveId</code>.</p>
</div>
<div class="paragraph">
<p>In tessellation control and tessellation evaluation shaders, it will contain
the index of the patch within the current set of rendering primitives that
corresponds to the shader invocation.</p>
</div>
<div class="paragraph">
<p>In a geometry shader, it will contain the number of primitives presented as
input to the shader since the current set of rendering primitives was
started.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, it will contain the primitive index written by the
geometry shader if a geometry shader is present, or with the value that
would have been presented as input to the geometry shader had it been
present.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the <code>PrimitiveId</code> decoration is applied to an output variable in the
geometry shader, the resulting value is seen through the <code>PrimitiveId</code>
decorated input variable in the fragment shader.</p>
</div>
<div class="paragraph">
<p>The fragment shader using <code>PrimitiveId</code> will need to declare either the
<code>Geometry</code> or <code>Tessellation</code> capability to satisfy the requirement
SPIR-V has to use <code>PrimitiveId</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04330" href="#VUID-PrimitiveId-PrimitiveId-04330"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04330</span><br>

The <code>PrimitiveId</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>MeshNV</code>, <code>IntersectionKHR</code>, <code>AnyHitKHR</code>,
<code>ClosestHitKHR</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, <code>Geometry</code>, or <code>Fragment</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04331" href="#VUID-PrimitiveId-Fragment-04331"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04331</span><br>

If pipeline contains both the <code>Fragment</code> and <code>Geometry</code>
<code>Execution</code> <code>Model</code> and a variable decorated with <code>PrimitiveId</code> is read
from <code>Fragment</code> shader, then the <code>Geometry</code> shader <strong>must</strong> write to
the output variables decorated with <code>PrimitiveId</code> in all execution
paths</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04332" href="#VUID-PrimitiveId-Fragment-04332"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04332</span><br>

If pipeline contains both the <code>Fragment</code> and <code>MeshEXT</code> or
<code>MeshNV</code> <code>Execution</code> <code>Model</code> and a variable decorated with
<code>PrimitiveId</code> is read from <code>Fragment</code> shader, then the
<code>MeshEXT</code> or <code>MeshNV</code> shader <strong>must</strong> write to the output variables
decorated with <code>PrimitiveId</code> in all execution paths</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04333" href="#VUID-PrimitiveId-Fragment-04333"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04333</span><br>

If <code>Fragment</code> <code>Execution</code> <code>Model</code> contains a variable decorated with
<code>PrimitiveId</code>, then either the <code>MeshShadingEXT</code>,
<code>MeshShadingNV</code>, <code>Geometry</code> or <code>Tessellation</code> capability <strong>must</strong>
also be declared</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04334" href="#VUID-PrimitiveId-PrimitiveId-04334"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04334</span><br>

The variable decorated with <code>PrimitiveId</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, <code>Fragment</code>,
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04335" href="#VUID-PrimitiveId-PrimitiveId-04335"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04335</span><br>

The variable decorated with <code>PrimitiveId</code> within the <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> or <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04336" href="#VUID-PrimitiveId-PrimitiveId-04336"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04336</span><br>

The variable decorated with <code>PrimitiveId</code> within the <code>MeshEXT</code> or
<code>MeshNV</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04337" href="#VUID-PrimitiveId-PrimitiveId-04337"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04337</span><br>

The variable decorated with <code>PrimitiveId</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-07040" href="#VUID-PrimitiveId-PrimitiveId-07040"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-07040</span><br>

The variable decorated with <code>PrimitiveId</code> within the <code>MeshEXT</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> also be decorated with the <code>PerPrimitiveEXT</code>
decoration</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sampleid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SampleId</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleId</code> built-in decoration will make
that variable contain the <a href="primsrast.html#primsrast-multisampling-coverage-mask" class="xref page">coverage index</a> for the current fragment shader invocation.
<code>SampleId</code> ranges from zero to the number of samples in the framebuffer
minus one.
If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SampleId</code>, <a href="primsrast.html#primsrast-sampleshading" class="xref page">Sample Shading</a> is
considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SampleId-SampleId-04354" href="#VUID-SampleId-SampleId-04354"></a> <span class="vuid">VUID-SampleId-SampleId-04354</span><br>

The <code>SampleId</code> decoration <strong>must</strong> be used only within the <code>Fragment</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SampleId-SampleId-04355" href="#VUID-SampleId-SampleId-04355"></a> <span class="vuid">VUID-SampleId-SampleId-04355</span><br>

The variable decorated with <code>SampleId</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SampleId-SampleId-04356" href="#VUID-SampleId-SampleId-04356"></a> <span class="vuid">VUID-SampleId-SampleId-04356</span><br>

The variable decorated with <code>SampleId</code> <strong>must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-samplemask" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SampleMask</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleMask</code> built-in decoration will make
any variable contain the <a href="fragops.html#fragops-shader-samplemask" class="xref page">sample mask</a> for the
current fragment shader invocation.</p>
<div class="paragraph">
<p>A variable in the <code>Input</code> storage class decorated with <code>SampleMask</code>
will contain a bitmask of the set of samples covered by the primitive
generating the fragment during rasterization.
It has a sample bit set if and only if the sample is considered covered for
this fragment shader invocation.
<code>SampleMask</code>[] is an array of integers.
Bits are mapped to samples in a manner where bit B of mask M
(<code>SampleMask[M]</code>) corresponds to sample <span class="eq">32 × M +  B</span>.</p>
</div>
<div class="paragraph">
<p>A variable in the <code>Output</code> storage class decorated with <code>SampleMask</code>
is an array of integers forming a bit array in a manner similar to an input
variable decorated with <code>SampleMask</code>, but where each bit represents
coverage as computed by the shader.
This computed <code>SampleMask</code> is combined with the generated coverage mask
in the <a href="fragops.html#fragops-covg" class="xref page">multisample coverage</a> operation.</p>
</div>
<div class="paragraph">
<p>Variables decorated with <code>SampleMask</code> <strong>must</strong> be either an unsized array,
or explicitly sized to be no larger than the implementation-dependent
maximum sample-mask (as an array of 32-bit elements), determined by the
maximum number of samples.</p>
</div>
<div class="paragraph">
<p>If a fragment shader entry point&#8217;s interface includes an output variable
decorated with <code>SampleMask</code>, the sample mask will be <strong>undefined</strong> for any
array elements of any fragment shader invocations that fail to assign a
value.
If a fragment shader entry point&#8217;s interface does not include an output
variable decorated with <code>SampleMask</code>, the sample mask has no effect on
the processing of a fragment.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SampleMask-SampleMask-04357" href="#VUID-SampleMask-SampleMask-04357"></a> <span class="vuid">VUID-SampleMask-SampleMask-04357</span><br>

The <code>SampleMask</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SampleMask-SampleMask-04358" href="#VUID-SampleMask-SampleMask-04358"></a> <span class="vuid">VUID-SampleMask-SampleMask-04358</span><br>

The variable decorated with <code>SampleMask</code> <strong>must</strong> be declared using the
<code>Input</code> or <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SampleMask-SampleMask-04359" href="#VUID-SampleMask-SampleMask-04359"></a> <span class="vuid">VUID-SampleMask-SampleMask-04359</span><br>

The variable decorated with <code>SampleMask</code> <strong>must</strong> be declared as an
array of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sampleposition" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SamplePosition</code></dt>
<dd>
<p>Decorating a variable with the <code>SamplePosition</code> built-in decoration will
make that variable contain the sub-pixel position of the sample being
shaded.
The top left of the pixel is considered to be at coordinate <span class="eq">(0,0)</span> and
the bottom right of the pixel is considered to be at coordinate <span class="eq">(1,1)</span>.</p>
<div class="paragraph">
<p>If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SamplePosition</code>, <a href="primsrast.html#primsrast-sampleshading" class="xref page">Sample Shading</a> is considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04360" href="#VUID-SamplePosition-SamplePosition-04360"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04360</span><br>

The <code>SamplePosition</code> decoration <strong>must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04361" href="#VUID-SamplePosition-SamplePosition-04361"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04361</span><br>

The variable decorated with <code>SamplePosition</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04362" href="#VUID-SamplePosition-SamplePosition-04362"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04362</span><br>

The variable decorated with <code>SamplePosition</code> <strong>must</strong> be declared as a
two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-subgroupid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupId</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupId</code> built-in decoration will make
that variable contain the index of the subgroup within the local workgroup.
This variable is in range [0, <code>NumSubgroups</code>-1].</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04367" href="#VUID-SubgroupId-SubgroupId-04367"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04367</span><br>

The <code>SubgroupId</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04368" href="#VUID-SubgroupId-SubgroupId-04368"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04368</span><br>

The variable decorated with <code>SubgroupId</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04369" href="#VUID-SubgroupId-SubgroupId-04369"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04369</span><br>

The variable decorated with <code>SubgroupId</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgeq" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupEqMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupEqMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bit corresponding to the <code>SubgroupLocalInvocationId</code> is set in the
variable decorated with <code>SubgroupEqMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupEqMaskKHR</code> is an alias of <code>SubgroupEqMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupEqMask-SubgroupEqMask-04370" href="#VUID-SubgroupEqMask-SubgroupEqMask-04370"></a> <span class="vuid">VUID-SubgroupEqMask-SubgroupEqMask-04370</span><br>

The variable decorated with <code>SubgroupEqMask</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupEqMask-SubgroupEqMask-04371" href="#VUID-SubgroupEqMask-SubgroupEqMask-04371"></a> <span class="vuid">VUID-SubgroupEqMask-SubgroupEqMask-04371</span><br>

The variable decorated with <code>SubgroupEqMask</code> <strong>must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgge" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupGeMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupGeMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations greater than or equal to
<code>SubgroupLocalInvocationId</code> through <code>SubgroupSize</code>-1 are set in the
variable decorated with <code>SubgroupGeMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupGeMaskKHR</code> is an alias of <code>SubgroupGeMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupGeMask-SubgroupGeMask-04372" href="#VUID-SubgroupGeMask-SubgroupGeMask-04372"></a> <span class="vuid">VUID-SubgroupGeMask-SubgroupGeMask-04372</span><br>

The variable decorated with <code>SubgroupGeMask</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupGeMask-SubgroupGeMask-04373" href="#VUID-SubgroupGeMask-SubgroupGeMask-04373"></a> <span class="vuid">VUID-SubgroupGeMask-SubgroupGeMask-04373</span><br>

The variable decorated with <code>SubgroupGeMask</code> <strong>must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sggt" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupGtMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupGtMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations greater than
<code>SubgroupLocalInvocationId</code> through <code>SubgroupSize</code>-1 are set in the
variable decorated with <code>SubgroupGtMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupGtMaskKHR</code> is an alias of <code>SubgroupGtMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupGtMask-SubgroupGtMask-04374" href="#VUID-SubgroupGtMask-SubgroupGtMask-04374"></a> <span class="vuid">VUID-SubgroupGtMask-SubgroupGtMask-04374</span><br>

The variable decorated with <code>SubgroupGtMask</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupGtMask-SubgroupGtMask-04375" href="#VUID-SubgroupGtMask-SubgroupGtMask-04375"></a> <span class="vuid">VUID-SubgroupGtMask-SubgroupGtMask-04375</span><br>

The variable decorated with <code>SubgroupGtMask</code> <strong>must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgle" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLeMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLeMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations less than or equal to
<code>SubgroupLocalInvocationId</code> are set in the variable decorated with
<code>SubgroupLeMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupLeMaskKHR</code> is an alias of <code>SubgroupLeMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLeMask-SubgroupLeMask-04376" href="#VUID-SubgroupLeMask-SubgroupLeMask-04376"></a> <span class="vuid">VUID-SubgroupLeMask-SubgroupLeMask-04376</span><br>

The variable decorated with <code>SubgroupLeMask</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLeMask-SubgroupLeMask-04377" href="#VUID-SubgroupLeMask-SubgroupLeMask-04377"></a> <span class="vuid">VUID-SubgroupLeMask-SubgroupLeMask-04377</span><br>

The variable decorated with <code>SubgroupLeMask</code> <strong>must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sglt" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLtMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLtMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations less than
<code>SubgroupLocalInvocationId</code> are set in the variable decorated with
<code>SubgroupLtMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupLtMaskKHR</code> is an alias of <code>SubgroupLtMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLtMask-SubgroupLtMask-04378" href="#VUID-SubgroupLtMask-SubgroupLtMask-04378"></a> <span class="vuid">VUID-SubgroupLtMask-SubgroupLtMask-04378</span><br>

The variable decorated with <code>SubgroupLtMask</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLtMask-SubgroupLtMask-04379" href="#VUID-SubgroupLtMask-SubgroupLtMask-04379"></a> <span class="vuid">VUID-SubgroupLtMask-SubgroupLtMask-04379</span><br>

The variable decorated with <code>SubgroupLtMask</code> <strong>must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgli" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLocalInvocationId</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLocalInvocationId</code> builtin
decoration will make that variable contain the index of the invocation
within the subgroup.
This variable is in range [0,<code>SubgroupSize</code>-1].</p>
</div>
<div class="paragraph">
<p>If <code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> is
specified,
or if <code>module</code> declares SPIR-V version 1.6 or higher, and the local
workgroup size in the X dimension of the <code>stage</code> is a multiple of
<a href="#interfaces-builtin-variables-sgs"><code>SubgroupSize</code></a>,
full subgroups are enabled for that pipeline stage.
When full subgroups are enabled, subgroups <strong>must</strong> be launched with all
invocations active, i.e., there is an active invocation with
<code>SubgroupLocalInvocationId</code> for each value in range
[0,<code>SubgroupSize</code>-1].</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is no direct relationship between <code>SubgroupLocalInvocationId</code> and
<code>LocalInvocationId</code> or <code>LocalInvocationIndex</code>.
If the pipeline
was created with full subgroups applications can compute their own local
invocation index to serve the same purpose:</p>
</div>
<div class="paragraph">
<p><span class="eq">index = <code>SubgroupLocalInvocationId</code> + <code>SubgroupId</code> ×
<code>SubgroupSize</code></span></p>
</div>
<div class="paragraph">
<p>If full subgroups are not enabled, some subgroups may be dispatched with
inactive invocations that do not correspond to a local workgroup invocation,
making the value of <span class="eq">index</span> unreliable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>
is
effectively deprecated when compiling SPIR-V 1.6 shaders, as this behavior
is the default for Vulkan with SPIR-V 1.6.
This is more aligned with developer expectations, and avoids applications
unexpectedly breaking in the future.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380" href="#VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380"></a> <span class="vuid">VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380</span><br>

The variable decorated with <code>SubgroupLocalInvocationId</code> <strong>must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381" href="#VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381"></a> <span class="vuid">VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381</span><br>

The variable decorated with <code>SubgroupLocalInvocationId</code> <strong>must</strong> be
declared as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgs" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupSize</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupSize</code> builtin decoration will
make that variable contain the implementation-dependent
<a href="devsandqueues.html#limits-subgroupSize" class="xref page">number of invocations in a subgroup</a>.
This value <strong>must</strong> be a power-of-two integer.</p>
</div>
<div class="paragraph">
<p>If the pipeline was created with the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code> flag
set,
or the SPIR-V <code>module</code> is at least version 1.6,
the <code>SubgroupSize</code> decorated variable will contain the subgroup size for
each subgroup that gets dispatched.
This value <strong>must</strong> be between <a href="devsandqueues.html#limits-minSubgroupSize" class="xref page"><code>minSubgroupSize</code></a> and <a href="devsandqueues.html#limits-maxSubgroupSize" class="xref page"><code>maxSubgroupSize</code></a> and <strong>must</strong> be uniform with <a href="shaders.html#shaders-scope-subgroup" class="xref page">subgroup scope</a>.
The value <strong>may</strong> vary across a single draw call, and for fragment shaders <strong>may</strong>
vary across a single primitive.
In compute dispatches, <code>SubgroupSize</code> <strong>must</strong> be uniform with
<a href="shaders.html#shaders-scope-command" class="xref page">command scope</a>.</p>
</div>
<div class="paragraph">
<p>If the pipeline was created with a chained
<a href="pipelines.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo" class="xref page">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure,
the <code>SubgroupSize</code> decorated variable will match
<a href="pipelines.html#pipelines-required-subgroup-size" class="xref page"><code>requiredSubgroupSize</code></a>.</p>
</div>
<div class="paragraph">
<p>If
SPIR-V <code>module</code> is less than version 1.6 and
the pipeline was not created with the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code> flag
set and no <a href="pipelines.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo" class="xref page">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>
structure was chained,
the
variable decorated with <code>SubgroupSize</code> will match <a href="devsandqueues.html#limits-subgroupSize" class="xref page"><code>subgroupSize</code></a>.</p>
</div>
<div class="paragraph">
<p>The maximum number of invocations that an implementation can support per
subgroup is 128.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The old behavior for <code>SubgroupSize</code> is considered deprecated as certain
compute algorithms cannot be easily implemented without the guarantees of
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code> and
<code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupSize-SubgroupSize-04382" href="#VUID-SubgroupSize-SubgroupSize-04382"></a> <span class="vuid">VUID-SubgroupSize-SubgroupSize-04382</span><br>

The variable decorated with <code>SubgroupSize</code> <strong>must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupSize-SubgroupSize-04383" href="#VUID-SubgroupSize-SubgroupSize-04383"></a> <span class="vuid">VUID-SubgroupSize-SubgroupSize-04383</span><br>

The variable decorated with <code>SubgroupSize</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-tesscoord" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>TessCoord</code> built-in decoration will make
that variable contain the three-dimensional <span class="eq">(u,v,w)</span> barycentric
coordinate of the tessellated vertex within the patch.
<span class="eq">u</span>, <span class="eq">v</span>, and <span class="eq">w</span> are in the range <span class="eq">[0,1]</span> and vary linearly
across the primitive being subdivided.
For the tessellation modes of <code>Quads</code> or <code>IsoLines</code>, the third
component is always zero.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessCoord-TessCoord-04387" href="#VUID-TessCoord-TessCoord-04387"></a> <span class="vuid">VUID-TessCoord-TessCoord-04387</span><br>

The <code>TessCoord</code> decoration <strong>must</strong> be used only within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessCoord-TessCoord-04388" href="#VUID-TessCoord-TessCoord-04388"></a> <span class="vuid">VUID-TessCoord-TessCoord-04388</span><br>

The variable decorated with <code>TessCoord</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessCoord-TessCoord-04389" href="#VUID-TessCoord-TessCoord-04389"></a> <span class="vuid">VUID-TessCoord-TessCoord-04389</span><br>

The variable decorated with <code>TessCoord</code> <strong>must</strong> be declared as a
three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-tesslevelouter" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessLevelOuter</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelOuter</code> built-in decoration will
make that variable contain the outer tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelOuter</code> <strong>can</strong> be written to, controlling the tessellation factors
for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong>can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelOuter</code> <strong>can</strong> read the values written by the tessellation control
shader.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04390" href="#VUID-TessLevelOuter-TessLevelOuter-04390"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04390</span><br>

The <code>TessLevelOuter</code> decoration <strong>must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04391" href="#VUID-TessLevelOuter-TessLevelOuter-04391"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04391</span><br>

The variable decorated with <code>TessLevelOuter</code> within the
<code>TessellationControl</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04392" href="#VUID-TessLevelOuter-TessLevelOuter-04392"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04392</span><br>

The variable decorated with <code>TessLevelOuter</code> within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04393" href="#VUID-TessLevelOuter-TessLevelOuter-04393"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04393</span><br>

The variable decorated with <code>TessLevelOuter</code> <strong>must</strong> be declared as an
array of size four, containing 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-tesslevelinner" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessLevelInner</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelInner</code> built-in decoration will
make that variable contain the inner tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelInner</code> <strong>can</strong> be written to, controlling the tessellation factors
for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong>can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelInner</code> <strong>can</strong> read the values written by the tessellation control
shader.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04394" href="#VUID-TessLevelInner-TessLevelInner-04394"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04394</span><br>

The <code>TessLevelInner</code> decoration <strong>must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04395" href="#VUID-TessLevelInner-TessLevelInner-04395"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04395</span><br>

The variable decorated with <code>TessLevelInner</code> within the
<code>TessellationControl</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04396" href="#VUID-TessLevelInner-TessLevelInner-04396"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04396</span><br>

The variable decorated with <code>TessLevelInner</code> within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04397" href="#VUID-TessLevelInner-TessLevelInner-04397"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04397</span><br>

The variable decorated with <code>TessLevelInner</code> <strong>must</strong> be declared as an
array of size two, containing 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-vertexindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>VertexIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>VertexIndex</code> built-in decoration will
make that variable contain the index of the vertex that is being processed
by the current vertex shader invocation.
For non-indexed draws, this variable begins at the <code>firstVertex</code>
parameter to <a href="drawing.html#vkCmdDraw" class="xref page">vkCmdDraw</a> or the <code>firstVertex</code> member of a structure
consumed by <a href="drawing.html#vkCmdDrawIndirect" class="xref page">vkCmdDrawIndirect</a> and increments by one for each vertex in
the draw.
For indexed draws, its value is the content of the index buffer for the
vertex plus the <code>vertexOffset</code> parameter to <a href="drawing.html#vkCmdDrawIndexed" class="xref page">vkCmdDrawIndexed</a> or
the <code>vertexOffset</code> member of the structure consumed by
<a href="drawing.html#vkCmdDrawIndexedIndirect" class="xref page">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>VertexIndex</code> starts at the same starting value for each instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04398" href="#VUID-VertexIndex-VertexIndex-04398"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04398</span><br>

The <code>VertexIndex</code> decoration <strong>must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04399" href="#VUID-VertexIndex-VertexIndex-04399"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04399</span><br>

The variable decorated with <code>VertexIndex</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04400" href="#VUID-VertexIndex-VertexIndex-04400"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04400</span><br>

The variable decorated with <code>VertexIndex</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewIndex</code></dt>
<dd>
<p>The <code>ViewIndex</code> decoration <strong>can</strong> be applied to a shader input which will
be filled with the index of the view that is being processed by the current
shader invocation.</p>
<div class="paragraph">
<p>If multiview is enabled in the render pass, this value will be the index of
one of the bits set in the view mask of the subpass the pipeline is compiled
against.
If multiview is not enabled in the render pass, this value will be zero.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04401" href="#VUID-ViewIndex-ViewIndex-04401"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04401</span><br>

The <code>ViewIndex</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>Vertex</code>, <code>Geometry</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code> or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04402" href="#VUID-ViewIndex-ViewIndex-04402"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04402</span><br>

The variable decorated with <code>ViewIndex</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04403" href="#VUID-ViewIndex-ViewIndex-04403"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04403</span><br>

The variable decorated with <code>ViewIndex</code> <strong>must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewportindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewportIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>ViewportIndex</code> built-in decoration will
make that variable contain the index of the viewport.</p>
<div class="paragraph">
<p>In a
vertex, tessellation evaluation, or
geometry shader, the variable decorated with <code>ViewportIndex</code> can be
written to with the viewport index to which the primitive produced by that
shader will be directed.</p>
</div>
<div class="paragraph">
<p>The selected viewport index is used to select the
viewport transform and
scissor rectangle.</p>
</div>
<div class="paragraph">
<p>The last active
<em><a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a></em> (in pipeline order) controls the <code>ViewportIndex</code> that is used.
Outputs in previous shader stages are not used, even if the last stage fails
to write the <code>ViewportIndex</code>.</p>
</div>
<div class="paragraph">
<p>If the last active
<a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> shader entry point&#8217;s interface does not include a variable decorated
with <code>ViewportIndex</code>
then the first viewport is used.
If a <a href="pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shader stage</a> shader entry point&#8217;s interface includes a variable decorated with
<code>ViewportIndex</code>, it <strong>must</strong> write the same value to <code>ViewportIndex</code> for
all output vertices of a given primitive.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, the variable decorated with <code>ViewportIndex</code>
contains the viewport index of the primitive that the fragment invocation
belongs to.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04404" href="#VUID-ViewportIndex-ViewportIndex-04404"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04404</span><br>

The <code>ViewportIndex</code> decoration <strong>must</strong> be used only within the
<code>MeshEXT</code>, <code>MeshNV</code>, <code>Vertex</code>, <code>TessellationEvaluation</code>,
<code>Geometry</code>, or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04405" href="#VUID-ViewportIndex-ViewportIndex-04405"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04405</span><br>

If the <a href="features.html#features-shaderOutputViewportIndex" class="xref page">    <code>shaderOutputViewportIndex</code></a> feature is not enabled then the
<code>ViewportIndex</code> decoration <strong>must</strong> be used only within the
<code>Geometry</code> or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04406" href="#VUID-ViewportIndex-ViewportIndex-04406"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04406</span><br>

The variable decorated with <code>ViewportIndex</code> within the <code>MeshEXT</code>,
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04407" href="#VUID-ViewportIndex-ViewportIndex-04407"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04407</span><br>

The variable decorated with <code>ViewportIndex</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04408" href="#VUID-ViewportIndex-ViewportIndex-04408"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04408</span><br>

The variable decorated with <code>ViewportIndex</code> <strong>must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-07060" href="#VUID-ViewportIndex-ViewportIndex-07060"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-07060</span><br>

The variable decorated with <code>ViewportIndex</code> within the <code>MeshEXT</code>
<code>Execution</code> <code>Model</code> <strong>must</strong> also be decorated with the <code>PerPrimitiveEXT</code>
decoration</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-workgroupid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorkgroupId</code></dt>
<dd>
<p>Decorating a variable with the <code>WorkgroupId</code> built-in decoration will
make that variable contain the global workgroup that the current invocation
is a member of.
Each component ranges from a base value to a <span class="eq">base +  count</span> value,
based on the parameters passed into the dispatching commands.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04422" href="#VUID-WorkgroupId-WorkgroupId-04422"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04422</span><br>

The <code>WorkgroupId</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04423" href="#VUID-WorkgroupId-WorkgroupId-04423"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04423</span><br>

The variable decorated with <code>WorkgroupId</code> <strong>must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04424" href="#VUID-WorkgroupId-WorkgroupId-04424"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04424</span><br>

The variable decorated with <code>WorkgroupId</code> <strong>must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-workgroupsize" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorkgroupSize</code></dt>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SPIR-V 1.6 deprecated <code>WorkgroupSize</code> in favor of using the
<code>LocalSizeId</code> Execution Mode instead.
Support for <code>LocalSizeId</code> was added with <code><code>VK_KHR_maintenance4</code></code> and
promoted to core in Version 1.3.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Decorating an object with the <code>WorkgroupSize</code> built-in decoration will
make that object contain the dimensions of a local workgroup.
If an object is decorated with the <code>WorkgroupSize</code> decoration, this takes
precedence over any <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04425" href="#VUID-WorkgroupSize-WorkgroupSize-04425"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04425</span><br>

The <code>WorkgroupSize</code> decoration <strong>must</strong> be used only within the
<code>GLCompute</code>, <code>MeshEXT</code>, <code>TaskEXT</code>, <code>MeshNV</code>, or <code>TaskNV</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04426" href="#VUID-WorkgroupSize-WorkgroupSize-04426"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04426</span><br>

The variable decorated with <code>WorkgroupSize</code> <strong>must</strong> be a specialization
constant or a constant</p>
</li>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04427" href="#VUID-WorkgroupSize-WorkgroupSize-04427"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04427</span><br>

The variable decorated with <code>WorkgroupSize</code> <strong>must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
