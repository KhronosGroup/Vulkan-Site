<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Layers &amp; Extensions (Informative) :: Vulkan Documentation Project Demo</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_White_Dec16.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label for="search-input"></label><input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="spec" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Vulkan Specification and Proposals</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/fundamentals.html">Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/initialization.html">Initialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/devsandqueues.html">Devices and Queues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/cmdbuffers.html">Command Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/synchronization.html">Synchronization and Cache Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/renderpass.html">Render Pass</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/shaders.html">Shaders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/pipelines.html">Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/memory.html">Memory Allocation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/resources.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/samplers.html">Samplers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/descriptorsets.html">Resource Descriptors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/interfaces.html">Shader Interfaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/textures.html">Image Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/fragmentdensitymapops.html">Fragment Density Map Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/queries.html">Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/clears.html">Clear Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/copies.html">Copy Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/drawing.html">Drawing Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/fxvertex.html">Fixed-Function Vertex Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/tessellation.html">Tessellation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/geometry.html">Geometry Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_NV_mesh_shader/mesh.html">Mesh Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_HUAWEI_cluster_culling_shader/clusterculling.html">Cluster Culling Shading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/vertexpostproc.html">Fixed-Function Vertex Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/primsrast.html">Rasterization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/fragops.html">Fragment Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/framebuffer.html">The Framebuffer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/dispatch.html">Dispatching Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_NV_device_generated_commands/generatedcommands.html">Device-Generated Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/sparsemem.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_KHR_surface/wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html">Deferred Host Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_EXT_private_data.html">Private Data</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/accelstructures.html">Acceleration Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_EXT_opacity_micromap/micromaps.html">Micromap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/raytraversal.html">Ray Traversal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/raytracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_NV_memory_decompression.html">Memory Decompression</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/video_extensions.html">Video Coding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/VK_NV_optical_flow/optical_flow.html">Optical Flow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/extensions.html">Extending Vulkan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/limits.html">Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/formats.html">Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/capabilities.html">Additional Capabilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../chapters/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="spirvenv.html">Vulkan Environment for SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="memorymodel.html">Memory Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compressedtex.html">Compressed Image Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="versions.html">Core Revisions (Informative)</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="extensions.html">Layers &amp; Extensions (Informative)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="roadmap.html">Vulkan Roadmap Milestones</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="boilerplate.html">API Boilerplate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="invariance.html">Invariance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.html">Lexicon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="credits.html">Credits (Informative)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../proposals/index.html">Vulkan Proposals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Vulkan Roadmap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/Roadmap.html">Vulkan Roadmap</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extension Proposals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_AMD_shader_early_and_late_fragment_tests.html">VK_AMD_shader_early_and_late_fragment_tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_attachment_feedback_loop_layout.html">VK_EXT_attachment_feedback_loop_layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_graphics_pipeline_library.html">VK_EXT_graphics_pipeline_library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_image_2d_array_of_3d.html">VK_EXT_image_2d_array_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_image_compression_control.html">VK_EXT_image_compression_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_metal_objects.html">VK_EXT_metal_objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_multisampled_render_to_single_sampled.html">VK_EXT_multisampled_render_to_single_sampled</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_non_seamless_cube_map.html">VK_EXT_non_seamless_cube_map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_primitives_generated_query.html">VK_EXT_primitives_generated_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_rasterization_order_attachment_access.html">VK_EXT_rasterization_order_attachment_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_shader_module_identifier.html">VK_EXT_shader_module_identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_EXT_subpass_merge_feedback.html">VK_EXT_subpass_merge_feedback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_GOOGLE_surfaceless_query.html">VK_GOOGLE_surfaceless_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_HUAWEI_invocation_mask.html">VK_HUAWEI_invocation_mask</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_dynamic_rendering.html">VK_KHR_dynamic_rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_fragment_shader_barycentric.html">VK_KHR_fragment_shader_barycentric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_fragment_shading_rate.html">VK_KHR_fragment_shading_rate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_KHR_shader_integer_dot_product.html">VK_KHR_shader_integer_dot_product</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_QCOM_image_processing.html">VK_QCOM_image_processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/VK_QCOM_tile_properties.html">VK_QCOM_tile_properties</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extension Proposal Template</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../proposals/proposals/template.html">Proposal Template</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Specification and Proposals</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../guide/latest/index.html">Vulkan Guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../samples/latest/README.html">Vulkan Samples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Vulkan Specification and Proposals</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Specification and Proposals</a></li>
    <li><a href="extensions.html">Layers &amp; Extensions (Informative)</a></li>
  </ul>
</nav>
    <!--
  <div class="edit-this-page"><a href="https://github.com/KhronosGroup/Vulkan-Docs/edit/main/antora/modules/ROOT/pages/appendices/extensions.adoc">Edit this Page</a></div>
      -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Layers &amp; Extensions (Informative)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Extensions to the Vulkan API <strong>can</strong> be defined by authors, groups of authors,
and the Khronos Vulkan
Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p>
</div>
<div class="paragraph">
<p><a href="https://registry.khronos.org/vulkan/" class="bare">https://registry.khronos.org/vulkan/</a></p>
</div>
<div class="paragraph">
<p>and allows generating versions of the Specification incorporating different
extensions.</p>
</div>
<div class="paragraph">
<p>Authors creating extensions and layers <strong>must</strong> follow the mandatory procedures
described in the <a href="../chapters/introduction.html#vulkan-styleguide" class="xref page">Vulkan Documentation and Extensions</a>
document when creating extensions and layers.</p>
</div>
<div class="paragraph">
<p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core API + mandatory extensions required of all Vulkan implementations.</p>
</li>
<li>
<p>Core API + all registered and published Khronos (<code>KHR</code>) extensions.</p>
</li>
<li>
<p>Core API + all registered and published extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extensions are grouped as Khronos <code>KHR</code>, multivendor <code>EXT</code>, and then
alphabetically by author ID.
Within each group, extensions are listed in alphabetical order by their
name.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extension_dependencies"><a class="anchor" href="#_extension_dependencies"></a>Extension Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions which have dependencies on specific core versions or on other
extensions will list such dependencies.</p>
</div>
<div class="paragraph">
<p>For core versions, the specified version must be supported at runtime.
All extensions implicitly require support for Vulkan 1.0.</p>
</div>
<div class="paragraph">
<p>For a device extension, use of any device-level functionality defined by
that extension requires that any extensions that extension depends on be
enabled.</p>
</div>
<div class="paragraph">
<p>For any extension, use of any instance-level functionality defined by that
extension requires only that any extensions that extension depends on be
supported at runtime.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension-appendices-list"><a class="anchor" href="#extension-appendices-list"></a>List of Current Extensions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_android_surface">VK_KHR_android_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_cooperative_matrix">VK_KHR_cooperative_matrix</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_fd">VK_KHR_external_fence_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_win32">VK_KHR_external_fence_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_fragment_shader_barycentric">VK_KHR_fragment_shader_barycentric</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_display_properties2">VK_KHR_get_display_properties2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_global_priority">VK_KHR_global_priority</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_incremental_present">VK_KHR_incremental_present</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance5">VK_KHR_maintenance5</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_map_memory2">VK_KHR_map_memory2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_performance_query">VK_KHR_performance_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_pipeline_executable_properties">VK_KHR_pipeline_executable_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_portability_enumeration">VK_KHR_portability_enumeration</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_present_id">VK_KHR_present_id</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_present_wait">VK_KHR_present_wait</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_query">VK_KHR_ray_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_maintenance1">VK_KHR_ray_tracing_maintenance1</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_position_fetch">VK_KHR_ray_tracing_position_fetch</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_clock">VK_KHR_shader_clock</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_subgroup_uniform_control_flow">VK_KHR_shader_subgroup_uniform_control_flow</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_surface_protected_capabilities">VK_KHR_surface_protected_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_swapchain_mutable_format">VK_KHR_swapchain_mutable_format</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_video_decode_h264">VK_KHR_video_decode_h264</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_video_decode_h265">VK_KHR_video_decode_h265</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_video_queue">VK_KHR_video_queue</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_wayland_surface">VK_KHR_wayland_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_workgroup_memory_explicit_layout">VK_KHR_workgroup_memory_explicit_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_xcb_surface">VK_KHR_xcb_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_xlib_surface">VK_KHR_xlib_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_acquire_drm_display">VK_EXT_acquire_drm_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_acquire_xlib_display">VK_EXT_acquire_xlib_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_astc_decode_mode">VK_EXT_astc_decode_mode</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_attachment_feedback_loop_dynamic_state">VK_EXT_attachment_feedback_loop_dynamic_state</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_blend_operation_advanced">VK_EXT_blend_operation_advanced</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_border_color_swizzle">VK_EXT_border_color_swizzle</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_calibrated_timestamps">VK_EXT_calibrated_timestamps</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_color_write_enable">VK_EXT_color_write_enable</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_conditional_rendering">VK_EXT_conditional_rendering</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_custom_border_color">VK_EXT_custom_border_color</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_depth_bias_control">VK_EXT_depth_bias_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_depth_clamp_zero_one">VK_EXT_depth_clamp_zero_one</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_depth_clip_control">VK_EXT_depth_clip_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_depth_clip_enable">VK_EXT_depth_clip_enable</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_descriptor_buffer">VK_EXT_descriptor_buffer</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_device_address_binding_report">VK_EXT_device_address_binding_report</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_device_fault">VK_EXT_device_fault</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_device_memory_report">VK_EXT_device_memory_report</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_directfb_surface">VK_EXT_directfb_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_display_control">VK_EXT_display_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_display_surface_counter">VK_EXT_display_surface_counter</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_dynamic_rendering_unused_attachments">VK_EXT_dynamic_rendering_unused_attachments</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_extended_dynamic_state3">VK_EXT_extended_dynamic_state3</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_external_memory_acquire_unmodified">VK_EXT_external_memory_acquire_unmodified</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_external_memory_dma_buf">VK_EXT_external_memory_dma_buf</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_external_memory_host">VK_EXT_external_memory_host</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_filter_cubic">VK_EXT_filter_cubic</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_fragment_density_map2">VK_EXT_fragment_density_map2</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_fragment_shader_interlock">VK_EXT_fragment_shader_interlock</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_frame_boundary">VK_EXT_frame_boundary</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_full_screen_exclusive">VK_EXT_full_screen_exclusive</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_graphics_pipeline_library">VK_EXT_graphics_pipeline_library</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_hdr_metadata">VK_EXT_hdr_metadata</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_headless_surface">VK_EXT_headless_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_host_image_copy">VK_EXT_host_image_copy</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_2d_view_of_3d">VK_EXT_image_2d_view_of_3d</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_compression_control">VK_EXT_image_compression_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_compression_control_swapchain">VK_EXT_image_compression_control_swapchain</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_drm_format_modifier">VK_EXT_image_drm_format_modifier</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_sliced_view_of_3d">VK_EXT_image_sliced_view_of_3d</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_view_min_lod">VK_EXT_image_view_min_lod</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_index_type_uint8">VK_EXT_index_type_uint8</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_legacy_dithering">VK_EXT_legacy_dithering</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_line_rasterization">VK_EXT_line_rasterization</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_load_store_op_none">VK_EXT_load_store_op_none</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_memory_budget">VK_EXT_memory_budget</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_memory_priority">VK_EXT_memory_priority</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_mesh_shader">VK_EXT_mesh_shader</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_metal_objects">VK_EXT_metal_objects</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_multi_draw">VK_EXT_multi_draw</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_multisampled_render_to_single_sampled">VK_EXT_multisampled_render_to_single_sampled</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_mutable_descriptor_type">VK_EXT_mutable_descriptor_type</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_non_seamless_cube_map">VK_EXT_non_seamless_cube_map</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_opacity_micromap">VK_EXT_opacity_micromap</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pageable_device_local_memory">VK_EXT_pageable_device_local_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pci_bus_info">VK_EXT_pci_bus_info</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_physical_device_drm">VK_EXT_physical_device_drm</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_library_group_handles">VK_EXT_pipeline_library_group_handles</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_properties">VK_EXT_pipeline_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_protected_access">VK_EXT_pipeline_protected_access</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_robustness">VK_EXT_pipeline_robustness</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_post_depth_coverage">VK_EXT_post_depth_coverage</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_primitive_topology_list_restart">VK_EXT_primitive_topology_list_restart</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_primitives_generated_query">VK_EXT_primitives_generated_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_provoking_vertex">VK_EXT_provoking_vertex</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_rasterization_order_attachment_access">VK_EXT_rasterization_order_attachment_access</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_rgba10x6_formats">VK_EXT_rgba10x6_formats</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_robustness2">VK_EXT_robustness2</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_sample_locations">VK_EXT_sample_locations</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_atomic_float">VK_EXT_shader_atomic_float</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_atomic_float2">VK_EXT_shader_atomic_float2</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_image_atomic_int64">VK_EXT_shader_image_atomic_int64</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_module_identifier">VK_EXT_shader_module_identifier</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_object">VK_EXT_shader_object</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_stencil_export">VK_EXT_shader_stencil_export</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_tile_image">VK_EXT_shader_tile_image</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_subpass_merge_feedback">VK_EXT_subpass_merge_feedback</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_surface_maintenance1">VK_EXT_surface_maintenance1</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_swapchain_colorspace">VK_EXT_swapchain_colorspace</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_swapchain_maintenance1">VK_EXT_swapchain_maintenance1</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_transform_feedback">VK_EXT_transform_feedback</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_validation_cache">VK_EXT_validation_cache</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_validation_features">VK_EXT_validation_features</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_vertex_attribute_divisor">VK_EXT_vertex_attribute_divisor</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_vertex_input_dynamic_state">VK_EXT_vertex_input_dynamic_state</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_ycbcr_image_arrays">VK_EXT_ycbcr_image_arrays</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_buffer_marker">VK_AMD_buffer_marker</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_device_coherent_memory">VK_AMD_device_coherent_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_display_native_hdr">VK_AMD_display_native_hdr</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_gcn_shader">VK_AMD_gcn_shader</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_memory_overallocation_behavior">VK_AMD_memory_overallocation_behavior</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_pipeline_compiler_control">VK_AMD_pipeline_compiler_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_rasterization_order">VK_AMD_rasterization_order</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_ballot">VK_AMD_shader_ballot</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_core_properties">VK_AMD_shader_core_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_core_properties2">VK_AMD_shader_core_properties2</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_early_and_late_fragment_tests">VK_AMD_shader_early_and_late_fragment_tests</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_explicit_vertex_parameter">VK_AMD_shader_explicit_vertex_parameter</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_fragment_mask">VK_AMD_shader_fragment_mask</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_image_load_store_lod">VK_AMD_shader_image_load_store_lod</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_info">VK_AMD_shader_info</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_shader_trinary_minmax">VK_AMD_shader_trinary_minmax</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_texture_gather_bias_lod">VK_AMD_texture_gather_bias_lod</a></code></p>
</li>
<li>
<p><code><a href="#VK_ANDROID_external_memory_android_hardware_buffer">VK_ANDROID_external_memory_android_hardware_buffer</a></code></p>
</li>
<li>
<p><code><a href="#VK_ARM_shader_core_builtins">VK_ARM_shader_core_builtins</a></code></p>
</li>
<li>
<p><code><a href="#VK_ARM_shader_core_properties">VK_ARM_shader_core_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_FUCHSIA_buffer_collection">VK_FUCHSIA_buffer_collection</a></code></p>
</li>
<li>
<p><code><a href="#VK_FUCHSIA_external_memory">VK_FUCHSIA_external_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_FUCHSIA_external_semaphore">VK_FUCHSIA_external_semaphore</a></code></p>
</li>
<li>
<p><code><a href="#VK_FUCHSIA_imagepipe_surface">VK_FUCHSIA_imagepipe_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_GGP_frame_token">VK_GGP_frame_token</a></code></p>
</li>
<li>
<p><code><a href="#VK_GGP_stream_descriptor_surface">VK_GGP_stream_descriptor_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_GOOGLE_decorate_string">VK_GOOGLE_decorate_string</a></code></p>
</li>
<li>
<p><code><a href="#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></code></p>
</li>
<li>
<p><code><a href="#VK_GOOGLE_hlsl_functionality1">VK_GOOGLE_hlsl_functionality1</a></code></p>
</li>
<li>
<p><code><a href="#VK_GOOGLE_surfaceless_query">VK_GOOGLE_surfaceless_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_GOOGLE_user_type">VK_GOOGLE_user_type</a></code></p>
</li>
<li>
<p><code><a href="#VK_HUAWEI_cluster_culling_shader">VK_HUAWEI_cluster_culling_shader</a></code></p>
</li>
<li>
<p><code><a href="#VK_HUAWEI_invocation_mask">VK_HUAWEI_invocation_mask</a></code></p>
</li>
<li>
<p><code><a href="#VK_HUAWEI_subpass_shading">VK_HUAWEI_subpass_shading</a></code></p>
</li>
<li>
<p><code><a href="#VK_IMG_filter_cubic">VK_IMG_filter_cubic</a></code></p>
</li>
<li>
<p><code><a href="#VK_INTEL_performance_query">VK_INTEL_performance_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_INTEL_shader_integer_functions2">VK_INTEL_shader_integer_functions2</a></code></p>
</li>
<li>
<p><code><a href="#VK_LUNARG_direct_driver_loading">VK_LUNARG_direct_driver_loading</a></code></p>
</li>
<li>
<p><code><a href="#VK_MSFT_layered_driver">VK_MSFT_layered_driver</a></code></p>
</li>
<li>
<p><code><a href="#VK_NN_vi_surface">VK_NN_vi_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_acquire_winrt_display">VK_NV_acquire_winrt_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_compute_shader_derivatives">VK_NV_compute_shader_derivatives</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_cooperative_matrix">VK_NV_cooperative_matrix</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_copy_memory_indirect">VK_NV_copy_memory_indirect</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_corner_sampled_image">VK_NV_corner_sampled_image</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_coverage_reduction_mode">VK_NV_coverage_reduction_mode</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_dedicated_allocation_image_aliasing">VK_NV_dedicated_allocation_image_aliasing</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_descriptor_pool_overallocation">VK_NV_descriptor_pool_overallocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_device_diagnostics_config">VK_NV_device_diagnostics_config</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_device_generated_commands">VK_NV_device_generated_commands</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_device_generated_commands_compute">VK_NV_device_generated_commands_compute</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_external_memory_rdma">VK_NV_external_memory_rdma</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_fill_rectangle">VK_NV_fill_rectangle</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_fragment_shading_rate_enums">VK_NV_fragment_shading_rate_enums</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_geometry_shader_passthrough">VK_NV_geometry_shader_passthrough</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_inherited_viewport_scissor">VK_NV_inherited_viewport_scissor</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_linear_color_attachment">VK_NV_linear_color_attachment</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_low_latency">VK_NV_low_latency</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_memory_decompression">VK_NV_memory_decompression</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_mesh_shader">VK_NV_mesh_shader</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_optical_flow">VK_NV_optical_flow</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_present_barrier">VK_NV_present_barrier</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_ray_tracing_invocation_reorder">VK_NV_ray_tracing_invocation_reorder</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_ray_tracing_motion_blur">VK_NV_ray_tracing_motion_blur</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_sample_mask_override_coverage">VK_NV_sample_mask_override_coverage</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_scissor_exclusive">VK_NV_scissor_exclusive</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_shader_image_footprint">VK_NV_shader_image_footprint</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_shader_sm_builtins">VK_NV_shader_sm_builtins</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_shader_subgroup_partitioned">VK_NV_shader_subgroup_partitioned</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a></code></p>
</li>
<li>
<p><code><a href="#VK_NVX_binary_import">VK_NVX_binary_import</a></code></p>
</li>
<li>
<p><code><a href="#VK_NVX_image_view_handle">VK_NVX_image_view_handle</a></code></p>
</li>
<li>
<p><code><a href="#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_filter_cubic_clamp">VK_QCOM_filter_cubic_clamp</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_filter_cubic_weights">VK_QCOM_filter_cubic_weights</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_fragment_density_map_offset">VK_QCOM_fragment_density_map_offset</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_image_processing">VK_QCOM_image_processing</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_image_processing2">VK_QCOM_image_processing2</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_multiview_per_view_render_areas">VK_QCOM_multiview_per_view_render_areas</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_multiview_per_view_viewports">VK_QCOM_multiview_per_view_viewports</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_render_pass_shader_resolve">VK_QCOM_render_pass_shader_resolve</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_render_pass_store_ops">VK_QCOM_render_pass_store_ops</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_render_pass_transform">VK_QCOM_render_pass_transform</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_rotated_copy_commands">VK_QCOM_rotated_copy_commands</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_tile_properties">VK_QCOM_tile_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_QCOM_ycbcr_degamma">VK_QCOM_ycbcr_degamma</a></code></p>
</li>
<li>
<p><code><a href="#VK_QNX_external_memory_screen_buffer">VK_QNX_external_memory_screen_buffer</a></code></p>
</li>
<li>
<p><code><a href="#VK_QNX_screen_surface">VK_QNX_screen_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_SEC_amigo_profiling">VK_SEC_amigo_profiling</a></code></p>
</li>
<li>
<p><code><a href="#VK_VALVE_descriptor_set_host_mapping">VK_VALVE_descriptor_set_host_mapping</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="VK_KHR_acceleration_structure"><a class="anchor" href="#VK_KHR_acceleration_structure"></a>VK_KHR_acceleration_structure</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_acceleration_structure</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>151</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>13</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</a><br>
and<br>
<a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br>
and<br>
<a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_acceleration_structure] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_acceleration_structure extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata"><a class="anchor" href="#_other_extension_metadata"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Samuel Bourasseau, Adobe</p>
</li>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description"><a class="anchor" href="#_description"></a>Description</h3>
<div class="paragraph">
<p>In order to be efficient, rendering techniques such as ray tracing need a
quick way to identify which primitives may be intersected by a ray
traversing the geometries.
Acceleration structures are the most common way to represent the geometry
spatially sorted, in order to quickly identify such potential intersections.</p>
</div>
<div class="paragraph">
<p>This extension adds new functionalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acceleration structure objects and build commands</p>
</li>
<li>
<p>Structures to describe geometry inputs to acceleration structure builds</p>
</li>
<li>
<p>Acceleration structure copy commands</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types"><a class="anchor" href="#_new_object_types"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands"><a class="anchor" href="#_new_commands"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#vkBuildAccelerationStructuresKHR" class="xref page">vkBuildAccelerationStructuresKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresIndirectKHR" class="xref page">vkCmdBuildAccelerationStructuresIndirectKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresKHR" class="xref page">vkCmdBuildAccelerationStructuresKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureKHR" class="xref page">vkCmdCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureToMemoryKHR" class="xref page">vkCmdCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyMemoryToAccelerationStructureKHR" class="xref page">vkCmdCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdWriteAccelerationStructuresPropertiesKHR" class="xref page">vkCmdWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyAccelerationStructureKHR" class="xref page">vkCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyAccelerationStructureToMemoryKHR" class="xref page">vkCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyMemoryToAccelerationStructureKHR" class="xref page">vkCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkCreateAccelerationStructureKHR" class="xref page">vkCreateAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkDestroyAccelerationStructureKHR" class="xref page">vkDestroyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureBuildSizesKHR" class="xref page">vkGetAccelerationStructureBuildSizesKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureDeviceAddressKHR" class="xref page">vkGetAccelerationStructureDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkGetDeviceAccelerationStructureCompatibilityKHR" class="xref page">vkGetDeviceAccelerationStructureCompatibilityKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkWriteAccelerationStructuresPropertiesKHR" class="xref page">vkWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures"><a class="anchor" href="#_new_structures"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAabbPositionsKHR" class="xref page">VkAabbPositionsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureBuildGeometryInfoKHR" class="xref page">VkAccelerationStructureBuildGeometryInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureBuildRangeInfoKHR" class="xref page">VkAccelerationStructureBuildRangeInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureBuildSizesInfoKHR" class="xref page">VkAccelerationStructureBuildSizesInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureDeviceAddressInfoKHR" class="xref page">VkAccelerationStructureDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryAabbsDataKHR" class="xref page">VkAccelerationStructureGeometryAabbsDataKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryInstancesDataKHR" class="xref page">VkAccelerationStructureGeometryInstancesDataKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryKHR" class="xref page">VkAccelerationStructureGeometryKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureInstanceKHR" class="xref page">VkAccelerationStructureInstanceKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureVersionInfoKHR" class="xref page">VkAccelerationStructureVersionInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureInfoKHR" class="xref page">VkCopyAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureToMemoryInfoKHR" class="xref page">VkCopyAccelerationStructureToMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyMemoryToAccelerationStructureInfoKHR" class="xref page">VkCopyMemoryToAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkTransformMatrixKHR" class="xref page">VkTransformMatrixKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR" class="xref page">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkWriteDescriptorSet" class="xref page">VkWriteDescriptorSet</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkWriteDescriptorSetAccelerationStructureKHR" class="xref page">VkWriteDescriptorSetAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions"><a class="anchor" href="#_new_unions"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryDataKHR" class="xref page">VkAccelerationStructureGeometryDataKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkDeviceOrHostAddressConstKHR" class="xref page">VkDeviceOrHostAddressConstKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkDeviceOrHostAddressKHR" class="xref page">VkDeviceOrHostAddressKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums"><a class="anchor" href="#_new_enums"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureBuildTypeKHR" class="xref page">VkAccelerationStructureBuildTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureCompatibilityKHR" class="xref page">VkAccelerationStructureCompatibilityKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureCreateFlagBitsKHR" class="xref page">VkAccelerationStructureCreateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureTypeKHR" class="xref page">VkAccelerationStructureTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkBuildAccelerationStructureModeKHR" class="xref page">VkBuildAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeKHR" class="xref page">VkCopyAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagBitsKHR" class="xref page">VkGeometryFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsKHR" class="xref page">VkGeometryInstanceFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryTypeKHR" class="xref page">VkGeometryTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks"><a class="anchor" href="#_new_bitmasks"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureCreateFlagsKHR" class="xref page">VkAccelerationStructureCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagsKHR" class="xref page">VkBuildAccelerationStructureFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagsKHR" class="xref page">VkGeometryFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagsKHR" class="xref page">VkGeometryInstanceFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants"><a class="anchor" href="#_new_enum_constants"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ACCELERATION_STRUCTURE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ACCELERATION_STRUCTURE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/drawing.html#VkIndexType" class="xref page">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_COMPACTED_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_GEOMETRY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_SIZES_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_AABBS_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_INSTANCES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_TRIANGLES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_TO_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ACCELERATION_STRUCTURE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ACCELERATION_STRUCTURE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_ACCELERATION_STRUCTURE_KHR_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues"><a class="anchor" href="#_issues"></a>Issues</h3>
<div class="paragraph">
<p>(1) How does this extension differ from VK_NV_ray_tracing?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a summary of the main functional differences between
VK_KHR_acceleration_structure and VK_NV_ray_tracing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added acceleration structure serialization / deserialization
(<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_SERIALIZE_KHR</code>,
<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_DESERIALIZE_KHR</code>,
<a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureToMemoryKHR" class="xref page">vkCmdCopyAccelerationStructureToMemoryKHR</a>,
<a href="../chapters/accelstructures.html#vkCmdCopyMemoryToAccelerationStructureKHR" class="xref page">vkCmdCopyMemoryToAccelerationStructureKHR</a>)</p>
</li>
<li>
<p>document <a href="../chapters/accelstructures.html#acceleration-structure-inactive-prims" class="xref page">inactive primitives and    instances</a></p>
</li>
<li>
<p>added <a href="../chapters/features.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR" class="xref page">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a> structure</p>
</li>
<li>
<p>added indirect and batched acceleration structure builds
(<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresIndirectKHR" class="xref page">vkCmdBuildAccelerationStructuresIndirectKHR</a>)</p>
</li>
<li>
<p>added <a href="../chapters/accelstructures.html#host-acceleration-structure" class="xref page">host acceleration structure</a>
commands</p>
</li>
<li>
<p>reworked geometry structures so they could be better shared between
device, host, and indirect builds</p>
</li>
<li>
<p>explicitly made <a href="../chapters/resources.html#VkAccelerationStructureKHR" class="xref page">VkAccelerationStructureKHR</a> use device addresses</p>
</li>
<li>
<p>added acceleration structure compatibility check function
(<a href="../chapters/accelstructures.html#vkGetDeviceAccelerationStructureCompatibilityKHR" class="xref page">vkGetDeviceAccelerationStructureCompatibilityKHR</a>)</p>
</li>
<li>
<p>add parameter for requesting memory requirements for host and/or device
build</p>
</li>
<li>
<p>added format feature for acceleration structure build vertex formats
(<code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Can you give a more detailed comparison of differences and similarities
between VK_NV_ray_tracing and VK_KHR_acceleration_structure?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a more detailed comparison of which commands, structures,
and enums are aliased, changed, or removed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aliased functionality&#8201;&#8212;&#8201;enums, structures, and commands that are
considered equivalent:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkGeometryTypeNV" class="xref page">VkGeometryTypeNV</a> ↔ <a href="../chapters/resources.html#VkGeometryTypeKHR" class="xref page">VkGeometryTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureTypeNV" class="xref page">VkAccelerationStructureTypeNV</a> ↔
<a href="../chapters/resources.html#VkAccelerationStructureTypeKHR" class="xref page">VkAccelerationStructureTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeNV" class="xref page">VkCopyAccelerationStructureModeNV</a> ↔
<a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeKHR" class="xref page">VkCopyAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagsNV" class="xref page">VkGeometryFlagsNV</a> ↔ <a href="../chapters/resources.html#VkGeometryFlagsKHR" class="xref page">VkGeometryFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagBitsNV" class="xref page">VkGeometryFlagBitsNV</a> ↔ <a href="../chapters/resources.html#VkGeometryFlagBitsKHR" class="xref page">VkGeometryFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagsNV" class="xref page">VkGeometryInstanceFlagsNV</a> ↔ <a href="../chapters/accelstructures.html#VkGeometryInstanceFlagsKHR" class="xref page">VkGeometryInstanceFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsNV" class="xref page">VkGeometryInstanceFlagBitsNV</a> ↔
<a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsKHR" class="xref page">VkGeometryInstanceFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagsNV" class="xref page">VkBuildAccelerationStructureFlagsNV</a> ↔
<a href="../chapters/resources.html#VkBuildAccelerationStructureFlagsKHR" class="xref page">VkBuildAccelerationStructureFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsNV" class="xref page">VkBuildAccelerationStructureFlagBitsNV</a> ↔
<a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkTransformMatrixNV" class="xref page">VkTransformMatrixNV</a> ↔ <a href="../chapters/accelstructures.html#VkTransformMatrixKHR" class="xref page">VkTransformMatrixKHR</a> (added to
VK_NV_ray_tracing for descriptive purposes)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAabbPositionsNV" class="xref page">VkAabbPositionsNV</a> ↔ <a href="../chapters/accelstructures.html#VkAabbPositionsKHR" class="xref page">VkAabbPositionsKHR</a> (added to
VK_NV_ray_tracing for descriptive purposes)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureInstanceNV" class="xref page">VkAccelerationStructureInstanceNV</a> ↔
<a href="../chapters/accelstructures.html#VkAccelerationStructureInstanceKHR" class="xref page">VkAccelerationStructureInstanceKHR</a> (added to VK_NV_ray_tracing
for descriptive purposes)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Changed enums, structures, and commands:</p>
<div class="ulist">
<ul>
<li>
<p>renamed <code>VK_GEOMETRY_INSTANCE_TRIANGLE_CULL_DISABLE_BIT_NV</code> &#8594;
<code>VK_GEOMETRY_INSTANCE_TRIANGLE_FACING_CULL_DISABLE_BIT_KHR</code> in
<a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsKHR" class="xref page">VkGeometryInstanceFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryTrianglesNV" class="xref page">VkGeometryTrianglesNV</a> &#8594;
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a> (device or host
address instead of buffer+offset)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryAABBNV" class="xref page">VkGeometryAABBNV</a> &#8594;
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryAabbsDataKHR" class="xref page">VkAccelerationStructureGeometryAabbsDataKHR</a> (device or host
address instead of buffer+offset)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryDataNV" class="xref page">VkGeometryDataNV</a> &#8594; <a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryDataKHR" class="xref page">VkAccelerationStructureGeometryDataKHR</a>
(union of triangle/aabbs/instances)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryNV" class="xref page">VkGeometryNV</a> &#8594; <a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryKHR" class="xref page">VkAccelerationStructureGeometryKHR</a> (changed
type of geometry)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureCreateInfoNV" class="xref page">VkAccelerationStructureCreateInfoNV</a> &#8594;
<a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> (reshuffle geometry
layout/information)</p>
</li>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingPropertiesNV</a> &#8594;
<a href="../chapters/limits.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR" class="xref page">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a> (for
acceleration structure properties, renamed <code>maxTriangleCount</code> to
<code>maxPrimitiveCount</code>, added per stage and update after bind limits)
and <a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a> (for ray
tracing pipeline properties)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMemoryRequirementsInfoNV" class="xref page">VkAccelerationStructureMemoryRequirementsInfoNV</a> (deleted -
replaced by allocating on top of <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a>)</p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkWriteDescriptorSetAccelerationStructureNV" class="xref page">VkWriteDescriptorSetAccelerationStructureNV</a> &#8594;
<a href="../chapters/descriptorsets.html#VkWriteDescriptorSetAccelerationStructureKHR" class="xref page">VkWriteDescriptorSetAccelerationStructureKHR</a> (different
acceleration structure type)</p>
</li>
<li>
<p><a href="../chapters/resources.html#vkCreateAccelerationStructureNV" class="xref page">vkCreateAccelerationStructureNV</a> &#8594;
<a href="../chapters/resources.html#vkCreateAccelerationStructureKHR" class="xref page">vkCreateAccelerationStructureKHR</a> (device address, different
geometry layout/information)</p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureMemoryRequirementsNV" class="xref page">vkGetAccelerationStructureMemoryRequirementsNV</a> (deleted -
replaced by allocating on top of <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a>)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructureNV" class="xref page">vkCmdBuildAccelerationStructureNV</a> &#8594;
<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresKHR" class="xref page">vkCmdBuildAccelerationStructuresKHR</a> (params moved to structs,
layout differences)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureNV" class="xref page">vkCmdCopyAccelerationStructureNV</a> &#8594;
<a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureKHR" class="xref page">vkCmdCopyAccelerationStructureKHR</a> (params to struct, extendable)</p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureHandleNV" class="xref page">vkGetAccelerationStructureHandleNV</a> &#8594;
<a href="../chapters/resources.html#vkGetAccelerationStructureDeviceAddressKHR" class="xref page">vkGetAccelerationStructureDeviceAddressKHR</a> (device address
instead of handle)</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMemoryRequirementsTypeNV" class="xref page">VkAccelerationStructureMemoryRequirementsTypeNV</a> &#8594; size queries
for scratch space moved to
<a href="../chapters/resources.html#vkGetAccelerationStructureBuildSizesKHR" class="xref page">vkGetAccelerationStructureBuildSizesKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkDestroyAccelerationStructureNV" class="xref page">vkDestroyAccelerationStructureNV</a> &#8594;
<a href="../chapters/resources.html#vkDestroyAccelerationStructureKHR" class="xref page">vkDestroyAccelerationStructureKHR</a> (different acceleration
structure types)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdWriteAccelerationStructuresPropertiesNV" class="xref page">vkCmdWriteAccelerationStructuresPropertiesNV</a> &#8594;
<a href="../chapters/accelstructures.html#vkCmdWriteAccelerationStructuresPropertiesKHR" class="xref page">vkCmdWriteAccelerationStructuresPropertiesKHR</a> (different
acceleration structure types)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Added enums, structures and commands:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_TYPE_INSTANCES_KHR</code> to <a href="../chapters/resources.html#VkGeometryTypeKHR" class="xref page">VkGeometryTypeKHR</a> enum</p>
</li>
<li>
<p><code>VK_COPY_ACCELERATION_STRUCTURE_MODE_SERIALIZE_KHR</code>,
<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_DESERIALIZE_KHR</code> to
<a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeKHR" class="xref page">VkCopyAccelerationStructureModeKHR</a> enum</p>
</li>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR" class="xref page">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a> structure</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureBuildTypeKHR" class="xref page">VkAccelerationStructureBuildTypeKHR</a> enum</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkBuildAccelerationStructureModeKHR" class="xref page">VkBuildAccelerationStructureModeKHR</a> enum</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkDeviceOrHostAddressKHR" class="xref page">VkDeviceOrHostAddressKHR</a> and <a href="../chapters/accelstructures.html#VkDeviceOrHostAddressConstKHR" class="xref page">VkDeviceOrHostAddressConstKHR</a>
unions</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureBuildRangeInfoKHR" class="xref page">VkAccelerationStructureBuildRangeInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryInstancesDataKHR" class="xref page">VkAccelerationStructureGeometryInstancesDataKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureDeviceAddressInfoKHR" class="xref page">VkAccelerationStructureDeviceAddressInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureVersionInfoKHR" class="xref page">VkAccelerationStructureVersionInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/raytracing.html#VkStridedDeviceAddressRegionKHR" class="xref page">VkStridedDeviceAddressRegionKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureToMemoryInfoKHR" class="xref page">VkCopyAccelerationStructureToMemoryInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyMemoryToAccelerationStructureInfoKHR" class="xref page">VkCopyMemoryToAccelerationStructureInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureInfoKHR" class="xref page">VkCopyAccelerationStructureInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkBuildAccelerationStructuresKHR" class="xref page">vkBuildAccelerationStructuresKHR</a> command (host build)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyAccelerationStructureKHR" class="xref page">vkCopyAccelerationStructureKHR</a> command (host copy)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyAccelerationStructureToMemoryKHR" class="xref page">vkCopyAccelerationStructureToMemoryKHR</a> (host serialize)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCopyMemoryToAccelerationStructureKHR" class="xref page">vkCopyMemoryToAccelerationStructureKHR</a> (host deserialize)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkWriteAccelerationStructuresPropertiesKHR" class="xref page">vkWriteAccelerationStructuresPropertiesKHR</a> (host properties)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureToMemoryKHR" class="xref page">vkCmdCopyAccelerationStructureToMemoryKHR</a> (device serialize)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyMemoryToAccelerationStructureKHR" class="xref page">vkCmdCopyMemoryToAccelerationStructureKHR</a> (device deserialize)</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkGetDeviceAccelerationStructureCompatibilityKHR" class="xref page">vkGetDeviceAccelerationStructureCompatibilityKHR</a> (serialization)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the internal provisional (VK_KHR_ray_tracing v9) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>added <code>geometryFlags</code> to
<code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> (later reworked
to obsolete this)</p>
</li>
<li>
<p>added <code>minAccelerationStructureScratchOffsetAlignment</code> property to
VkPhysicalDeviceRayTracingPropertiesKHR</p>
</li>
<li>
<p>fix naming and return enum from
<a href="../chapters/accelstructures.html#vkGetDeviceAccelerationStructureCompatibilityKHR" class="xref page">vkGetDeviceAccelerationStructureCompatibilityKHR</a></p>
<div class="ulist">
<ul>
<li>
<p>renamed <code>VkAccelerationStructureVersionKHR</code> to
<a href="../chapters/accelstructures.html#VkAccelerationStructureVersionInfoKHR" class="xref page">VkAccelerationStructureVersionInfoKHR</a></p>
</li>
<li>
<p>renamed <code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_KHR</code> to
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_INFO_KHR</code></p>
</li>
<li>
<p>removed <code>VK_ERROR_INCOMPATIBLE_VERSION_KHR</code></p>
</li>
<li>
<p>added <a href="../chapters/accelstructures.html#VkAccelerationStructureCompatibilityKHR" class="xref page">VkAccelerationStructureCompatibilityKHR</a> enum</p>
</li>
<li>
<p>remove return value from
<a href="../chapters/accelstructures.html#vkGetDeviceAccelerationStructureCompatibilityKHR" class="xref page">vkGetDeviceAccelerationStructureCompatibilityKHR</a> and added return
enum parameter</p>
</li>
</ul>
</div>
</li>
<li>
<p>Require Vulkan 1.1</p>
</li>
<li>
<p>added creation time capture and replay flags</p>
<div class="ulist">
<ul>
<li>
<p>added <a href="../chapters/resources.html#VkAccelerationStructureCreateFlagBitsKHR" class="xref page">VkAccelerationStructureCreateFlagBitsKHR</a> and
<a href="../chapters/resources.html#VkAccelerationStructureCreateFlagsKHR" class="xref page">VkAccelerationStructureCreateFlagsKHR</a></p>
</li>
<li>
<p>renamed the <code>flags</code> member of
<a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> to <code>buildFlags</code> (later
removed) and added the <code>createFlags</code> member</p>
</li>
</ul>
</div>
</li>
<li>
<p>change <a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresIndirectKHR" class="xref page">vkCmdBuildAccelerationStructuresIndirectKHR</a> to use buffer
device address for indirect parameter</p>
</li>
<li>
<p>make <code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> an interaction instead of
a required extension (later went back on this)</p>
</li>
<li>
<p>renamed <code>VkAccelerationStructureBuildOffsetInfoKHR</code> to
<a href="../chapters/accelstructures.html#VkAccelerationStructureBuildRangeInfoKHR" class="xref page">VkAccelerationStructureBuildRangeInfoKHR</a></p>
<div class="ulist">
<ul>
<li>
<p>renamed the <code>ppOffsetInfos</code> parameter of
<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresKHR" class="xref page">vkCmdBuildAccelerationStructuresKHR</a> to <code>ppBuildRangeInfos</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Re-unify geometry description between build and create</p>
<div class="ulist">
<ul>
<li>
<p>remove <code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> and
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_GEOMETRY_TYPE_INFO_KHR</code></p>
</li>
<li>
<p>added <code>VkAccelerationStructureCreateSizeInfoKHR</code> structure (later
removed)</p>
</li>
<li>
<p>change type of the <code>pGeometryInfos</code> member of
<a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> from
<code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> to
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryKHR" class="xref page">VkAccelerationStructureGeometryKHR</a> (later removed)</p>
</li>
<li>
<p>added <code>pCreateSizeInfos</code> member to
<a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> (later removed)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix ppGeometries ambiguity, add pGeometries</p>
<div class="ulist">
<ul>
<li>
<p>remove <code>geometryArrayOfPointers</code> member of
VkAccelerationStructureBuildGeometryInfoKHR</p>
</li>
<li>
<p>disambiguate two meanings of <code>ppGeometries</code> by explicitly adding
<code>pGeometries</code> to the
<a href="../chapters/accelstructures.html#VkAccelerationStructureBuildGeometryInfoKHR" class="xref page">VkAccelerationStructureBuildGeometryInfoKHR</a> structure and require
one of them be <code>NULL</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>added <a href="../chapters/features.html#features-nullDescriptor" class="xref page"><code>nullDescriptor</code></a> support for
acceleration structures</p>
</li>
<li>
<p>changed the <code>update</code> member of
<a href="../chapters/accelstructures.html#VkAccelerationStructureBuildGeometryInfoKHR" class="xref page">VkAccelerationStructureBuildGeometryInfoKHR</a> from a bool to the
<code>mode</code> <a href="../chapters/accelstructures.html#VkBuildAccelerationStructureModeKHR" class="xref page">VkBuildAccelerationStructureModeKHR</a> enum which allows
future extensibility in update types</p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#VkDeferredOperationKHR" class="xref page">VkDeferredOperationKHR</a> is now a top-level parameter for
<a href="../chapters/accelstructures.html#vkBuildAccelerationStructuresKHR" class="xref page">vkBuildAccelerationStructuresKHR</a>,
<a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesKHR" class="xref page">vkCreateRayTracingPipelinesKHR</a>,
<a href="../chapters/accelstructures.html#vkCopyAccelerationStructureToMemoryKHR" class="xref page">vkCopyAccelerationStructureToMemoryKHR</a>,
<a href="../chapters/accelstructures.html#vkCopyAccelerationStructureKHR" class="xref page">vkCopyAccelerationStructureKHR</a>, and
<a href="../chapters/accelstructures.html#vkCopyMemoryToAccelerationStructureKHR" class="xref page">vkCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p>removed <code>VkDeferredOperationInfoKHR</code> structure</p>
</li>
<li>
<p>change deferred host creation/return parameter behavior such that the
implementation can modify such parameters until the deferred host
operation completes</p>
</li>
<li>
<p><code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> is required again</p>
</li>
</ul>
</div>
</li>
<li>
<p>Change acceleration structure build to always be sized</p>
<div class="ulist">
<ul>
<li>
<p>de-alias <code>VkAccelerationStructureMemoryRequirementsTypeNV</code> and
<code>VkAccelerationStructureMemoryRequirementsTypeKHR</code>, and remove
<code>VkAccelerationStructureMemoryRequirementsTypeKHR</code></p>
</li>
<li>
<p>add <a href="../chapters/resources.html#vkGetAccelerationStructureBuildSizesKHR" class="xref page">vkGetAccelerationStructureBuildSizesKHR</a> command and
<a href="../chapters/resources.html#VkAccelerationStructureBuildSizesInfoKHR" class="xref page">VkAccelerationStructureBuildSizesInfoKHR</a> structure and
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_SIZES_INFO_KHR</code>
enum to query sizes for acceleration structures and scratch storage</p>
</li>
<li>
<p>move size queries for scratch space to
<a href="../chapters/resources.html#vkGetAccelerationStructureBuildSizesKHR" class="xref page">vkGetAccelerationStructureBuildSizesKHR</a></p>
</li>
<li>
<p>remove <code>compactedSize</code>, <code>buildFlags</code>, <code>maxGeometryCount</code>,
<code>pGeometryInfos</code>, <code>pCreateSizeInfos</code> members of
<a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a> and add the <code>size</code>
member</p>
</li>
<li>
<p>add <code>maxVertex</code> member to
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a> structure</p>
</li>
<li>
<p>remove <code>VkAccelerationStructureCreateSizeInfoKHR</code> structure</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) What are the changes between the internal provisional
(VK_KHR_ray_tracing v9) release and the final (VK_KHR_acceleration_structure
v11) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>clarify buffer usage flags for ray tracing</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> is left alone in
<code><a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a></code> (required on <code>scratch</code> and
<code>instanceData</code>)</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code> is added as an alias
of <code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> in
<code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> and is required on shader binding
table buffers</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code>
is added in <code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> for all vertex,
index, transform, aabb, and instance buffer data referenced by device
build commands</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> is used for <code>scratchData</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>add max primitive counts (<code>ppMaxPrimitiveCounts</code>) to
<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresIndirectKHR" class="xref page">vkCmdBuildAccelerationStructuresIndirectKHR</a></p>
</li>
<li>
<p>Allocate acceleration structures from <code>VkBuffers</code> and add a mode to
constrain the device address</p>
<div class="ulist">
<ul>
<li>
<p>de-alias <code>VkBindAccelerationStructureMemoryInfoNV</code> and
<code>vkBindAccelerationStructureMemoryNV</code>, and remove
<code>VkBindAccelerationStructureMemoryInfoKHR</code>,
<code>VkAccelerationStructureMemoryRequirementsInfoKHR</code>, and
<code>vkGetAccelerationStructureMemoryRequirementsKHR</code></p>
</li>
<li>
<p>acceleration structures now take a <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a> and offset at
creation time for memory placement</p>
</li>
<li>
<p>add a new <code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code>
buffer usage for such buffers</p>
</li>
<li>
<p>add a new <code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code> acceleration
structure type for layering</p>
</li>
</ul>
</div>
</li>
<li>
<p>move <code>VK_GEOMETRY_TYPE_INSTANCES_KHR</code> to main enum instead of being
added via extension</p>
</li>
<li>
<p>make build commands more consistent - all now build multiple
acceleration structures and are named plurally
(<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresIndirectKHR" class="xref page">vkCmdBuildAccelerationStructuresIndirectKHR</a>,
<a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructuresKHR" class="xref page">vkCmdBuildAccelerationStructuresKHR</a>,
<a href="../chapters/accelstructures.html#vkBuildAccelerationStructuresKHR" class="xref page">vkBuildAccelerationStructuresKHR</a>)</p>
</li>
<li>
<p>add interactions with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> for
acceleration structures, including a new feature
(<code>descriptorBindingAccelerationStructureUpdateAfterBind</code>) and 3 new
properties (<code>maxPerStageDescriptorAccelerationStructures</code>,
<code>maxPerStageDescriptorUpdateAfterBindAccelerationStructures</code>,
<code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code>)</p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
<li>
<p>define synchronization requirements for builds, traces, and copies</p>
</li>
<li>
<p>define synchronization requirements for AS build inputs and indirect
build buffer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) What is <code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code> for?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is primarily intended for API layering.
In DXR, the acceleration structure is basically just a buffer in a special
layout, and you do not know at creation time whether it will be used as a
top or bottom level acceleration structure.
We thus added a generic acceleration structure type whose type is unknown at
creation time, but is specified at build time instead.
Applications which are written directly for Vulkan should not use it.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history"><a class="anchor" href="#_version_history"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Members of the Vulkan Ray Tracing TSG)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions (forked from VK_NV_ray_tracing)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-12-20 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Add const version of DeviceOrHostAddress (!3515)</p>
</li>
<li>
<p>Add VU to clarify that only handles in the current pipeline are valid
(!3518)</p>
</li>
<li>
<p>Restore some missing VUs and add in-place update language (#1902,
!3522)</p>
</li>
<li>
<p>rename VkAccelerationStructureInstanceKHR member from
accelerationStructure to accelerationStructureReference to better match
its type (!3523)</p>
</li>
<li>
<p>Allow VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS for pipeline creation if
shader group handles cannot be reused (!3523)</p>
</li>
<li>
<p>update documentation for the VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS
error code and add missing documentation for new return codes from
VK_KHR_deferred_host_operations (!3523)</p>
</li>
<li>
<p>list new query types for VK_KHR_ray_tracing (!3523)</p>
</li>
<li>
<p>Fix VU statements for VkAccelerationStructureGeometryKHR referring to
correct union members and update to use more current wording (!3523)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-01-10 (Daniel Koch, Jon Leech, Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Fix 'instance of' and 'that/which contains/defines' markup issues
(!3528)</p>
</li>
<li>
<p>factor out VK_KHR_pipeline_library as stand-alone extension (!3540)</p>
</li>
<li>
<p>Resolve Vulkan-hpp issues (!3543)</p>
<div class="ulist">
<ul>
<li>
<p>add missing require for VkGeometryInstanceFlagsKHR</p>
</li>
<li>
<p>de-alias VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_NV since
the KHR structure is no longer equivalent</p>
</li>
<li>
<p>add len to pDataSize attribute for
vkWriteAccelerationStructuresPropertiesKHR</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-01-23 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Improve vkWriteAccelerationStructuresPropertiesKHR, add return value
and VUs (#1947)</p>
</li>
<li>
<p>Clarify language to allow multiple raygen shaders (#1959)</p>
</li>
<li>
<p>Various editorial feedback (!3556)</p>
</li>
<li>
<p>Add language to help deal with looped self-intersecting fans (#1901)</p>
</li>
<li>
<p>Change vkCmdTraceRays{,Indirect}KHR args to pointers (!3559)</p>
</li>
<li>
<p>Add scratch address validation language (#1941, !3551)</p>
</li>
<li>
<p>Fix definition and add hierarchy information for shader call scope
(#1977, !3571)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2020-02-04 (Eric Werness, Jeff Bolz, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>remove vestigial accelerationStructureUUID (!3582)</p>
</li>
<li>
<p>update definition of repack instructions and improve memory model
interactions (#1910, #1913, !3584)</p>
</li>
<li>
<p>Fix wrong sType for VkPhysicalDeviceRayTracingFeaturesKHR (#1988)</p>
</li>
<li>
<p>Use provisional SPIR-V capabilities (#1987)</p>
</li>
<li>
<p>require rayTraversalPrimitiveCulling if rayQuery is supported (#1927)</p>
</li>
<li>
<p>Miss shaders do not have object parameters (!3592)</p>
</li>
<li>
<p>Fix missing required types in XML (!3592)</p>
</li>
<li>
<p>clarify matching conditions for update (!3592)</p>
</li>
<li>
<p>add goal that host and device builds be similar (!3592)</p>
</li>
<li>
<p>clarify that <code>maxPrimitiveCount</code> limit should apply to triangles
and AABBs (!3592)</p>
</li>
<li>
<p>Require alignment for instance arrayOfPointers (!3592)</p>
</li>
<li>
<p>Zero is a valid value for instance flags (!3592)</p>
</li>
<li>
<p>Add some alignment VUs that got lost in refactoring (!3592)</p>
</li>
<li>
<p>Recommend TMin epsilon rather than culling (!3592)</p>
</li>
<li>
<p>Get angle from dot product not cross product (!3592)</p>
</li>
<li>
<p>Clarify that AH can access the payload and attributes (!3592)</p>
</li>
<li>
<p>Match DXR behavior for inactive primitive definition (!3592)</p>
</li>
<li>
<p>Use a more generic term than degenerate for inactive to avoid confusion
(!3592)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2020-02-20 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>fix some dangling NV references (#1996)</p>
</li>
<li>
<p>rename VkCmdTraceRaysIndirectCommandKHR to
VkTraceRaysIndirectCommandKHR (!3607)</p>
</li>
<li>
<p>update contributor list (!3611)</p>
</li>
<li>
<p>use uint64_t instead of VkAccelerationStructureReferenceKHR in
VkAccelerationStructureInstanceKHR (#2004)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2020-02-28 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>remove HitTKHR SPIR-V builtin (spirv/spirv-extensions#7)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2020-03-06 (Tobias Hector, Dae Kim, Daniel Koch, Jeff Bolz,
Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>explicitly state that Tmax is updated when new closest intersection is
accepted (#2020,!3536)</p>
</li>
<li>
<p>Made references to min and max t values consistent (!3644)</p>
</li>
<li>
<p>finish enumerating differences relative to VK_NV_ray_tracing in issues
(1) and (2) (#1974,!3642)</p>
</li>
<li>
<p>fix formatting in some math equations (!3642)</p>
</li>
<li>
<p>Restrict the Hit Kind operand of <code>OpReportIntersectionKHR</code> to 7-bits
(spirv/spirv-extensions#8,!3646)</p>
</li>
<li>
<p>Say ray tracing '<strong>should</strong>' be watertight (#2008,!3631)</p>
</li>
<li>
<p>Clarify memory requirements for ray tracing buffers (#2005,!3649)</p>
</li>
<li>
<p>Add callable size limits (#1997,!3652)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2020-04-15 (Eric Werness, Daniel Koch, Tobias Hector, Joshua
Barczak)</p>
<div class="ulist">
<ul>
<li>
<p>Add geometry flags to acceleration structure creation (!3672)</p>
</li>
<li>
<p>add build scratch memory alignment
(minAccelerationStructureScratchOffsetAlignment) (#2065,!3725)</p>
</li>
<li>
<p>fix naming and return enum from
vkGetDeviceAccelerationStructureCompatibilityKHR (#2051,!3726)</p>
</li>
<li>
<p>require SPIR-V 1.4 (#2096,!3777)</p>
</li>
<li>
<p>added creation time capture/replay flags (#2104,!3774)</p>
</li>
<li>
<p>require Vulkan 1.1 (#2133,!3806)</p>
</li>
<li>
<p>use device addresses instead of VkBuffers for ray tracing commands
(#2074,!3815)</p>
</li>
<li>
<p>add interactions with Vulkan 1.2 and VK_KHR_vulkan_memory_model
(#2133,!3830)</p>
</li>
<li>
<p>make VK_KHR_pipeline_library an interaction instead of required
(#2045,#2108,!3830)</p>
</li>
<li>
<p>make VK_KHR_deferred_host_operations an interaction instead of required
(#2045,!3830)</p>
</li>
<li>
<p>removed maxCallableSize and added explicit stack size management for
ray pipelines (#1997,!3817,!3772,!3844)</p>
</li>
<li>
<p>improved documentation for VkAccelerationStructureVersionInfoKHR
(#2135,3835)</p>
</li>
<li>
<p>rename VkAccelerationStructureBuildOffsetInfoKHR to
VkAccelerationStructureBuildRangeInfoKHR (#2058,!3754)</p>
</li>
<li>
<p>Re-unify geometry description between build and create (!3754)</p>
</li>
<li>
<p>Fix ppGeometries ambiguity, add pGeometries (#2032,!3811)</p>
</li>
<li>
<p>add interactions with VK_EXT_robustness2 and allow nullDescriptor
support for acceleration structures (#1920,!3848)</p>
</li>
<li>
<p>added future extensibility for AS updates (#2114,!3849)</p>
</li>
<li>
<p>Fix VU for dispatchrays and add a limit on the size of the full grid
(#2160,!3851)</p>
</li>
<li>
<p>Add shaderGroupHandleAlignment property (#2180,!3875)</p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation (#2067,!3813)</p>
</li>
<li>
<p>Change acceleration structure build to always be sized
(#2131,#2197,#2198,!3854,!3883,!3880)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2020-07-03 (Mathieu Robart, Daniel Koch, Eric Werness,
Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_acceleration_structure (#1918,!3912)</p>
</li>
<li>
<p>clarify buffer usage flags for ray tracing (#2181,!3939)</p>
</li>
<li>
<p>add max primitive counts to build indirect command (#2233,!3944)</p>
</li>
<li>
<p>Allocate acceleration structures from VkBuffers and add a mode to
constrain the device address (#2131,!3936)</p>
</li>
<li>
<p>Move VK_GEOMETRY_TYPE_INSTANCES_KHR to main enum (#2243,!3952)</p>
</li>
<li>
<p>make build commands more consistent (#2247,!3958)</p>
</li>
<li>
<p>add interactions with UPDATE_AFTER_BIND (#2128,!3986)</p>
</li>
<li>
<p>correct and expand build command VUs (!4020)</p>
</li>
<li>
<p>fix copy command VUs (!4018)</p>
</li>
<li>
<p>added various alignment requirements (#2229,!3943)</p>
</li>
<li>
<p>fix valid usage for arrays of geometryCount items (#2198,!4010)</p>
</li>
<li>
<p>define what is allowed to change on RTAS updates and relevant VUs
(#2177,!3961)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2020-11-12 (Eric Werness, Josh Barczak, Daniel Koch, Tobias
Hector)</p>
<div class="ulist">
<ul>
<li>
<p>de-alias NV and KHR acceleration structure types and associated
commands (#2271,!4035)</p>
</li>
<li>
<p>specify alignment for host copy commands (#2273,!4037)</p>
</li>
<li>
<p>document
<code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
<li>
<p>specify that acceleration structures are non-linear (#2289,!4068)</p>
</li>
<li>
<p>add several missing VUs for strides, vertexFormat, and indexType
(#2315,!4069)</p>
</li>
<li>
<p>restore VUs for VkAccelerationStructureBuildGeometryInfoKHR
(#2337,!4098)</p>
</li>
<li>
<p>ban multi-instance memory for host operations (#2324,!4102)</p>
</li>
<li>
<p>allow dstAccelerationStructure to be null for
vkGetAccelerationStructureBuildSizesKHR (#2330,!4111)</p>
</li>
<li>
<p>more build VU cleanup (#2138,#4130)</p>
</li>
<li>
<p>specify host endianness for AS serialization (#2261,!4136)</p>
</li>
<li>
<p>add invertible transform matrix VU (#1710,!4140)</p>
</li>
<li>
<p>require geometryCount to be 1 for TLAS builds (!4145)</p>
</li>
<li>
<p>improved validity conditions for build addresses (#4142)</p>
</li>
<li>
<p>add single statement SPIR-V VUs, build limit VUs (!4158)</p>
</li>
<li>
<p>document limits for vertex and aabb strides (#2390,!4184)</p>
</li>
<li>
<p>specify that
<code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code> applies to
AS copies (#2382,#4173)</p>
</li>
<li>
<p>define sync for AS build inputs and indirect buffer (#2407,!4208)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2021-08-06 (Samuel Bourasseau)</p>
<div class="ulist">
<ul>
<li>
<p>rename VK_GEOMETRY_INSTANCE_TRIANGLE_FRONT_COUNTERCLOCKWISE_BIT_KHR to
VK_GEOMETRY_INSTANCE_TRIANGLE_FLIP_FACING_BIT_KHR (keep previous as
alias).</p>
</li>
<li>
<p>Clarify description and add note.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_android_surface"><a class="anchor" href="#VK_KHR_android_surface"></a>VK_KHR_android_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_android_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_android_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_android_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_2"><a class="anchor" href="#_other_extension_metadata_2"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-01-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_2"><a class="anchor" href="#_description_2"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_android_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an
<code>ANativeWindow</code>, Android&#8217;s native surface type.
The <code>ANativeWindow</code> represents the producer endpoint of any buffer
queue, regardless of consumer endpoint.
Common consumer endpoints for <code>ANativeWindows</code> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a <code>SurfaceTexture</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types"><a class="anchor" href="#_new_base_types"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>ANativeWindow</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_2"><a class="anchor" href="#_new_commands_2"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateAndroidSurfaceKHR" class="xref page">vkCreateAndroidSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_2"><a class="anchor" href="#_new_structures_2"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkAndroidSurfaceCreateInfoKHR" class="xref page">VkAndroidSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_2"><a class="anchor" href="#_new_bitmasks_2"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkAndroidSurfaceCreateFlagsKHR" class="xref page">VkAndroidSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_2"><a class="anchor" href="#_new_enum_constants_2"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ANDROID_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ANDROID_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_2"><a class="anchor" href="#_issues_2"></a>Issues</h3>
<div class="paragraph">
<p>1) Does Android need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Android display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Currently on Android, any physical device is expected to be able to present
to the system compositor, and all queue families must support the necessary
image layout transitions and synchronization operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_2"><a class="anchor" href="#_version_history_2"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to surface creation function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_cooperative_matrix"><a class="anchor" href="#VK_KHR_cooperative_matrix"></a>VK_KHR_cooperative_matrix</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_cooperative_matrix</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>507</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_cooperative_matrix] @kpet%0A*Here describe the issue or question you have about the VK_KHR_cooperative_matrix extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_3"><a class="anchor" href="#_other_extension_metadata_3"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-03</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_cooperative_matrix.html"><code>SPV_KHR_cooperative_matrix</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/khr/GL_KHR_cooperative_matrix.txt"><code>GL_KHR_cooperative_matrix</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Markus Tavenrath, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Kevin Petit, Arm Ltd.</p>
</li>
<li>
<p>Boris Zanin, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_3"><a class="anchor" href="#_description_3"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for using cooperative matrix types in SPIR-V.
Cooperative matrix types are medium-sized matrices that are primarily
supported in compute shaders, where the storage for the matrix is spread
across all invocations in some scope (usually a subgroup) and those
invocations cooperate to efficiently perform matrix multiplies.</p>
</div>
<div class="paragraph">
<p>Cooperative matrix types are defined by the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_cooperative_matrix.html"><code>SPV_KHR_cooperative_matrix</code></a>
SPIR-V extension and can be used with the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/khr/GL_KHR_cooperative_matrix.txt"><code>GL_KHR_cooperative_matrix</code></a>
GLSL extension.</p>
</div>
<div class="paragraph">
<p>This extension includes support for enumerating the matrix types and
dimensions that are supported by the implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_3"><a class="anchor" href="#_new_commands_3"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR" class="xref page">vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_3"><a class="anchor" href="#_new_structures_3"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkCooperativeMatrixPropertiesKHR" class="xref page">VkCooperativeMatrixPropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCooperativeMatrixFeaturesKHR" class="xref page">VkPhysicalDeviceCooperativeMatrixFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceCooperativeMatrixPropertiesKHR" class="xref page">VkPhysicalDeviceCooperativeMatrixPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_2"><a class="anchor" href="#_new_enums_2"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkComponentTypeKHR" class="xref page">VkComponentTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#VkScopeKHR" class="xref page">VkScopeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_3"><a class="anchor" href="#_new_enum_constants_3"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_COOPERATIVE_MATRIX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_COOPERATIVE_MATRIX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COOPERATIVE_MATRIX_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities"><a class="anchor" href="#_new_spir_v_capabilities"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-CooperativeMatrixKHR" class="xref page">CooperativeMatrixKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_3"><a class="anchor" href="#_issues_3"></a>Issues</h3>

</div>
<div class="sect2">
<h3 id="_version_history_3"><a class="anchor" href="#_version_history_3"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-05-03 (Kevin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>First KHR revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2019-02-05 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>NVIDIA vendor extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_deferred_host_operations"><a class="anchor" href="#VK_KHR_deferred_host_operations"></a>VK_KHR_deferred_host_operations</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_deferred_host_operations</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>269</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Josh Barczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_deferred_host_operations] @jbarczak%0A*Here describe the issue or question you have about the VK_KHR_deferred_host_operations extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jbarczak</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_4"><a class="anchor" href="#_other_extension_metadata_4"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Contributors to VK_KHR_acceleration_structure,
VK_KHR_ray_tracing_pipeline</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_4"><a class="anchor" href="#_description_4"></a>Description</h3>
<div class="paragraph">
<p>The <code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> extension defines the
infrastructure and usage patterns for deferrable commands, but does not
specify any commands as deferrable.
This is left to additional dependent extensions.
Commands <strong>must</strong> not be deferred unless the deferral is specifically allowed
by another extension which depends on
<code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_2"><a class="anchor" href="#_new_object_types_2"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#VkDeferredOperationKHR" class="xref page">VkDeferredOperationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_4"><a class="anchor" href="#_new_commands_4"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#vkCreateDeferredOperationKHR" class="xref page">vkCreateDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#vkDeferredOperationJoinKHR" class="xref page">vkDeferredOperationJoinKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#vkDestroyDeferredOperationKHR" class="xref page">vkDestroyDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#vkGetDeferredOperationMaxConcurrencyKHR" class="xref page">vkGetDeferredOperationMaxConcurrencyKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#vkGetDeferredOperationResultKHR" class="xref page">vkGetDeferredOperationResultKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_4"><a class="anchor" href="#_new_enum_constants_4"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEFERRED_HOST_OPERATIONS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEFERRED_HOST_OPERATIONS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OPERATION_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_OPERATION_NOT_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_THREAD_DONE_KHR</code></p>
</li>
<li>
<p><code>VK_THREAD_IDLE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_code_examples"><a class="anchor" href="#_code_examples"></a>Code Examples</h3>
<div class="paragraph">
<p>The following examples will illustrate the concept of deferrable operations
using a hypothetical example.
The command <code>vkDoSomethingExpensive</code> denotes a deferrable command.</p>
</div>
<div class="paragraph">
<p>The following example illustrates how a vulkan application might request
deferral of an expensive operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// create a deferred operation
VkDeferredOperationKHR hOp;
VkResult result = vkCreateDeferredOperationKHR(device, pCallbacks, &amp;hOp);
assert(result == VK_SUCCESS);

result = vkDoSomethingExpensive(device, hOp, ...);
assert( result == VK_OPERATION_DEFERRED_KHR );

// operation was deferred.  Execute it asynchronously
std::async::launch(
    [ hOp ] ( )
    {
        vkDeferredOperationJoinKHR(device, hOp);

        result = vkGetDeferredOperationResultKHR(device, hOp);

        // deferred operation is now complete.  'result' indicates success or failure

        vkDestroyDeferredOperationKHR(device, hOp, pCallbacks);
    }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example illustrates extracting concurrency from a single
deferred operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// create a deferred operation
VkDeferredOperationKHR hOp;
VkResult result = vkCreateDeferredOperationKHR(device, pCallbacks, &amp;hOp);
assert(result == VK_SUCCESS);

result = vkDoSomethingExpensive(device, hOp, ...);
assert( result == VK_OPERATION_DEFERRED_KHR );

// Query the maximum amount of concurrency and clamp to the desired maximum
uint32_t numLaunches = std::min(vkGetDeferredOperationMaxConcurrencyKHR(device, hOp), maxThreads);

std::vector&lt;std::future&lt;void&gt; &gt; joins;

for (uint32_t i = 0; i &lt; numLaunches; i++) {
  joins.emplace_back(std::async::launch(
    [ hOp ] ( )
    {
        vkDeferredOperationJoinKHR(device, hOp);
                // in a job system, a return of VK_THREAD_IDLE_KHR should queue another
                // job, but it is not functionally required
    }
  ));
}

for (auto &amp;f : joins) {
  f.get();
}

result = vkGetDeferredOperationResultKHR(device, hOp);

// deferred operation is now complete.  'result' indicates success or failure

vkDestroyDeferredOperationKHR(device, hOp, pCallbacks);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a subroutine which guarantees completion of a
deferred operation, in the presence of multiple worker threads, and returns
the result of the operation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">VkResult FinishDeferredOperation(VkDeferredOperationKHR hOp)
{
    // Attempt to join the operation until the implementation indicates that we should stop

    VkResult result = vkDeferredOperationJoinKHR(device, hOp);
    while( result == VK_THREAD_IDLE_KHR )
    {
        std::this_thread::yield();
        result = vkDeferredOperationJoinKHR(device, hOp);
    }

    switch( result )
    {
    case VK_SUCCESS:
        {
            // deferred operation has finished.  Query its result
            result = vkGetDeferredOperationResultKHR(device, hOp);
        }
        break;

    case VK_THREAD_DONE_KHR:
        {
            // deferred operation is being wrapped up by another thread
            //  wait for that thread to finish
            do
            {
                std::this_thread::yield();
                result = vkGetDeferredOperationResultKHR(device, hOp);
            } while( result == VK_NOT_READY );
        }
        break;

    default:
        assert(false); // other conditions are illegal.
        break;
    }

    return result;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_4"><a class="anchor" href="#_issues_4"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should this extension have a VkPhysicalDevice*FeaturesKHR structure?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension does not add any functionality on its own and requires a
dependent extension to actually enable functionality and thus there is no
value in adding a feature structure.
If necessary, any dependent extension could add a feature boolean if it
wanted to indicate that it is adding optional deferral support.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_4"><a class="anchor" href="#_version_history_4"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Josh Barczak, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-03-06 (Daniel Koch, Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Add missing VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR enum</p>
</li>
<li>
<p>fix sample code</p>
</li>
<li>
<p>Clarified deferred operation parameter lifetimes (#2018,!3647)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-05-15 (Josh Barczak)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify behavior of vkGetDeferredOperationMaxConcurrencyKHR, allowing
it to return 0 if the operation is complete (#2036,!3850)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-11-12 (Tobias Hector, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Remove VkDeferredOperationInfoKHR and change return value semantics
when deferred host operations are in use (#2067,3813)</p>
</li>
<li>
<p>clarify return value of vkGetDeferredOperationResultKHR (#2339,!4110)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_display"><a class="anchor" href="#VK_KHR_display"></a>VK_KHR_display</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>23</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Norbert Nopper <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display] @FslNopper%0A*Here describe the issue or question you have about the VK_KHR_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>FslNopper</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_5"><a class="anchor" href="#_other_extension_metadata_5"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_5"><a class="anchor" href="#_description_5"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the API to enumerate displays and available modes on
a given device.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_3"><a class="anchor" href="#_new_object_types_3"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayKHR" class="xref page">VkDisplayKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeKHR" class="xref page">VkDisplayModeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_5"><a class="anchor" href="#_new_commands_5"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateDisplayModeKHR" class="xref page">vkCreateDisplayModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateDisplayPlaneSurfaceKHR" class="xref page">vkCreateDisplayPlaneSurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayModePropertiesKHR" class="xref page">vkGetDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneCapabilitiesKHR" class="xref page">vkGetDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneSupportedDisplaysKHR" class="xref page">vkGetDisplayPlaneSupportedDisplaysKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayPlanePropertiesKHR" class="xref page">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayPropertiesKHR" class="xref page">vkGetPhysicalDeviceDisplayPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_4"><a class="anchor" href="#_new_structures_4"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeCreateInfoKHR" class="xref page">VkDisplayModeCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeParametersKHR" class="xref page">VkDisplayModeParametersKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModePropertiesKHR" class="xref page">VkDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneCapabilitiesKHR" class="xref page">VkDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlanePropertiesKHR" class="xref page">VkDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPropertiesKHR" class="xref page">VkDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplaySurfaceCreateInfoKHR" class="xref page">VkDisplaySurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_3"><a class="anchor" href="#_new_enums_3"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneAlphaFlagBitsKHR" class="xref page">VkDisplayPlaneAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_3"><a class="anchor" href="#_new_bitmasks_3"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeCreateFlagsKHR" class="xref page">VkDisplayModeCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneAlphaFlagsKHR" class="xref page">VkDisplayPlaneAlphaFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplaySurfaceCreateFlagsKHR" class="xref page">VkDisplaySurfaceCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceTransformFlagsKHR" class="xref page">VkSurfaceTransformFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_5"><a class="anchor" href="#_new_enum_constants_5"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DISPLAY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DISPLAY_KHR</code></p>
</li>
<li>
<p><code>VK_OBJECT_TYPE_DISPLAY_MODE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_5"><a class="anchor" href="#_issues_5"></a>Issues</h3>
<div class="paragraph">
<p>1) Which properties of a mode should be fixed in the mode information vs.
settable in some other function when setting the mode? E.g., do we need to
double the size of the mode pool to include both stereo and non-stereo
modes? YUV and RGB scanout even if they both take RGB input images? BGR vs.
RGB input? etc.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Many modern displays support at most a handful of
resolutions and timings natively.
Other &#8220;modes&#8221; are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or per-overlay
granularity.</p>
</div>
<div class="paragraph">
<p>To avoid the exponential growth of modes as mutable properties are added, as
was the case with <code>EGLConfig</code>/WGL pixel formats/<code>GLXFBConfig</code>, this
specification should separate out hardware properties and configurable state
into separate objects.
Modes and overlay planes will express capabilities of the hardware, while a
separate structure will allow applications to configure scaling, rotation,
mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</p>
</div>
<div class="paragraph">
<p>Note the resolution of this issue may affect issue 5 as well.</p>
</div>
<div class="paragraph">
<p>2) What properties of a display itself are useful?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue amounts
to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it hard
to parse existing discussion notes that refer to issues by number.</p>
</div>
<div class="paragraph">
<p>3) How are multiple overlay planes within a display or mode enumerated?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: They are referred to by an index.
Each display will report the number of overlay planes it contains.</p>
</div>
<div class="paragraph">
<p>4) Should swapchains be created relative to a mode or a display?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: When using this extension, swapchains are created
relative to a mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display&#8217;s current mode, the new mode will
be applied when the first image is presented to the swapchain, and the
default operating system mode, if any, will be restored when the swapchain
is destroyed.</p>
</div>
<div class="paragraph">
<p>5) Should users query generic ranges from displays and construct their own
modes explicitly using those constraints rather than querying a fixed set of
modes (Most monitors only have one real &#8220;mode&#8221; these days, even though
many support relatively arbitrary scaling, either on the monitor side or in
the GPU display engine, making &#8220;modes&#8221; something of a relic/compatibility
construct).</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Expose both.
Display information structures will expose a set of predefined modes, as
well as any attributes necessary to construct a customized mode.</p>
</div>
<div class="paragraph">
<p>6) Is it fine if we return the display and display mode handles in the
structure used to query their properties?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>7) Is there a possibility that not all displays of a device work with all of
the present queues of a device? If yes, how do we determine which displays
work with which present queues?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No known hardware has such limitations, but
determining such limitations is supported automatically using the existing
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> query mechanisms.</p>
</div>
<div class="paragraph">
<p>8) Should all presentation need to be done relative to an overlay plane, or
can a display mode + display be used alone to target an output?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Require specifying a plane explicitly.</p>
</div>
<div class="paragraph">
<p>9) Should displays have an associated window system display, such as an
<code>HDC</code> or <code>Display*</code>?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
Displays are independent of any windowing system in use on the system.
Further, neither <code>HDC</code> nor <code>Display*</code> refer to a physical display
object.</p>
</div>
<div class="paragraph">
<p>10) Are displays queried from a physical GPU or from a device instance?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Developers prefer to query modes directly from the
physical GPU so they can use display information as an input to their device
selection algorithms prior to device creation.
This avoids the need to create placeholder device instances to enumerate
displays.</p>
</div>
<div class="paragraph">
<p>This preference must be weighed against the extra initialization that must
be done by driver vendors prior to device instance creation to support this
usage.</p>
</div>
<div class="paragraph">
<p>11) Should displays and/or modes be dispatchable objects? If functions are
to take displays, overlays, or modes as their first parameter, they must be
dispatchable objects as defined in Khronos bug 13529.
If they are not added to the list of dispatchable objects, functions
operating on them must take some higher-level object as their first
parameter.
There is no performance case against making them dispatchable objects, but
they would be the first extension objects to be dispatchable.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</p>
</div>
<div class="paragraph">
<p>12) Should hardware cursor capabilities be exposed?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Defer.
This could be a separate extension on top of the base WSI specs.</p>
</div>
<div class="paragraph">
<p>if they are one physical display device to an end user, but may internally
be implemented as two side-by-side displays using the same display engine
(and sometimes cabling) resources as two physically separate display
devices.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Tiled displays will appear as a single display object in this
API.</p>
</div>
<div class="paragraph">
<p>14) Should the raw EDID data be included in the display information?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
A future extension could be added which reports the EDID if necessary.
This may be complicated by the outcome of issue 13.</p>
</div>
<div class="paragraph">
<p>15) Should min and max scaling factor capabilities of overlays be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which image
contents are fetched by the display engine when using a particular mode and
overlay pair.</p>
</div>
<div class="paragraph">
<p>16) Should devices be able to expose planes that can be moved between
displays? If so, how?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications can determine which displays a given plane supports using
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneSupportedDisplaysKHR" class="xref page">vkGetDisplayPlaneSupportedDisplaysKHR</a>.</p>
</div>
<div class="paragraph">
<p>17) Should there be a way to destroy display modes? If so, does it support
destroying &#8220;built in&#8221; modes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not in this extension.
A future extension could add this functionality.</p>
</div>
<div class="paragraph">
<p>18) What should the lifetime of display and built-in display mode objects
be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The lifetime of the instance.
These objects cannot be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</p>
</div>
<div class="paragraph">
<p>19) Should persistent mode for smart panels be enabled/disabled at swapchain
creation time, or on a per-present basis.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: On a per-present basis.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_display</code> and
<code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extensions was removed from the appendix
after revision 1.0.43.
The display enumeration example code was ported to the cube demo that is
shipped with the official Khronos SDK, and is being kept up-to-date in that
location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_5"><a class="anchor" href="#_version_history_5"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-02-24 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-03-12 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Added overlay enumeration for a display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-03-17 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed typos and namings as discussed in Bugzilla.</p>
</li>
<li>
<p>Reordered and grouped functions.</p>
</li>
<li>
<p>Added functions to query count of display, mode and overlay.</p>
</li>
<li>
<p>Added native display handle, which may be needed on some platforms to
create a native Window.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-03-18 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Removed primary and virtualPostion members (see comment of James Jones
in Bugzilla).</p>
</li>
<li>
<p>Added native overlay handle to information structure.</p>
</li>
<li>
<p>Replaced , with ; in struct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-03-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added WSI extension suffix to all items.</p>
</li>
<li>
<p>Made the whole API more &#8220;Vulkanish&#8221;.</p>
</li>
<li>
<p>Replaced all functions with a single vkGetDisplayInfoKHR function to
better match the rest of the API.</p>
</li>
<li>
<p>Made the display, display mode, and overlay objects be first class
objects, not subclasses of VkBaseObject as they do not support the
common functions anyways.</p>
</li>
<li>
<p>Renamed *Info structures to *Properties.</p>
</li>
<li>
<p>Removed overlayIndex field from VkOverlayProperties as there is an
implicit index already as a result of moving to a &#8220;Vulkanish&#8221; API.</p>
</li>
<li>
<p>Displays are not get through device, but through physical GPU to match
the rest of the Vulkan API.
Also this is something ISVs explicitly requested.</p>
</li>
<li>
<p>Added issue (6) and (7).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added an issues section</p>
</li>
<li>
<p>Added rotation and mirroring flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Combined the duplicate issues sections introduced in last change.</p>
</li>
<li>
<p>Added proposed resolutions to several issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-04-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased extension against Vulkan 0.82.0</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-04-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues (10) and (11).</p>
</li>
<li>
<p>Added more straw-man issue resolutions, and cleaned up the proposed
resolution for issue (4).</p>
</li>
<li>
<p>Updated the rotation and mirroring enums to have proper bitmask
semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-04-15 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added proposed resolution for issues (1) and (2).</p>
</li>
<li>
<p>Added issues (12), (13), (14), and (15)</p>
</li>
<li>
<p>Removed pNativeHandle field from overlay structure.</p>
</li>
<li>
<p>Fixed small compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rewrote the guts of the extension against the latest WSI swapchain
specifications and the latest Vulkan API.</p>
</li>
<li>
<p>Address overlay planes by their index rather than an object handle and
refer to them as &#8220;planes&#8221; rather than &#8220;overlays&#8221; to make it
slightly clearer that even a display with no &#8220;overlays&#8221; still has at
least one base &#8220;plane&#8221; that images can be displayed on.</p>
</li>
<li>
<p>Updated most of the issues.</p>
</li>
<li>
<p>Added an &#8220;extension type&#8221; section to the specification header.</p>
</li>
<li>
<p>Reused the VK_EXT_KHR_surface surface transform enumerations rather
than redefining them here.</p>
</li>
<li>
<p>Updated the example code to use the new semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &#8220;revision&#8221; to &#8220;version&#8221;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added alpha flags enum.</p>
</li>
<li>
<p>Added premultiplied alpha support.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added description section to the spec.</p>
</li>
<li>
<p>Added issues 16 - 18.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Planes are now a property of the entire device rather than individual
displays.
This allows planes to be moved between multiple displays on devices
that support it.</p>
</li>
<li>
<p>Added a function to create a VkSurfaceKHR object describing a display
plane and mode to align with the new per-platform surface creation
conventions.</p>
</li>
<li>
<p>Removed detailed mode timing data.
It was agreed that the mode extents and refresh rate are sufficient for
current use cases.
Other information could be added back in as an extension if it is
needed in the future.</p>
</li>
<li>
<p>Added support for smart/persistent/buffered display devices.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display to VK_KHR_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-11-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated example code to match revision 17 changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to creation functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
VkDisplayPlaneAlphaFlagBitsKHR for
VkDisplayPlanePropertiesKHR::alphaMode instead of
VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.</p>
</li>
<li>
<p>Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.</p>
</li>
<li>
<p>Use VkSurfaceTransformFlagBitsKHR instead of obsolete
VkSurfaceTransformKHR.</p>
</li>
<li>
<p>Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-12-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added missing &#8220;planeIndex&#8221; parameter to
vkGetDisplayPlaneSupportedDisplaysKHR()</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_display_swapchain"><a class="anchor" href="#VK_KHR_display_swapchain"></a>VK_KHR_display_swapchain</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display_swapchain] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_display_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_6"><a class="anchor" href="#_other_extension_metadata_6"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_6"><a class="anchor" href="#_description_6"></a>Description</h3>
<div class="paragraph">
<p>This extension provides an API to create a swapchain directly on a device&#8217;s
display without any underlying window system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_6"><a class="anchor" href="#_new_commands_6"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSharedSwapchainsKHR" class="xref page">vkCreateSharedSwapchainsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_5"><a class="anchor" href="#_new_structures_5"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPresentInfoKHR" class="xref page">VkDisplayPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_6"><a class="anchor" href="#_new_enum_constants_6"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_6"><a class="anchor" href="#_issues_6"></a>Issues</h3>
<div class="paragraph">
<p>1) Should swapchains sharing images each hold a reference to the images, or
should it be up to the application to destroy the swapchains and images in
an order that avoids the need for reference counting?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Take a reference.
The lifetime of presentable images is already complex enough.</p>
</div>
<div class="paragraph">
<p>2) Should the <code>srcRect</code> and <code>dstRect</code> parameters be specified as
part of the presentation command, or at swapchain creation time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As part of the presentation command.
This allows moving and scaling the image on the screen without the need to
respecify the mode or create a new swapchain and presentable images.</p>
</div>
<div class="paragraph">
<p>3) Should <code>srcRect</code> and <code>dstRect</code> be specified as rects, or separate
offset/extent values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must just
take care to obey the reported capabilities and not use non-zero offsets or
extents that require scaling, as appropriate.</p>
</div>
<div class="paragraph">
<p>4) How can applications create multiple swapchains that use the same images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: By calling <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSharedSwapchainsKHR" class="xref page">vkCreateSharedSwapchainsKHR</a>.</p>
</div>
<div class="paragraph">
<p>An earlier resolution used <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a>, chaining multiple
<a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a> structures through <code>pNext</code>.
In order to allow each swapchain to also allow other extension structs, a
level of indirection was used: <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>::<code>pNext</code>
pointed to a different structure, which had both <code>sType</code> and <code>pNext</code>
members for additional extensions, and also had a pointer to the next
<a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a> structure.
The number of swapchains to be created could only be found by walking this
linked list of alternating structures, and the <code>pSwapchains</code> out
parameter was reinterpreted to be an array of <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> handles.</p>
</div>
<div class="paragraph">
<p>Another option considered was a method to specify a &#8220;shared&#8221; swapchain
when creating a new swapchain, such that groups of swapchains using the same
images could be built up one at a time.
This was deemed unusable because drivers need to know all of the displays an
image will be used on when determining which internal formats and layouts to
use for that image.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_2"><a class="anchor" href="#_examples_2"></a>Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_display">VK_KHR_display</a></code> and
<code>VK_KHR_display_swapchain</code> extensions was removed from the appendix after
revision 1.0.43.
The display swapchain creation example code was ported to the cube demo that
is shipped with the official Khronos SDK, and is being kept up-to-date in
that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_6"><a class="anchor" href="#_version_history_6"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &#8220;revision&#8221; to &#8220;version&#8221;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Allow creating multiple swapchains that share the same images using a
single call to vkCreateSwapchainKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscores from SWAP_CHAIN in two enums.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for smart panels/buffered displays.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the changes to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkDisplaySwapchainCreateInfoKHR with
vkCreateSharedSwapchainsKHR, changing resolution of issue #4.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_fence_fd"><a class="anchor" href="#VK_KHR_external_fence_fd"></a>VK_KHR_external_fence_fd</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>116</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_fd] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_7"><a class="anchor" href="#_other_extension_metadata_7"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_7"><a class="anchor" href="#_description_7"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_7"><a class="anchor" href="#_new_commands_7"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetFenceFdKHR" class="xref page">vkGetFenceFdKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkImportFenceFdKHR" class="xref page">vkImportFenceFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_6"><a class="anchor" href="#_new_structures_6"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkFenceGetFdInfoKHR" class="xref page">VkFenceGetFdInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkImportFenceFdInfoKHR" class="xref page">VkImportFenceFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_7"><a class="anchor" href="#_new_enum_constants_7"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_7"><a class="anchor" href="#_issues_7"></a>Issues</h3>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code>.
That extension&#8217;s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_7"><a class="anchor" href="#_version_history_7"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_fence_win32"><a class="anchor" href="#VK_KHR_external_fence_win32"></a>VK_KHR_external_fence_win32</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>115</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_win32] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_8"><a class="anchor" href="#_other_extension_metadata_8"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_8"><a class="anchor" href="#_description_8"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from Windows handles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_8"><a class="anchor" href="#_new_commands_8"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetFenceWin32HandleKHR" class="xref page">vkGetFenceWin32HandleKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkImportFenceWin32HandleKHR" class="xref page">vkImportFenceWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_7"><a class="anchor" href="#_new_structures_7"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkFenceGetWin32HandleInfoKHR" class="xref page">VkFenceGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkImportFenceWin32HandleInfoKHR" class="xref page">VkImportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkFenceCreateInfo" class="xref page">VkFenceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkExportFenceWin32HandleInfoKHR" class="xref page">VkExportFenceWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_8"><a class="anchor" href="#_new_enum_constants_8"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_8"><a class="anchor" href="#_issues_8"></a>Issues</h3>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code>.
That extension&#8217;s issues apply equally to this extension.</p>
</div>
<div class="paragraph">
<p>1) Should D3D12 fence handle types be supported, like they are for
semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Doing so would require extending the fence signal and wait operations to
provide values to signal / wait for, like <code>VkD3D12FenceSubmitInfoKHR</code>
does.
A D3D12 fence can be signaled by importing it into a <a href="../chapters/synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a>
instead of a <a href="../chapters/synchronization.html#VkFence" class="xref page">VkFence</a>, and applications can check status or wait on the
D3D12 fence using non-Vulkan APIs.
The convenience of being able to do these operations on <code>VkFence</code>
objects does not justify the extra API complexity.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_8"><a class="anchor" href="#_version_history_8"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_memory_fd"><a class="anchor" href="#VK_KHR_external_memory_fd"></a>VK_KHR_external_memory_fd</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>75</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_fd] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_9"><a class="anchor" href="#_other_extension_metadata_9"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_9"><a class="anchor" href="#_description_9"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export POSIX file descriptor
handles from Vulkan memory objects and to import Vulkan memory objects from
POSIX file descriptor handles exported from other Vulkan memory objects or
from similar resources in other APIs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_9"><a class="anchor" href="#_new_commands_9"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryFdKHR" class="xref page">vkGetMemoryFdKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryFdPropertiesKHR" class="xref page">vkGetMemoryFdPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_8"><a class="anchor" href="#_new_structures_8"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryFdPropertiesKHR" class="xref page">VkMemoryFdPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkMemoryGetFdInfoKHR" class="xref page">VkMemoryGetFdInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMemoryFdInfoKHR" class="xref page">VkImportMemoryFdInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_9"><a class="anchor" href="#_new_enum_constants_9"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_FD_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_9"><a class="anchor" href="#_issues_9"></a>Issues</h3>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="../chapters/memory.html#vkGetMemoryFdKHR" class="xref page">vkGetMemoryFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the memory.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original memory object will not close the file descriptor or
remove its reference to the underlying memory resource associated with it.</p>
</div>
<div class="paragraph">
<p>2) Do drivers ever need to expose multiple file descriptors per memory
object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This would indicate there are actually multiple memory objects, rather than
a single memory object.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for POSIX file descriptor
memory handles created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size will be specified by future extensions that introduce such external
memory handle types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_9"><a class="anchor" href="#_version_history_9"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_memory_win32"><a class="anchor" href="#VK_KHR_external_memory_win32"></a>VK_KHR_external_memory_win32</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>74</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_win32] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_10"><a class="anchor" href="#_other_extension_metadata_10"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_10"><a class="anchor" href="#_description_10"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export Windows handles from Vulkan
memory objects and to import Vulkan memory objects from Windows handles
exported from other Vulkan memory objects or from similar resources in other
APIs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_10"><a class="anchor" href="#_new_commands_10"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryWin32HandleKHR" class="xref page">vkGetMemoryWin32HandleKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryWin32HandlePropertiesKHR" class="xref page">vkGetMemoryWin32HandlePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_9"><a class="anchor" href="#_new_structures_9"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryGetWin32HandleInfoKHR" class="xref page">VkMemoryGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkMemoryWin32HandlePropertiesKHR" class="xref page">VkMemoryWin32HandlePropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMemoryWin32HandleInfoKHR" class="xref page">VkExportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkImportMemoryWin32HandleInfoKHR" class="xref page">VkImportMemoryWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_10"><a class="anchor" href="#_new_enum_constants_10"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_WIN32_HANDLE_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_10"><a class="anchor" href="#_issues_10"></a>Issues</h3>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="../chapters/memory.html#vkGetMemoryWin32HandleKHR" class="xref page">vkGetMemoryWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the memory object will not destroy the handle or the handle&#8217;s
reference to the underlying memory resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for windows memory handles
created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size is determined by the associated image or buffer memory requirements
for external handle types that require dedicated allocations, and by the
size specified when creating the object from which the handle was exported
for other external handle types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_10"><a class="anchor" href="#_version_history_10"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_semaphore_fd"><a class="anchor" href="#VK_KHR_external_semaphore_fd"></a>VK_KHR_external_semaphore_fd</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>80</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_fd] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_11"><a class="anchor" href="#_other_extension_metadata_11"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_11"><a class="anchor" href="#_description_11"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_11"><a class="anchor" href="#_new_commands_11"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetSemaphoreFdKHR" class="xref page">vkGetSemaphoreFdKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkImportSemaphoreFdKHR" class="xref page">vkImportSemaphoreFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_10"><a class="anchor" href="#_new_structures_10"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkImportSemaphoreFdInfoKHR" class="xref page">VkImportSemaphoreFdInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreGetFdInfoKHR" class="xref page">VkSemaphoreGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_11"><a class="anchor" href="#_new_enum_constants_11"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_11"><a class="anchor" href="#_issues_11"></a>Issues</h3>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="../chapters/synchronization.html#vkGetSemaphoreFdKHR" class="xref page">vkGetSemaphoreFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the semaphore.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original semaphore object will not close the file descriptor
or remove its reference to the underlying semaphore resource associated with
it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_11"><a class="anchor" href="#_version_history_11"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_semaphore_win32"><a class="anchor" href="#VK_KHR_external_semaphore_win32"></a>VK_KHR_external_semaphore_win32</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>79</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_win32] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_12"><a class="anchor" href="#_other_extension_metadata_12"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_12"><a class="anchor" href="#_description_12"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from Windows handles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_12"><a class="anchor" href="#_new_commands_12"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetSemaphoreWin32HandleKHR" class="xref page">vkGetSemaphoreWin32HandleKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkImportSemaphoreWin32HandleKHR" class="xref page">vkImportSemaphoreWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_11"><a class="anchor" href="#_new_structures_11"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkImportSemaphoreWin32HandleInfoKHR" class="xref page">VkImportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreGetWin32HandleInfoKHR" class="xref page">VkSemaphoreGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkExportSemaphoreWin32HandleInfoKHR" class="xref page">VkExportSemaphoreWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkD3D12FenceSubmitInfoKHR" class="xref page">VkD3D12FenceSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_12"><a class="anchor" href="#_new_enum_constants_12"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_D3D12_FENCE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_12"><a class="anchor" href="#_issues_12"></a>Issues</h3>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="../chapters/synchronization.html#vkGetSemaphoreWin32HandleKHR" class="xref page">vkGetSemaphoreWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the semaphore object will not destroy the handle or the handle&#8217;s
reference to the underlying semaphore resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) Should applications be allowed to specify additional object attributes
for shared handles?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications will be allowed to provide similar attributes to those they
would to any other handle creation API.</p>
</div>
<div class="paragraph">
<p>4) How do applications communicate the desired fence values to use with
<code>D3D12_FENCE</code>-based Vulkan semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There are a couple of options.
The values for the signaled and reset states could be communicated up front
when creating the object and remain static for the life of the Vulkan
semaphore, or they could be specified using auxiliary structures when
submitting semaphore signal and wait operations, similar to what is done
with the keyed mutex extensions.
The latter is more flexible and consistent with the keyed mutex usage, but
the former is a much simpler API.</p>
</div>
<div class="paragraph">
<p>Since Vulkan tends to favor flexibility and consistency over simplicity, a
new structure specifying D3D12 fence acquire and release values is added to
the <a href="../chapters/cmdbuffers.html#vkQueueSubmit" class="xref page">vkQueueSubmit</a> function.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_12"><a class="anchor" href="#_version_history_12"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_fragment_shader_barycentric"><a class="anchor" href="#VK_KHR_fragment_shader_barycentric"></a>VK_KHR_fragment_shader_barycentric</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_fragment_shader_barycentric</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>323</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_fragment_shader_barycentric.adoc">VK_KHR_fragment_shader_barycentric</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_13"><a class="anchor" href="#_other_extension_metadata_13"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-03-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shader_barycentric.html"><code>SPV_KHR_fragment_shader_barycentric</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_fragment_shader_barycentric.txt"><code>GL_EXT_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Contributors to the VK_NV_fragment_shader_barycentric specification</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_13"><a class="anchor" href="#_description_13"></a>Description</h3>
<div class="paragraph">
<p>This extension is based on the <code><a href="#VK_NV_fragment_shader_barycentric">VK_NV_fragment_shader_barycentric</a></code>
extension, and adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shader_barycentric.html"><code>SPV_KHR_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional fragment shader variable
decorations in SPIR-V:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PerVertexKHR</code>, which indicates that a fragment shader input will not
have interpolated values, but instead must be accessed with an extra
array index that identifies one of the vertices of the primitive
producing the fragment</p>
</li>
<li>
<p><code>BaryCoordKHR</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using perspective interpolation</p>
</li>
<li>
<p><code>BaryCoordNoPerspKHR</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using linear interpolation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_EXT_fragment_shader_barycentric</code> map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in vec3 gl_BaryCoordEXT;</code> &#8594; <code>BaryCoordKHR</code></p>
</li>
<li>
<p><code>in vec3 gl_BaryCoordNoPerspEXT;</code> &#8594; <code>BaryCoordNoPerspKHR</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GLSL variables declared using the <code>pervertexEXT</code> GLSL qualifier are
expected to be decorated with <code>PerVertexKHR</code> in SPIR-V.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_12"><a class="anchor" href="#_new_structures_12"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentShaderBarycentricFeaturesKHR" class="xref page">VkPhysicalDeviceFragmentShaderBarycentricFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR" class="xref page">VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_13"><a class="anchor" href="#_new_enum_constants_13"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FRAGMENT_SHADER_BARYCENTRIC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FRAGMENT_SHADER_BARYCENTRIC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables"><a class="anchor" href="#_new_built_in_variables"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-barycoordkhr" class="xref page"><code>BaryCoordKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-barycoordnoperspkhr" class="xref page"><code>BaryCoordNoPerspKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_decorations"><a class="anchor" href="#_new_spir_v_decorations"></a>New SPIR-V Decorations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#shaders-interpolation-decorations-pervertexkhr" class="xref page"><code>PerVertexKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_2"><a class="anchor" href="#_new_spir_v_capabilities_2"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentBarycentricKHR" class="xref page">    <code>FragmentBarycentricKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_13"><a class="anchor" href="#_issues_13"></a>Issues</h3>
<div class="paragraph">
<p>1) What are the interactions with MSAA and how are <code>BaryCoordKHR</code> and
<code>BaryCoordNoPerspKHR</code> interpolated?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The inputs decorated with <code>BaryCoordKHR</code> or
<code>BaryCoordNoPerspKHR</code> <strong>may</strong> also be decorated with the <code>Centroid</code> or
<code>Sample</code> qualifiers to specify interpolation, like any other fragment
shader input.
If <a href="../chapters/features.html#features-shaderSampleRateInterpolationFunctions" class="xref page"><code>shaderSampleRateInterpolationFunctions</code></a> is enabled, the extended
instructions InterpolateAtCentroid, InterpolateAtOffset, and
InterpolateAtSample from the GLSL.std.450 <strong>may</strong> also be used with inputs
decorated with <code>BaryCoordKHR</code> or <code>BaryCoordNoPerspKHR</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_13"><a class="anchor" href="#_version_history_13"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-10 (Stu Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_fragment_shading_rate"><a class="anchor" href="#VK_KHR_fragment_shading_rate"></a>VK_KHR_fragment_shading_rate</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_fragment_shading_rate</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>227</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160; <a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.2" class="xref page">Version 1.2</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_fragment_shading_rate] @tobski%0A*Here describe the issue or question you have about the VK_KHR_fragment_shading_rate extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_fragment_shading_rate.adoc">VK_KHR_fragment_shading_rate</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_14"><a class="anchor" href="#_other_extension_metadata_14"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shading_rate.html"><code>SPV_KHR_fragment_shading_rate</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_fragment_shading_rate.txt"><code>GL_EXT_fragment_shading_rate</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Guennadi Riguer, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Pat Brown, Nvidia</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>Contributors to the VK_NV_shading_rate_image specification</p>
</li>
<li>
<p>Contributors to the VK_EXT_fragment_density_map specification</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_14"><a class="anchor" href="#_description_14"></a>Description</h3>
<div class="paragraph">
<p>This extension adds the ability to change the rate at which fragments are
shaded.
Rather than the usual single fragment invocation for each pixel covered by a
primitive, multiple pixels can be shaded by a single fragment shader
invocation.</p>
</div>
<div class="paragraph">
<p>Up to three methods are available to the application to change the fragment
shading rate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#primsrast-fragment-shading-rate-pipeline" class="xref page">Pipeline Fragment Shading Rate</a>, which allows the
specification of a rate per-draw.</p>
</li>
<li>
<p><a href="../chapters/primsrast.html#primsrast-fragment-shading-rate-primitive" class="xref page">Primitive Fragment Shading Rate</a>, which allows the
specification of a rate per primitive, specified during shading.</p>
</li>
<li>
<p><a href="../chapters/primsrast.html#primsrast-fragment-shading-rate-attachment" class="xref page">Attachment Fragment Shading Rate</a>, which allows the
specification of a rate per-region of the framebuffer, specified in a
specialized image attachment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, these rates can all be specified and combined in order to
adjust the overall detail in the image at each point.</p>
</div>
<div class="paragraph">
<p>This functionality can be used to focus shading efforts where higher levels
of detail are needed in some parts of a scene compared to others.
This can be particularly useful in high resolution rendering, or for XR
contexts.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for the <code>SPV_KHR_fragment_shading_rate</code>
extension which enables setting the
<a href="../chapters/primsrast.html#primsrast-fragment-shading-rate-primitive" class="xref page">primitive fragment shadingrate</a>, and allows querying the final shading rate from a fragment shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_13"><a class="anchor" href="#_new_commands_13"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetFragmentShadingRateKHR" class="xref page">vkCmdSetFragmentShadingRateKHR</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkGetPhysicalDeviceFragmentShadingRatesKHR" class="xref page">vkGetPhysicalDeviceFragmentShadingRatesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_13"><a class="anchor" href="#_new_structures_13"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPhysicalDeviceFragmentShadingRateKHR" class="xref page">VkPhysicalDeviceFragmentShadingRateKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentShadingRateFeaturesKHR" class="xref page">VkPhysicalDeviceFragmentShadingRateFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentShadingRatePropertiesKHR" class="xref page">VkPhysicalDeviceFragmentShadingRatePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkFragmentShadingRateAttachmentInfoKHR" class="xref page">VkFragmentShadingRateAttachmentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_4"><a class="anchor" href="#_new_enums_4"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkFragmentShadingRateCombinerOpKHR" class="xref page">VkFragmentShadingRateCombinerOpKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_14"><a class="anchor" href="#_new_enum_constants_14"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FRAGMENT_SHADING_RATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FRAGMENT_SHADING_RATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_FRAGMENT_SHADING_RATE_ATTACHMENT_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_FRAGMENT_SHADING_RATE_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAGMENT_SHADING_RATE_ATTACHMENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_FRAGMENT_SHADING_RATE_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_14"><a class="anchor" href="#_version_history_14"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-05-06 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_get_display_properties2"><a class="anchor" href="#VK_KHR_get_display_properties2"></a>VK_KHR_get_display_properties2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_display_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>122</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_display_properties2] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_get_display_properties2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_15"><a class="anchor" href="#_other_extension_metadata_15"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_15"><a class="anchor" href="#_description_15"></a>Description</h3>
<div class="paragraph">
<p>This extension provides new queries for device display properties and
capabilities that can be easily extended by other extensions, without
introducing any further queries.
This extension can be considered the <code><a href="#VK_KHR_display">VK_KHR_display</a></code> equivalent of
the <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_14"><a class="anchor" href="#_new_commands_14"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayModeProperties2KHR" class="xref page">vkGetDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneCapabilities2KHR" class="xref page">vkGetDisplayPlaneCapabilities2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR" class="xref page">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayProperties2KHR" class="xref page">vkGetPhysicalDeviceDisplayProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_14"><a class="anchor" href="#_new_structures_14"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeProperties2KHR" class="xref page">VkDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneCapabilities2KHR" class="xref page">VkDisplayPlaneCapabilities2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneInfo2KHR" class="xref page">VkDisplayPlaneInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPlaneProperties2KHR" class="xref page">VkDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayProperties2KHR" class="xref page">VkDisplayProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_15"><a class="anchor" href="#_new_enum_constants_15"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_DISPLAY_PROPERTIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_DISPLAY_PROPERTIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_14"><a class="anchor" href="#_issues_14"></a>Issues</h3>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_display_properties2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_display2</code></p>
</li>
<li>
<p>One extension, combined with <code>VK_KHR_surface_capabilites2</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should extensible input structs be added for these new functions:</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayProperties2KHR" class="xref page">vkGetPhysicalDeviceDisplayProperties2KHR</a>: No.
The only current input is a <a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a>.
Other inputs would not make sense.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR" class="xref page">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a>: No.
The only current input is a <a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a>.
Other inputs would not make sense.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayModeProperties2KHR" class="xref page">vkGetDisplayModeProperties2KHR</a>: No.
The only current inputs are a <a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> and a
<a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayModeKHR" class="xref page">VkDisplayModeKHR</a>.
Other inputs would not make sense.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Should additional display query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneSupportedDisplaysKHR" class="xref page">vkGetDisplayPlaneSupportedDisplaysKHR</a>: No.
Extensions should instead extend
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetDisplayPlaneCapabilitiesKHR" class="xref page">vkGetDisplayPlaneCapabilitiesKHR</a>().</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_15"><a class="anchor" href="#_version_history_15"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_get_surface_capabilities2"><a class="anchor" href="#VK_KHR_get_surface_capabilities2"></a>VK_KHR_get_surface_capabilities2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_surface_capabilities2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>120</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_surface_capabilities2] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_get_surface_capabilities2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_16"><a class="anchor" href="#_other_extension_metadata_16"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_16"><a class="anchor" href="#_description_16"></a>Description</h3>
<div class="paragraph">
<p>This extension provides new queries for device surface capabilities that can
be easily extended by other extensions, without introducing any further
queries.
This extension can be considered the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> equivalent of
the <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_15"><a class="anchor" href="#_new_commands_15"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormats2KHR" class="xref page">vkGetPhysicalDeviceSurfaceFormats2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_15"><a class="anchor" href="#_new_structures_15"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPhysicalDeviceSurfaceInfo2KHR" class="xref page">VkPhysicalDeviceSurfaceInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceFormat2KHR" class="xref page">VkSurfaceFormat2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_16"><a class="anchor" href="#_new_enum_constants_16"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_SURFACE_CAPABILITIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_SURFACE_CAPABILITIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_15"><a class="anchor" href="#_issues_15"></a>Issues</h3>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_surface_capabilities2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_surface2</code></p>
</li>
<li>
<p>One extension, combining a separate display-specific query extension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should additional WSI query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>: Yes.
The need for this motivated the extension.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceSupportKHR" class="xref page">vkGetPhysicalDeviceSurfaceSupportKHR</a>: No.
Currently only has boolean output.
Extensions should instead extend
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a>: Yes.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModesKHR" class="xref page">vkGetPhysicalDeviceSurfacePresentModesKHR</a>: No.
Recent discussion concluded this introduced too much variability for
applications to deal with.
Extensions should instead extend
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceXlibPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceXlibPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceXcbPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceXcbPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceWin32PresentationSupportKHR" class="xref page">vkGetPhysicalDeviceWin32PresentationSupportKHR</a>: Not in this
extension.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_16"><a class="anchor" href="#_version_history_16"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_global_priority"><a class="anchor" href="#VK_KHR_global_priority"></a>VK_KHR_global_priority</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_global_priority</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>189</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_global_priority] @tobski%0A*Here describe the issue or question you have about the VK_KHR_global_priority extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_17"><a class="anchor" href="#_other_extension_metadata_17"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_EXT_global_priority">VK_EXT_global_priority</a></code></p>
</li>
<li>
<p>Contributors to <code><a href="#VK_EXT_global_priority_query">VK_EXT_global_priority_query</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_17"><a class="anchor" href="#_description_17"></a>Description</h3>
<div class="paragraph">
<p>In Vulkan, users can specify device-scope queue priorities.
In some cases it may be useful to extend this concept to a system-wide
scope.
This device extension allows applications to query the global queue
priorities supported by a queue family, and then set a priority when
creating queues.
The default queue priority is <code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>.</p>
</div>
<div class="paragraph">
<p>Implementations can report which global priority levels are treated
differently by the implementation.
It is intended primarily for use in system integration along with certain
platform-specific priority enforcement rules.</p>
</div>
<div class="paragraph">
<p>The driver implementation will attempt to skew hardware resource allocation
in favour of the higher-priority task.
Therefore, higher-priority work may retain similar latency and throughput
characteristics even if the system is congested with lower priority work.</p>
</div>
<div class="paragraph">
<p>The global priority level of a queue shall take precedence over the
per-process queue priority
(<code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>).</p>
</div>
<div class="paragraph">
<p>Abuse of this feature may result in starving the rest of the system from
hardware resources.
Therefore, the driver implementation may deny requests to acquire a priority
above the default priority (<code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>) if
the caller does not have sufficient privileges.
In this scenario <code>VK_ERROR_NOT_PERMITTED_EXT</code> is returned.</p>
</div>
<div class="paragraph">
<p>The driver implementation may fail the queue allocation request if resources
required to complete the operation have been exhausted (either by the same
process or a different process).
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_16"><a class="anchor" href="#_new_structures_16"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceQueueCreateInfo" class="xref page">VkDeviceQueueCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceQueueGlobalPriorityCreateInfoKHR" class="xref page">VkDeviceQueueGlobalPriorityCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceGlobalPriorityQueryFeaturesKHR" class="xref page">VkPhysicalDeviceGlobalPriorityQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2" class="xref page">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyGlobalPriorityPropertiesKHR" class="xref page">VkQueueFamilyGlobalPriorityPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_5"><a class="anchor" href="#_new_enums_5"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueGlobalPriorityKHR" class="xref page">VkQueueGlobalPriorityKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_17"><a class="anchor" href="#_new_enum_constants_17"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GLOBAL_PRIORITY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GLOBAL_PRIORITY_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_GLOBAL_PRIORITY_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NOT_PERMITTED_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_GLOBAL_PRIORITY_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GLOBAL_PRIORITY_QUERY_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_GLOBAL_PRIORITY_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_16"><a class="anchor" href="#_issues_16"></a>Issues</h3>
<div class="paragraph">
<p>1) Can we additionally query whether a caller is permitted to acquire a
specific global queue priority in this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Whether a caller has enough privilege goes with the OS, and the Vulkan
driver cannot really guarantee that the privilege will not change in between
this query and the actual queue creation call.</p>
</div>
<div class="paragraph">
<p>2) If more than 1 queue using global priority is requested, is there a good
way to know which queue is failing the device creation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is not a good way at this moment, and it is also not quite actionable
for the applications to know that because the information may not be
accurate.
Queue creation can fail because of runtime constraints like insufficient
privilege or lack of resource, and the failure is not necessarily tied to
that particular queue configuration requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_17"><a class="anchor" href="#_version_history_17"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-10-22 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_incremental_present"><a class="anchor" href="#VK_KHR_incremental_present"></a>VK_KHR_incremental_present</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_incremental_present</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>85</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_incremental_present] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_incremental_present extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_18"><a class="anchor" href="#_other_extension_metadata_18"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Mika Isojarvi, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_18"><a class="anchor" href="#_description_18"></a>Description</h3>
<div class="paragraph">
<p>This device extension extends <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a>, from the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension, allowing an application to specify a
list of rectangular, modified regions of each image to present.
This should be used in situations where an application is only changing a
small portion of the presentable images within a swapchain, since it enables
the presentation engine to avoid wasting time presenting parts of the
surface that have not changed.</p>
</div>
<div class="paragraph">
<p>This extension is leveraged from the <code>EGL_KHR_swap_buffers_with_damage</code>
extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_17"><a class="anchor" href="#_new_structures_17"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentRegionKHR" class="xref page">VkPresentRegionKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentRegionsKHR" class="xref page">VkPresentRegionsKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_18"><a class="anchor" href="#_new_enum_constants_18"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_INCREMENTAL_PRESENT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_INCREMENTAL_PRESENT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_17"><a class="anchor" href="#_issues_17"></a>Issues</h3>
<div class="paragraph">
<p>1) How should we handle steroescopic-3D swapchains? We need to add a layer
for each rectangle.
One approach is to create another struct containing the <a href="../chapters/fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> plus
layer, and have <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentRegionsKHR" class="xref page">VkPresentRegionsKHR</a> point to an array of that struct.
Another approach is to have two parallel arrays, <code>pRectangles</code> and
<code>pLayers</code>, where <code>pRectangles</code>[i] and <code>pLayers</code>[i] must be used
together.
Which approach should we use, and if the array of a new structure, what
should that be called?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Create a new structure, which is a <a href="../chapters/fundamentals.html#VkRect2D" class="xref page">VkRect2D</a> plus a layer,
and will be called <a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a>.</p>
</div>
<div class="paragraph">
<p>2) Where is the origin of the <a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The upper left corner of the presentable image(s) of the
swapchain, per the definition of framebuffer coordinates.</p>
</div>
<div class="paragraph">
<p>3) Does the rectangular region, <a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a>, specify pixels of the
swapchain&#8217;s image(s), or of the surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Of the image(s).
Some presentation engines may scale the pixels of a swapchain&#8217;s image(s) to
the size of the surface.
The size of the swapchain&#8217;s image(s) will be consistent, where the size of
the surface may vary over time.</p>
</div>
<div class="paragraph">
<p>4) What if all of the rectangles for a given swapchain contain a width
and/or height of zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The application is indicating that no pixels changed since the
last present.
The presentation engine may use such a hint and not update any pixels for
the swapchain.
However, all other semantics of <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> must still be
honored, including waiting for semaphores to signal.</p>
</div>
<div class="paragraph">
<p>5) When the swapchain is created with
<code>VkSwapchainCreateInfoKHR</code>::<code>preTransform</code> set to a value other than
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, should the rectangular region,
<a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a>, be transformed to align with the <code>preTransform</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The rectangular region in <a href="../chapters/VK_KHR_surface/wsi.html#VkRectLayerKHR" class="xref page">VkRectLayerKHR</a> should not be transformed.
As such, it may not align with the extents of the swapchain&#8217;s image(s).
It is the responsibility of the presentation engine to transform the
rectangular region.
This matches the behavior of the Android presentation engine, which set the
precedent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_18"><a class="anchor" href="#_version_history_18"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-03-18 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified alignment of rectangles for presentation engines that support
transformed swapchains.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance5"><a class="anchor" href="#VK_KHR_maintenance5"></a>VK_KHR_maintenance5</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance5</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>471</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance5] @stu-s%0A*Here describe the issue or question you have about the VK_KHR_maintenance5 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>stu-s</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_maintenance5.adoc">VK_KHR_maintenance5</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_19"><a class="anchor" href="#_other_extension_metadata_19"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Slawomir Cygan, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_19"><a class="anchor" href="#_description_19"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_maintenance5</code> adds a collection of minor features, none of which
would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new <code>VK_FORMAT_A1B5G5R5_UNORM_PACK16_KHR</code> format</p>
</li>
<li>
<p>A new <code>VK_FORMAT_A8_UNORM_KHR</code> format</p>
</li>
<li>
<p>A property to indicate that multisample coverage operations are
performed after sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p>Relax VkBufferView creation requirements by allowing subsets of the
associated VkBuffer usage using <code>VkBufferUsageFlags2CreateInfoKHR</code></p>
</li>
<li>
<p>A new entry point <a href="../chapters/drawing.html#vkCmdBindIndexBuffer2KHR" class="xref page">vkCmdBindIndexBuffer2KHR</a>, allowing a range of
memory to be bound as an index buffer</p>
</li>
<li>
<p><a href="../chapters/initialization.html#vkGetDeviceProcAddr" class="xref page">vkGetDeviceProcAddr</a> must return <code>NULL</code> for supported core
functions beyond the version requested by the application.</p>
</li>
<li>
<p>A property to indicate that the sample mask test is performed after
sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p><code>vkCmdBindVertexBuffers2</code> now supports using <code>VK_WHOLE_SIZE</code> in the
<code>pSizes</code> parameter.</p>
</li>
<li>
<p>A default size of 1.0 is used if <code>PointSize</code> is not written</p>
</li>
<li>
<p>Shader modules are deprecated - applications can now pass
<a href="../chapters/shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a> as a chained struct to pipeline creation
via <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a></p>
</li>
<li>
<p>A function <a href="../chapters/renderpass.html#vkGetRenderingAreaGranularityKHR" class="xref page">vkGetRenderingAreaGranularityKHR</a> to query the optimal
render area for a dynamic rendering instance.</p>
</li>
<li>
<p>A property to indicate that depth/stencil texturing operations with
<code>VK_COMPONENT_SWIZZLE_ONE</code> have defined behavior</p>
</li>
<li>
<p>Add <a href="../chapters/resources.html#vkGetImageSubresourceLayout2KHR" class="xref page">vkGetImageSubresourceLayout2KHR</a> and a new function
<a href="../chapters/resources.html#vkGetDeviceImageSubresourceLayoutKHR" class="xref page">vkGetDeviceImageSubresourceLayoutKHR</a> to allow the application to
query the image memory layout without having to create an image object
and query it.</p>
</li>
<li>
<p>Allow <code>VK_REMAINING_ARRAY_LAYERS</code> as the <code>layerCount</code> member of
<a href="../chapters/copies.html#VkImageSubresourceLayers" class="xref page">VkImageSubresourceLayers</a></p>
</li>
<li>
<p>Adds stronger guarantees for propagation of <code>VK_ERROR_DEVICE_LOST</code>
return values</p>
</li>
<li>
<p>A property to indicate whether <code>PointSize</code> controls the final
rasterization of polygons if <a href="../chapters/primsrast.html#primsrast-polygonmode" class="xref page">polygon mode</a> is
<code>VK_POLYGON_MODE_POINT</code></p>
</li>
<li>
<p>Two properties to indicate the non-strict line rasterization algorithm
used</p>
</li>
<li>
<p>Two new flags words <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a> and
<a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a></p>
</li>
<li>
<p>Physical-device-level functions can now be called with any value in the
valid range for a type beyond the defined enumerants, such that
applications can avoid checking individual features, extensions, or
versions before querying supported properties of a particular enumerant.</p>
</li>
<li>
<p>Clarification that copies between images of any type are allowed,
treating 1D images as 2D images with a height of 1.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_16"><a class="anchor" href="#_new_commands_16"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdBindIndexBuffer2KHR" class="xref page">vkCmdBindIndexBuffer2KHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetDeviceImageSubresourceLayoutKHR" class="xref page">vkGetDeviceImageSubresourceLayoutKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetImageSubresourceLayout2KHR" class="xref page">vkGetImageSubresourceLayout2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#vkGetRenderingAreaGranularityKHR" class="xref page">vkGetRenderingAreaGranularityKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_18"><a class="anchor" href="#_new_structures_18"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkDeviceImageSubresourceInfoKHR" class="xref page">VkDeviceImageSubresourceInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageSubresource2KHR" class="xref page">VkImageSubresource2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingAreaInfoKHR" class="xref page">VkRenderingAreaInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkSubresourceLayout2KHR" class="xref page">VkSubresourceLayout2KHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferViewCreateInfo" class="xref page">VkBufferViewCreateInfo</a>, <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>, <a href="../chapters/capabilities.html#VkPhysicalDeviceExternalBufferInfo" class="xref page">VkPhysicalDeviceExternalBufferInfo</a>, <a href="../chapters/descriptorsets.html#VkDescriptorBufferBindingInfoEXT" class="xref page">VkDescriptorBufferBindingInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferUsageFlags2CreateInfoKHR" class="xref page">VkBufferUsageFlags2CreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkComputePipelineCreateInfo" class="xref page">VkComputePipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoNV" class="xref page">VkRayTracingPipelineCreateInfoNV</a>, <a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreateFlags2CreateInfoKHR" class="xref page">VkPipelineCreateFlags2CreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMaintenance5FeaturesKHR" class="xref page">VkPhysicalDeviceMaintenance5FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMaintenance5PropertiesKHR" class="xref page">VkPhysicalDeviceMaintenance5PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_6"><a class="anchor" href="#_new_enums_6"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_4"><a class="anchor" href="#_new_bitmasks_4"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferUsageFlags2KHR" class="xref page">VkBufferUsageFlags2KHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreateFlags2KHR" class="xref page">VkPipelineCreateFlags2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_19"><a class="anchor" href="#_new_enum_constants_19"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE_5_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_5_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_A1B5G5R5_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8_UNORM_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_USAGE_FLAGS_2_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_IMAGE_SUBRESOURCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SUBRESOURCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_5_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_5_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_CREATE_FLAGS_2_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_AREA_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBRESOURCE_LAYOUT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_conditional_rendering">VK_EXT_conditional_rendering</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_descriptor_buffer">VK_EXT_descriptor_buffer</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_RESOURCE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_SAMPLER_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_graphics_pipeline_library">VK_EXT_graphics_pipeline_library</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_LINK_TIME_OPTIMIZATION_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_opacity_micromap">VK_EXT_opacity_micromap</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_MICROMAP_BUILD_INPUT_READ_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_MICROMAP_STORAGE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_pipeline_protected_access">VK_EXT_pipeline_protected_access</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_NO_PROTECTED_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_transform_feedback">VK_EXT_transform_feedback</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_TRANSFORM_FEEDBACK_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_TRANSFORM_FEEDBACK_COUNTER_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a> and <a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a> and <a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_pipeline_executable_properties">VK_KHR_pipeline_executable_properties</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_SHADER_BINDING_TABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_generated_commands">VK_NV_device_generated_commands</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_displacement_micromap">VK_NV_displacement_micromap</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_RAY_TRACING_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_DEFER_COMPILE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_ray_tracing_motion_blur">VK_NV_ray_tracing_motion_blur</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> or <a href="#VK_KHR_device_group">VK_KHR_device_group</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_DISPATCH_BASE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.2" class="xref page">Version 1.2</a> or <a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a> or <a href="#VK_EXT_buffer_device_address">VK_EXT_buffer_device_address</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_SHADER_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.3" class="xref page">Version 1.3</a> or <a href="#VK_EXT_pipeline_creation_cache_control">VK_EXT_pipeline_creation_cache_control</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits2KHR" class="xref page">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_EARLY_RETURN_ON_FAILURE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_18"><a class="anchor" href="#_issues_18"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_19"><a class="anchor" href="#_version_history_19"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-12-12 (Stu Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_map_memory2"><a class="anchor" href="#VK_KHR_map_memory2"></a>VK_KHR_map_memory2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_map_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>272</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_map_memory2] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_map_memory2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_map_memory2.adoc">VK_KHR_map_memory2</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_20"><a class="anchor" href="#_other_extension_metadata_20"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_20"><a class="anchor" href="#_description_20"></a>Description</h3>
<div class="paragraph">
<p>This extension provides extensible versions of the Vulkan memory map and
unmap entry points.
The new entry points are functionally identical to the core entry points,
except that their parameters are specified using extensible structures that
can be used to pass extension-specific information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_17"><a class="anchor" href="#_new_commands_17"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkMapMemory2KHR" class="xref page">vkMapMemory2KHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkUnmapMemory2KHR" class="xref page">vkUnmapMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_19"><a class="anchor" href="#_new_structures_19"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryMapInfoKHR" class="xref page">VkMemoryMapInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkMemoryUnmapInfoKHR" class="xref page">VkMemoryUnmapInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_5"><a class="anchor" href="#_new_bitmasks_5"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryUnmapFlagsKHR" class="xref page">VkMemoryUnmapFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_20"><a class="anchor" href="#_new_enum_constants_20"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAP_MEMORY_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAP_MEMORY_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_MAP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_UNMAP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_20"><a class="anchor" href="#_version_history_20"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2022-08-03 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-03-14</p>
<div class="ulist">
<ul>
<li>
<p>Public release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_performance_query"><a class="anchor" href="#VK_KHR_performance_query"></a>VK_KHR_performance_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_performance_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>117</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_performance_query] @alonorbach%0A*Here describe the issue or question you have about the VK_KHR_performance_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_21"><a class="anchor" href="#_other_extension_metadata_21"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Barker, Unity Technologies</p>
</li>
<li>
<p>Kenneth Benzie, Codeplay</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Peter Lohrmann, AMD</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Niklas Smedberg, Unity Technologies</p>
</li>
<li>
<p>Igor Ostrowski, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_21"><a class="anchor" href="#_description_21"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_performance_query</code> extension adds a mechanism to allow querying
of performance counters for use in applications and by profiling tools.</p>
</div>
<div class="paragraph">
<p>Each queue family <strong>may</strong> expose counters that <strong>can</strong> be enabled on a queue of
that family.
We extend <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a> to add a new query type for performance queries,
and chain a structure on <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a> to specify the
performance queries to enable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_18"><a class="anchor" href="#_new_commands_18"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#vkAcquireProfilingLockKHR" class="xref page">vkAcquireProfilingLockKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR" class="xref page">vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR" class="xref page">vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkReleaseProfilingLockKHR" class="xref page">vkReleaseProfilingLockKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_20"><a class="anchor" href="#_new_structures_20"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkAcquireProfilingLockInfoKHR" class="xref page">VkAcquireProfilingLockInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterDescriptionKHR" class="xref page">VkPerformanceCounterDescriptionKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterKHR" class="xref page">VkPerformanceCounterKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePerformanceQueryFeaturesKHR" class="xref page">VkPhysicalDevicePerformanceQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDevicePerformanceQueryPropertiesKHR" class="xref page">VkPhysicalDevicePerformanceQueryPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkQueryPoolPerformanceCreateInfoKHR" class="xref page">VkQueryPoolPerformanceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>, <a href="../chapters/cmdbuffers.html#VkSubmitInfo2" class="xref page">VkSubmitInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkPerformanceQuerySubmitInfoKHR" class="xref page">VkPerformanceQuerySubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_2"><a class="anchor" href="#_new_unions_2"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkPerformanceCounterResultKHR" class="xref page">VkPerformanceCounterResultKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_7"><a class="anchor" href="#_new_enums_7"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkAcquireProfilingLockFlagBitsKHR" class="xref page">VkAcquireProfilingLockFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterDescriptionFlagBitsKHR" class="xref page">VkPerformanceCounterDescriptionFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterScopeKHR" class="xref page">VkPerformanceCounterScopeKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterStorageKHR" class="xref page">VkPerformanceCounterStorageKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterUnitKHR" class="xref page">VkPerformanceCounterUnitKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_6"><a class="anchor" href="#_new_bitmasks_6"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkAcquireProfilingLockFlagsKHR" class="xref page">VkAcquireProfilingLockFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPerformanceCounterDescriptionFlagsKHR" class="xref page">VkPerformanceCounterDescriptionFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_21"><a class="anchor" href="#_new_enum_constants_21"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PERFORMANCE_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PERFORMANCE_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_DESCRIPTION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_19"><a class="anchor" href="#_issues_19"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension include a mechanism to begin a query in command
buffer <em>A</em> and end the query in command buffer <em>B</em>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - queries are tied to command buffer creation and thus have to
be encapsulated within a single command buffer.</p>
</div>
<div class="paragraph">
<p>2) Should this extension include a mechanism to begin and end queries
globally on the queue, not using the existing command buffer commands?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - for the same reasoning as the resolution of 1).</p>
</div>
<div class="paragraph">
<p>3) Should this extension expose counters that require multiple passes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes - users should re-submit a command buffer with the same
commands in it multiple times, specifying the pass to count as the query
parameter in VkPerformanceQuerySubmitInfoKHR.</p>
</div>
<div class="paragraph">
<p>4) How to handle counters across parallel workloads?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> In the spirit of Vulkan, a counter description flag
<code>VK_PERFORMANCE_COUNTER_DESCRIPTION_CONCURRENTLY_IMPACTED_BIT_KHR</code>
denotes that the accuracy of a counter result is affected by parallel
workloads.</p>
</div>
<div class="paragraph">
<p>5) How to handle secondary command buffers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Secondary command buffers inherit any counter pass index
specified in the parent primary command buffer.
Note: this is no longer an issue after change from issue 10 resolution</p>
</div>
<div class="paragraph">
<p>6) What commands does the profiling lock have to be held for?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> For any command buffer that is being queried with a performance
query pool, the profiling lock <strong>must</strong> be held while that command buffer is in
the <em>recording</em>, <em>executable</em>, or <em>pending state</em>.</p>
</div>
<div class="paragraph">
<p>7) Should we support <a href="../chapters/queries.html#vkCmdCopyQueryPoolResults" class="xref page">vkCmdCopyQueryPoolResults</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>8) Should we allow performance queries to interact with multiview?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes, but the performance queries must be performed once for each
pass per view.</p>
</div>
<div class="paragraph">
<p>9) Should a <code>queryCount &gt; 1</code> be usable for performance queries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.
Some vendors will have costly performance counter query pool creation, and
would rather if a certain set of counters were to be used multiple times
that a <code>queryCount &gt; 1</code> can be used to amortize the instantiation cost.</p>
</div>
<div class="paragraph">
<p>10) Should we introduce an indirect mechanism to set the counter pass index?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Specify the counter pass index at submit time instead, to avoid
requiring re-recording of command buffers when multiple counter passes are
needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_3"><a class="anchor" href="#_examples_3"></a>Examples</h3>
<div class="paragraph">
<p>The following example shows how to find what performance counters a queue
family supports, setup a query pool to record these performance counters,
how to add the query pool to the command buffer to record information, and
how to get the results from the query pool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// A previously created physical device
VkPhysicalDevice physicalDevice;

// One of the queue families our device supports
uint32_t queueFamilyIndex;

uint32_t counterCount;

// Get the count of counters supported
vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR(
  physicalDevice,
  queueFamilyIndex,
  &amp;counterCount,
  NULL,
  NULL);

VkPerformanceCounterKHR* counters =
  malloc(sizeof(VkPerformanceCounterKHR) * counterCount);
VkPerformanceCounterDescriptionKHR* counterDescriptions =
  malloc(sizeof(VkPerformanceCounterDescriptionKHR) * counterCount);

// Get the counters supported
vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR(
  physicalDevice,
  queueFamilyIndex,
  &amp;counterCount,
  counters,
  counterDescriptions);

// Try to enable the first 8 counters
uint32_t enabledCounters[8];

const uint32_t enabledCounterCount = min(counterCount, 8));

for (uint32_t i = 0; i &lt; enabledCounterCount; i++) {
  enabledCounters[i] = i;
}

// A previously created device that had the performanceCounterQueryPools feature
// set to VK_TRUE
VkDevice device;

VkQueryPoolPerformanceCreateInfoKHR performanceQueryCreateInfo = {
  .sType = VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR,
  .pNext = NULL,

  // Specify the queue family that this performance query is performed on
  .queueFamilyIndex = queueFamilyIndex,

  // The number of counters to enable
  .counterIndexCount = enabledCounterCount,

  // The array of indices of counters to enable
  .pCounterIndices = enabledCounters
};


// Get the number of passes our counters will require.
uint32_t numPasses;

vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR(
  physicalDevice,
  &amp;performanceQueryCreateInfo,
  &amp;numPasses);

VkQueryPoolCreateInfo queryPoolCreateInfo = {
  .sType = VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO,
  .pNext = &amp;performanceQueryCreateInfo,
  .flags = 0,
  // Using our new query type here
  .queryType = VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR,
  .queryCount = 1,
  .pipelineStatistics = 0
};

VkQueryPool queryPool;

VkResult result = vkCreateQueryPool(
  device,
  &amp;queryPoolCreateInfo,
  NULL,
  &amp;queryPool);

assert(VK_SUCCESS == result);

// A queue from queueFamilyIndex
VkQueue queue;

// A command buffer we want to record counters on
VkCommandBuffer commandBuffer;

VkCommandBufferBeginInfo commandBufferBeginInfo = {
  .sType = VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO,
  .pNext = NULL,
  .flags = 0,
  .pInheritanceInfo = NULL
};

VkAcquireProfilingLockInfoKHR lockInfo = {
  .sType = VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR,
  .pNext = NULL,
  .flags = 0,
  .timeout = UINT64_MAX // Wait forever for the lock
};

// Acquire the profiling lock before we record command buffers
// that will use performance queries

result = vkAcquireProfilingLockKHR(device, &amp;lockInfo);

assert(VK_SUCCESS == result);

result = vkBeginCommandBuffer(commandBuffer, &amp;commandBufferBeginInfo);

assert(VK_SUCCESS == result);

vkCmdResetQueryPool(
  commandBuffer,
  queryPool,
  0,
  1);

vkCmdBeginQuery(
  commandBuffer,
  queryPool,
  0,
  0);

// Perform the commands you want to get performance information on
// ...

// Perform a barrier to ensure all previous commands were complete before
// ending the query
vkCmdPipelineBarrier(commandBuffer,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  0,
  0,
  NULL,
  0,
  NULL,
  0,
  NULL);

vkCmdEndQuery(
  commandBuffer,
  queryPool,
  0);

result = vkEndCommandBuffer(commandBuffer);

assert(VK_SUCCESS == result);

for (uint32_t counterPass = 0; counterPass &lt; numPasses; counterPass++) {

  VkPerformanceQuerySubmitInfoKHR performanceQuerySubmitInfo = {
    VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR,
    NULL,
    counterPass
  };


  // Submit the command buffer and wait for its completion
  // ...
}

// Release the profiling lock after the command buffer is no longer in the
// pending state.
vkReleaseProfilingLockKHR(device);

result = vkResetCommandBuffer(commandBuffer, 0);

assert(VK_SUCCESS == result);

// Create an array to hold the results of all counters
VkPerformanceCounterResultKHR* recordedCounters = malloc(
  sizeof(VkPerformanceCounterResultKHR) * enabledCounterCount);

result = vkGetQueryPoolResults(
  device,
  queryPool,
  0,
  1,
  sizeof(VkPerformanceCounterResultKHR) * enabledCounterCount,
  recordedCounters,
  sizeof(VkPerformanceCounterResultKHR),
  NULL);

// recordedCounters is filled with our counters, we will look at one for posterity
switch (counters[0].storage) {
  case VK_PERFORMANCE_COUNTER_STORAGE_INT32:
    // use recordCounters[0].int32 to get at the counter result!
    break;
  case VK_PERFORMANCE_COUNTER_STORAGE_INT64:
    // use recordCounters[0].int64 to get at the counter result!
    break;
  case VK_PERFORMANCE_COUNTER_STORAGE_UINT32:
    // use recordCounters[0].uint32 to get at the counter result!
    break;
  case VK_PERFORMANCE_COUNTER_STORAGE_UINT64:
    // use recordCounters[0].uint64 to get at the counter result!
    break;
  case VK_PERFORMANCE_COUNTER_STORAGE_FLOAT32:
    // use recordCounters[0].float32 to get at the counter result!
    break;
  case VK_PERFORMANCE_COUNTER_STORAGE_FLOAT64:
    // use recordCounters[0].float64 to get at the counter result!
    break;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_21"><a class="anchor" href="#_version_history_21"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-08</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_pipeline_executable_properties"><a class="anchor" href="#VK_KHR_pipeline_executable_properties"></a>VK_KHR_pipeline_executable_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_executable_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>270</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_pipeline_executable_properties] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_pipeline_executable_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_22"><a class="anchor" href="#_other_extension_metadata_22"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Romanick, Intel</p>
</li>
<li>
<p>Kenneth Graunke, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Piers Daniel, Nvidia</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_22"><a class="anchor" href="#_description_22"></a>Description</h3>
<div class="paragraph">
<p>When a pipeline is created, its state and shaders are compiled into zero or
more device-specific executables, which are used when executing commands
against that pipeline.
This extension adds a mechanism to query properties and statistics about the
different executables produced by the pipeline compilation process.
This is intended to be used by debugging and performance tools to allow them
to provide more detailed information to the user.
Certain compile time shader statistics provided through this extension may
be useful to developers for debugging or performance analysis.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_19"><a class="anchor" href="#_new_commands_19"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkGetPipelineExecutableInternalRepresentationsKHR" class="xref page">vkGetPipelineExecutableInternalRepresentationsKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetPipelineExecutablePropertiesKHR" class="xref page">vkGetPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetPipelineExecutableStatisticsKHR" class="xref page">vkGetPipelineExecutableStatisticsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_21"><a class="anchor" href="#_new_structures_21"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutableInfoKHR" class="xref page">VkPipelineExecutableInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutableInternalRepresentationKHR" class="xref page">VkPipelineExecutableInternalRepresentationKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutablePropertiesKHR" class="xref page">VkPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutableStatisticKHR" class="xref page">VkPipelineExecutableStatisticKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineInfoKHR" class="xref page">VkPipelineInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR" class="xref page">VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_3"><a class="anchor" href="#_new_unions_3"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutableStatisticValueKHR" class="xref page">VkPipelineExecutableStatisticValueKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_8"><a class="anchor" href="#_new_enums_8"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineExecutableStatisticFormatKHR" class="xref page">VkPipelineExecutableStatisticFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_22"><a class="anchor" href="#_new_enum_constants_22"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PIPELINE_EXECUTABLE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PIPELINE_EXECUTABLE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_EXECUTABLE_PROPERTIES_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INTERNAL_REPRESENTATION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_STATISTIC_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_20"><a class="anchor" href="#_issues_20"></a>Issues</h3>
<div class="paragraph">
<p>1) What should we call the pieces of the pipeline which are produced by the
compilation process and about which you can query properties and statistics?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Call them &#8220;executables&#8221;.
The name &#8220;binary&#8221; was used in early drafts of the extension but it was
determined that &#8220;pipeline binary&#8221; could have a fairly broad meaning (such
as a binary serialized form of an entire pipeline) and was too big of a
namespace for the very specific needs of this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_22"><a class="anchor" href="#_version_history_22"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-28 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_pipeline_library"><a class="anchor" href="#VK_KHR_pipeline_library"></a>VK_KHR_pipeline_library</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_library</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>291</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_pipeline_library] @pixeljetstream%0A*Here describe the issue or question you have about the VK_KHR_pipeline_library extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_23"><a class="anchor" href="#_other_extension_metadata_23"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>See contributors to <code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_23"><a class="anchor" href="#_description_23"></a>Description</h3>
<div class="paragraph">
<p>A pipeline library is a special pipeline that cannot be bound, instead it
defines a set of shaders and shader groups which can be linked into other
pipelines.
This extension defines the infrastructure for pipeline libraries, but does
not specify the creation or usage of pipeline libraries.
This is left to additional dependent extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_22"><a class="anchor" href="#_new_structures_22"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineLibraryCreateInfoKHR" class="xref page">VkPipelineLibraryCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_23"><a class="anchor" href="#_new_enum_constants_23"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PIPELINE_LIBRARY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PIPELINE_LIBRARY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_LIBRARY_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_23"><a class="anchor" href="#_version_history_23"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-01-08 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_portability_enumeration"><a class="anchor" href="#VK_KHR_portability_enumeration"></a>VK_KHR_portability_enumeration</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_portability_enumeration</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>395</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Giessen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_portability_enumeration] @charles-lunarg%0A*Here describe the issue or question you have about the VK_KHR_portability_enumeration extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>charles-lunarg</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_24"><a class="anchor" href="#_other_extension_metadata_24"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lenny Komow, LunarG</p>
</li>
<li>
<p>Charles Giessen, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_24"><a class="anchor" href="#_description_24"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to control whether devices that expose
the <code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension are included in the results
of physical device enumeration.
Since devices which support the <code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension
are not fully conformant Vulkan implementations, the Vulkan loader does not
report those devices unless the application explicitly asks for them.
This prevents applications which may not be aware of non-conformant devices
from accidentally using them, as any device which supports the
<code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension mandates that the extension
must be enabled if that device is used.</p>
</div>
<div class="paragraph">
<p>This extension is implemented in the loader.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_24"><a class="anchor" href="#_new_enum_constants_24"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PORTABILITY_ENUMERATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PORTABILITY_ENUMERATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateFlagBits" class="xref page">VkInstanceCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INSTANCE_CREATE_ENUMERATE_PORTABILITY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_24"><a class="anchor" href="#_version_history_24"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-02 (Lenny Komow)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_present_id"><a class="anchor" href="#VK_KHR_present_id"></a>VK_KHR_present_id</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_present_id</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>295</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_present_id] @keithp%0A*Here describe the issue or question you have about the VK_KHR_present_id extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>keithp</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_25"><a class="anchor" href="#_other_extension_metadata_25"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard, Valve</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_25"><a class="anchor" href="#_description_25"></a>Description</h3>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to provide an identifier for present
operations on a swapchain.
An application <strong>can</strong> use this to reference specific present operations in
other extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_23"><a class="anchor" href="#_new_structures_23"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePresentIdFeaturesKHR" class="xref page">VkPhysicalDevicePresentIdFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentIdKHR" class="xref page">VkPresentIdKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_25"><a class="anchor" href="#_new_enum_constants_25"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PRESENT_ID_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PRESENT_ID_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENT_ID_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_ID_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_21"><a class="anchor" href="#_issues_21"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_4"><a class="anchor" href="#_examples_4"></a>Examples</h3>

</div>
<div class="sect2">
<h3 id="_version_history_25"><a class="anchor" href="#_version_history_25"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-15 (Keith Packard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_present_wait"><a class="anchor" href="#VK_KHR_present_wait"></a>VK_KHR_present_wait</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_present_wait</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>249</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_present_id">VK_KHR_present_id</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_present_wait] @keithp%0A*Here describe the issue or question you have about the VK_KHR_present_wait extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>keithp</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_26"><a class="anchor" href="#_other_extension_metadata_26"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard, Valve</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Daniel Stone, Collabora</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_26"><a class="anchor" href="#_description_26"></a>Description</h3>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to wait for present operations to
complete.
An application can use this to monitor and control the pacing of the
application by managing the number of outstanding images yet to be
presented.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_20"><a class="anchor" href="#_new_commands_20"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkWaitForPresentKHR" class="xref page">vkWaitForPresentKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_24"><a class="anchor" href="#_new_structures_24"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePresentWaitFeaturesKHR" class="xref page">VkPhysicalDevicePresentWaitFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_26"><a class="anchor" href="#_new_enum_constants_26"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PRESENT_WAIT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PRESENT_WAIT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENT_WAIT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_22"><a class="anchor" href="#_issues_22"></a>Issues</h3>
<div class="paragraph">
<p>1) When does the wait finish?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
The wait will finish when the present is visible to the user.
There is no requirement for any precise timing relationship between the
presentation of the image to the user, but implementations <strong>should</strong> signal
the wait as close as possible to the presentation of the first pixel in the
new image to the user.</p>
</div>
<div class="paragraph">
<p>2) Should this use fences or other existing synchronization mechanism.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
Because display and rendering are often implemented in separate drivers,
this extension will provide a separate synchronization API.</p>
</div>
<div class="paragraph">
<p>3) Should this extension share present identification with other extensions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
Yes.
A new extension, VK_KHR_present_id, should be created to provide a shared
structure for presentation identifiers.</p>
</div>
<div class="paragraph">
<p>4) What happens when presentations complete out of order wrt calls to
vkQueuePresent? This could happen if the semaphores for the presentations
were ready out of order.</p>
</div>
<div class="paragraph">
<p><strong>OPTION A</strong>: Require that when a PresentId is set that the driver ensure that
images are always presented in the order of calls to vkQueuePresent.</p>
</div>
<div class="paragraph">
<p><strong>OPTION B</strong>: Finish both waits when the earliest present completes.
This will complete the later present wait earlier than the actual
presentation.
This should be the easiest to implement as the driver need only track the
largest present ID completed.
This is also the 'natural' consequence of interpreting the existing
vkWaitForPresentKHR specificationn.</p>
</div>
<div class="paragraph">
<p><strong>OPTION C</strong>: Finish both waits when both have completed.
This will complete the earlier presentation later than the actual
presentation time.
This is allowed by the current specification as there is no precise timing
requirement for when the presentId value is updated.
This requires slightly more complexity in the driver as it will need to
track all outstanding presentId values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_5"><a class="anchor" href="#_examples_5"></a>Examples</h3>

</div>
<div class="sect2">
<h3 id="_version_history_26"><a class="anchor" href="#_version_history_26"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-02-19 (Keith Packard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_push_descriptor"><a class="anchor" href="#VK_KHR_push_descriptor"></a>VK_KHR_push_descriptor</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_push_descriptor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>81</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_push_descriptor] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_push_descriptor extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_27"><a class="anchor" href="#_other_extension_metadata_27"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_27"><a class="anchor" href="#_description_27"></a>Description</h3>
<div class="paragraph">
<p>This extension allows descriptors to be written into the command buffer,
while the implementation is responsible for managing their memory.
Push descriptors may enable easier porting from older APIs and in some cases
can be more efficient than writing descriptors into descriptor sets.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_21"><a class="anchor" href="#_new_commands_21"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdPushDescriptorSetKHR" class="xref page">vkCmdPushDescriptorSetKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdPushDescriptorSetWithTemplateKHR" class="xref page">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdPushDescriptorSetWithTemplateKHR" class="xref page">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_25"><a class="anchor" href="#_new_structures_25"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDevicePushDescriptorPropertiesKHR" class="xref page">VkPhysicalDevicePushDescriptorPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_27"><a class="anchor" href="#_new_enum_constants_27"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PUSH_DESCRIPTOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PUSH_DESCRIPTOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PUSH_DESCRIPTOR_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateType" class="xref page">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateType" class="xref page">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_27"><a class="anchor" href="#_version_history_27"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-15 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_ray_query"><a class="anchor" href="#VK_KHR_ray_query"></a>VK_KHR_ray_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>349</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br>
and<br>
<a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_query] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_28"><a class="anchor" href="#_other_extension_metadata_28"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_query.html"><code>SPV_KHR_ray_query</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_query.txt"><code>GLSL_EXT_ray_query</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_28"><a class="anchor" href="#_description_28"></a>Description</h3>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>Ray queries are available to all shader types, including graphics, compute
and ray tracing pipelines.
Ray queries are not able to launch additional shaders, instead returning
traversal results to the calling shader.</p>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_ray_query</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_26"><a class="anchor" href="#_new_structures_26"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayQueryFeaturesKHR" class="xref page">VkPhysicalDeviceRayQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_28"><a class="anchor" href="#_new_enum_constants_28"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_QUERY_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_3"><a class="anchor" href="#_new_spir_v_capabilities_3"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayQueryKHR" class="xref page"><code>RayQueryKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayTraversalPrimitiveCullingKHR" class="xref page">    <code>RayTraversalPrimitiveCullingKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code"><a class="anchor" href="#_sample_code"></a>Sample Code</h3>
<div class="paragraph">
<p>Example of ray query in a GLSL shader, illustrating how to use ray queries
to determine whether a given position (at ray origin) is in shadow or not,
by tracing a ray towards the light, and checking for any intersections with
geometry occluding the light.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">rayQueryEXT rq;

rayQueryInitializeEXT(rq, accStruct, gl_RayFlagsTerminateOnFirstHitEXT, cullMask, origin, tMin, direction, tMax);

// Traverse the acceleration structure and store information about the first intersection (if any)
rayQueryProceedEXT(rq);

if (rayQueryGetIntersectionTypeEXT(rq, true) == gl_RayQueryCommittedIntersectionNoneEXT) {
    // Not in shadow
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_23"><a class="anchor" href="#_issues_23"></a>Issues</h3>
<div class="paragraph">
<p>(1) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the final (VK_KHR_acceleration_structure v11 /
VK_KHR_ray_query v1) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update SPIRV capabilities to use <code>RayQueryKHR</code></p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_28"><a class="anchor" href="#_version_history_28"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-12 (Mathieu Robart, Daniel Koch, Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_ray_query (#1918,!3912)</p>
</li>
<li>
<p>update to use <code>RayQueryKHR</code> SPIR-V capability</p>
</li>
<li>
<p>add numerical limits for ray parameters (#2235,!3960)</p>
</li>
<li>
<p>relax formula for ray intersection candidate determination
(#2322,!4080)</p>
</li>
<li>
<p>restrict traces to TLAS (#2239,!4141)</p>
</li>
<li>
<p>require <code>HitT</code> to be in ray interval for
<code>OpRayQueryGenerateIntersectionKHR</code> (#2359,!4146)</p>
</li>
<li>
<p>add ray query shader stages for AS read bit (#2407,!4203)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_ray_tracing_maintenance1"><a class="anchor" href="#VK_KHR_ray_tracing_maintenance1"></a>VK_KHR_ray_tracing_maintenance1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>387</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_tracing_maintenance1] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_tracing_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_29"><a class="anchor" href="#_other_extension_metadata_29"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-02-21</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_cull_mask.html"><code>SPV_KHR_ray_cull_mask</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_cull_mask.txt"><code>GLSL_EXT_ray_cull_mask</code></a></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Yunpeng Zhu, Huawei</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_29"><a class="anchor" href="#_description_29"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_ray_tracing_maintenance1</code> adds a collection of minor ray tracing
features, none of which would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds support for the <code>SPV_KHR_ray_cull_mask</code> SPIR-V extension in Vulkan.
This extension provides access to built-in <code>CullMaskKHR</code> shader
variable which contains the value of the <code>OpTrace*</code> <code>Cull Mask</code>
parameter.
This new shader variable is accessible in the intersection, any-hit,
closest-hit and miss shader stages.</p>
</li>
<li>
<p>Adds support for a new pipeline stage and access mask built on top of
<code><a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_COPY_BIT_KHR</code> to
specify execution of <a href="../chapters/accelstructures.html#acceleration-structure-copying" class="xref page">acceleration     structure copy commands</a></p>
</li>
<li>
<p><code>VK_ACCESS_2_SHADER_BINDING_TABLE_READ_BIT_KHR</code> to specify read
access to a <a href="../chapters/raytracing.html#shader-binding-table" class="xref page">shader binding table</a> in any
shader pipeline stage</p>
</li>
</ul>
</div>
</li>
<li>
<p>Adds two new acceleration structure query parameters:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SIZE_KHR</code> to query the
acceleration structure size on the device timeline</p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_BOTTOM_LEVEL_POINTERS_KHR</code>
to query the number of bottom level acceleration structure pointers for
serialization</p>
</li>
</ul>
</div>
</li>
<li>
<p>Adds an optional new indirect ray tracing dispatch command,
<a href="../chapters/raytracing.html#vkCmdTraceRaysIndirect2KHR" class="xref page">vkCmdTraceRaysIndirect2KHR</a>, which sources the shader binding table
parameters as well as the dispatch dimensions from the device.
The <a href="../chapters/features.html#features-rayTracingPipelineTraceRaysIndirect2" class="xref page">    <code>rayTracingPipelineTraceRaysIndirect2</code></a> feature indicates whether
this functionality is supported.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_22"><a class="anchor" href="#_new_commands_22"></a>New Commands</h3>
<div class="paragraph">
<p>If <a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysIndirect2KHR" class="xref page">vkCmdTraceRaysIndirect2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_27"><a class="anchor" href="#_new_structures_27"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingMaintenance1FeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingMaintenance1FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/raytracing.html#VkTraceRaysIndirectCommand2KHR" class="xref page">VkTraceRaysIndirectCommand2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_29"><a class="anchor" href="#_new_enum_constants_29"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_BOTTOM_LEVEL_POINTERS_KHR</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_MAINTENANCE_1_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_COPY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a> and <a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_SHADER_BINDING_TABLE_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_2"><a class="anchor" href="#_new_built_in_variables_2"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-cullmask" class="xref page"><code>CullMaskKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_4"><a class="anchor" href="#_new_spir_v_capabilities_4"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayCullMaskKHR" class="xref page"><code>RayCullMaskKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_24"><a class="anchor" href="#_issues_24"></a>Issues</h3>
<div class="paragraph">
<p>None Yet!</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_29"><a class="anchor" href="#_version_history_29"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-02-21 (Members of the Vulkan Ray Tracing TSG)</p>
<div class="ulist">
<ul>
<li>
<p>internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_ray_tracing_pipeline"><a class="anchor" href="#VK_KHR_ray_tracing_pipeline"></a>VK_KHR_ray_tracing_pipeline</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_pipeline</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>348</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br>
and<br>
<a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_tracing_pipeline] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_tracing_pipeline extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_30"><a class="anchor" href="#_other_extension_metadata_30"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_tracing.html"><code>SPV_KHR_ray_tracing</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_tracing.txt"><code>GLSL_EXT_ray_tracing</code></a></p>
</li>
<li>
<p>This extension interacts with <a href="versions.html#versions-1.2" class="xref page">Vulkan 1.2</a> and
<code><a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code>, adding the <a href="memorymodel.html#shader-call-related" class="xref page">    shader-call-related</a> relation of invocations, <a href="memorymodel.html#shader-call-order" class="xref page">    shader-call-order</a> partial order of dynamic instances of instructions,
and the <a href="../chapters/shaders.html#shaders-scope-shadercall" class="xref page"><code>ShaderCallKHR</code></a> scope.</p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code>, enabling
pipeline libraries to be used with ray tracing pipelines and enabling
usage of <a href="../chapters/pipelines.html#VkRayTracingPipelineInterfaceCreateInfoKHR" class="xref page">VkRayTracingPipelineInterfaceCreateInfoKHR</a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_30"><a class="anchor" href="#_description_30"></a>Description</h3>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>To enable ray tracing, this extension adds a few different categories of new
functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new ray tracing pipeline type with new shader domains: ray generation,
intersection, any-hit, closest hit, miss, and callable</p>
</li>
<li>
<p>A shader binding indirection table to link shader groups with
acceleration structure items</p>
</li>
<li>
<p>Ray tracing commands which initiate the ray pipeline traversal and
invocation of the various new shader domains depending on which
traversal conditions are met</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_ray_tracing</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_23"><a class="anchor" href="#_new_commands_23"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkCmdSetRayTracingPipelineStackSizeKHR" class="xref page">vkCmdSetRayTracingPipelineStackSizeKHR</a></p>
</li>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysIndirectKHR" class="xref page">vkCmdTraceRaysIndirectKHR</a></p>
</li>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysKHR" class="xref page">vkCmdTraceRaysKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesKHR" class="xref page">vkCreateRayTracingPipelinesKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingCaptureReplayShaderGroupHandlesKHR" class="xref page">vkGetRayTracingCaptureReplayShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupHandlesKHR" class="xref page">vkGetRayTracingShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupStackSizeKHR" class="xref page">vkGetRayTracingShaderGroupStackSizeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_28"><a class="anchor" href="#_new_structures_28"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingPipelineInterfaceCreateInfoKHR" class="xref page">VkRayTracingPipelineInterfaceCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupCreateInfoKHR" class="xref page">VkRayTracingShaderGroupCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/raytracing.html#VkStridedDeviceAddressRegionKHR" class="xref page">VkStridedDeviceAddressRegionKHR</a></p>
</li>
<li>
<p><a href="../chapters/raytracing.html#VkTraceRaysIndirectCommandKHR" class="xref page">VkTraceRaysIndirectCommandKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_9"><a class="anchor" href="#_new_enums_9"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupTypeKHR" class="xref page">VkRayTracingShaderGroupTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkShaderGroupShaderKHR" class="xref page">VkShaderGroupShaderKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_30"><a class="anchor" href="#_new_enum_constants_30"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_PIPELINE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_PIPELINE_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PIPELINE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PIPELINE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_INTERFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables"><a class="anchor" href="#_new_or_modified_built_in_variables"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-launchid" class="xref page"><code>LaunchIdKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-launchsize" class="xref page"><code>LaunchSizeKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldrayorigin" class="xref page"><code>WorldRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldraydirection" class="xref page"><code>WorldRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objectrayorigin" class="xref page"><code>ObjectRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objectraydirection" class="xref page"><code>ObjectRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-raytmin" class="xref page"><code>RayTminKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-raytmax" class="xref page"><code>RayTmaxKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-instancecustomindex" class="xref page"><code>InstanceCustomIndexKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-instanceid" class="xref page"><code>InstanceId</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objecttoworld" class="xref page"><code>ObjectToWorldKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldtoobject" class="xref page"><code>WorldToObjectKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-hitkind" class="xref page"><code>HitKindKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-incomingrayflags" class="xref page"><code>IncomingRayFlagsKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-raygeometryindex" class="xref page"><code>RayGeometryIndexKHR</code></a></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_5"><a class="anchor" href="#_new_spir_v_capabilities_5"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayTracingKHR" class="xref page"><code>RayTracingKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayTraversalPrimitiveCullingKHR" class="xref page">    <code>RayTraversalPrimitiveCullingKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_25"><a class="anchor" href="#_issues_25"></a>Issues</h3>
<div class="paragraph">
<p>(1) How does this extension differ from VK_NV_ray_tracing?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a summary of the main functional differences between
VK_KHR_ray_tracing_pipeline and VK_NV_ray_tracing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added support for indirect ray tracing (<a href="../chapters/raytracing.html#vkCmdTraceRaysIndirectKHR" class="xref page">vkCmdTraceRaysIndirectKHR</a>)</p>
</li>
<li>
<p>uses SPV_KHR_ray_tracing instead of SPV_NV_ray_tracing</p>
<div class="ulist">
<ul>
<li>
<p>refer to KHR SPIR-V enums instead of NV SPIR-V enums (which are
functionally equivalent and aliased to the same values).</p>
</li>
<li>
<p>added <code>RayGeometryIndexKHR</code> built-in</p>
</li>
</ul>
</div>
</li>
<li>
<p>removed vkCompileDeferredNV compilation functionality and replaced with
<a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#deferred-host-operations" class="xref page">deferred host operations</a> interactions for
ray tracing</p>
</li>
<li>
<p>added <a href="../chapters/features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a> structure</p>
</li>
<li>
<p>extended <a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a> structure</p>
<div class="ulist">
<ul>
<li>
<p>renamed <code>maxRecursionDepth</code> to <code>maxRayRecursionDepth</code> and it
has a minimum of 1 instead of 31</p>
</li>
<li>
<p>require <code>shaderGroupHandleSize</code> to be 32 bytes</p>
</li>
<li>
<p>added <code>maxRayDispatchInvocationCount</code>,
<code>shaderGroupHandleAlignment</code> and <code>maxRayHitAttributeSize</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>reworked geometry structures so they could be better shared between
device, host, and indirect builds</p>
</li>
<li>
<p>changed SBT parameters to a structure and added size
(<a href="../chapters/raytracing.html#VkStridedDeviceAddressRegionKHR" class="xref page">VkStridedDeviceAddressRegionKHR</a>)</p>
</li>
<li>
<p>add parameter for requesting memory requirements for host and/or device
build</p>
</li>
<li>
<p>added <a href="../chapters/pipelines.html#pipelines-library" class="xref page">pipeline library</a> support for ray tracing</p>
</li>
<li>
<p>added <a href="../chapters/raytraversal.html#ray-traversal-watertight" class="xref page">watertightness guarantees</a></p>
</li>
<li>
<p>added no-null-shader pipeline flags
(<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_*_SHADERS_BIT_KHR</code>)</p>
</li>
<li>
<p>added <a href="../chapters/raytracing.html#ray-tracing-shader-call" class="xref page">memory model interactions</a> with ray
tracing and define how subgroups work and can be repacked</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Can you give a more detailed comparison of differences and similarities
between VK_NV_ray_tracing and VK_KHR_ray_tracing_pipeline?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a more detailed comparison of which commands, structures,
and enums are aliased, changed, or removed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aliased functionality&#8201;&#8212;&#8201;enums, structures, and commands that are
considered equivalent:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupTypeNV" class="xref page">VkRayTracingShaderGroupTypeNV</a> ↔
<a href="../chapters/pipelines.html#VkRayTracingShaderGroupTypeKHR" class="xref page">VkRayTracingShaderGroupTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupHandlesNV" class="xref page">vkGetRayTracingShaderGroupHandlesNV</a> ↔
<a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupHandlesKHR" class="xref page">vkGetRayTracingShaderGroupHandlesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Changed enums, structures, and commands:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupCreateInfoNV" class="xref page">VkRayTracingShaderGroupCreateInfoNV</a> &#8594;
<a href="../chapters/pipelines.html#VkRayTracingShaderGroupCreateInfoKHR" class="xref page">VkRayTracingShaderGroupCreateInfoKHR</a> (added
<code>pShaderGroupCaptureReplayHandle</code>)</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoNV" class="xref page">VkRayTracingPipelineCreateInfoNV</a> &#8594;
<a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a> (changed type of <code>pGroups</code>,
added <code>libraries</code>, <code>pLibraryInterface</code>, and
<code>pDynamicState</code>)</p>
</li>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingPropertiesNV</a> &#8594;
VkPhysicalDeviceRayTracingPropertiesKHR (renamed <code>maxTriangleCount</code>
to <code>maxPrimitiveCount</code>, added
<code>shaderGroupHandleCaptureReplaySize</code>)</p>
</li>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysNV" class="xref page">vkCmdTraceRaysNV</a> &#8594; <a href="../chapters/raytracing.html#vkCmdTraceRaysKHR" class="xref page">vkCmdTraceRaysKHR</a> (params to struct)</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesNV" class="xref page">vkCreateRayTracingPipelinesNV</a> &#8594;
<a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesKHR" class="xref page">vkCreateRayTracingPipelinesKHR</a> (different struct, changed
functionality)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Added enums, structures and commands:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code>
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code>,
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code>,
<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code>,
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code>,
<code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code> to
<a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a></p>
</li>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a> structure</p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkDeviceOrHostAddressKHR" class="xref page">VkDeviceOrHostAddressKHR</a> and <a href="../chapters/accelstructures.html#VkDeviceOrHostAddressConstKHR" class="xref page">VkDeviceOrHostAddressConstKHR</a>
unions</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineLibraryCreateInfoKHR" class="xref page">VkPipelineLibraryCreateInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingPipelineInterfaceCreateInfoKHR" class="xref page">VkRayTracingPipelineInterfaceCreateInfoKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/raytracing.html#VkStridedDeviceAddressRegionKHR" class="xref page">VkStridedDeviceAddressRegionKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysIndirectKHR" class="xref page">vkCmdTraceRaysIndirectKHR</a> command and
<a href="../chapters/raytracing.html#VkTraceRaysIndirectCommandKHR" class="xref page">VkTraceRaysIndirectCommandKHR</a> struct</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingCaptureReplayShaderGroupHandlesKHR" class="xref page">vkGetRayTracingCaptureReplayShaderGroupHandlesKHR</a> (shader group
capture/replay)</p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCmdSetRayTracingPipelineStackSizeKHR" class="xref page">vkCmdSetRayTracingPipelineStackSizeKHR</a> and
<a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupStackSizeKHR" class="xref page">vkGetRayTracingShaderGroupStackSizeKHR</a> commands for stack size
control</p>
</li>
</ul>
</div>
</li>
<li>
<p>Functionality removed:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCompileDeferredNV" class="xref page">vkCompileDeferredNV</a> command (replaced with
<code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the internal provisional (VK_KHR_ray_tracing v9) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Require Vulkan 1.1 and SPIR-V 1.4</p>
</li>
<li>
<p>Added interactions with Vulkan 1.2 and
<code><a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code></p>
</li>
<li>
<p>added creation time capture and replay flags</p>
<div class="ulist">
<ul>
<li>
<p>added
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>
to <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>replace <code>VkStridedBufferRegionKHR</code> with
<a href="../chapters/raytracing.html#VkStridedDeviceAddressRegionKHR" class="xref page">VkStridedDeviceAddressRegionKHR</a> and change
<a href="../chapters/raytracing.html#vkCmdTraceRaysKHR" class="xref page">vkCmdTraceRaysKHR</a>, <a href="../chapters/raytracing.html#vkCmdTraceRaysIndirectKHR" class="xref page">vkCmdTraceRaysIndirectKHR</a>, to take these
for the shader binding table and use device addresses instead of
buffers.</p>
</li>
<li>
<p>require the shader binding table buffers to have the
<code>VK_BUFFER_USAGE_RAY_TRACING_BIT_KHR</code> set</p>
</li>
<li>
<p>make <code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> an interaction instead of required
extension</p>
</li>
<li>
<p>rename the <code>libraries</code> member of
<a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a> to <code>pLibraryInfo</code> and make
it a pointer</p>
</li>
<li>
<p>make <code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> an interaction instead of
a required extension (later went back on this)</p>
</li>
<li>
<p>added explicit stack size management for ray tracing pipelines</p>
<div class="ulist">
<ul>
<li>
<p>removed the <code>maxCallableSize</code> member of
<a href="../chapters/pipelines.html#VkRayTracingPipelineInterfaceCreateInfoKHR" class="xref page">VkRayTracingPipelineInterfaceCreateInfoKHR</a></p>
</li>
<li>
<p>added the <code>pDynamicState</code> member to
<a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a></p>
</li>
<li>
<p>added <code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code>
dynamic state for ray tracing pipelines</p>
</li>
<li>
<p>added <a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupStackSizeKHR" class="xref page">vkGetRayTracingShaderGroupStackSizeKHR</a> and
<a href="../chapters/pipelines.html#vkCmdSetRayTracingPipelineStackSizeKHR" class="xref page">vkCmdSetRayTracingPipelineStackSizeKHR</a> commands</p>
</li>
<li>
<p>added <a href="../chapters/pipelines.html#VkShaderGroupShaderKHR" class="xref page">VkShaderGroupShaderKHR</a> enum</p>
</li>
</ul>
</div>
</li>
<li>
<p>Added <code>maxRayDispatchInvocationCount</code> limit to
<a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Added <code>shaderGroupHandleAlignment</code> property to
<a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Added <code>maxRayHitAttributeSize</code> property to
<a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR" class="xref page">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_deferred_host_operations/deferred_host_operations.html#VkDeferredOperationKHR" class="xref page">VkDeferredOperationKHR</a> is now a top-level parameter for
<a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesKHR" class="xref page">vkCreateRayTracingPipelinesKHR</a></p>
</li>
<li>
<p>removed <code>VkDeferredOperationInfoKHR</code> structure</p>
</li>
<li>
<p>change deferred host creation/return parameter behavior such that the
implementation can modify such parameters until the deferred host
operation completes</p>
</li>
<li>
<p><code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> is required again</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) What are the changes between the internal provisional
(VK_KHR_ray_tracing v9) release and the final (VK_KHR_acceleration_structure
v11 / VK_KHR_ray_tracing_pipeline v1) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Require <code>Volatile</code> for the following builtins in the ray generation,
closest hit, miss, intersection, and callable shader stages:</p>
<div class="ulist">
<ul>
<li>
<p><code>SubgroupSize</code>, <code>SubgroupLocalInvocationId</code>, <code>SubgroupEqMask</code>,
<code>SubgroupGeMask</code>, <code>SubgroupGtMask</code>, <code>SubgroupLeMask</code>,
<code>SubgroupLtMask</code></p>
</li>
<li>
<p><code>SMIDNV</code>, <code>WarpIDNV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>clarify buffer usage flags for ray tracing</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code> is added as an alias
of <code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> and is required on shader
binding table buffers</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> is used in
<code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> for <code>scratchData</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>rename <code>maxRecursionDepth</code> to <code>maxRayPipelineRecursionDepth</code>
(pipeline creation) and <code>maxRayRecursionDepth</code> (limit) to reduce
confusion</p>
</li>
<li>
<p>Add queryable <code>maxRayHitAttributeSize</code> limit and rename members of
<a href="../chapters/pipelines.html#VkRayTracingPipelineInterfaceCreateInfoKHR" class="xref page">VkRayTracingPipelineInterfaceCreateInfoKHR</a> to
<code>maxPipelineRayPayloadSize</code> and <code>maxPipelineRayHitAttributeSize</code>
for clarity</p>
</li>
<li>
<p>Update SPIRV capabilities to use <code>RayTracingKHR</code></p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
<li>
<p>define synchronization requirements for indirect trace rays and indirect
buffer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) This extension adds gl_InstanceID for the intersection, any-hit, and
closest hit shaders, but in KHR_vulkan_glsl, gl_InstanceID is replaced with
gl_InstanceIndex.
Which should be used for Vulkan in this extension?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: This extension uses gl_InstanceID and maps it to <code>InstanceId</code>
in SPIR-V.
It is acknowledged that this is different than other shader stages in
Vulkan.
There are two main reasons for the difference here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>symmetry with gl_PrimitiveID which is also available in these shaders</p>
</li>
<li>
<p>there is no &#8220;baseInstance&#8221; relevant for these shaders, and so ID makes
it more obvious that this is zero-based.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(6) Why is <code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> an interaction instead of a
required dependency, particularly when the &#8220;Feature Requirements&#8221; section
says it is required to be supported anyhow?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: If <code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> were a required extension
dependency, then every application would need to enable the extension
whether or not they actually want to use the pipeline library functionality.
Developers found this to be annoying and unfriendly behavior.
We do wish to require all <strong>implementations</strong> to support it though, and thus
it is listed in the feature requirements section.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code_2"><a class="anchor" href="#_sample_code_2"></a>Sample Code</h3>
<div class="paragraph">
<p>Example ray generation GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#version 450 core
#extension GL_EXT_ray_tracing : require
layout(set = 0, binding = 0, rgba8) uniform image2D image;
layout(set = 0, binding = 1) uniform accelerationStructureEXT as;
layout(location = 0) rayPayloadEXT float payload;

void main()
{
   vec4 col = vec4(0, 0, 0, 1);

   vec3 origin = vec3(float(gl_LaunchIDEXT.x)/float(gl_LaunchSizeEXT.x), float(gl_LaunchIDEXT.y)/float(gl_LaunchSizeEXT.y), 1.0);
   vec3 dir = vec3(0.0, 0.0, -1.0);

   traceRayEXT(as, 0, 0xff, 0, 1, 0, origin, 0.0, dir, 1000.0, 0);

   col.y = payload;

   imageStore(image, ivec2(gl_LaunchIDEXT.xy), col);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_30"><a class="anchor" href="#_version_history_30"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-12 (Mathieu Robart, Daniel Koch, Eric Werness,
Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_ray_tracing_pipeline (#1918,!3912)</p>
</li>
<li>
<p>require certain subgroup and sm_shader_builtin shader builtins to be
decorated as volatile in the ray generation, closest hit, miss,
intersection, and callable stages (#1924,!3903,!3954)</p>
</li>
<li>
<p>clarify buffer usage flags for ray tracing (#2181,!3939)</p>
</li>
<li>
<p>rename maxRecursionDepth to maxRayPipelineRecursionDepth and
maxRayRecursionDepth (#2203,!3937)</p>
</li>
<li>
<p>add queryable maxRayHitAttributeSize and rename members of
VkRayTracingPipelineInterfaceCreateInfoKHR (#2102,!3966)</p>
</li>
<li>
<p>update to use <code>RayTracingKHR</code> SPIR-V capability</p>
</li>
<li>
<p>add VUs for matching hit group type against geometry type (#2245,!3994)</p>
</li>
<li>
<p>require <code>RayTMaxKHR</code> be volatile in intersection shaders
(#2268,!4030)</p>
</li>
<li>
<p>add numerical limits for ray parameters (#2235,!3960)</p>
</li>
<li>
<p>fix SBT indexing rules for device addresses (#2308,!4079)</p>
</li>
<li>
<p>relax formula for ray intersection candidate determination
(#2322,!4080)</p>
</li>
<li>
<p>add more details on <code>ShaderRecordBufferKHR</code> variables (#2230,!4083)</p>
</li>
<li>
<p>clarify valid bits for <code>InstanceCustomIndexKHR</code> (GLSL/GLSL#19,!4128)</p>
</li>
<li>
<p>allow at most one <code>IncomingRayPayloadKHR</code>,
<code>IncomingCallableDataKHR</code>, and <code>HitAttributeKHR</code> (!4129)</p>
</li>
<li>
<p>add minimum for maxShaderGroupStride (#2353,!4131)</p>
</li>
<li>
<p>require VK_KHR_pipeline_library extension to be supported (#2348,!4135)</p>
</li>
<li>
<p>clarify meaning of 'geometry index' (#2272,!4137)</p>
</li>
<li>
<p>restrict traces to TLAS (#2239,!4141)</p>
</li>
<li>
<p>add note about maxPipelineRayPayloadSize (#2383,!4172)</p>
</li>
<li>
<p>do not require raygen shader in pipeline libraries (!4185)</p>
</li>
<li>
<p>define sync for indirect trace rays and indirect buffer (#2407,!4208)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_ray_tracing_position_fetch"><a class="anchor" href="#VK_KHR_ray_tracing_position_fetch"></a>VK_KHR_ray_tracing_position_fetch</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_position_fetch</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>482</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_ray_tracing_position_fetch.adoc">VK_KHR_ray_tracing_position_fetch</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_31"><a class="anchor" href="#_other_extension_metadata_31"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_tracing_position_fetch.html"><code>SPV_KHR_ray_tracing_position_fetch</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_tracing_position_fetch.txt"><code>GLSL_EXT_ray_tracing_position_fetch</code></a></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_ray_query">VK_KHR_ray_query</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Yunpeng Zhu, Huawei Technologies</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_31"><a class="anchor" href="#_description_31"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_ray_tracing_position_fetch</code> adds the ability to fetch the vertex
positions in the shader from a hit triangle as stored in the acceleration
structure.</p>
</div>
<div class="paragraph">
<p>An application adds
<code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DATA_ACCESS_KHR</code> to the
acceleration structure at build time.
Then, if the hit is a triangle geometry, the shader (any-hit or closest hit
for ray pipelines or using ray query) <strong>can</strong> fetch the three, three-component
vertex positions in object space, of the triangle which was hit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_29"><a class="anchor" href="#_new_structures_29"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingPositionFetchFeaturesKHR" class="xref page">VkPhysicalDeviceRayTracingPositionFetchFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_31"><a class="anchor" href="#_new_enum_constants_31"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_POSITION_FETCH_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_POSITION_FETCH_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DATA_ACCESS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_POSITION_FETCH_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_3"><a class="anchor" href="#_new_built_in_variables_3"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-hittrianglevertexpositions" class="xref page"><code>HitTriangleVertexPositionsKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_6"><a class="anchor" href="#_new_spir_v_capabilities_6"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayTracingPositionFetchKHR" class="xref page">RayTracingPositionFetchKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_26"><a class="anchor" href="#_issues_26"></a>Issues</h3>
<div class="paragraph">
<p>None Yet!</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_31"><a class="anchor" href="#_version_history_31"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-02-17 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_clock"><a class="anchor" href="#VK_KHR_shader_clock"></a>VK_KHR_shader_clock</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_clock</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>182</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_clock] @ahagan%0A*Here describe the issue or question you have about the VK_KHR_shader_clock extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_32"><a class="anchor" href="#_other_extension_metadata_32"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-4-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_clock.html"><code>SPV_KHR_shader_clock</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_clock.txt"><code>ARB_shader_clock</code></a> and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_realtime_clock.txt"><code>EXT_shader_realtime_clock</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_32"><a class="anchor" href="#_description_32"></a>Description</h3>
<div class="paragraph">
<p>This extension advertises the SPIR-V <code>ShaderClockKHR</code> capability for
Vulkan, which allows a shader to query a real-time or monotonically
incrementing counter at the subgroup level or across the device level.
The two valid SPIR-V scopes for <code>OpReadClockKHR</code> are <code>Subgroup</code> and
<code>Device</code>.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>clockRealtime*EXT</code>()
timing functions map to the <code>OpReadClockKHR</code> instruction with a scope of
<code>Device</code>, and the <code>clock*ARB</code>() timing functions map to the
<code>OpReadClockKHR</code> instruction with a scope of <code>Subgroup</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_30"><a class="anchor" href="#_new_structures_30"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderClockFeaturesKHR" class="xref page">VkPhysicalDeviceShaderClockFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_32"><a class="anchor" href="#_new_enum_constants_32"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_CLOCK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_CLOCK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CLOCK_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_7"><a class="anchor" href="#_new_spir_v_capabilities_7"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ShaderClockKHR" class="xref page"><code>ShaderClockKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_32"><a class="anchor" href="#_version_history_32"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-4-25 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_subgroup_uniform_control_flow"><a class="anchor" href="#VK_KHR_shader_subgroup_uniform_control_flow"></a>VK_KHR_shader_subgroup_uniform_control_flow</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_uniform_control_flow</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>324</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_subgroup_uniform_control_flow] @alan-baker%0A*Here describe the issue or question you have about the VK_KHR_shader_subgroup_uniform_control_flow extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alan-baker</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_33"><a class="anchor" href="#_other_extension_metadata_33"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.3.</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_subgroup_uniform_control_flow.html"><code>SPV_KHR_subgroup_uniform_control_flow</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_subgroupuniform_qualifier.txt"><code>GL_EXT_subgroupuniform_qualifier</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_33"><a class="anchor" href="#_description_33"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_subgroup_uniform_control_flow</code>
SPIR-V extension in shader modules.
<code>SPV_KHR_subgroup_uniform_control_flow</code> provides stronger guarantees that
diverged subgroups will reconverge.</p>
</div>
<div class="paragraph">
<p>Developers should utilize this extension if they use subgroup operations to
reduce the work performed by a uniform subgroup.
This extension will guarantee that uniform subgroup will reconverge in the
same manner as invocation groups (see &#8220;Uniform Control Flow&#8221; in the
<a href="../chapters/introduction.html#spirv-spec" class="xref page">Khronos SPIR-V Specification</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_31"><a class="anchor" href="#_new_structures_31"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderSubgroupUniformControlFlowFeaturesKHR" class="xref page">VkPhysicalDeviceShaderSubgroupUniformControlFlowFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_33"><a class="anchor" href="#_new_enum_constants_33"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_33"><a class="anchor" href="#_version_history_33"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-27 (Alan Baker)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shared_presentable_image"><a class="anchor" href="#VK_KHR_shared_presentable_image"></a>VK_KHR_shared_presentable_image</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shared_presentable_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>112</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shared_presentable_image] @alonorbach%0A*Here describe the issue or question you have about the VK_KHR_shared_presentable_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_34"><a class="anchor" href="#_other_extension_metadata_34"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pablo Ceballos, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Graham Connor, Imagination Technologies</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Johannes Van Waveren, Oculus</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_34"><a class="anchor" href="#_description_34"></a>Description</h3>
<div class="paragraph">
<p>This extension extends <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> to enable creation of a
shared presentable image.
This allows the application to use the image while the presention engine is
accessing it, in order to reduce the latency between rendering and
presentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_24"><a class="anchor" href="#_new_commands_24"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetSwapchainStatusKHR" class="xref page">vkGetSwapchainStatusKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_32"><a class="anchor" href="#_new_structures_32"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSharedPresentSurfaceCapabilitiesKHR" class="xref page">VkSharedPresentSurfaceCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_34"><a class="anchor" href="#_new_enum_constants_34"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHARED_PRESENTABLE_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHARED_PRESENTABLE_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentModeKHR" class="xref page">VkPresentModeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_27"><a class="anchor" href="#_issues_27"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we allow a Vulkan WSI swapchain to toggle between normal usage and
shared presentation usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
WSI swapchains are typically recreated with new properties instead of having
their properties changed.
This can also save resources, assuming that fewer images are needed for
shared presentation, and assuming that most VR applications do not need to
switch between normal and shared usage.</p>
</div>
<div class="paragraph">
<p>2) Should we have a query for determining how the presentation engine
refresh is triggered?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is done via which presentation modes a surface supports.</p>
</div>
<div class="paragraph">
<p>3) Should the object representing a shared presentable image be an extension
of a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> or a separate object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension of a swapchain due to overlap in creation properties
and to allow common functionality between shared and normal presentable
images and swapchains.</p>
</div>
<div class="paragraph">
<p>4) What should we call the extension and the new structures it creates?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Shared presentable image / shared present.</p>
</div>
<div class="paragraph">
<p>5) Should the <code>minImageCount</code> and <code>presentMode</code> values of the
<a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a> be ignored, or required to be compatible
values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>minImageCount</code> must be set to 1, and <code>presentMode</code>
should be set to either <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
<div class="paragraph">
<p>6) What should the layout of the shared presentable image be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: After acquiring the shared presentable image, the application
must transition it to the <code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> layout
prior to it being used.
After this initial transition, any image usage that was requested during
swapchain creation <strong>can</strong> be performed on the image without layout transitions
being performed.</p>
</div>
<div class="paragraph">
<p>7) Do we need a new API for the trigger to refresh new content?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> to act as API to trigger a refresh, as
will allow combination with other compatible extensions to
<a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>8) How should an application detect a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error
on a swapchain using the <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>
present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Introduce <a href="../chapters/VK_KHR_surface/wsi.html#vkGetSwapchainStatusKHR" class="xref page">vkGetSwapchainStatusKHR</a> to allow applications to
query the status of a swapchain using a shared presentation mode.</p>
</div>
<div class="paragraph">
<p>9) What should subsequent calls to <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> for
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> swapchains be defined to
do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: State that implementations may use it as a hint for updated
content.</p>
</div>
<div class="paragraph">
<p>10) Can the ownership of a shared presentable image be transferred to a
different queue?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is not possible to transfer ownership of a shared presentable image
obtained from a swapchain created using <code>VK_SHARING_MODE_EXCLUSIVE</code>
after it has been presented.</p>
</div>
<div class="paragraph">
<p>11) How should <a href="../chapters/cmdbuffers.html#vkQueueSubmit" class="xref page">vkQueueSubmit</a> behave if a command buffer uses an image
from a <code>VK_ERROR_OUT_OF_DATE_KHR</code> swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="../chapters/cmdbuffers.html#vkQueueSubmit" class="xref page">vkQueueSubmit</a> is expected to return the
<code>VK_ERROR_DEVICE_LOST</code> error.</p>
</div>
<div class="paragraph">
<p>12) Can Vulkan provide any guarantee on the order of rendering, to enable
beam chasing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This could be achieved via use of render passes to ensure strip
rendering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_34"><a class="anchor" href="#_version_history_34"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_surface"><a class="anchor" href="#VK_KHR_surface"></a>VK_KHR_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_35"><a class="anchor" href="#_other_extension_metadata_35"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_35"><a class="anchor" href="#_description_35"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_surface</code> extension is an instance extension.
It introduces <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p>
</div>
<div class="paragraph">
<p>Separate extensions for each platform provide the mechanisms for creating
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> objects, but once created they may be used in this and
other platform-independent extensions, in particular the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_4"><a class="anchor" href="#_new_object_types_4"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_25"><a class="anchor" href="#_new_commands_25"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkDestroySurfaceKHR" class="xref page">vkDestroySurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModesKHR" class="xref page">vkGetPhysicalDeviceSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceSupportKHR" class="xref page">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_33"><a class="anchor" href="#_new_structures_33"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesKHR" class="xref page">VkSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceFormatKHR" class="xref page">VkSurfaceFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_10"><a class="anchor" href="#_new_enums_10"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkCompositeAlphaFlagBitsKHR" class="xref page">VkCompositeAlphaFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentModeKHR" class="xref page">VkPresentModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceTransformFlagBitsKHR" class="xref page">VkSurfaceTransformFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_7"><a class="anchor" href="#_new_bitmasks_7"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkCompositeAlphaFlagsKHR" class="xref page">VkCompositeAlphaFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_35"><a class="anchor" href="#_new_enum_constants_35"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SURFACE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_6"><a class="anchor" href="#_examples_6"></a>Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_surface</code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_issues_28"><a class="anchor" href="#_issues_28"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension include a method to query whether a physical device
supports presenting to a specific window or native surface on a given
platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is not
sufficient, as a single machine might support multiple seats, or instances
of the platform that each use different underlying physical devices.
Additionally, on some platforms, such as the X Window System, different
drivers and devices might be used for different windows depending on which
section of the desktop they exist on.</p>
</div>
<div class="paragraph">
<p>2) Should the <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>,
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, and
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModesKHR" class="xref page">vkGetPhysicalDeviceSurfacePresentModesKHR</a> functions be in this
extension and operate on physical devices, rather than being in
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> (i.e. device extension) and being dependent on
<a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
While it might be useful to depend on <code>VkDevice</code> (and therefore on
enabled extensions and features) for the queries, Vulkan was released only
with the <a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> versions.
Many cases can be resolved by a Valid Usage statement, and/or by a separate
<code>pNext</code> chain version of the query struct specific to a given extension
or parameters, via extensible versions of the queries:
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModes2EXT" class="xref page">vkGetPhysicalDeviceSurfacePresentModes2EXT</a>,
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>, and
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormats2KHR" class="xref page">vkGetPhysicalDeviceSurfaceFormats2KHR</a>.</p>
</div>
<div class="paragraph">
<p>3) Should Vulkan support Xlib or XCB as the API for accessing the X Window
System platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply ingrained
in many applications and likely will remain in use for the foreseeable
future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn ease adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and other
minimal window system interactions defined here.</p>
</div>
<div class="paragraph">
<p>4) Should the GBM platform be included in the list of platform enums?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_35"><a class="anchor" href="#_version_history_35"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Created initial Description section.</p>
</li>
<li>
<p>Removed query for whether a platform requires the use of a queue for
presentation, since it was decided that presentation will always be
modeled as being part of the queue.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 1 and 2 and made related spec updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the platform type mappings table previously removed from
VK_KHR_swapchain with the platform description table in this spec.</p>
</li>
<li>
<p>Added issues 3 and 4 documenting choices made when building the initial
list of native platforms supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-06-11 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated table 1 per input from the KHR TSG.</p>
</li>
<li>
<p>Updated issue 4 (GBM) per discussion with Daniel Stone.
He will create a platform-specific extension sometime in the future.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
<li>
<p>Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 2 and 3 resolved.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced the term &#8220;queue node index&#8221; with &#8220;queue family index&#8221; in
the spec as that is the agreed term to be used in the latest version of
the core header and spec.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated spec against latest core API header version.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &#8220;revision&#8221; to &#8220;version&#8221;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-08-20 (Ian Elliott&#8212;&#8203;porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums here from VK_WSI_swapchain so they
could be reused by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which is
created via layered extensions.
Added VkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-09-30 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Add error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the resolution of issue #2 and include the surface capability
queries in this extension.</p>
</li>
<li>
<p>Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
that the values returned are the capabilities of the surface on a
particular device.</p>
</li>
<li>
<p>Other minor cleanup and consistency changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_surface to VK_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VkSurfaceTransformKHR.
Use VkSurfaceTransformFlagBitsKHR instead.</p>
</li>
<li>
<p>Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
maxImageArrayLayers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to not have so many characters per line, and
to split out a new example to show how to obtain function pointers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_surface_protected_capabilities"><a class="anchor" href="#VK_KHR_surface_protected_capabilities"></a>VK_KHR_surface_protected_capabilities</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface_protected_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>240</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface_protected_capabilities] @sashinde%0A*Here describe the issue or question you have about the VK_KHR_surface_protected_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>sashinde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_36"><a class="anchor" href="#_other_extension_metadata_36"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_36"><a class="anchor" href="#_description_36"></a>Description</h3>
<div class="paragraph">
<p>This extension extends <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>, providing
applications a way to query whether swapchains <strong>can</strong> be created with the
<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> flag set.</p>
</div>
<div class="paragraph">
<p>Vulkan 1.1 added (optional) support for protect memory and protected
resources including buffers (<code>VK_BUFFER_CREATE_PROTECTED_BIT</code>), images
(<code>VK_IMAGE_CREATE_PROTECTED_BIT</code>), and swapchains
(<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code>).
However, on implementations which support multiple windowing systems, not
all window systems <strong>may</strong> be able to provide a protected display path.</p>
</div>
<div class="paragraph">
<p>This extension provides a way to query if a protected swapchain created for
a surface (and thus a specific windowing system) <strong>can</strong> be displayed on
screen.
It extends the existing <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a> structure with a new
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceProtectedCapabilitiesKHR" class="xref page">VkSurfaceProtectedCapabilitiesKHR</a> structure from which the application
<strong>can</strong> obtain information about support for protected swapchain creation
through <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_34"><a class="anchor" href="#_new_structures_34"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceProtectedCapabilitiesKHR" class="xref page">VkSurfaceProtectedCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_36"><a class="anchor" href="#_new_enum_constants_36"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SURFACE_PROTECTED_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SURFACE_PROTECTED_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PROTECTED_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_36"><a class="anchor" href="#_version_history_36"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-18 (Sandeep Shinde, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_swapchain"><a class="anchor" href="#VK_KHR_swapchain"></a>VK_KHR_swapchain</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_37"><a class="anchor" href="#_other_extension_metadata_37"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_37"><a class="anchor" href="#_description_37"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_swapchain</code> extension is the device-level companion to the
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension.
It introduces <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> objects, which provide the ability to
present rendering results to a surface.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_5"><a class="anchor" href="#_new_object_types_5"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_26"><a class="anchor" href="#_new_commands_26"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkDestroySwapchainKHR" class="xref page">vkDestroySwapchainKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetSwapchainImagesKHR" class="xref page">vkGetSwapchainImagesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImage2KHR" class="xref page">vkAcquireNextImage2KHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupPresentCapabilitiesKHR" class="xref page">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupSurfacePresentModesKHR" class="xref page">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDevicePresentRectanglesKHR" class="xref page">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_35"><a class="anchor" href="#_new_structures_35"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkAcquireNextImageInfoKHR" class="xref page">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentCapabilitiesKHR" class="xref page">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBindImageMemoryInfo" class="xref page">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindImageMemorySwapchainInfoKHR" class="xref page">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageSwapchainCreateInfoKHR" class="xref page">VkImageSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentInfoKHR" class="xref page">VkDeviceGroupPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupSwapchainCreateInfoKHR" class="xref page">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_11"><a class="anchor" href="#_new_enums_11"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagBitsKHR" class="xref page">VkSwapchainCreateFlagBitsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentModeFlagBitsKHR" class="xref page">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_8"><a class="anchor" href="#_new_bitmasks_8"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagsKHR" class="xref page">VkSwapchainCreateFlagsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentModeFlagsKHR" class="xref page">VkDeviceGroupPresentModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_37"><a class="anchor" href="#_new_enum_constants_37"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SWAPCHAIN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SWAPCHAIN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SWAPCHAIN_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagBitsKHR" class="xref page">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_29"><a class="anchor" href="#_issues_29"></a>Issues</h3>
<div class="paragraph">
<p>1) Does this extension allow the application to specify the memory backing
of the presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Unlike standard images, the implementation will allocate the memory backing
of the presentable image.</p>
</div>
<div class="paragraph">
<p>2) What operations are allowed on presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is determined by the image usage flags specified when
creating the presentable image&#8217;s swapchain.</p>
</div>
<div class="paragraph">
<p>3) Does this extension support MSAA presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve the
multi- sampled image to a single-sampled presentable image prior to
presentation.</p>
</div>
<div class="paragraph">
<p>4) Does this extension support stereo/multi-view presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The number of views associated with a presentable image is determined by the
<code>imageArrayLayers</code> specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</p>
</div>
<div class="paragraph">
<p>5) Are the layers of stereo presentable images half-sized?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The image extents always match those requested by the application.</p>
</div>
<div class="paragraph">
<p>6) Do the &#8220;present&#8221; and &#8220;acquire next image&#8221; commands operate on a
queue? If not, do they need to include explicit semaphore objects to
interlock them with queue operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.</p>
</div>
<div class="paragraph">
<p>Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a semaphore
to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before queuing
execution of any commands using the image.</p>
</div>
<div class="paragraph">
<p>7) Does <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a> block if no images are available?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a non-blocking
operation, and <code>UINT64_MAX</code>, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout expires
if the swapchain becomes out of date.</p>
</div>
<div class="paragraph">
<p>8) Can multiple presents be queued using one <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> call?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a> contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single
<a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of atomicity
for such present operations, and/or allow them to query whether atomic
presentation of a particular group of swapchains is possible.</p>
</div>
<div class="paragraph">
<p>9) How do the presentation and acquire next image functions notify the
application the targeted surface has changed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Two new result codes are introduced for this purpose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> - Presentation will still succeed, subject to
the window resize behavior, but the swapchain is no longer configured
optimally for the surface it targets.
Applications should query updated surface information and recreate their
swapchain at the next convenient opportunity.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> - Failure.
The swapchain is no longer compatible with the surface it targets.
The application must query updated surface information and recreate the
swapchain before presentation will succeed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These can be returned by both <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a> and
<a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>10) Does the <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a> command return a semaphore to the
application via an output parameter, or accept a semaphore to signal from
the application as an object handle parameter?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter, what
its lifetime is and whether it can be reused for other operations once it is
received from <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a>.</p>
</div>
<div class="paragraph">
<p>11) What types of swapchain queuing behavior should be exposed? Options
include swap interval specification, mailbox/most recent vs. FIFO queue
management, targeting specific vertical blank intervals or absolute times
for a given present operation, and probably others.
For some of these, whether they are specified at swapchain creation time or
as per-present parameters needs to be decided as well.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Immediate present: Does not wait for vertical blanking period to update
the current image, likely resulting in visible tearing.
No internal queue is used.
Present requests are applied immediately.</p>
</li>
<li>
<p>Mailbox queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for reuse by the application.</p>
</li>
<li>
<p>FIFO queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal queue containing <span class="eq"><code>numSwapchainImages</code> - 1</span> entries
is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface information query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</p>
</div>
<div class="paragraph">
<p>12) Can <code>VK_PRESENT_MODE_MAILBOX_KHR</code> provide non-blocking guarantees
for <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a>? If so, what is the proper criteria?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always have
an image available for the application if the application does not own any
images when the call to <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImageKHR" class="xref page">vkAcquireNextImageKHR</a> was made.
However, some presentation engines may have more than one &#8220;current&#8221; image,
and would still need to block in some cases.
The right requirement appears to be that if the application allocates the
surface&#8217;s minimum number of images + 1 then it is guaranteed non-blocking
behavior when it does not currently own any images.</p>
</div>
<div class="paragraph">
<p>13) Is there a way to create and initialize a new swapchain for a surface
that has generated a <code>VK_SUBOPTIMAL_KHR</code> return code while still using
the old swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not as part of this specification.
This could be useful to allow the application to create an &#8220;optimal&#8221;
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
&#8220;suboptimal&#8221; swapchain in the main thread.
It could probably use the same &#8220;atomic replace&#8221; semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably could
not support concurrent swapchains for the same surface though, so this will
be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</p>
</div>
<div class="paragraph">
<p>14) Should there be a special value for
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesKHR" class="xref page">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code> to indicate there are no
practical limits on the number of images in a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
There will often be cases where there is no practical limit to the number of
images in a swapchain other than the amount of available resources (i.e.,
memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such soft
limits out via trial/failure iterations.</p>
</div>
<div class="paragraph">
<p>15) Should there be a special value for
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesKHR" class="xref page">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code> to indicate the size of
the platform surface is <strong>undefined</strong>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
On some platforms (Wayland, for example), the surface size is defined by the
images presented to it rather than the other way around.</p>
</div>
<div class="paragraph">
<p>16) Should there be a special value for
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesKHR" class="xref page">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code> to indicate there is no
practical limit on the surface size?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could just
as easily return those same limits, so a special &#8220;unlimited&#8221; value does
not seem useful for this field.</p>
</div>
<div class="paragraph">
<p>17) How should surface rotation and mirroring be exposed to applications?
How do they specify rotation and mirroring transforms applied prior to
presentation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can query both the supported and current transforms
of a surface.
Both are specified relative to the device&#8217;s &#8220;natural&#8221; display rotation and
direction.
The supported transforms indicate which orientations the presentation engine
accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface that
is displayed with a 90-degree rotation, would return only one supported
transform bit: <code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>.
Applications must transform their rendering by the transform they specify
when creating the swapchain in <code>preTransform</code> field.</p>
</div>
<div class="paragraph">
<p>18) Can surfaces ever not support <code>VK_MIRROR_NONE</code>? Can they support
vertical and horizontal mirroring simultaneously? Relatedly, should
<code>VK_MIRROR_NONE</code>[_BIT] be zero, or bit one, and should applications be
allowed to specify multiple pre and current mirror transform bits, or
exactly one?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Since some platforms may not support presenting with a transform
other than the native window&#8217;s current transform, and prerotation/mirroring
are specified relative to the device&#8217;s natural rotation and direction,
rather than relative to the surface&#8217;s current rotation and direction, it is
necessary to express lack of support for no mirroring.
To allow this, the <code>MIRROR_NONE</code> enum must occupy a bit in the flags.
Since <code>MIRROR_NONE</code> must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe <strong>undefined</strong> transforms such as
<code>VK_MIRROR_NONE_BIT</code> | <code>VK_MIRROR_HORIZONTAL_BIT</code>, or a transform
that includes both &#8220;no mirroring&#8221; and &#8220;horizontal mirroring&#8221;
simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
<code>VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT</code> to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed mirroring
transforms.</p>
</div>
<div class="paragraph">
<p>19) Should support for sRGB be required?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In the advent of UHD and HDR display devices, proper color space
information is vital to the display pipeline represented by the swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23 and 24.</p>
</div>
<div class="paragraph">
<p>20) Is there a mechanism to modify or replace an existing swapchain with one
targeting the same surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is described above in the text.</p>
</div>
<div class="paragraph">
<p>21) Should there be a way to set prerotation and mirroring using native APIs
when presenting using a Vulkan swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The transforms that can be expressed in this extension are a subset of those
possible on native platforms.
If a platform exposes a method to specify the transform of presented images
for a given surface using native methods and exposes more transforms or
other properties for surfaces than Vulkan supports, it might be impossible,
difficult, or inconvenient to set some of those properties using Vulkan KHR
extensions and some using the native interfaces.
To avoid overwriting properties set using native commands when presenting
using a Vulkan swapchain, the application can set the pretransform to
&#8220;inherit&#8221;, in which case the current native properties will be used, or if
none are available, a platform-specific default will be used.
Platforms that do not specify a reasonable default or do not provide native
mechanisms to specify such transforms should not include the inherit bits in
the <code>supportedTransforms</code> bitmask they return in
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesKHR" class="xref page">VkSurfaceCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>22) Should the content of presentable images be clipped by objects obscuring
their target surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more efficient presentation
methods on some platforms, but some applications might rely on the content
of presentable images to perform techniques such as partial updates or
motion blurs.</p>
</div>
<div class="paragraph">
<p>23) What is the purpose of specifying a <a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a> along with
<a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> when creating a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan itself is color space agnostic (e.g. even the
meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images on a
display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and -space
pairs.
This set can be discovered via <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a>.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>24) How are sRGB formats and the sRGB color space related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space when
reading from or writing to images of those formats.
Still, it is unlikely that a swapchain will expose a <code>*_SRGB</code> format
along with any color space other than
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>On the other hand, non-<code>*_SRGB</code> formats will be very likely exposed in
pair with a SRGB color space.
This means, the hardware will not apply any transfer function when reading
from or writing to such images, yet they will still be presented on a device
with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</p>
</div>
<div class="paragraph">
<p>25) How are the lifetimes of surfaces and swapchains targeting them related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A surface must outlive any swapchains targeting it.
A <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> owns the binding of the native window to the Vulkan
driver.</p>
</div>
<div class="paragraph">
<p>26) How can the client control the way the alpha component of swapchain
images is treated by the presentation engine during compositing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during the
compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of <code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code> is provided like
for surface transforms.</p>
</div>
<div class="paragraph">
<p>27) Is <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a> the right function to return
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>, or should the various
platform-specific <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> factory functions catch this error
earlier?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For most platforms, the <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> structure is a simple
container holding the data that identifies a native window or other object
representing a surface on a particular platform.
For the surface factory functions to return this error, they would likely
need to register a reference on the native objects with the native display
server somehow, and ensure no other such references exist.
Surfaces were not intended to be that heavyweight.</p>
</div>
<div class="paragraph">
<p>Swapchains are intended to be the objects that directly manipulate native
windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display server
to negotiate allocation and/or presentation of presentable images for a
native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> objects that may be created for the same native window if
such a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_7"><a class="anchor" href="#_examples_7"></a>Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code>VK_KHR_swapchain</code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_37"><a class="anchor" href="#_version_history_37"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
This includes using only a queue for presentation, and having an
explicit function to acquire the next image.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
<li>
<p>Added or resolved issues that were found in improving the Description.
For example, pSurfaceDescription is used consistently, instead of
sometimes using pSurface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed some grammatical errors and typos</p>
</li>
<li>
<p>Filled in the description of imageUseFlags when creating a swapchain.</p>
</li>
<li>
<p>Added a description of swapInterval.</p>
</li>
<li>
<p>Replaced the paragraph describing the order of operations on a queue
for image ownership and presentation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Imported relevant issues from the (abandoned)
vk_wsi_persistent_swapchain_images extension.</p>
</li>
<li>
<p>Added issues 6 and 7, regarding behavior of the acquire next image and
present commands with respect to queues.</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolutions
to issues 6 and 7.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 8, regarding atomic presentation of multiple swapchains</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolution to
issue 8.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code, and made related spec fixes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.</p>
</li>
<li>
<p>Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added inline proposed resolutions (marked with [JRJ]) to some XXX
questions/issues.
These should be moved to the issues section in a subsequent update if
the proposals are adopted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Converted vkAcquireNextImageKHR back to a non-queue operation that uses
a VkSemaphore object for explicit synchronization.</p>
</li>
<li>
<p>Added issue 10 to determine whether vkAcquireNextImageKHR generates or
returns semaphores, or whether it operates on a semaphore provided by
the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 6, 7, and 8 resolved.</p>
</li>
<li>
<p>Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
better convey the mutable nature of the information it contains.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 11 with a proposed resolution, and the related issue 12.</p>
</li>
<li>
<p>Updated various sections of the spec to match the proposed resolution
to issue 11.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved some structures to VK_EXT_KHR_swap_chain to resolve the
specification&#8217;s issues 1 and 2.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added code for example 4 demonstrating how an application might make
use of the two different present and acquire next image KHR result
codes.</p>
</li>
<li>
<p>Added issue 13.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 14 - 16 and related spec language.</p>
</li>
<li>
<p>Fixed some spelling errors.</p>
</li>
<li>
<p>Added language describing the meaningful return values for
vkAcquireNextImageKHR and vkQueuePresentKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-06-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 17 and 18, as well as related spec language.</p>
</li>
<li>
<p>Removed some erroneous text added by mistake in the last update.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value from &#8220;-1&#8221; to &#8220;0&#8221; so that the data types can
be unsigned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
timeout parameter of the vkAcquireNextImageKHR function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Misc.
cleanup.
Removed resolved inline issues and fixed typos.</p>
</li>
<li>
<p>Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
version 18.</p>
</li>
<li>
<p>Added a brief &#8220;Image Ownership&#8221; definition to the list of terms used
in the spec.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language describing how to use
VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
<li>
<p>Cleaned up an XXX comment regarding the description of which queues
vkQueuePresentKHR can be used on.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated language for issue 12 to read as a proposed resolution.</p>
</li>
<li>
<p>Marked issues 11, 12, 13, 16, and 17 resolved.</p>
</li>
<li>
<p>Temporarily added links to the relevant bugs under the remaining
unresolved issues.</p>
</li>
<li>
<p>Added issues 19 and 20 as well as proposed resolutions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-06-19 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value for VkSurfacePropertiesKHR::currentExtent back to
&#8220;-1&#8221; from &#8220;0&#8221;.
This value will never need to be unsigned, and &#8220;0&#8221; is actually a
legal value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 26, 2015-06-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Resolved Issues 9 &amp; 10 per KHR TSG meeting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 27, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added oldSwapchain member to VkSwapchainCreateInfoKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 28, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &#8220;inherit&#8221; bits to the rotation and mirroring flags and the
associated issue 21.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 29, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &#8220;clipped&#8221; flag to VkSwapchainCreateInfoKHR, and the
associated issue 22.</p>
</li>
<li>
<p>Specified that presenting an image does not modify it.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 30, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language to the spec that clarifies the behavior of
vkCreateSwapchainKHR() when the oldSwapchain field of
VkSwapchainCreateInfoKHR is not NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 31, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Example of new VkSwapchainCreateInfoKHR members, &#8220;oldSwapchain&#8221; and
&#8220;clipped&#8221;.</p>
</li>
<li>
<p>Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
VkSwapchainCreateInfoKHR::minImageCount.</p>
</li>
<li>
<p>Rename vkGetSurfaceInfoKHR()'s 4th parameter to &#8220;pDataSize&#8221;, for
consistency with other functions.</p>
</li>
<li>
<p>Add macro with C-string name of extension (just to header file).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 32, 2015-06-26 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Minor adjustments to the language describing the behavior of
&#8220;oldSwapchain&#8221;</p>
</li>
<li>
<p>Fixed the version date on my previous two updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 33, 2015-06-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add usage flags to VkSwapchainCreateInfoKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 34, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Rename vkQueuePresentKHR()'s 2nd parameter to &#8220;pPresentInfo&#8221;, for
consistency with other functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 35, 2015-06-26 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
single VkSurfaceTransformFlagBitsKHR enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 36, 2015-06-26 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added a VkSurfaceTransformKHR enum that is not a bitmask.
Each value in VkSurfaceTransformKHR corresponds directly to one of the
bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
other is easy.
Having a separate enum means that currentTransform and preTransform are
now unambiguous by definition.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 37, 2015-06-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected one of the signatures of vkAcquireNextImageKHR, which had the
last two parameters switched from what it is elsewhere in the
specification and header files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 38, 2015-06-30 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in description of the vkGetSwapchainInfoKHR()
function.</p>
</li>
<li>
<p>Corrected a typo in header file comment for VkPresentInfoKHR::sType.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 39, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 40, 2015-07-10 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated to work with version 138 of the <code>vulkan.h</code> header.
This includes declaring the VkSwapchainKHR type using the new
VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
(which was eliminated).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 41 2015-07-09 (Mathias Heyer)</p>
<div class="ulist">
<ul>
<li>
<p>Added color space language.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 42, 2015-07-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated query mechanism to reflect the convention changes done in the
core spec.</p>
</li>
<li>
<p>Removed &#8220;queue&#8221; from the name of
VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
established naming convention.</p>
</li>
<li>
<p>Removed reference to the no longer existing VkObjectType enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 43, 2015-07-17 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for concurrent sharing of swapchain images across queue
families.</p>
</li>
<li>
<p>Updated sample code based on recent changes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 44, 2015-07-27 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
support FIFO.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 45, 2015-08-07 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in spec file (type and variable name had wrong case
for the imageColorSpace member of the VkSwapchainCreateInfoKHR struct).</p>
</li>
<li>
<p>Corrected a typo in header file (last parameter in
PFN_vkGetSurfacePropertiesKHR was missing &#8220;KHR&#8221; at the end of type:
VkSurfacePropertiesKHR).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 46, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &#8220;revision&#8221; to &#8220;version&#8221;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Made improvements to several descriptions.</p>
</li>
<li>
<p>Changed the status of several issues from PROPOSED to RESOLVED, leaving
no unresolved issues.</p>
</li>
<li>
<p>Resolved several TODOs, did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 47, 2015-08-20 (Ian Elliott&#8212;&#8203;porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums to VK_WSI_swapchain so they could be
reused by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 48, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Various minor cleanups.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 49, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 50, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Update Example #4 to include code that illustrates how to use the
oldSwapchain field.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 51, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 52, 2015-09-08 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 53, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscore from SWAP_CHAIN left in
VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 54, 2015-09-11 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Described the execution and memory coherence requirements for image
transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 55, 2015-09-11 (Ray Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Added errors for destroying and binding memory to presentable images</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 56, 2015-09-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added fence argument to vkAcquireNextImageKHR</p>
</li>
<li>
<p>Added example of how to meter a host thread based on presentation rate.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 57, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.</p>
</li>
<li>
<p>Added issue 25 with agreed resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 58, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 59, 2015-09-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed vkDestroySwapchainKHR() to return void.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 60, 2015-10-01 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Added error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 61, 2015-10-05 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the VkCompositeAlpha enum and corresponding structure fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 62, 2015-10-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 63, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Moved surface capability queries to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 64, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 65, 2015-10-28 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added optional pResult member to VkPresentInfoKHR, so that
per-swapchain results can be obtained from vkQueuePresentKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 66, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to create and destroy functions.</p>
</li>
<li>
<p>Updated resource transition language.</p>
</li>
<li>
<p>Updated sample code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 67, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add reserved flags bitmask to VkSwapchainCreateInfoKHR.</p>
</li>
<li>
<p>Modify naming and member ordering to match API style conventions, and
so the VkSwapchainCreateInfoKHR image property members mirror
corresponding VkImageCreateInfo members but with an 'image' prefix.</p>
</li>
<li>
<p>Make VkPresentInfoKHR::pResults non-const; it is an output array
parameter.</p>
</li>
<li>
<p>Make pPresentInfo parameter to vkQueuePresentKHR const.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 68, 2016-04-05 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the &#8220;validity&#8221; include for vkAcquireNextImage to be in its
proper place, after the prototype and list of parameters.</p>
</li>
<li>
<p>Clarified language about presentable images, including how they are
acquired, when applications can and cannot use them, etc.
As part of this, removed language about &#8220;ownership&#8221; of presentable
images, and replaced it with more-consistent language about presentable
images being &#8220;acquired&#8221; by the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to use the final API command names, to not
have so many characters per line, and to split out a new example to
show how to obtain function pointers.
This code is more similar to the LunarG &#8220;cube&#8221; demo program.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 69, 2017-09-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 70, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_swapchain_mutable_format"><a class="anchor" href="#VK_KHR_swapchain_mutable_format"></a>VK_KHR_swapchain_mutable_format</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain_mutable_format</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>201</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.2" class="xref page">Version 1.2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain_mutable_format] @drakos-amd%0A*Here describe the issue or question you have about the VK_KHR_swapchain_mutable_format extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_38"><a class="anchor" href="#_other_extension_metadata_38"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_38"><a class="anchor" href="#_description_38"></a>Description</h3>
<div class="paragraph">
<p>This extension allows processing of swapchain images as different formats to
that used by the window system, which is particularly useful for switching
between sRGB and linear RGB formats.</p>
</div>
<div class="paragraph">
<p>It adds a new swapchain creation flag that enables creating image views from
presentable images with a different format than the one used to create the
swapchain.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_38"><a class="anchor" href="#_new_enum_constants_38"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SWAPCHAIN_MUTABLE_FORMAT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SWAPCHAIN_MUTABLE_FORMAT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagBitsKHR" class="xref page">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_30"><a class="anchor" href="#_issues_30"></a>Issues</h3>
<div class="paragraph">
<p>1) Are there any new capabilities needed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is expected that all implementations exposing this extension support
swapchain image format mutability.</p>
</div>
<div class="paragraph">
<p>2) Do we need a separate <code>VK_SWAPCHAIN_CREATE_EXTENDED_USAGE_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension requires <code>VK_KHR_maintenance2</code> and presentable images of
swapchains created with <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> are
created internally in a way equivalent to specifying both
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code>.</p>
</div>
<div class="paragraph">
<p>3) Do we need a separate structure to allow specifying an image format list
for swapchains?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
We simply use the same <a href="../chapters/resources.html#VkImageFormatListCreateInfoKHR" class="xref page">VkImageFormatListCreateInfoKHR</a> structure
introduced by <code>VK_KHR_image_format_list</code>.
The structure is required to be included in the <code>pNext</code> chain of
<a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a> for swapchains created with
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_38"><a class="anchor" href="#_version_history_38"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_video_decode_h264"><a class="anchor" href="#VK_KHR_video_decode_h264"></a>VK_KHR_video_decode_h264</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_h264</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>41</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:peter.fang@amd.com">peter.fang@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_h264.adoc">VK_KHR_video_decode_h264</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_39"><a class="anchor" href="#_other_extension_metadata_39"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Chunbo Chen, Intel</p>
</li>
<li>
<p>HoHin Lau, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_39"><a class="anchor" href="#_description_39"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code> extension
by adding support for decoding elementary video stream sequences compliant
with the H.264/AVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_decode_h264</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_36"><a class="anchor" href="#_new_structures_36"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264CapabilitiesKHR" class="xref page">VkVideoDecodeH264CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoDecodeInfoKHR" class="xref page">VkVideoDecodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264PictureInfoKHR" class="xref page">VkVideoDecodeH264PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264ProfileInfoKHR" class="xref page">VkVideoDecodeH264ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoReferenceSlotInfoKHR" class="xref page">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264DpbSlotInfoKHR" class="xref page">VkVideoDecodeH264DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264SessionParametersCreateInfoKHR" class="xref page">VkVideoDecodeH264SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersUpdateInfoKHR" class="xref page">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264SessionParametersAddInfoKHR" class="xref page">VkVideoDecodeH264SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_12"><a class="anchor" href="#_new_enums_12"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264PictureLayoutFlagBitsKHR" class="xref page">VkVideoDecodeH264PictureLayoutFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_9"><a class="anchor" href="#_new_bitmasks_9"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH264PictureLayoutFlagsKHR" class="xref page">VkVideoDecodeH264PictureLayoutFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_39"><a class="anchor" href="#_new_enum_constants_39"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H264_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H264_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagBitsKHR" class="xref page">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_DECODE_H264_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_39"><a class="anchor" href="#_version_history_39"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API Updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH264FieldLayoutFlagsEXT</code> to
<code>VkVideoDecodeH264PictureLayoutFlagsEXT</code>,
<code>VkVideoDecodeH264FieldLayoutFlagBitsEXT</code> to
<code>VkVideoDecodeH264PictureLayoutFlagBitsEXT</code> (along with the names of
enumerants it defines), and <code>VkVideoDecodeH264ProfileEXT.fieldLayout</code>
to <code>VkVideoDecodeH264ProfileEXT.pictureLayout</code>, following Vulkan naming
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoDecodeH264SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Use type StdVideoH264Level for VkVideoDecodeH264Capabilities.maxLevel</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-08-09 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH264ProfileEXT</code> to
<code>VkVideoDecodeH264ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoDecodeH264MvcEXT</code> to <code>VkVideoDecodeH264MvcInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change type of <code>VkVideoDecodeH264ProfileInfoEXT::pictureLayout</code> to
<code>VkVideoDecodeH264PictureLayoutFlagBitsEXT</code></p>
</li>
<li>
<p>Remove MVC support and related <code>VkVideoDecodeH264MvcInfoEXT</code> structure</p>
</li>
<li>
<p>Rename <code>spsStdCount</code>, <code>pSpsStd</code>, <code>ppsStdCount</code>, and <code>pPpsStd</code> to
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoDecodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxSpsStdCount</code> and <code>maxPpsStdCount</code> to <code>maxStdSPSCount</code> and
<code>maxStdPPSCount</code>, respectively, in
<code>VkVideoDecodeH264SessionParametersCreateInfoEXT</code></p>
</li>
<li>
<p>Rename <code>slicesCount</code> and <code>pSlicesDataOffsets</code> to <code>sliceCount</code> and
<code>pSliceOffsets</code>, respectively, in <code>VkVideoDecodeH264PictureInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_video_decode_h265"><a class="anchor" href="#VK_KHR_video_decode_h265"></a>VK_KHR_video_decode_h265</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_h265</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>188</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:peter.fang@amd.com">peter.fang@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_h265.adoc">VK_KHR_video_decode_h265</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_40"><a class="anchor" href="#_other_extension_metadata_40"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>HoHin Lau, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_40"><a class="anchor" href="#_description_40"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code> extension
by adding support for decoding elementary video stream sequences compliant
with the H.265/HEVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_decode_h265</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_37"><a class="anchor" href="#_new_structures_37"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265CapabilitiesKHR" class="xref page">VkVideoDecodeH265CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoDecodeInfoKHR" class="xref page">VkVideoDecodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265PictureInfoKHR" class="xref page">VkVideoDecodeH265PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265ProfileInfoKHR" class="xref page">VkVideoDecodeH265ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoReferenceSlotInfoKHR" class="xref page">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265DpbSlotInfoKHR" class="xref page">VkVideoDecodeH265DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265SessionParametersCreateInfoKHR" class="xref page">VkVideoDecodeH265SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersUpdateInfoKHR" class="xref page">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeH265SessionParametersAddInfoKHR" class="xref page">VkVideoDecodeH265SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_40"><a class="anchor" href="#_new_enum_constants_40"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H265_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H265_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagBitsKHR" class="xref page">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_DECODE_H265_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_40"><a class="anchor" href="#_version_history_40"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoDecodeH265SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Use type StdVideoH265Level for VkVideoDecodeH265Capabilities.maxLevel</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-08-09 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH265ProfileEXT</code> to
<code>VkVideoDecodeH265ProfileInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>vpsStdCount</code>, <code>pVpsStd</code>, <code>spsStdCount</code>, <code>pSpsStd</code>,
<code>ppsStdCount</code>, and <code>pPpsStd</code> to <code>stdVPSCount</code>, <code>pStdVPSs</code>,
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoDecodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxVpsStdCount</code>, <code>maxSpsStdCount</code>, and <code>maxPpsStdCount</code> to
<code>maxStdVPSCount</code>, <code>maxStdSPSCount</code> and <code>maxStdPPSCount</code>, respectively,
in <code>VkVideoDecodeH265SessionParametersCreateInfoEXT</code></p>
</li>
<li>
<p>Rename <code>slicesCount</code> and <code>pSlicesDataOffsets</code> to <code>sliceCount</code> and
<code>pSliceOffsets</code>, respectively, in <code>VkVideoDecodeH265PictureInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-11-14 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>slice</code> to <code>sliceSegment</code> in the APIs for better clarity</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-11-14 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_video_decode_queue"><a class="anchor" href="#VK_KHR_video_decode_queue"></a>VK_KHR_video_decode_queue</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_queue">VK_KHR_video_queue</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:jake.beju@amd.com">jake.beju@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_queue.adoc">VK_KHR_video_decode_queue</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_41"><a class="anchor" href="#_other_extension_metadata_41"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Olivier Lapicque, NVIDIA</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_41"><a class="anchor" href="#_description_41"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_queue">VK_KHR_video_queue</a></code> extension by
adding common APIs specific to video decoding and thus enabling
implementations to expose queue families supporting video decode operations.</p>
</div>
<div class="paragraph">
<p>More specifically, it adds video decode specific capabilities and a new
command buffer command that allows recording video decode operations against
a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other codec specific video
decode extensions that enable decoding video sequences of specific video
compression standards.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_27"><a class="anchor" href="#_new_commands_27"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#vkCmdDecodeVideoKHR" class="xref page">vkCmdDecodeVideoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_38"><a class="anchor" href="#_new_structures_38"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeInfoKHR" class="xref page">VkVideoDecodeInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeCapabilitiesKHR" class="xref page">VkVideoDecodeCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeUsageInfoKHR" class="xref page">VkVideoDecodeUsageInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_13"><a class="anchor" href="#_new_enums_13"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeCapabilityFlagBitsKHR" class="xref page">VkVideoDecodeCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeUsageFlagBitsKHR" class="xref page">VkVideoDecodeUsageFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_10"><a class="anchor" href="#_new_bitmasks_10"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeCapabilityFlagsKHR" class="xref page">VkVideoDecodeCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeFlagsKHR" class="xref page">VkVideoDecodeFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoDecodeUsageFlagsKHR" class="xref page">VkVideoDecodeUsageFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_41"><a class="anchor" href="#_new_enum_constants_41"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_VIDEO_DECODE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_VIDEO_DECODE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_DECODE_OUTPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_DPB_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_DST_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_VIDEO_DECODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFlagBits" class="xref page">VkQueueFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_VIDEO_DECODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_USAGE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_DECODE_OUTPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_41"><a class="anchor" href="#_version_history_41"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.5, Nov 09 2018 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API Updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, Jan 08 2020 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API unify with the video_encode_queue spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.7, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, September 30 2021 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-02-25 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoDecodeCapabilitiesKHR with new flags to report support for
decode DPB and output coinciding in the same image, or in distinct
images.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Remove redundant VkVideoDecodeInfoKHR.coded{Offset|Extent}</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Remove <code>VkVideoDecodeFlagBitsKHR</code> as it contains no defined flags for
now</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-08-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoDecodeUsageInfoKHR structure and related flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_video_queue"><a class="anchor" href="#VK_KHR_video_queue"></a>VK_KHR_video_queue</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>24</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tony Zlatinski <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_queue] @tzlatinski%0A*Here describe the issue or question you have about the VK_KHR_video_queue extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tzlatinski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_queue.adoc">VK_KHR_video_queue</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_42"><a class="anchor" href="#_other_extension_metadata_42"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_42"><a class="anchor" href="#_description_42"></a>Description</h3>
<div class="paragraph">
<p>This extension provides common APIs to enable exposing queue families with
support for video codec operations by introducing the following new object
types and related functionalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Video session objects that represent and maintain the state needed to
perform video codec operations.</p>
</li>
<li>
<p>Video session parameters objects that act as a container for codec
specific parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, it also introduces query commands that allow applications to
determine video coding related capabilities, and command buffer commands
that enable recording video coding operations against a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other extensions that
enable specific video coding operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_6"><a class="anchor" href="#_new_object_types_6"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionKHR" class="xref page">VkVideoSessionKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionParametersKHR" class="xref page">VkVideoSessionParametersKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_28"><a class="anchor" href="#_new_commands_28"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#vkBindVideoSessionMemoryKHR" class="xref page">vkBindVideoSessionMemoryKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">vkCmdBeginVideoCodingKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkCmdControlVideoCodingKHR" class="xref page">vkCmdControlVideoCodingKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkCmdEndVideoCodingKHR" class="xref page">vkCmdEndVideoCodingKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkCreateVideoSessionKHR" class="xref page">vkCreateVideoSessionKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkCreateVideoSessionParametersKHR" class="xref page">vkCreateVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkDestroyVideoSessionKHR" class="xref page">vkDestroyVideoSessionKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkDestroyVideoSessionParametersKHR" class="xref page">vkDestroyVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkGetPhysicalDeviceVideoCapabilitiesKHR" class="xref page">vkGetPhysicalDeviceVideoCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkGetPhysicalDeviceVideoFormatPropertiesKHR" class="xref page">vkGetPhysicalDeviceVideoFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkGetVideoSessionMemoryRequirementsKHR" class="xref page">vkGetVideoSessionMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkUpdateVideoSessionParametersKHR" class="xref page">vkUpdateVideoSessionParametersKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_39"><a class="anchor" href="#_new_structures_39"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkBindVideoSessionMemoryInfoKHR" class="xref page">VkBindVideoSessionMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkPhysicalDeviceVideoFormatInfoKHR" class="xref page">VkPhysicalDeviceVideoFormatInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCodingControlInfoKHR" class="xref page">VkVideoCodingControlInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEndCodingInfoKHR" class="xref page">VkVideoEndCodingInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoFormatPropertiesKHR" class="xref page">VkVideoFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoPictureResourceInfoKHR" class="xref page">VkVideoPictureResourceInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoReferenceSlotInfoKHR" class="xref page">VkVideoReferenceSlotInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionCreateInfoKHR" class="xref page">VkVideoSessionCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionMemoryRequirementsKHR" class="xref page">VkVideoSessionMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionParametersUpdateInfoKHR" class="xref page">VkVideoSessionParametersUpdateInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>, <a href="../chapters/video_extensions.html#VkPhysicalDeviceVideoFormatInfoKHR" class="xref page">VkPhysicalDeviceVideoFormatInfoKHR</a>, <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoProfileListInfoKHR" class="xref page">VkVideoProfileListInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2" class="xref page">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyQueryResultStatusPropertiesKHR" class="xref page">VkQueueFamilyQueryResultStatusPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyVideoPropertiesKHR" class="xref page">VkQueueFamilyVideoPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_14"><a class="anchor" href="#_new_enums_14"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkQueryResultStatusKHR" class="xref page">VkQueryResultStatusKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCapabilityFlagBitsKHR" class="xref page">VkVideoCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoChromaSubsamplingFlagBitsKHR" class="xref page">VkVideoChromaSubsamplingFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagBitsKHR" class="xref page">VkVideoCodecOperationFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCodingControlFlagBitsKHR" class="xref page">VkVideoCodingControlFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoComponentBitDepthFlagBitsKHR" class="xref page">VkVideoComponentBitDepthFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionCreateFlagBitsKHR" class="xref page">VkVideoSessionCreateFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_11"><a class="anchor" href="#_new_bitmasks_11"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoBeginCodingFlagsKHR" class="xref page">VkVideoBeginCodingFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCapabilityFlagsKHR" class="xref page">VkVideoCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoChromaSubsamplingFlagsKHR" class="xref page">VkVideoChromaSubsamplingFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagsKHR" class="xref page">VkVideoCodecOperationFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoCodingControlFlagsKHR" class="xref page">VkVideoCodingControlFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoComponentBitDepthFlagsKHR" class="xref page">VkVideoComponentBitDepthFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEndCodingFlagsKHR" class="xref page">VkVideoEndCodingFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionCreateFlagsKHR" class="xref page">VkVideoSessionCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateFlagsKHR" class="xref page">VkVideoSessionParametersCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_42"><a class="anchor" href="#_new_enum_constants_42"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_VIDEO_SESSION_KHR</code></p>
</li>
<li>
<p><code>VK_OBJECT_TYPE_VIDEO_SESSION_PARAMETERS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryResultFlagBits" class="xref page">VkQueryResultFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_RESULT_WITH_STATUS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_RESULT_STATUS_ONLY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_IMAGE_USAGE_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PICTURE_LAYOUT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_CODEC_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_FORMAT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_OPERATION_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_STD_VERSION_NOT_SUPPORTED_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_VIDEO_SESSION_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VIDEO_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_QUERY_RESULT_STATUS_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_VIDEO_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_BEGIN_CODING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_CODING_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_END_CODING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PICTURE_RESOURCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PROFILE_LIST_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_REFERENCE_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_PARAMETERS_UPDATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_42"><a class="anchor" href="#_version_history_42"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0.1, 2019-11-21 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.2, 2019-11-27 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Make vulkan video core common between decode and encode</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoCapabilitiesFlagBitsKHR</code> to
<code>VkVideoCapabilityFlagBitsKHR</code> (along with the names of enumerants it
defines) and <code>VkVideoCapabilitiesFlagsKHR</code> to
<code>VkVideoCapabilityFlagsKHR</code>, following Vulkan naming conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from codec-operation
specific extensions to this extension.</p>
</li>
<li>
<p>Make Std header versions codec-operation specific instead of only
codec-specific.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-05-30 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Refactor the video format query APIs and related language</p>
</li>
<li>
<p>Extend VkResult with video-specific error codes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-08-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add <code>VkVideoSessionParametersCreateFlagsKHR</code></p>
</li>
<li>
<p>Remove <code>VkVideoCodingQualityPresetFlagsKHR</code></p>
</li>
<li>
<p>Rename <code>VkQueueFamilyQueryResultStatusProperties2KHR</code> to
<code>VkQueueFamilyQueryResultStatusPropertiesKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoQueueFamilyProperties2KHR</code> to
<code>VkQueueFamilyVideoPropertiesKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoProfileKHR</code> to <code>VkVideoProfileInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoProfilesKHR</code> to <code>VkVideoProfileListInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoGetMemoryPropertiesKHR</code> to
<code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoBindMemoryKHR</code> to <code>VkBindVideoSessionMemoryInfoKHR</code></p>
</li>
<li>
<p>Fix <code>pNext</code> constness of <code>VkPhysicalDeviceVideoFormatInfoKHR</code> and
<code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Fix incorrectly named value enums in bit enum types
<code>VkVideoCodecOperationFlagBitsKHR</code> and
<code>VkVideoChromaSubsamplingFlagBitsKHR</code></p>
</li>
<li>
<p>Remove unnecessary default values from
<code>VkVideoSessionCreateFlagBitsKHR</code> and <code>VkVideoCodingControlFlagBitsKHR</code></p>
</li>
<li>
<p>Eliminate nested pointer in <code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoPictureResourceKHR</code> to <code>VkVideoPictureResourceInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoReferenceSlotKHR</code> to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename the <code>maxReferencePicturesSlotsCount</code> and
<code>maxReferencePicturesActiveCount</code> fields of <code>VkVideoCapabilitiesKHR</code>
and <code>VkVideoSessionCreateInfoKHR</code> to <code>maxDpbSlots</code> and
<code>maxActiveReferencePictures</code>, respectively, to clarify their meaning</p>
</li>
<li>
<p>Rename <code>capabilityFlags</code> to <code>flags</code> in <code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>videoPictureExtentGranularity</code> to <code>pictureAccessGranularity</code> in
<code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>minExtent</code> and <code>maxExtent</code> to <code>minCodedExtent</code> and
<code>maxCodedExtent</code>, respectively, in <code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>referencePicturesFormat</code> to <code>referencePictureFormat</code> in
<code>VkVideoSessionCreateInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-26 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change type of <code>VkVideoReferenceSlotInfoKHR::slotIndex</code> from <code>int8_t</code>
to <code>int32_t</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_wayland_surface"><a class="anchor" href="#VK_KHR_wayland_surface"></a>VK_KHR_wayland_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_wayland_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_wayland_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_wayland_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_wayland_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_wayland_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_43"><a class="anchor" href="#_other_extension_metadata_43"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_43"><a class="anchor" href="#_description_43"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_wayland_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Wayland
<code>wl_surface</code>, as well as a query to determine support for rendering to a
Wayland compositor.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_29"><a class="anchor" href="#_new_commands_29"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateWaylandSurfaceKHR" class="xref page">vkCreateWaylandSurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_40"><a class="anchor" href="#_new_structures_40"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkWaylandSurfaceCreateInfoKHR" class="xref page">VkWaylandSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_12"><a class="anchor" href="#_new_bitmasks_12"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkWaylandSurfaceCreateFlagsKHR" class="xref page">VkWaylandSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_43"><a class="anchor" href="#_new_enum_constants_43"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WAYLAND_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WAYLAND_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_31"><a class="anchor" href="#_issues_31"></a>Issues</h3>
<div class="paragraph">
<p>1) Does Wayland need a way to query for compatibility between a particular
physical device and a specific Wayland display? This would be a more general
query than <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceSupportKHR" class="xref page">vkGetPhysicalDeviceSurfaceSupportKHR</a>: if the
Wayland-specific query returned <code>VK_TRUE</code> for a (<a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a>,
<code>struct wl_display*</code>) pair, then the physical device could be assumed to
support presentation to any <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> for surfaces on the display.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a> was added to address
this issue.</p>
</div>
<div class="paragraph">
<p>2) Should we require surfaces created with <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateWaylandSurfaceKHR" class="xref page">vkCreateWaylandSurfaceKHR</a>
to support the <code>VK_PRESENT_MODE_MAILBOX_KHR</code> present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Wayland is an inherently mailbox window system and mailbox support is
required for some Wayland compositor interactions to work as expected.
While handling these interactions may be possible with
<code>VK_PRESENT_MODE_FIFO_KHR</code>, it is much more difficult to do without
deadlock and requiring all Wayland applications to be able to support
implementations which only support <code>VK_PRESENT_MODE_FIFO_KHR</code> would be
an onerous restriction on application developers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_43"><a class="anchor" href="#_version_history_43"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
issue #1.</p>
</li>
<li>
<p>Adjusted wording of issue #1 to match the agreed-upon solution.</p>
</li>
<li>
<p>Renamed &#8220;window&#8221; parameters to &#8220;surface&#8221; to match Wayland
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWaylandSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-02-08 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the requirement that implementations support
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>.</p>
</li>
<li>
<p>Added wording about interactions between <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> and
the Wayland requests sent to the compositor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_win32_keyed_mutex"><a class="anchor" href="#VK_KHR_win32_keyed_mutex"></a>VK_KHR_win32_keyed_mutex</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>76</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_keyed_mutex] @crohde%0A*Here describe the issue or question you have about the VK_KHR_win32_keyed_mutex extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_44"><a class="anchor" href="#_other_extension_metadata_44"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_44"><a class="anchor" href="#_description_44"></a>Description</h3>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_41"><a class="anchor" href="#_new_structures_41"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>, <a href="../chapters/cmdbuffers.html#VkSubmitInfo2" class="xref page">VkSubmitInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkWin32KeyedMutexAcquireReleaseInfoKHR" class="xref page">VkWin32KeyedMutexAcquireReleaseInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_44"><a class="anchor" href="#_new_enum_constants_44"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WIN32_KEYED_MUTEX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WIN32_KEYED_MUTEX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_44"><a class="anchor" href="#_version_history_44"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_win32_surface"><a class="anchor" href="#VK_KHR_win32_surface"></a>VK_KHR_win32_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_win32_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_win32_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_45"><a class="anchor" href="#_other_extension_metadata_45"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-04-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_45"><a class="anchor" href="#_description_45"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_win32_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Win32 <code>HWND</code>, as
well as a query to determine support for rendering to the windows desktop.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_30"><a class="anchor" href="#_new_commands_30"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateWin32SurfaceKHR" class="xref page">vkCreateWin32SurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceWin32PresentationSupportKHR" class="xref page">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_42"><a class="anchor" href="#_new_structures_42"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkWin32SurfaceCreateInfoKHR" class="xref page">VkWin32SurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_13"><a class="anchor" href="#_new_bitmasks_13"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkWin32SurfaceCreateFlagsKHR" class="xref page">VkWin32SurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_45"><a class="anchor" href="#_new_enum_constants_45"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WIN32_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WIN32_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_32"><a class="anchor" href="#_issues_32"></a>Issues</h3>
<div class="paragraph">
<p>1) Does Win32 need a way to query for compatibility between a particular
physical device and a specific screen? Compatibility between a physical
device and a window generally only depends on what screen the window is on.
However, there is not an obvious way to identify a screen without already
having a window on the screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the windows
desktop as a whole.</p>
</div>
<div class="paragraph">
<p>2) If a native window object (<code>HWND</code>) is used by one graphics API, and
then is later used by a different graphics API (one of which is Vulkan), can
these uses interfere with each other?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Uses of a window object by multiple graphics APIs results in <strong>undefined</strong>
behavior.
Such behavior may succeed when using one Vulkan implementation but fail when
using a different Vulkan implementation.
Potential failures include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating then destroying a flip presentation model DXGI swapchain on a
window object can prevent <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a> from succeeding on
the same window object.</p>
</li>
<li>
<p>Creating then destroying a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> on a window object can
prevent creation of a bitblt model DXGI swapchain on the same window
object.</p>
</li>
<li>
<p>Creating then destroying a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> on a window object can
effectively <code>SetPixelFormat</code> to a different format than the format
chosen by an OpenGL application.</p>
</li>
<li>
<p>Creating then destroying a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> on a window object on
one <a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> can prevent <a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a> from
succeeding on the same window object, but on a different
<a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a> that is associated with a different Vulkan ICD.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases the problem can be worked around by creating a new window
object.</p>
</div>
<div class="paragraph">
<p>Technical details include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating a DXGI swapchain over a window object can alter the object for
the remainder of its lifetime.
The alteration persists even after the DXGI swapchain has been
destroyed.
This alteration can make it impossible for a conformant Vulkan
implementation to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> over the same window
object.
Mention of this alteration can be found in the remarks section of the
MSDN documentation for <code>DXGI_SWAP_EFFECT</code>.</p>
</li>
<li>
<p>Calling GDI&#8217;s <code>SetPixelFormat</code> (needed by OpenGL&#8217;s WGL layer) on a
window object alters the object for the remainder of its lifetime.
The MSDN documentation for <code>SetPixelFormat</code> explains that a window
object&#8217;s pixel format can be set only one time.</p>
</li>
<li>
<p>Creating a <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainKHR" class="xref page">VkSwapchainKHR</a> over a window object can alter the
object for its remaining lifetime.
Either of the above alterations may occur as a side effect of
<a href="../chapters/VK_KHR_surface/wsi.html#vkCreateSwapchainKHR" class="xref page">vkCreateSwapchainKHR</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_45"><a class="anchor" href="#_version_history_45"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for win32 desktops.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWin32SurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Jeff Juliano)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue 2 addressing reuse of a native window object in a different
Graphics API, or by a different Vulkan ICD.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_workgroup_memory_explicit_layout"><a class="anchor" href="#VK_KHR_workgroup_memory_explicit_layout"></a>VK_KHR_workgroup_memory_explicit_layout</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_workgroup_memory_explicit_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>337</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Caio Marcelo de Oliveira Filho <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_workgroup_memory_explicit_layout] @cmarcelo%0A*Here describe the issue or question you have about the VK_KHR_workgroup_memory_explicit_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cmarcelo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_46"><a class="anchor" href="#_other_extension_metadata_46"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-06-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_workgroup_memory_explicit_layout.html"><code>SPV_KHR_workgroup_memory_explicit_layout</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shared_memory_block.txt"><code>GL_EXT_shared_memory_block</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Caio Marcelo de Oliveira Filho, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_46"><a class="anchor" href="#_description_46"></a>Description</h3>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_workgroup_memory_explicit_layout.html"><code>SPV_KHR_workgroup_memory_explicit_layout</code></a>
SPIR-V extension, which allows shaders to explicitly define the layout of
<code>Workgroup</code> storage class memory and create aliases between variables
from that storage class in a compute shader.</p>
</div>
<div class="paragraph">
<p>The aliasing feature allows different &#8220;views&#8221; on the same data, so the
shader can bulk copy data from another storage class using one type (e.g. an
array of large vectors), and then use the data with a more specific type.
It also enables reducing the amount of workgroup memory consumed by allowing
the shader to alias data whose lifetimes do not overlap.</p>
</div>
<div class="paragraph">
<p>The explicit layout support and some form of aliasing is also required for
layering OpenCL on top of Vulkan.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_43"><a class="anchor" href="#_new_structures_43"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceWorkgroupMemoryExplicitLayoutFeaturesKHR" class="xref page">VkPhysicalDeviceWorkgroupMemoryExplicitLayoutFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_46"><a class="anchor" href="#_new_enum_constants_46"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_8"><a class="anchor" href="#_new_spir_v_capabilities_8"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayoutKHR" class="xref page">    <code>WorkgroupMemoryExplicitLayoutKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayout8BitAccessKHR" class="xref page">    <code>WorkgroupMemoryExplicitLayout8BitAccessKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayout16BitAccessKHR" class="xref page">    <code>WorkgroupMemoryExplicitLayout16BitAccessKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_46"><a class="anchor" href="#_version_history_46"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-01 (Caio Marcelo de Oliveira Filho)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_xcb_surface"><a class="anchor" href="#VK_KHR_xcb_surface"></a>VK_KHR_xcb_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xcb_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xcb_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_xcb_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xcb_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_xcb_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_47"><a class="anchor" href="#_other_extension_metadata_47"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_47"><a class="anchor" href="#_description_47"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_xcb_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>,
using the XCB client-side library, as well as a query to determine support
for rendering via XCB.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_31"><a class="anchor" href="#_new_commands_31"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateXcbSurfaceKHR" class="xref page">vkCreateXcbSurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceXcbPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_44"><a class="anchor" href="#_new_structures_44"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkXcbSurfaceCreateInfoKHR" class="xref page">VkXcbSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_14"><a class="anchor" href="#_new_bitmasks_14"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkXcbSurfaceCreateFlagsKHR" class="xref page">VkXcbSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_47"><a class="anchor" href="#_new_enum_constants_47"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_XCB_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_XCB_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_33"><a class="anchor" href="#_issues_33"></a>Issues</h3>
<div class="paragraph">
<p>1) Does XCB need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceSupportKHR" class="xref page">vkGetPhysicalDeviceSurfaceSupportKHR</a>: If it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_47"><a class="anchor" href="#_version_history_47"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for an (xcb_connection_t*,
xcb_visualid_t) pair.</p>
</li>
<li>
<p>Removed &#8220;root&#8221; parameter from CreateXcbSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Removed &#8220;root&#8221; parameter from CreateXcbSurfaceKHR() in one more
place.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-10-23 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXcbSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_xlib_surface"><a class="anchor" href="#VK_KHR_xlib_surface"></a>VK_KHR_xlib_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xlib_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xlib_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_xlib_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xlib_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_xlib_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_48"><a class="anchor" href="#_other_extension_metadata_48"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_48"><a class="anchor" href="#_description_48"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_xlib_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>,
using the Xlib client-side library, as well as a query to determine support
for rendering via Xlib.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_32"><a class="anchor" href="#_new_commands_32"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateXlibSurfaceKHR" class="xref page">vkCreateXlibSurfaceKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceXlibPresentationSupportKHR" class="xref page">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_45"><a class="anchor" href="#_new_structures_45"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkXlibSurfaceCreateInfoKHR" class="xref page">VkXlibSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_15"><a class="anchor" href="#_new_bitmasks_15"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkXlibSurfaceCreateFlagsKHR" class="xref page">VkXlibSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_48"><a class="anchor" href="#_new_enum_constants_48"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_XLIB_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_XLIB_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_34"><a class="anchor" href="#_issues_34"></a>Issues</h3>
<div class="paragraph">
<p>1) Does X11 need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceSupportKHR" class="xref page">vkGetPhysicalDeviceSurfaceSupportKHR</a>; if it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_48"><a class="anchor" href="#_version_history_48"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for (Display*, VisualID) pair.</p>
</li>
<li>
<p>Removed &#8220;root&#8221; parameter from CreateXlibSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Added appropriate X errors.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension from VK_EXT_KHR_x11_surface to
VK_EXT_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXlibSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_acquire_drm_display"><a class="anchor" href="#VK_EXT_acquire_drm_display"></a>VK_EXT_acquire_drm_display</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_acquire_drm_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>286</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Drew DeVault <a href="mailto:sir@cmpwn.com">sir@cmpwn.com</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_49"><a class="anchor" href="#_other_extension_metadata_49"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Simon Zeni, Status Holdings, Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_49"><a class="anchor" href="#_description_49"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to take exclusive control of a display
using the Direct Rendering Manager (DRM) interface.
When acquired, the display will be under full control of the application
until the display is either released or the connector is unplugged.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_33"><a class="anchor" href="#_new_commands_33"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireDrmDisplayEXT" class="xref page">vkAcquireDrmDisplayEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDrmDisplayEXT" class="xref page">vkGetDrmDisplayEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_49"><a class="anchor" href="#_new_enum_constants_49"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ACQUIRE_DRM_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ACQUIRE_DRM_DISPLAY_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_35"><a class="anchor" href="#_issues_35"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_49"><a class="anchor" href="#_version_history_49"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-05-11 (Simon Zeni)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_acquire_xlib_display"><a class="anchor" href="#VK_EXT_acquire_xlib_display"></a>VK_EXT_acquire_xlib_display</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_acquire_xlib_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>90</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_acquire_xlib_display] @cubanismo%0A*Here describe the issue or question you have about the VK_EXT_acquire_xlib_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_50"><a class="anchor" href="#_other_extension_metadata_50"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dave Airlie, Red Hat</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_50"><a class="anchor" href="#_description_50"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to take exclusive control on a display
currently associated with an X11 screen.
When control is acquired, the display will be deassociated from the X11
screen until control is released or the specified display connection is
closed.
Essentially, the X11 screen will behave as if the monitor has been unplugged
until control is released.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_34"><a class="anchor" href="#_new_commands_34"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireXlibDisplayEXT" class="xref page">vkAcquireXlibDisplayEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetRandROutputDisplayEXT" class="xref page">vkGetRandROutputDisplayEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_50"><a class="anchor" href="#_new_enum_constants_50"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ACQUIRE_XLIB_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ACQUIRE_XLIB_DISPLAY_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_36"><a class="anchor" href="#_issues_36"></a>Issues</h3>
<div class="paragraph">
<p>1) Should <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireXlibDisplayEXT" class="xref page">vkAcquireXlibDisplayEXT</a> take an RandR display ID, or a
Vulkan display handle as input?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A Vulkan display handle.
Otherwise there would be no way to specify handles to displays that had been
prevented from being included in the X11 display list by some native
platform or vendor-specific mechanism.</p>
</div>
<div class="paragraph">
<p>2) How does an application figure out which RandR display corresponds to a
Vulkan display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A new function, <a href="../chapters/VK_KHR_surface/wsi.html#vkGetRandROutputDisplayEXT" class="xref page">vkGetRandROutputDisplayEXT</a>, is introduced
for this purpose.</p>
</div>
<div class="paragraph">
<p>3) Should <a href="../chapters/VK_KHR_surface/wsi.html#vkGetRandROutputDisplayEXT" class="xref page">vkGetRandROutputDisplayEXT</a> be part of this extension, or a
general Vulkan / RandR or Vulkan / Xlib extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: To avoid yet another extension, include it in this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_50"><a class="anchor" href="#_version_history_50"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_astc_decode_mode"><a class="anchor" href="#VK_EXT_astc_decode_mode"></a>VK_EXT_astc_decode_mode</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_astc_decode_mode</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>68</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_astc_decode_mode] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_astc_decode_mode extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_51"><a class="anchor" href="#_other_extension_metadata_51"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-07</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_51"><a class="anchor" href="#_description_51"></a>Description</h3>
<div class="paragraph">
<p>The existing specification requires that low dynamic range (LDR) ASTC
textures are decompressed to FP16 values per component.
In many cases, decompressing LDR textures to a lower precision intermediate
result gives acceptable image quality.
Source material for LDR textures is typically authored as 8-bit UNORM
values, so decoding to FP16 values adds little value.
On the other hand, reducing precision of the decoded result reduces the size
of the decompressed data, potentially improving texture cache performance
and saving power.</p>
</div>
<div class="paragraph">
<p>The goal of this extension is to enable this efficiency gain on existing
ASTC texture data.
This is achieved by giving the application the ability to select the
intermediate decoding precision.</p>
</div>
<div class="paragraph">
<p>Three decoding options are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Decode to <code>VK_FORMAT_R16G16B16A16_SFLOAT</code> precision: This is the
default, and matches the required behavior in the core API.</p>
</li>
<li>
<p>Decode to <code>VK_FORMAT_R8G8B8A8_UNORM</code> precision: This is provided as
an option in LDR mode.</p>
</li>
<li>
<p>Decode to <code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code> precision: This is
provided as an option in both LDR and HDR mode.
In this mode, negative values cannot be represented and are clamped to
zero.
The alpha component is ignored, and the results are as if alpha was 1.0.
This decode mode is optional and support can be queried via the physical
device properties.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_46"><a class="anchor" href="#_new_structures_46"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewASTCDecodeModeEXT" class="xref page">VkImageViewASTCDecodeModeEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceASTCDecodeFeaturesEXT" class="xref page">VkPhysicalDeviceASTCDecodeFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_51"><a class="anchor" href="#_new_enum_constants_51"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ASTC_DECODE_MODE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ASTC_DECODE_MODE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_ASTC_DECODE_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ASTC_DECODE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_37"><a class="anchor" href="#_issues_37"></a>Issues</h3>
<div class="paragraph">
<p>1) Are implementations allowed to decode at a higher precision than what is
requested?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>RESOLUTION: No.
If we allow this, then this extension could be exposed on all
implementations that support ASTC.
But developers would have no way of knowing what precision was actually
used, and thus whether the image quality is sufficient at reduced
precision.</pre>
</div>
</div>
<div class="paragraph">
<p>2) Should the decode mode be image view state and/or sampler state?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>RESOLUTION: Image view state only.
Some implementations treat the different decode modes as different
texture formats.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a>Example</h3>
<div class="paragraph">
<p>Create an image view that decodes to <code>VK_FORMAT_R8G8B8A8_UNORM</code>
precision:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkImageViewASTCDecodeModeEXT decodeMode =
    {
        .sType = VK_STRUCTURE_TYPE_IMAGE_VIEW_ASTC_DECODE_MODE_EXT,
        .pNext = NULL,
        .decodeMode = VK_FORMAT_R8G8B8A8_UNORM
    };

    VkImageViewCreateInfo createInfo =
    {
        .sType = VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO,
        .pNext = &amp;decodeMode,
        // flags, image, viewType set to application-desired values
        .format = VK_FORMAT_ASTC_8x8_UNORM_BLOCK,
        // components, subresourceRange set to application-desired values
    };

    VkImageView imageView;
    VkResult result = vkCreateImageView(
        device,
        &amp;createInfo,
        NULL,
        &amp;imageView);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_51"><a class="anchor" href="#_version_history_51"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-07 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_attachment_feedback_loop_dynamic_state"><a class="anchor" href="#VK_EXT_attachment_feedback_loop_dynamic_state"></a>VK_EXT_attachment_feedback_loop_dynamic_state</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_attachment_feedback_loop_dynamic_state</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>525</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_attachment_feedback_loop_dynamic_state] @zmike%0A*Here describe the issue or question you have about the VK_EXT_attachment_feedback_loop_dynamic_state extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zmike</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_attachment_feedback_loop_dynamic_state.adoc">VK_EXT_attachment_feedback_loop_dynamic_state</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_52"><a class="anchor" href="#_other_extension_metadata_52"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-04-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_52"><a class="anchor" href="#_description_52"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for setting attachment feedback loops
dynamically on command buffers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_35"><a class="anchor" href="#_new_commands_35"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT" class="xref page">vkCmdSetAttachmentFeedbackLoopEnableEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_47"><a class="anchor" href="#_new_structures_47"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceAttachmentFeedbackLoopDynamicStateFeaturesEXT" class="xref page">VkPhysicalDeviceAttachmentFeedbackLoopDynamicStateFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_52"><a class="anchor" href="#_new_enum_constants_52"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_52"><a class="anchor" href="#_version_history_52"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-04-28 (Mike Blumenkrantz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_attachment_feedback_loop_layout"><a class="anchor" href="#VK_EXT_attachment_feedback_loop_layout"></a>VK_EXT_attachment_feedback_loop_layout</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_attachment_feedback_loop_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>340</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_attachment_feedback_loop_layout] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_attachment_feedback_loop_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_attachment_feedback_loop_layout.adoc">VK_EXT_attachment_feedback_loop_layout</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_53"><a class="anchor" href="#_other_extension_metadata_53"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-04-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Bas Nieuwenhuizen, Google</p>
</li>
<li>
<p>Samuel Iglesias Gonsálvez, Igalia</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_53"><a class="anchor" href="#_description_53"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new image layout,
<code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code>, which allows
applications to have an image layout in which they are able to both render
to and sample/fetch from the same subresource of an image in a given render
pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_48"><a class="anchor" href="#_new_structures_48"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceAttachmentFeedbackLoopLayoutFeaturesEXT" class="xref page">VkPhysicalDeviceAttachmentFeedbackLoopLayoutFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_53"><a class="anchor" href="#_new_enum_constants_53"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkDependencyFlagBits" class="xref page">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_53"><a class="anchor" href="#_version_history_53"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-04-04 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VALVE to EXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-03-09 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_blend_operation_advanced"><a class="anchor" href="#VK_EXT_blend_operation_advanced"></a>VK_EXT_blend_operation_advanced</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_blend_operation_advanced</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>149</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_blend_operation_advanced] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_blend_operation_advanced extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_54"><a class="anchor" href="#_other_extension_metadata_54"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-12</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_54"><a class="anchor" href="#_description_54"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a number of &#8220;advanced&#8221; blending operations that <strong>can</strong>
be used to perform new color blending operations, many of which are more
complex than the standard blend modes provided by unextended Vulkan.
This extension requires different styles of usage, depending on the level of
hardware support and the enabled features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If
<a href="../chapters/features.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT" class="xref page">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a>::<code>advancedBlendCoherentOperations</code>
is <code>VK_FALSE</code>, the new blending operations are supported, but a
memory dependency <strong>must</strong> separate each advanced blend operation on a
given sample.
<code>VK_ACCESS_COLOR_ATTACHMENT_READ_NONCOHERENT_BIT_EXT</code> is used to
synchronize reads using advanced blend operations.</p>
</li>
<li>
<p>If
<a href="../chapters/features.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT" class="xref page">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a>::<code>advancedBlendCoherentOperations</code>
is <code>VK_TRUE</code>, advanced blend operations obey primitive order just
like basic blend operations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In unextended Vulkan, the set of blending operations is limited, and <strong>can</strong> be
expressed very simply.
The <code>VK_BLEND_OP_MIN</code> and <code>VK_BLEND_OP_MAX</code> blend operations simply
compute component-wise minimums or maximums of source and destination color
components.
The <code>VK_BLEND_OP_ADD</code>, <code>VK_BLEND_OP_SUBTRACT</code>, and
<code>VK_BLEND_OP_REVERSE_SUBTRACT</code> modes multiply the source and destination
colors by source and destination factors and either add the two products
together or subtract one from the other.
This limited set of operations supports many common blending operations but
precludes the use of more sophisticated transparency and blending operations
commonly available in many dedicated imaging APIs.</p>
</div>
<div class="paragraph">
<p>This extension provides a number of new &#8220;advanced&#8221; blending operations.
Unlike traditional blending operations using <code>VK_BLEND_OP_ADD</code>, these
blending equations do not use source and destination factors specified by
<a href="../chapters/framebuffer.html#VkBlendFactor" class="xref page">VkBlendFactor</a>.
Instead, each blend operation specifies a complete equation based on the
source and destination colors.
These new blend operations are used for both RGB and alpha components; they
<strong>must</strong> not be used to perform separate RGB and alpha blending (via different
values of color and alpha <a href="../chapters/framebuffer.html#VkBlendOp" class="xref page">VkBlendOp</a>).</p>
</div>
<div class="paragraph">
<p>These blending operations are performed using premultiplied colors, where
RGB colors <strong>can</strong> be considered premultiplied or non-premultiplied by alpha,
according to the <code>srcPremultiplied</code> and <code>dstPremultiplied</code> members
of <a href="../chapters/framebuffer.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT" class="xref page">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a>.
If a color is considered non-premultiplied, the (R,G,B) color components are
multiplied by the alpha component prior to blending.
For non-premultiplied color components in the range <span class="eq">[0,1]</span>, the
corresponding premultiplied color component would have values in the range
<span class="eq">[0 × A, 1 × A]</span>.</p>
</div>
<div class="paragraph">
<p>Many of these advanced blending equations are formulated where the result of
blending source and destination colors with partial coverage have three
separate contributions: from the portions covered by both the source and the
destination, from the portion covered only by the source, and from the
portion covered only by the destination.
The blend parameter
<a href="../chapters/framebuffer.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT" class="xref page">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a>::<code>blendOverlap</code>
<strong>can</strong> be used to specify a correlation between source and destination pixel
coverage.
If set to <code>VK_BLEND_OVERLAP_CONJOINT_EXT</code>, the source and destination
are considered to have maximal overlap, as would be the case if drawing two
objects on top of each other.
If set to <code>VK_BLEND_OVERLAP_DISJOINT_EXT</code>, the source and destination
are considered to have minimal overlap, as would be the case when rendering
a complex polygon tessellated into individual non-intersecting triangles.
If set to <code>VK_BLEND_OVERLAP_UNCORRELATED_EXT</code>, the source and
destination coverage are assumed to have no spatial correlation within the
pixel.</p>
</div>
<div class="paragraph">
<p>In addition to the coherency issues on implementations not supporting
<code>advancedBlendCoherentOperations</code>, this extension has several
limitations worth noting.
First, the new blend operations have a limit on the number of color
attachments they <strong>can</strong> be used with, as indicated by
<a href="../chapters/limits.html#VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT" class="xref page">VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT</a>::<code>advancedBlendMaxColorAttachments</code>.
Additionally, blending precision <strong>may</strong> be limited to 16-bit floating-point,
which <strong>may</strong> result in a loss of precision and dynamic range for framebuffer
formats with 32-bit floating-point components, and in a loss of precision
for formats with 12- and 16-bit signed or unsigned normalized integer
components.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_49"><a class="anchor" href="#_new_structures_49"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT" class="xref page">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT" class="xref page">VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT" class="xref page">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_15"><a class="anchor" href="#_new_enums_15"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkBlendOverlapEXT" class="xref page">VkBlendOverlapEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_54"><a class="anchor" href="#_new_enum_constants_54"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_BLEND_OPERATION_ADVANCED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_BLEND_OPERATION_ADVANCED_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_COLOR_ATTACHMENT_READ_NONCOHERENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/framebuffer.html#VkBlendOp" class="xref page">VkBlendOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BLEND_OP_BLUE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_COLORBURN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_COLORDODGE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_CONTRAST_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DARKEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DIFFERENCE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_ATOP_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_IN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_OUT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_OVER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_EXCLUSION_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_GREEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HARDLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HARDMIX_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_COLOR_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_HUE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_LUMINOSITY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_SATURATION_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_OVG_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_RGB_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LIGHTEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARBURN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARDODGE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MINUS_CLAMPED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MINUS_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MULTIPLY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_OVERLAY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PINLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_CLAMPED_ALPHA_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_CLAMPED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_DARKER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_RED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SCREEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SOFTLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_ATOP_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_IN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_OUT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_OVER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_VIVIDLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_XOR_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_ZERO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BLEND_OPERATION_ADVANCED_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BLEND_OPERATION_ADVANCED_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_ADVANCED_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_38"><a class="anchor" href="#_issues_38"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_54"><a class="anchor" href="#_version_history_54"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-06-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_border_color_swizzle"><a class="anchor" href="#VK_EXT_border_color_swizzle"></a>VK_EXT_border_color_swizzle</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_border_color_swizzle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>412</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_custom_border_color">VK_EXT_custom_border_color</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Uses</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_border_color_swizzle] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_border_color_swizzle extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_55"><a class="anchor" href="#_other_extension_metadata_55"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_55"><a class="anchor" href="#_description_55"></a>Description</h3>
<div class="paragraph">
<p>After the publication of VK_EXT_custom_border_color, it was discovered that
some implementations had undefined behavior when combining a sampler that
uses a custom border color with image views whose component mapping is not
the identity mapping.</p>
</div>
<div class="paragraph">
<p>Since VK_EXT_custom_border_color has already shipped, this new extension
VK_EXT_border_color_swizzle was created to define the interaction between
custom border colors and non-identity image view swizzles, and provide a
work-around for implementations that must pre-swizzle the sampler border
color to match the image view component mapping it is combined with.</p>
</div>
<div class="paragraph">
<p>This extension also defines the behavior between samplers with an opaque
black border color and image views with a non-identity component swizzle,
which was previously left undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_50"><a class="anchor" href="#_new_structures_50"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceBorderColorSwizzleFeaturesEXT" class="xref page">VkPhysicalDeviceBorderColorSwizzleFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerBorderColorComponentMappingCreateInfoEXT" class="xref page">VkSamplerBorderColorComponentMappingCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_55"><a class="anchor" href="#_new_enum_constants_55"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_BORDER_COLOR_SWIZZLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_BORDER_COLOR_SWIZZLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BORDER_COLOR_SWIZZLE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_BORDER_COLOR_COMPONENT_MAPPING_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_39"><a class="anchor" href="#_issues_39"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_55"><a class="anchor" href="#_version_history_55"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-10-12 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_calibrated_timestamps"><a class="anchor" href="#VK_EXT_calibrated_timestamps"></a>VK_EXT_calibrated_timestamps</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_calibrated_timestamps</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>185</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_calibrated_timestamps] @drakos-amd%0A*Here describe the issue or question you have about the VK_EXT_calibrated_timestamps extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_calibrated_timestamps.adoc">VK_EXT_calibrated_timestamps</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_56"><a class="anchor" href="#_other_extension_metadata_56"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Alan Harrison, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Keith Packard, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_56"><a class="anchor" href="#_description_56"></a>Description</h3>
<div class="paragraph">
<p>This extension provides an interface to query calibrated timestamps obtained
quasi simultaneously from two time domains.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_36"><a class="anchor" href="#_new_commands_36"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetCalibratedTimestampsEXT" class="xref page">vkGetCalibratedTimestampsEXT</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceCalibrateableTimeDomainsEXT" class="xref page">vkGetPhysicalDeviceCalibrateableTimeDomainsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_51"><a class="anchor" href="#_new_structures_51"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkCalibratedTimestampInfoEXT" class="xref page">VkCalibratedTimestampInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_16"><a class="anchor" href="#_new_enums_16"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkTimeDomainEXT" class="xref page">VkTimeDomainEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_56"><a class="anchor" href="#_new_enum_constants_56"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_CALIBRATED_TIMESTAMPS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_CALIBRATED_TIMESTAMPS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CALIBRATED_TIMESTAMP_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_56"><a class="anchor" href="#_version_history_56"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2021-03-16 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Specify requirement on device timestamps</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-10-04 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_color_write_enable"><a class="anchor" href="#VK_EXT_color_write_enable"></a>VK_EXT_color_write_enable</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_color_write_enable</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>382</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sharif Elcott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_color_write_enable] @selcott%0A*Here describe the issue or question you have about the VK_EXT_color_write_enable extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>selcott</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_57"><a class="anchor" href="#_other_extension_metadata_57"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-02-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sharif Elcott, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_57"><a class="anchor" href="#_description_57"></a>Description</h3>
<div class="paragraph">
<p>This extension allows for selectively enabling and disabling writes to
output color attachments via a pipeline dynamic state.</p>
</div>
<div class="paragraph">
<p>The intended use cases for this new state are mostly identical to those of
colorWriteMask, such as selectively disabling writes to avoid feedback loops
between subpasses or bandwidth savings for unused outputs.
By making the state dynamic, one additional benefit is the ability to reduce
pipeline counts and pipeline switching via shaders that write a superset of
the desired data of which subsets are selected dynamically.
The reason for a new state, colorWriteEnable, rather than making
colorWriteMask dynamic is that, on many implementations, the more flexible
per-component semantics of the colorWriteMask state cannot be made dynamic
in a performant manner.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_37"><a class="anchor" href="#_new_commands_37"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorWriteEnableEXT" class="xref page">vkCmdSetColorWriteEnableEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_52"><a class="anchor" href="#_new_structures_52"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceColorWriteEnableFeaturesEXT" class="xref page">VkPhysicalDeviceColorWriteEnableFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/framebuffer.html#VkPipelineColorBlendStateCreateInfo" class="xref page">VkPipelineColorBlendStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkPipelineColorWriteCreateInfoEXT" class="xref page">VkPipelineColorWriteCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_57"><a class="anchor" href="#_new_enum_constants_57"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_COLOR_WRITE_ENABLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_COLOR_WRITE_ENABLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COLOR_WRITE_ENABLE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COLOR_WRITE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_57"><a class="anchor" href="#_version_history_57"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-01-25 (Sharif Elcott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_conditional_rendering"><a class="anchor" href="#VK_EXT_conditional_rendering"></a>VK_EXT_conditional_rendering</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_conditional_rendering</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>82</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_conditional_rendering] @vkushwaha%0A*Here describe the issue or question you have about the VK_EXT_conditional_rendering extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_58"><a class="anchor" href="#_other_extension_metadata_58"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-05-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_58"><a class="anchor" href="#_description_58"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the execution of one or more rendering commands to be
conditional on a value in buffer memory.
This may help an application reduce the latency by conditionally discarding
rendering commands without application intervention.
The conditional rendering commands are limited to draws, compute dispatches
and clearing attachments within a conditional rendering block.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_38"><a class="anchor" href="#_new_commands_38"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdBeginConditionalRenderingEXT" class="xref page">vkCmdBeginConditionalRenderingEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdEndConditionalRenderingEXT" class="xref page">vkCmdEndConditionalRenderingEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_53"><a class="anchor" href="#_new_structures_53"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkConditionalRenderingBeginInfoEXT" class="xref page">VkConditionalRenderingBeginInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceConditionalRenderingInfoEXT" class="xref page">VkCommandBufferInheritanceConditionalRenderingInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceConditionalRenderingFeaturesEXT" class="xref page">VkPhysicalDeviceConditionalRenderingFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_17"><a class="anchor" href="#_new_enums_17"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkConditionalRenderingFlagBitsEXT" class="xref page">VkConditionalRenderingFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_16"><a class="anchor" href="#_new_bitmasks_16"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkConditionalRenderingFlagsEXT" class="xref page">VkConditionalRenderingFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_58"><a class="anchor" href="#_new_enum_constants_58"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_CONDITIONAL_RENDERING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_CONDITIONAL_RENDERING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_CONDITIONAL_RENDERING_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_CONDITIONAL_RENDERING_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CONDITIONAL_RENDERING_BEGIN_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CONDITIONAL_RENDERING_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_40"><a class="anchor" href="#_issues_40"></a>Issues</h3>
<div class="paragraph">
<p>1) Should conditional rendering affect copy and blit commands?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Conditional rendering should not affect copies and blits.</p>
</div>
<div class="paragraph">
<p>2) Should secondary command buffers be allowed to execute while conditional
rendering is active in the primary command buffer?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The rendering commands in secondary command buffer will be
affected by an active conditional rendering in primary command buffer if the
<code>conditionalRenderingEnable</code> is set to <code>VK_TRUE</code>.
Conditional rendering <strong>must</strong> not be active in the primary command buffer if
<code>conditionalRenderingEnable</code> is <code>VK_FALSE</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_8"><a class="anchor" href="#_examples_8"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_58"><a class="anchor" href="#_version_history_58"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-19 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>First Version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-05-21 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Add new pipeline stage, access flags and limit conditional rendering to
a subpass or entire render pass.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_conservative_rasterization"><a class="anchor" href="#VK_EXT_conservative_rasterization"></a>VK_EXT_conservative_rasterization</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_conservative_rasterization</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>102</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_conservative_rasterization] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_conservative_rasterization extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_59"><a class="anchor" href="#_other_extension_metadata_59"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-06-09</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_fragment_fully_covered.html"><code>SPV_EXT_fragment_fully_covered</code></a>
if the
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>fullyCoveredFragmentShaderInputVariable</code>
feature is used.</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_post_depth_coverage.html"><code>SPV_KHR_post_depth_coverage</code></a>if
the
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>conservativeRasterizationPostDepthCoverage</code>
feature is used.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_conservative_raster_underestimation.txt"><code>GL_NV_conservative_raster_underestimation</code></a>
if the
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>fullyCoveredFragmentShaderInputVariable</code>
feature is used.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Stu Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_59"><a class="anchor" href="#_description_59"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new rasterization mode called conservative
rasterization.
There are two modes of conservative rasterization; overestimation and
underestimation.</p>
</div>
<div class="paragraph">
<p>When overestimation is enabled, if any part of the primitive, including its
edges, covers any part of the rectangular pixel area, including its sides,
then a fragment is generated with all coverage samples turned on.
This extension allows for some variation in implementations by accounting
for differences in overestimation, where the generating primitive size is
increased at each of its edges by some sub-pixel amount to further increase
conservative pixel coverage.
Implementations can allow the application to specify an extra overestimation
beyond the base overestimation the implementation already does.
It also allows implementations to either cull degenerate primitives or
rasterize them.</p>
</div>
<div class="paragraph">
<p>When underestimation is enabled, fragments are only generated if the
rectangular pixel area is fully covered by the generating primitive.
If supported by the implementation, when a pixel rectangle is fully covered
the fragment shader input variable builtin called FullyCoveredEXT is set to
true.
The shader variable works in either overestimation or underestimation mode.</p>
</div>
<div class="paragraph">
<p>Implementations can process degenerate triangles and lines by either
discarding them or generating conservative fragments for them.
Degenerate triangles are those that end up with zero area after the
rasterizer quantizes them to the fixed-point pixel grid.
Degenerate lines are those with zero length after quantization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_54"><a class="anchor" href="#_new_structures_54"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceConservativeRasterizationPropertiesEXT" class="xref page">VkPhysicalDeviceConservativeRasterizationPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationConservativeStateCreateInfoEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_18"><a class="anchor" href="#_new_enums_18"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkConservativeRasterizationModeEXT" class="xref page">VkConservativeRasterizationModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_17"><a class="anchor" href="#_new_bitmasks_17"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationConservativeStateCreateFlagsEXT" class="xref page">VkPipelineRasterizationConservativeStateCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_59"><a class="anchor" href="#_new_enum_constants_59"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_CONSERVATIVE_RASTERIZATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_CONSERVATIVE_RASTERIZATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CONSERVATIVE_RASTERIZATION_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_CONSERVATIVE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_4"><a class="anchor" href="#_new_built_in_variables_4"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-fullycoveredext" class="xref page">FullyCoveredEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_9"><a class="anchor" href="#_new_spir_v_capabilities_9"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentFullyCoveredEXT" class="xref page">    FragmentFullyCoveredEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_59"><a class="anchor" href="#_version_history_59"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1.1, 2020-09-06 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Add missing SPIR-V and GLSL dependencies.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-08-28 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_custom_border_color"><a class="anchor" href="#VK_EXT_custom_border_color"></a>VK_EXT_custom_border_color</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_custom_border_color</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>288</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Uses</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Liam Middlebrook <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_custom_border_color] @liam-middlebrook%0A*Here describe the issue or question you have about the VK_EXT_custom_border_color extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>liam-middlebrook</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_60"><a class="anchor" href="#_other_extension_metadata_60"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-04-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Philip Rebohle, Valve</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Spencer Fricke, Samsung Electronics</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Donald Scorgie, Imagination Technologies</p>
</li>
<li>
<p>Alex Walters, Imagination Technologies</p>
</li>
<li>
<p>Peter Quayle, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_60"><a class="anchor" href="#_description_60"></a>Description</h3>
<div class="paragraph">
<p>This extension provides cross-vendor functionality to specify a custom
border color for use when the sampler address mode
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code> is used.</p>
</div>
<div class="paragraph">
<p>To create a sampler which uses a custom border color set
<a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>::<code>borderColor</code> to one of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BORDER_COLOR_FLOAT_CUSTOM_EXT</code></p>
</li>
<li>
<p><code>VK_BORDER_COLOR_INT_CUSTOM_EXT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>VK_BORDER_COLOR_FLOAT_CUSTOM_EXT</code> or
<code>VK_BORDER_COLOR_INT_CUSTOM_EXT</code> is used, applications must provide a
<a href="../chapters/samplers.html#VkSamplerCustomBorderColorCreateInfoEXT" class="xref page">VkSamplerCustomBorderColorCreateInfoEXT</a> in the <code>pNext</code> chain for
<a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_55"><a class="anchor" href="#_new_structures_55"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCustomBorderColorFeaturesEXT" class="xref page">VkPhysicalDeviceCustomBorderColorFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceCustomBorderColorPropertiesEXT" class="xref page">VkPhysicalDeviceCustomBorderColorPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerCustomBorderColorCreateInfoEXT" class="xref page">VkSamplerCustomBorderColorCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_60"><a class="anchor" href="#_new_enum_constants_60"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_CUSTOM_BORDER_COLOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_CUSTOM_BORDER_COLOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkBorderColor" class="xref page">VkBorderColor</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BORDER_COLOR_FLOAT_CUSTOM_EXT</code></p>
</li>
<li>
<p><code>VK_BORDER_COLOR_INT_CUSTOM_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CUSTOM_BORDER_COLOR_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CUSTOM_BORDER_COLOR_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_CUSTOM_BORDER_COLOR_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_41"><a class="anchor" href="#_issues_41"></a>Issues</h3>
<div class="paragraph">
<p>1) Should VkClearColorValue be used for the border color value, or should we
have our own struct/union? Do we need to specify the type of the input
values for the components? This is more of a concern if VkClearColorValue is
used here because it provides a union of float,int,uint types.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Will reuse existing VkClearColorValue structure in order to
easily take advantage of float,int,uint borderColor types.</p>
</div>
<div class="paragraph">
<p>2) For hardware which supports a limited number of border colors what
happens if that number is exceeded? Should this be handled by the driver
unbeknownst to the application? In Revision 1 we had solved this issue using
a new Object type, however that may have lead to additional system resource
consumption which would otherwise not be required.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Added
<code>VkPhysicalDeviceCustomBorderColorPropertiesEXT</code>::<code>maxCustomBorderColorSamplers</code>
for tracking implementation-specific limit, and Valid Usage statement
handling overflow.</p>
</div>
<div class="paragraph">
<p>3) Should this be supported for immutable samplers at all, or by a feature
bit? Some implementations may not be able to support custom border colors on
immutable samplers&#8201;&#8212;&#8201;is it worthwhile enabling this to work on them for
implementations that can support it, or forbidding it entirely.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Samplers created with a custom border color are forbidden from
being immutable.
This resolves concerns for implementations where the custom border color is
an index to a LUT instead of being directly embedded into sampler state.</p>
</div>
<div class="paragraph">
<p>4) Should UINT and SINT (unsigned integer and signed integer) border color
types be separated or should they be combined into one generic INT (integer)
type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Separating these does not make much sense as the existing fixed
border color types do not have this distinction, and there is no reason in
hardware to do so.
This separation would also create unnecessary work and considerations for
the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_60"><a class="anchor" href="#_version_history_60"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-10 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-10-11 (Liam Middlebrook)</p>
<div class="ulist">
<ul>
<li>
<p>Remove VkCustomBorderColor object and associated functions</p>
</li>
<li>
<p>Add issues concerning HW limitations for custom border color count</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-10-12 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Re-expose the limits for the maximum number of unique border colors</p>
</li>
<li>
<p>Add extra details about border color tracking</p>
</li>
<li>
<p>Fix typos</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2019-10-12 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Changed maxUniqueCustomBorderColors to a uint32_t from a VkDeviceSize</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2019-10-14 (Liam Middlebrook)</p>
<div class="ulist">
<ul>
<li>
<p>Added features bit</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2019-10-15 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Type-ize VK_BORDER_COLOR_CUSTOM</p>
</li>
<li>
<p>Fix const-ness on <code>pNext</code> of
VkSamplerCustomBorderColorCreateInfoEXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2019-11-26 (Liam Middlebrook)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed maxUniqueCustomBorderColors to maxCustomBorderColors</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2019-11-29 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed borderColor member of VkSamplerCustomBorderColorCreateInfoEXT
to customBorderColor</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2020-02-19 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed maxCustomBorderColors to maxCustomBorderColorSamplers</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2020-02-21 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Added format to VkSamplerCustomBorderColorCreateInfoEXT and feature bit</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2020-04-07 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Dropped UINT/SINT border color differences, consolidated types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2020-04-16 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed VK_BORDER_COLOR_CUSTOM_FLOAT_EXT to
VK_BORDER_COLOR_FLOAT_CUSTOM_EXT for consistency</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_debug_utils"><a class="anchor" href="#VK_EXT_debug_utils"></a>VK_EXT_debug_utils</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_utils</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>129</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mark Young <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_debug_utils] @marky-lunarg%0A*Here describe the issue or question you have about the VK_EXT_debug_utils extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>marky-lunarg</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_61"><a class="anchor" href="#_other_extension_metadata_61"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-04-03</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension is written against version 1.0 of the Vulkan API.</p>
</li>
<li>
<p>Requires <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mark Young, LunarG</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
<li>
<p>Karl Schultz, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
<li>
<p>Mike Schuchardt, LunarG</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Dan Ginsburg, Valve Software</p>
</li>
<li>
<p>Rolando Olivares, Epic Games</p>
</li>
<li>
<p>Dan Baker, Oxide Games</p>
</li>
<li>
<p>Kyle Spagnoli, NVIDIA</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_61"><a class="anchor" href="#_description_61"></a>Description</h3>
<div class="paragraph">
<p>Due to the nature of the Vulkan interface, there is very little error
information available to the developer and application.
By using the <code>VK_EXT_debug_utils</code> extension, developers <strong>can</strong> obtain more
information.
When combined with validation layers, even more detailed feedback on the
application&#8217;s use of Vulkan will be provided.</p>
</div>
<div class="paragraph">
<p>This extension provides the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ability to create a debug messenger which will pass along debug
messages to an application supplied callback.</p>
</li>
<li>
<p>The ability to identify specific Vulkan objects using a name or tag to
improve tracking.</p>
</li>
<li>
<p>The ability to identify specific sections within a <code>VkQueue</code> or
<code>VkCommandBuffer</code> using labels to aid organization and offline
analysis in external tools.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The main difference between this extension and <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code>
and <code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code> is that those extensions use
<a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a> to identify objects.
This extension uses the core <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a> in place of
<a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>.
The primary reason for this move is that no future object type handle
enumeration values will be added to <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a> since
the creation of <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>.</p>
</div>
<div class="paragraph">
<p>In addition, this extension combines the functionality of both
<code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> and <code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code> by allowing
object name and debug markers (now called labels) to be returned to the
application&#8217;s callback function.
This should assist in clarifying the details of a debug message including:
what objects are involved and potentially which location within a
<a href="../chapters/devsandqueues.html#VkQueue" class="xref page">VkQueue</a> or <a href="../chapters/cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> the message occurred.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_7"><a class="anchor" href="#_new_object_types_7"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessengerEXT" class="xref page">VkDebugUtilsMessengerEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_39"><a class="anchor" href="#_new_commands_39"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkCmdBeginDebugUtilsLabelEXT" class="xref page">vkCmdBeginDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkCmdEndDebugUtilsLabelEXT" class="xref page">vkCmdEndDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkCmdInsertDebugUtilsLabelEXT" class="xref page">vkCmdInsertDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkCreateDebugUtilsMessengerEXT" class="xref page">vkCreateDebugUtilsMessengerEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkDestroyDebugUtilsMessengerEXT" class="xref page">vkDestroyDebugUtilsMessengerEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkQueueBeginDebugUtilsLabelEXT" class="xref page">vkQueueBeginDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkQueueEndDebugUtilsLabelEXT" class="xref page">vkQueueEndDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkQueueInsertDebugUtilsLabelEXT" class="xref page">vkQueueInsertDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkSetDebugUtilsObjectNameEXT" class="xref page">vkSetDebugUtilsObjectNameEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkSetDebugUtilsObjectTagEXT" class="xref page">vkSetDebugUtilsObjectTagEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkSubmitDebugUtilsMessageEXT" class="xref page">vkSubmitDebugUtilsMessageEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_56"><a class="anchor" href="#_new_structures_56"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsLabelEXT" class="xref page">VkDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessengerCallbackDataEXT" class="xref page">VkDebugUtilsMessengerCallbackDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsObjectTagInfoEXT" class="xref page">VkDebugUtilsObjectTagInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessengerCreateInfoEXT" class="xref page">VkDebugUtilsMessengerCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsObjectNameInfoEXT" class="xref page">VkDebugUtilsObjectNameInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_function_pointers"><a class="anchor" href="#_new_function_pointers"></a>New Function Pointers</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#PFN_vkDebugUtilsMessengerCallbackEXT" class="xref page">PFN_vkDebugUtilsMessengerCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_19"><a class="anchor" href="#_new_enums_19"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessageSeverityFlagBitsEXT" class="xref page">VkDebugUtilsMessageSeverityFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessageTypeFlagBitsEXT" class="xref page">VkDebugUtilsMessageTypeFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_18"><a class="anchor" href="#_new_bitmasks_18"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessageSeverityFlagsEXT" class="xref page">VkDebugUtilsMessageSeverityFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessageTypeFlagsEXT" class="xref page">VkDebugUtilsMessageTypeFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessengerCallbackDataFlagsEXT" class="xref page">VkDebugUtilsMessengerCallbackDataFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugUtilsMessengerCreateFlagsEXT" class="xref page">VkDebugUtilsMessengerCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_61"><a class="anchor" href="#_new_enum_constants_61"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEBUG_UTILS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEBUG_UTILS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DEBUG_UTILS_MESSENGER_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CALLBACK_DATA_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_TAG_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_9"><a class="anchor" href="#_examples_9"></a>Examples</h3>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p><code>VK_EXT_debug_utils</code> allows an application to register multiple callbacks
with any Vulkan component wishing to report debug information.
Some callbacks may log the information to a file, others may cause a debug
break point or other application defined behavior.
An application <strong>can</strong> register callbacks even when no validation layers are
enabled, but they will only be called for loader and, if implemented, driver
events.</p>
</div>
<div class="paragraph">
<p>To capture events that occur while creating or destroying an instance an
application <strong>can</strong> link a <a href="../chapters/debugging.html#VkDebugUtilsMessengerCreateInfoEXT" class="xref page">VkDebugUtilsMessengerCreateInfoEXT</a> structure
to the <code>pNext</code> element of the <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a> structure given
to <a href="../chapters/initialization.html#vkCreateInstance" class="xref page">vkCreateInstance</a>.</p>
</div>
<div class="paragraph">
<p>Example uses: Create three callback objects.
One will log errors and warnings to the debug console using Windows
<code>OutputDebugString</code>.
The second will cause the debugger to break at that callback when an error
happens and the third will log warnings to stdout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    extern VkInstance instance;
    VkResult res;
    VkDebugUtilsMessengerEXT cb1, cb2, cb3;

    // Must call extension functions through a function pointer:
    PFN_vkCreateDebugUtilsMessengerEXT pfnCreateDebugUtilsMessengerEXT = (PFN_vkCreateDebugUtilsMessengerEXT)vkGetInstanceProcAddr(instance, "vkCreateDebugUtilsMessengerEXT");
    PFN_vkDestroyDebugUtilsMessengerEXT pfnDestroyDebugUtilsMessengerEXT = (PFN_vkDestroyDebugUtilsMessengerEXT)vkGetInstanceProcAddr(instance, "vkDestroyDebugUtilsMessengerEXT");

    VkDebugUtilsMessengerCreateInfoEXT callback1 = {
        .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .messageSeverity = VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT |
                           VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT,
        .messageType= VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT |
                      VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT,
        .pfnUserCallback = myOutputDebugString,
        .pUserData = NULL
    };
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback1, NULL, &amp;cb1);
    if (res != VK_SUCCESS) {
       // Do error handling for VK_ERROR_OUT_OF_MEMORY
    }

    callback1.messageSeverity = VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT;
    callback1.pfnUserCallback = myDebugBreak;
    callback1.pUserData = NULL;
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback1, NULL, &amp;cb2);
    if (res != VK_SUCCESS) {
       // Do error handling for VK_ERROR_OUT_OF_MEMORY
    }

    VkDebugUtilsMessengerCreateInfoEXT callback3 = {
        .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .messageSeverity = VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT,
        .messageType = VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT |
                       VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT,
        .pfnUserCallback = mystdOutLogger,
        .pUserData = NULL
    };
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback3, NULL, &amp;cb3);
    if (res != VK_SUCCESS) {
       // Do error handling for VK_ERROR_OUT_OF_MEMORY
    }

    ...

    // Remove callbacks when cleaning up
    pfnDestroyDebugUtilsMessengerEXT(instance, cb1, NULL);
    pfnDestroyDebugUtilsMessengerEXT(instance, cb2, NULL);
    pfnDestroyDebugUtilsMessengerEXT(instance, cb3, NULL);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Associate a name with an image, for easier debugging in external tools or
with validation layers that can print a friendly name when referring to
objects in error messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    extern VkInstance instance;
    extern VkDevice device;
    extern VkImage image;

    // Must call extension functions through a function pointer:
    PFN_vkSetDebugUtilsObjectNameEXT pfnSetDebugUtilsObjectNameEXT = (PFN_vkSetDebugUtilsObjectNameEXT)vkGetInstanceProcAddr(instance, "vkSetDebugUtilsObjectNameEXT");

    // Set a name on the image
    const VkDebugUtilsObjectNameInfoEXT imageNameInfo =
    {
        .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT,
        .pNext = NULL,
        .objectType = VK_OBJECT_TYPE_IMAGE,
        .objectHandle = (uint64_t)image,
        .pObjectName = "Brick Diffuse Texture",
    };

    pfnSetDebugUtilsObjectNameEXT(device, &amp;imageNameInfo);

    // A subsequent error might print:
    //   Image 'Brick Diffuse Texture' (0xc0dec0dedeadbeef) is used in a
    //   command buffer with no memory bound to it.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 3</strong></p>
</div>
<div class="paragraph">
<p>Annotating regions of a workload with naming information so that offline
analysis tools can display a more usable visualization of the commands
submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    extern VkInstance instance;
    extern VkCommandBuffer commandBuffer;

    // Must call extension functions through a function pointer:
    PFN_vkQueueBeginDebugUtilsLabelEXT pfnQueueBeginDebugUtilsLabelEXT = (PFN_vkQueueBeginDebugUtilsLabelEXT)vkGetInstanceProcAddr(instance, "vkQueueBeginDebugUtilsLabelEXT");
    PFN_vkQueueEndDebugUtilsLabelEXT pfnQueueEndDebugUtilsLabelEXT = (PFN_vkQueueEndDebugUtilsLabelEXT)vkGetInstanceProcAddr(instance, "vkQueueEndDebugUtilsLabelEXT");
    PFN_vkCmdBeginDebugUtilsLabelEXT pfnCmdBeginDebugUtilsLabelEXT = (PFN_vkCmdBeginDebugUtilsLabelEXT)vkGetInstanceProcAddr(instance, "vkCmdBeginDebugUtilsLabelEXT");
    PFN_vkCmdEndDebugUtilsLabelEXT pfnCmdEndDebugUtilsLabelEXT = (PFN_vkCmdEndDebugUtilsLabelEXT)vkGetInstanceProcAddr(instance, "vkCmdEndDebugUtilsLabelEXT");
    PFN_vkCmdInsertDebugUtilsLabelEXT pfnCmdInsertDebugUtilsLabelEXT = (PFN_vkCmdInsertDebugUtilsLabelEXT)vkGetInstanceProcAddr(instance, "vkCmdInsertDebugUtilsLabelEXT");

    // Describe the area being rendered
    const VkDebugUtilsLabelEXT houseLabel =
    {
        .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT,
        .pNext = NULL,
        .pLabelName = "Brick House",
        .color = { 1.0f, 0.0f, 0.0f, 1.0f },
    };

    // Start an annotated group of calls under the 'Brick House' name
    pfnCmdBeginDebugUtilsLabelEXT(commandBuffer, &amp;houseLabel);
    {
        // A mutable structure for each part being rendered
        VkDebugUtilsLabelEXT housePartLabel =
        {
            .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT,
            .pNext = NULL,
            .pLabelName = NULL,
            .color = { 0.0f, 0.0f, 0.0f, 0.0f },
        };

        // Set the name and insert the marker
        housePartLabel.pLabelName = "Walls";
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        // Insert the drawcall for the walls
        vkCmdDrawIndexed(commandBuffer, 1000, 1, 0, 0, 0);

        // Insert a recursive region for two sets of windows
        housePartLabel.pLabelName = "Windows";
        pfnCmdBeginDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);
        {
            vkCmdDrawIndexed(commandBuffer, 75, 6, 1000, 0, 0);
            vkCmdDrawIndexed(commandBuffer, 100, 2, 1450, 0, 0);
        }
        pfnCmdEndDebugUtilsLabelEXT(commandBuffer);

        housePartLabel.pLabelName = "Front Door";
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        vkCmdDrawIndexed(commandBuffer, 350, 1, 1650, 0, 0);

        housePartLabel.pLabelName = "Roof";
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        vkCmdDrawIndexed(commandBuffer, 500, 1, 2000, 0, 0);
    }
    // End the house annotation started above
    pfnCmdEndDebugUtilsLabelEXT(commandBuffer);

    // Do other work

    vkEndCommandBuffer(commandBuffer);

    // Describe the queue being used
    const VkDebugUtilsLabelEXT queueLabel =
    {
        .sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT,
        .pNext = NULL,
        .pLabelName = "Main Render Work",
        .color = { 0.0f, 1.0f, 0.0f, 1.0f },
    };

    // Identify the queue label region
    pfnQueueBeginDebugUtilsLabelEXT(queue, &amp;queueLabel);

    // Submit the work for the main render thread
    const VkCommandBuffer cmd_bufs[] = {commandBuffer};
    VkSubmitInfo submit_info =
    {
        .sType = VK_STRUCTURE_TYPE_SUBMIT_INFO,
        .pNext = NULL,
        .waitSemaphoreCount = 0,
        .pWaitSemaphores = NULL,
        .pWaitDstStageMask = NULL,
        .commandBufferCount = 1,
        .pCommandBuffers = cmd_bufs,
        .signalSemaphoreCount = 0,
        .pSignalSemaphores = NULL
    };
    vkQueueSubmit(queue, 1, &amp;submit_info, fence);

    // End the queue label region
    pfnQueueEndDebugUtilsLabelEXT(queue);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_42"><a class="anchor" href="#_issues_42"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we just name this extension <code>VK_EXT_debug_report2</code></p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is enough additional changes to the structures to break backwards
compatibility.
So, a new name was decided that would not indicate any interaction with the
previous extension.</p>
</div>
<div class="paragraph">
<p>2) Will validation layers immediately support all the new features.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not immediately.
As one can imagine, there is a lot of work involved with converting the
validation layer logging over to the new functionality.
Basic logging, as seen in the origin <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> extension
will be made available immediately.
However, adding the labels and object names will take time.
Since the priority for Khronos at this time is to continue focusing on Valid
Usage statements, it may take a while before the new functionality is fully
exposed.</p>
</div>
<div class="paragraph">
<p>3) If the validation layers will not expose the new functionality
immediately, then what is the point of this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We needed a replacement for <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> because
the <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a> enumeration will no longer be updated
and any new objects will need to be debugged using the new functionality
provided by this extension.</p>
</div>
<div class="paragraph">
<p>4) Should this extension be split into two separate parts (1 extension that
is an instance extension providing the callback functionality, and another
device extension providing the general debug marker and annotation
functionality)?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, the functionality for this extension is too closely related.
If we did split up the extension, where would the structures and enums live,
and how would you define that the device behavior in the instance extension
is really only valid if the device extension is enabled, and the
functionality is passed in.
It is cleaner to just define this all as an instance extension, plus it
allows the application to enable all debug functionality provided with one
enable string during <a href="../chapters/initialization.html#vkCreateInstance" class="xref page">vkCreateInstance</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_61"><a class="anchor" href="#_version_history_61"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-09-14 (Mark Young and all listed Contributors)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> and
<code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code> in addition to previous feedback supplied
from various companies including Valve, Epic, and Oxide games.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-04-03 (Mark Young and Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Updated to allow either <code>NULL</code> or an empty string to be passed in for
<code>pObjectName</code> in <code>VkDebugUtilsObjectNameInfoEXT</code>, because the
loader and various drivers support <code>NULL</code> already.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_depth_bias_control"><a class="anchor" href="#VK_EXT_depth_bias_control"></a>VK_EXT_depth_bias_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_bias_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>284</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_bias_control] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_depth_bias_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_depth_bias_control.adoc">VK_EXT_depth_bias_control</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_62"><a class="anchor" href="#_other_extension_metadata_62"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, VALVE</p>
</li>
<li>
<p>Hans-Kristian Arntzen, VALVE</p>
</li>
<li>
<p>Mike Blumenkrantz, VALVE</p>
</li>
<li>
<p>Georg Lehmann, VALVE</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Lionel Landwerlin, INTEL</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Ricardo Garcia, IGALIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Shahbaz Youssefi, GOOGLE</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_62"><a class="anchor" href="#_description_62"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new structure, <code>VkDepthBiasRepresentationInfoEXT</code>,
that can be added to a <code>pNext</code> chain of
<code>VkPipelineRasterizationStateCreateInfo</code> and allows setting the scaling
and representation of depth bias for a pipeline.</p>
</div>
<div class="paragraph">
<p>This state can also be set dynamically by using the new structure mentioned
above in combination with the new <code>vkCmdSetDepthBias2EXT</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_40"><a class="anchor" href="#_new_commands_40"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetDepthBias2EXT" class="xref page">vkCmdSetDepthBias2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_57"><a class="anchor" href="#_new_structures_57"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkDepthBiasInfoEXT" class="xref page">VkDepthBiasInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkDepthBiasInfoEXT" class="xref page">VkDepthBiasInfoEXT</a>, <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkDepthBiasRepresentationInfoEXT" class="xref page">VkDepthBiasRepresentationInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDepthBiasControlFeaturesEXT" class="xref page">VkPhysicalDeviceDepthBiasControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_20"><a class="anchor" href="#_new_enums_20"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkDepthBiasRepresentationEXT" class="xref page">VkDepthBiasRepresentationEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_62"><a class="anchor" href="#_new_enum_constants_62"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_BIAS_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_BIAS_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPTH_BIAS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPTH_BIAS_REPRESENTATION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_BIAS_CONTROL_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_62"><a class="anchor" href="#_version_history_62"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-09-22 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_depth_clamp_zero_one"><a class="anchor" href="#VK_EXT_depth_clamp_zero_one"></a>VK_EXT_depth_clamp_zero_one</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_clamp_zero_one</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>422</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_clamp_zero_one] @gnl21%0A*Here describe the issue or question you have about the VK_EXT_depth_clamp_zero_one extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_63"><a class="anchor" href="#_other_extension_metadata_63"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-07-29</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_63"><a class="anchor" href="#_description_63"></a>Description</h3>
<div class="paragraph">
<p>This extension gives defined behavior to fragment depth values which end up
outside the conventional [0, 1] range.
It can be used to ensure portability in edge cases of features like
depthBias.
The particular behavior is chosen to match OpenGL to aid porting or
emulation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_58"><a class="anchor" href="#_new_structures_58"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDepthClampZeroOneFeaturesEXT" class="xref page">VkPhysicalDeviceDepthClampZeroOneFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_63"><a class="anchor" href="#_new_enum_constants_63"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_CLAMP_ZERO_ONE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_CLAMP_ZERO_ONE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_CLAMP_ZERO_ONE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_63"><a class="anchor" href="#_version_history_63"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-07-29 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_depth_clip_control"><a class="anchor" href="#VK_EXT_depth_clip_control"></a>VK_EXT_depth_clip_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_clip_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>356</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_clip_control] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_depth_clip_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_64"><a class="anchor" href="#_other_extension_metadata_64"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-11-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Spencer Fricke, Samsung Electronics</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung Electronics</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_64"><a class="anchor" href="#_description_64"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the application to use the OpenGL depth range in NDC,
i.e. with depth in range <span class="eq">[-1, 1]</span>, as opposed to Vulkan&#8217;s default of
<span class="eq">[0, 1]</span>.
The purpose of this extension is to allow efficient layering of OpenGL over
Vulkan, by avoiding emulation in the pre-rasterization shader stages.
This emulation, which effectively duplicates gl_Position but with a
different depth value, costs ALU and consumes shader output components that
the implementation may not have to spare to meet OpenGL minimum
requirements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_59"><a class="anchor" href="#_new_structures_59"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDepthClipControlFeaturesEXT" class="xref page">VkPhysicalDeviceDepthClipControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPipelineViewportDepthClipControlCreateInfoEXT" class="xref page">VkPipelineViewportDepthClipControlCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_64"><a class="anchor" href="#_new_enum_constants_64"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_CLIP_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_CLIP_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_CLIP_CONTROL_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_DEPTH_CLIP_CONTROL_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_43"><a class="anchor" href="#_issues_43"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension include an origin control option to match
GL_LOWER_LEFT found in ARB_clip_control?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The fix for porting over the origin is a simple y-axis flip.
The depth clip control is a much harder problem to solve than what this
extension is aimed to solve.
Adding an equivalent to GL_LOWER_LEFT would require more testing.</p>
</div>
<div class="paragraph">
<p>2) Should this pipeline state be dynamic?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The purpose of this extension is to emulate the OpenGL depth range, which is
expected to be globally fixed (in case of OpenGL ES) or very infrequently
changed (with <code>glClipControl</code> in OpenGL).</p>
</div>
<div class="paragraph">
<p>3) Should the control provided in this extension be an enum that could be
extended in the future?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is highly unlikely that the depth range is changed to anything other than
<span class="eq">[0, 1]</span> in the future.
Should that happen a new extension will be required to extend such an enum,
and that extension might as well add a new struct to chain to
<a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>::<code>pNext</code> instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_64"><a class="anchor" href="#_version_history_64"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2020-10-01 (Spencer Fricke)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-11-26 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Language fixes</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_depth_clip_enable"><a class="anchor" href="#VK_EXT_depth_clip_enable"></a>VK_EXT_depth_clip_enable</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_clip_enable</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>103</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_clip_enable] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_depth_clip_enable extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_65"><a class="anchor" href="#_other_extension_metadata_65"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-20</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Henri Verbeet, CodeWeavers</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Philip Rebohle, DXVK</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_65"><a class="anchor" href="#_description_65"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the depth clipping operation, that is normally
implicitly controlled by
<a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>::<code>depthClampEnable</code>, to
instead be controlled explicitly by
<a href="../chapters/primsrast.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT" class="xref page">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a>::<code>depthClipEnable</code>.</p>
</div>
<div class="paragraph">
<p>This is useful for translating DX content which assumes depth clamping is
always enabled, but depth clip can be controlled by the DepthClipEnable
rasterization state (D3D12_RASTERIZER_DESC).</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_60"><a class="anchor" href="#_new_structures_60"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDepthClipEnableFeaturesEXT" class="xref page">VkPhysicalDeviceDepthClipEnableFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT" class="xref page">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_19"><a class="anchor" href="#_new_bitmasks_19"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationDepthClipStateCreateFlagsEXT" class="xref page">VkPipelineRasterizationDepthClipStateCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_65"><a class="anchor" href="#_new_enum_constants_65"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_CLIP_ENABLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_CLIP_ENABLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_CLIP_ENABLE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_DEPTH_CLIP_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_65"><a class="anchor" href="#_version_history_65"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-20 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_depth_range_unrestricted"><a class="anchor" href="#VK_EXT_depth_range_unrestricted"></a>VK_EXT_depth_range_unrestricted</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_range_unrestricted</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_range_unrestricted] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_depth_range_unrestricted extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_66"><a class="anchor" href="#_other_extension_metadata_66"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_66"><a class="anchor" href="#_description_66"></a>Description</h3>
<div class="paragraph">
<p>This extension removes the <a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> <code>minDepth</code> and
<code>maxDepth</code> restrictions that the values must be between <code>0.0</code> and <code>1.0</code>,
inclusive.
It also removes the same restriction on
<a href="../chapters/fragops.html#VkPipelineDepthStencilStateCreateInfo" class="xref page">VkPipelineDepthStencilStateCreateInfo</a> <code>minDepthBounds</code> and
<code>maxDepthBounds</code>.
Finally it removes the restriction on the <code>depth</code> value in
<a href="../chapters/clears.html#VkClearDepthStencilValue" class="xref page">VkClearDepthStencilValue</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_66"><a class="anchor" href="#_new_enum_constants_66"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_RANGE_UNRESTRICTED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_RANGE_UNRESTRICTED_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_44"><a class="anchor" href="#_issues_44"></a>Issues</h3>
<div class="paragraph">
<p>1) How do <a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> <code>minDepth</code> and <code>maxDepth</code> values outside
of the <code>0.0</code> to <code>1.0</code> range interact with
<a href="../chapters/vertexpostproc.html#vertexpostproc-clipping" class="xref page">Primitive Clipping</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The behavior described in <a href="../chapters/vertexpostproc.html#vertexpostproc-clipping" class="xref page">PrimitiveClipping</a> still applies.
If depth clamping is disabled the depth values are still clipped to <span class="eq">0
≤ z<sub>c</sub> ≤ w<sub>c</sub></span> before the viewport transform.
If depth clamping is enabled the above equation is ignored and the depth
values are instead clamped to the <a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> <code>minDepth</code> and
<code>maxDepth</code> values, which in the case of this extension can be outside of
the <code>0.0</code> to <code>1.0</code> range.</p>
</div>
<div class="paragraph">
<p>2) What happens if a resulting depth fragment is outside of the <code>0.0</code> to
<code>1.0</code> range and the depth buffer is fixed-point rather than floating-point?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This situation can also arise without this extension (when
fragment shaders replace depth values, for example), and this extension does
not change the behaviour, which is defined in the <a href="../chapters/fragops.html#fragops-depth" class="xref page">DepthTest</a> section of the Fragment Operations chapter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_66"><a class="anchor" href="#_version_history_66"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_descriptor_buffer"><a class="anchor" href="#VK_EXT_descriptor_buffer"></a>VK_EXT_descriptor_buffer</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_descriptor_buffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>317</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br>
and<br>
<a href="#VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_descriptor_buffer] @tobski%0A*Here describe the issue or question you have about the VK_EXT_descriptor_buffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_descriptor_buffer.adoc">VK_EXT_descriptor_buffer</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_67"><a class="anchor" href="#_other_extension_metadata_67"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-07</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Boris Zanin, AMD</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Connor Abbott, Valve</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Rodrigo Locatti, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, QUALCOMM</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_67"><a class="anchor" href="#_description_67"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces new commands to put shader-accessible descriptors
directly in memory, making the management of descriptor data more explicit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_41"><a class="anchor" href="#_new_commands_41"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdBindDescriptorBufferEmbeddedSamplersEXT" class="xref page">vkCmdBindDescriptorBufferEmbeddedSamplersEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdBindDescriptorBuffersEXT" class="xref page">vkCmdBindDescriptorBuffersEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT" class="xref page">vkCmdSetDescriptorBufferOffsetsEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetBufferOpaqueCaptureDescriptorDataEXT" class="xref page">vkGetBufferOpaqueCaptureDescriptorDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetDescriptorEXT" class="xref page">vkGetDescriptorEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetDescriptorSetLayoutBindingOffsetEXT" class="xref page">vkGetDescriptorSetLayoutBindingOffsetEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetDescriptorSetLayoutSizeEXT" class="xref page">vkGetDescriptorSetLayoutSizeEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetImageOpaqueCaptureDescriptorDataEXT" class="xref page">vkGetImageOpaqueCaptureDescriptorDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetImageViewOpaqueCaptureDescriptorDataEXT" class="xref page">vkGetImageViewOpaqueCaptureDescriptorDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetSamplerOpaqueCaptureDescriptorDataEXT" class="xref page">vkGetSamplerOpaqueCaptureDescriptorDataEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> or <a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT" class="xref page">vkGetAccelerationStructureOpaqueCaptureDescriptorDataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_61"><a class="anchor" href="#_new_structures_61"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkBufferCaptureDescriptorDataInfoEXT" class="xref page">VkBufferCaptureDescriptorDataInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorAddressInfoEXT" class="xref page">VkDescriptorAddressInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorBufferBindingInfoEXT" class="xref page">VkDescriptorBufferBindingInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorGetInfoEXT" class="xref page">VkDescriptorGetInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkImageCaptureDescriptorDataInfoEXT" class="xref page">VkImageCaptureDescriptorDataInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkImageViewCaptureDescriptorDataInfoEXT" class="xref page">VkImageViewCaptureDescriptorDataInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkSamplerCaptureDescriptorDataInfoEXT" class="xref page">VkSamplerCaptureDescriptorDataInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>, <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>, <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>, <a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a>, <a href="../chapters/resources.html#VkAccelerationStructureCreateInfoNV" class="xref page">VkAccelerationStructureCreateInfoNV</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkOpaqueCaptureDescriptorDataCreateInfoEXT" class="xref page">VkOpaqueCaptureDescriptorDataCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorBufferBindingInfoEXT" class="xref page">VkDescriptorBufferBindingInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorBufferBindingPushDescriptorBufferHandleEXT" class="xref page">VkDescriptorBufferBindingPushDescriptorBufferHandleEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDescriptorBufferFeaturesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDescriptorBufferDensityMapPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferDensityMapPropertiesEXT</a></p>
</li>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDescriptorBufferPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorBufferPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> or <a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkAccelerationStructureCaptureDescriptorDataInfoEXT" class="xref page">VkAccelerationStructureCaptureDescriptorDataInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_4"><a class="anchor" href="#_new_unions_4"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorDataEXT" class="xref page">VkDescriptorDataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_67"><a class="anchor" href="#_new_enum_constants_67"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DESCRIPTOR_BUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DESCRIPTOR_BUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkAccelerationStructureCreateFlagBitsKHR" class="xref page">VkAccelerationStructureCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCELERATION_STRUCTURE_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_DESCRIPTOR_BUFFER_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_PUSH_DESCRIPTORS_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_RESOURCE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_SAMPLER_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_EMBEDDED_IMMUTABLE_SAMPLERS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateFlagBits" class="xref page">VkImageViewCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_VIEW_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateFlagBits" class="xref page">VkSamplerCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_CREATE_DESCRIPTOR_BUFFER_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_ADDRESS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_BUFFER_BINDING_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_BUFFER_BINDING_PUSH_DESCRIPTOR_BUFFER_HANDLE_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_GET_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_OPAQUE_CAPTURE_DESCRIPTOR_DATA_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_BUFFER_DENSITY_MAP_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_BUFFER_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_BUFFER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> or <a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CAPTURE_DESCRIPTOR_DATA_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_67"><a class="anchor" href="#_version_history_67"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-07 (Stu Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_device_address_binding_report"><a class="anchor" href="#VK_EXT_device_address_binding_report"></a>VK_EXT_device_address_binding_report</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_device_address_binding_report</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>355</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Uses</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter <span class="icon red"><i class="fa fa-gitlab"></i></span>r_potter</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_68"><a class="anchor" href="#_other_extension_metadata_68"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2020-11-23</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code>VK_EXT_debug_utils</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Andrew Ellem, Google</p>
</li>
<li>
<p>Alex Walters, IMG</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_68"><a class="anchor" href="#_description_68"></a>Description</h3>
<div class="paragraph">
<p>This extension enables applications to track the binding of regions of the
GPU virtual address space, and to associate those regions with Vulkan
objects.
This extension is primarily intended to aid in crash postmortem, where
applications may wish to map a faulting GPU address to a Vulkan object.</p>
</div>
<div class="paragraph">
<p>For example, a page fault triggered by accessing an address located within a
region of the GPU virtual address space that was previously reported as
bound and then unbound may indicate a use-after-free error.
Similarly, faults generated by accessing virtual addresses outside the
limits of a bound region of GPU virtual address space may indicate indexing
beyond the bounds of a resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_62"><a class="anchor" href="#_new_structures_62"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugUtilsMessengerCallbackDataEXT" class="xref page">VkDebugUtilsMessengerCallbackDataEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDeviceAddressBindingCallbackDataEXT" class="xref page">VkDeviceAddressBindingCallbackDataEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceAddressBindingReportFeaturesEXT" class="xref page">VkPhysicalDeviceAddressBindingReportFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_21"><a class="anchor" href="#_new_enums_21"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDeviceAddressBindingFlagBitsEXT" class="xref page">VkDeviceAddressBindingFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceAddressBindingTypeEXT" class="xref page">VkDeviceAddressBindingTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_20"><a class="anchor" href="#_new_bitmasks_20"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDeviceAddressBindingFlagsEXT" class="xref page">VkDeviceAddressBindingFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_68"><a class="anchor" href="#_new_enum_constants_68"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEVICE_ADDRESS_BINDING_REPORT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEVICE_ADDRESS_BINDING_REPORT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugUtilsMessageTypeFlagBitsEXT" class="xref page">VkDebugUtilsMessageTypeFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_UTILS_MESSAGE_TYPE_DEVICE_ADDRESS_BINDING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_ADDRESS_BINDING_CALLBACK_DATA_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ADDRESS_BINDING_REPORT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_45"><a class="anchor" href="#_issues_45"></a>Issues</h3>
<div class="paragraph">
<p>1.) Should this extend VK_EXT_debug_utils or VK_EXT_device_memory_report?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extend VK_EXT_debug_utils.
VK_EXT_device_memory_report focuses on memory allocations and would not
normally trigger callbacks in all of the situations where
VK_EXT_device_address_binding_report is expected to.</p>
</div>
<div class="paragraph">
<p>2.) Should this extension cover all Vulkan object types, or only resources
such as buffers and images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The extension covers all Vulkan objects, and is not restricted
to objects backed by VkDeviceMemory objects.</p>
</div>
<div class="paragraph">
<p>3.) Should reallocation be identified explicitly, or as a unbind/bind pair?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Reallocation should be represented as an unbind/bind pair.</p>
</div>
<div class="paragraph">
<p>4.) Can multiple Vulkan objects share an overlapping virtual address range?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This can be expected to occur due to resources aliasing.</p>
</div>
<div class="paragraph">
<p>5.) Can a single Vulkan object be associated with multiple virtual address
ranges concurrently?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
These should be reported via multiple calls to the reporting callback.</p>
</div>
<div class="paragraph">
<p>6.) Should the virtual address ranges associated with internal allocations
such as memory pools be reported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Virtual address ranges associated with internal allocations
should only be reported when they become associated with a specific Vulkan
object.
In the case of internal pool allocations, a bind event should be reported
when resources from the pool are assigned to a Vulkan object, and an unbind
event should be reported when those resources are returned to the pool.
Implementations should not report the binding or unbinding of virtual
address ranges for which there are no related API objects visible to the
application developer.</p>
</div>
<div class="paragraph">
<p>7.) Can an implementation report binding a virtual address range at VkImage
or VkImageView creation, rather than in response to vkBindImageMemory?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Virtual address range binding should be reported at the appropriate point at
which it occurs within the implementation.
This extension does not mandate when that should occur, and applications
should anticipate receiving callback events at any point after registering
callbacks.</p>
</div>
<div class="paragraph">
<p>8.) Can reporting of binding/unbinding be deferred until a resource is
referenced by an executing command buffer?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Changes to the virtual address ranges associated with a Vulkan
object should be reported as close as possible to where they occur within
the implementation.
If virtual address binding is deferred, then the callback should also be
deferred to match.</p>
</div>
<div class="paragraph">
<p>9.) Do bind/unbind callbacks have to form matched pairs? Can a large region
be bound, and then subregions unbound, resulting in fragmentation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Splitting of virtual address regions, and unmatched bind/unbind
callbacks may occur.
Developers should anticipate that sparse memory may exhibit this behaviour.</p>
</div>
<div class="paragraph">
<p>10.) The specification mandates that a callback <strong>must</strong> be triggered whenever
a GPU virtual address range associated with any Vulkan object is bound or
unbound.
Do we need queries or properties indicating which Vulkan objects will report
binding modifications?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension is not intended to mandate how and when implementations bind
virtual ranges to objects.
Adding queries or properties would constrain implementations, which might
otherwise vary how virtual address bindings occur based on usage.</p>
</div>
<div class="paragraph">
<p>11.) Should vkAllocateMemory and vkFreeMemory trigger reporting callbacks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If an implementation binds a GPU virtual address range when
vkAllocateMemory is called, then the callbacks must be triggered associating
the virtual address range with the VkDeviceMemory object.
If the device memory is subsequently bound to a buffer or image via
vkBind*Memory, the callbacks should be triggered a second time, reporting
the association between virtual address range and the buffer/image.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_68"><a class="anchor" href="#_version_history_68"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-09-23 (Ralph Potter)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_device_fault"><a class="anchor" href="#VK_EXT_device_fault"></a>VK_EXT_device_fault</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_device_fault</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>342</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter <span class="icon red"><i class="fa fa-gitlab"></i></span>r_potter</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_device_fault.adoc">VK_EXT_device_fault</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_69"><a class="anchor" href="#_other_extension_metadata_69"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-03-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Mark Bellamy, ARM</p>
</li>
<li>
<p>Andrew Ellem, Google</p>
</li>
<li>
<p>Alex Walters, IMG</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_69"><a class="anchor" href="#_description_69"></a>Description</h3>
<div class="paragraph">
<p>Device loss can be triggered by a variety of issues, including invalid API
usage, implementation errors, or hardware failures.</p>
</div>
<div class="paragraph">
<p>This extension introduces a new command: <a href="../chapters/debugging.html#vkGetDeviceFaultInfoEXT" class="xref page">vkGetDeviceFaultInfoEXT</a>,
which may be called subsequent to a <code>VK_ERROR_DEVICE_LOST</code> error code
having been returned by the implementation.
This command allows developers to query for additional information on GPU
faults which may have caused device loss, and to generate binary crash
dumps, which may be loaded into external tools for further diagnosis.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_42"><a class="anchor" href="#_new_commands_42"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkGetDeviceFaultInfoEXT" class="xref page">vkGetDeviceFaultInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_63"><a class="anchor" href="#_new_structures_63"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultAddressInfoEXT" class="xref page">VkDeviceFaultAddressInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultCountsEXT" class="xref page">VkDeviceFaultCountsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultInfoEXT" class="xref page">VkDeviceFaultInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultVendorBinaryHeaderVersionOneEXT" class="xref page">VkDeviceFaultVendorBinaryHeaderVersionOneEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultVendorInfoEXT" class="xref page">VkDeviceFaultVendorInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFaultFeaturesEXT" class="xref page">VkPhysicalDeviceFaultFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_22"><a class="anchor" href="#_new_enums_22"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultAddressTypeEXT" class="xref page">VkDeviceFaultAddressTypeEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDeviceFaultVendorBinaryHeaderVersionEXT" class="xref page">VkDeviceFaultVendorBinaryHeaderVersionEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_69"><a class="anchor" href="#_new_enum_constants_69"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEVICE_FAULT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEVICE_FAULT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_FAULT_COUNTS_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_FAULT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FAULT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_69"><a class="anchor" href="#_version_history_69"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-04-05 (Ralph Potter)</p>
<div class="ulist">
<ul>
<li>
<p>Restored two missing members to the XML definition of
VkDeviceFaultVendorBinaryHeaderVersionOneEXT.
No functional change to the specification.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-10-19 (Ralph Potter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_device_memory_report"><a class="anchor" href="#VK_EXT_device_memory_report"></a>VK_EXT_device_memory_report</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_device_memory_report</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>285</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yiwei Zhang <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_device_memory_report] @zhangyiwei%0A*Here describe the issue or question you have about the VK_EXT_device_memory_report extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zhangyiwei</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_70"><a class="anchor" href="#_other_extension_metadata_70"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-01-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yiwei Zhang, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_70"><a class="anchor" href="#_description_70"></a>Description</h3>
<div class="paragraph">
<p>This device extension allows registration of device memory event callbacks
upon device creation, so that applications or middleware can obtain detailed
information about memory usage and how memory is associated with Vulkan
objects.
This extension exposes the actual underlying device memory usage, including
allocations that are not normally visible to the application, such as memory
consumed by <a href="../chapters/pipelines.html#vkCreateGraphicsPipelines" class="xref page">vkCreateGraphicsPipelines</a>.
It is intended primarily for use by debug tooling rather than for production
applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_64"><a class="anchor" href="#_new_structures_64"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceMemoryReportCallbackDataEXT" class="xref page">VkDeviceMemoryReportCallbackDataEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceDeviceMemoryReportCreateInfoEXT" class="xref page">VkDeviceDeviceMemoryReportCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDeviceMemoryReportFeaturesEXT" class="xref page">VkPhysicalDeviceDeviceMemoryReportFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_function_pointers_2"><a class="anchor" href="#_new_function_pointers_2"></a>New Function Pointers</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#PFN_vkDeviceMemoryReportCallbackEXT" class="xref page">PFN_vkDeviceMemoryReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_23"><a class="anchor" href="#_new_enums_23"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceMemoryReportEventTypeEXT" class="xref page">VkDeviceMemoryReportEventTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_21"><a class="anchor" href="#_new_bitmasks_21"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceMemoryReportFlagsEXT" class="xref page">VkDeviceMemoryReportFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_70"><a class="anchor" href="#_new_enum_constants_70"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEVICE_MEMORY_REPORT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEVICE_MEMORY_REPORT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_DEVICE_MEMORY_REPORT_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_REPORT_CALLBACK_DATA_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEVICE_MEMORY_REPORT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_46"><a class="anchor" href="#_issues_46"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this be better expressed as an extension to VK_EXT_debug_utils and
its general-purpose messenger construct?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The intended lifecycle is quite different.
We want to make this extension tied to the device&#8217;s lifecycle.
Each ICD just handles its own implementation of this extension, and this
extension will only be directly exposed from the ICD.
So we can avoid the extra implementation complexity used to accommodate the
flexibility of <code><a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a></code> extension.</p>
</div>
<div class="paragraph">
<p>2) Can we extend and use the existing internal allocation callbacks instead
of adding the new callback structure in this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Our memory reporting layer that combines this information with other memory
information it collects directly (e.g. bindings of resources to
<a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>) would have to intercept all entry points that take a
<a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> parameter and inject its own
<code>pfnInternalAllocation</code> and <code>pfnInternalFree</code>.
That may be doable for the extensions we know about, but not for ones we do
not.
The proposal would work fine in the face of most unknown extensions.
But even for ones we know about, since apps can provide a different set of
callbacks and userdata and those can be retained by the driver and used
later (esp.
for pool object, but not just those), we would have to dynamically allocate
the interception trampoline every time.
That is getting to be an unreasonably large amount of complexity and
(possibly) overhead.</p>
</div>
<div class="paragraph">
<p>We are interested in both alloc/free and import/unimport.
The latter is fairly important for tracking (and avoiding double-counting)
of swapchain images (still true with &#8220;native swapchains&#8221; based on external
memory) and media/camera interop.
Though we might be able to handle this with additional
<a href="../chapters/memory.html#VkInternalAllocationType" class="xref page">VkInternalAllocationType</a> values, for import/export we do want to be
able to tie this to the external resource, which is one thing that the
<code>memoryObjectId</code> is for.</p>
</div>
<div class="paragraph">
<p>The internal alloc/free callbacks are not extensible except via new
<a href="../chapters/memory.html#VkInternalAllocationType" class="xref page">VkInternalAllocationType</a> values.
The <a href="../chapters/devsandqueues.html#VkDeviceMemoryReportCallbackDataEXT" class="xref page">VkDeviceMemoryReportCallbackDataEXT</a> in this extension is
extensible.
That was deliberate: there is a real possibility we will want to get extra
information in the future.
As one example, currently this reports only physical allocations, but we
believe there are interesting cases for tracking how populated that VA
region is.</p>
</div>
<div class="paragraph">
<p>The callbacks are clearly specified as only callable within the context of a
call from the app into Vulkan.
We believe there are some cases where drivers can allocate device memory
asynchronously.
This was one of the sticky issues that derailed the internal device memory
allocation reporting design (which is essentially what this extension is
trying to do) leading up to 1.0.</p>
</div>
<div class="paragraph">
<p><a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> is described in a section called &#8220;Host memory&#8221;
and the intro to it is very explicitly about host memory.
The other callbacks are all inherently about host memory.
But this extension is very focused on device memory.</p>
</div>
<div class="paragraph">
<p>3) Should the callback be reporting which heap is used?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
It is important for non-UMA systems to have all the device memory
allocations attributed to the corresponding device memory heaps.
For internally-allocated device memory, <code>heapIndex</code> will always
correspond to an advertised heap, rather than having a magic value
indicating a non-advertised heap.
Drivers can advertise heaps that do not have any corresponding memory types
if they need to.</p>
</div>
<div class="paragraph">
<p>4) Should we use an array of callback for the layers to intercept instead of
chaining multiple of the <a href="../chapters/devsandqueues.html#VkDeviceDeviceMemoryReportCreateInfoEXT" class="xref page">VkDeviceDeviceMemoryReportCreateInfoEXT</a>
structures in the <code>pNext</code> of <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No.
The pointer to the <a href="../chapters/devsandqueues.html#VkDeviceDeviceMemoryReportCreateInfoEXT" class="xref page">VkDeviceDeviceMemoryReportCreateInfoEXT</a> structure
itself is const and you cannot just cast it away.
Thus we cannot update the callback array inside the structure.
In addition, we cannot drop this <code>pNext</code> chain either, so making a copy
of this whole structure does not work either.</p>
</div>
<div class="paragraph">
<p>5) Should we track bulk allocations shared among multiple objects?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No.
Take the shader heap as an example.
Some implementations will let multiple <a href="../chapters/pipelines.html#VkPipeline" class="xref page">VkPipeline</a> objects share the
same shader heap.
We are not asking the implementation to report <code>VK_OBJECT_TYPE_PIPELINE</code>
along with a <a href="boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> for this bulk allocation.
Instead, this bulk allocation is considered as a layer below what this
extension is interested in.
Later, when the actual <a href="../chapters/pipelines.html#VkPipeline" class="xref page">VkPipeline</a> objects are created by suballocating
from the bulk allocation, we ask the implementation to report the valid
handles of the <a href="../chapters/pipelines.html#VkPipeline" class="xref page">VkPipeline</a> objects along with the actual suballocated
sizes and different <code>memoryObjectId</code>.</p>
</div>
<div class="paragraph">
<p>6) Can we require the callbacks to be always called in the same thread with
the Vulkan commands?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No.
Some implementations might choose to multiplex work from multiple
application threads into a single backend thread and perform JIT allocations
as a part of that flow.
Since this behavior is theoretically legit, we cannot require the callbacks
to be always called in the same thread with the Vulkan commands, and the
note is to remind the applications to handle this case properly.</p>
</div>
<div class="paragraph">
<p>7) Should we add an additional &#8220;allocation failed&#8221; event type with things
like size and heap index reported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.
This fits in well with the callback infrastructure added in this extension,
and implementation touches the same code and has the same overheads as the
rest of the extension.
It could help debugging things like getting an
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> error when ending a command buffer.
Right now the allocation failure could have happened anywhere during
recording, and a callback would be really useful to understand where and
why.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_70"><a class="anchor" href="#_version_history_70"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-26 (Yiwei Zhang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-01-06 (Yiwei Zhang)</p>
<div class="ulist">
<ul>
<li>
<p>Minor description update</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_direct_mode_display"><a class="anchor" href="#VK_EXT_direct_mode_display"></a>VK_EXT_direct_mode_display</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_direct_mode_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>89</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_direct_mode_display] @cubanismo%0A*Here describe the issue or question you have about the VK_EXT_direct_mode_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_71"><a class="anchor" href="#_other_extension_metadata_71"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_71"><a class="anchor" href="#_description_71"></a>Description</h3>
<div class="paragraph">
<p>This is extension, along with related platform extensions, allows
applications to take exclusive control of displays associated with a native
windowing system.
This is especially useful for virtual reality applications that wish to hide
HMDs (head mounted displays) from the native platform&#8217;s display management
system, desktop, and/or other applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_43"><a class="anchor" href="#_new_commands_43"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkReleaseDisplayEXT" class="xref page">vkReleaseDisplayEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_71"><a class="anchor" href="#_new_enum_constants_71"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DIRECT_MODE_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DIRECT_MODE_DISPLAY_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_47"><a class="anchor" href="#_issues_47"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension and its related platform-specific extensions
leverage <code><a href="#VK_KHR_display">VK_KHR_display</a></code>, or provide separate equivalent interfaces.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Use <code><a href="#VK_KHR_display">VK_KHR_display</a></code> concepts and objects.
<code><a href="#VK_KHR_display">VK_KHR_display</a></code> can be used to enumerate all displays on the system,
including those attached to/in use by a window system or native platform,
but <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> will fail to create a swapchain on
in-use displays.
This extension and its platform-specific children will allow applications to
grab in-use displays away from window systems and/or native platforms,
allowing them to be used with <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code>.</p>
</div>
<div class="paragraph">
<p>2) Are separate calls needed to acquire displays and enable direct mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these operations happen in one combined command.
Acquiring a display puts it into direct mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_71"><a class="anchor" href="#_version_history_71"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_directfb_surface"><a class="anchor" href="#VK_EXT_directfb_surface"></a>VK_EXT_directfb_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_directfb_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>347</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nicolas Caramelli <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_directfb_surface] @caramelli%0A*Here describe the issue or question you have about the VK_EXT_directfb_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>caramelli</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_72"><a class="anchor" href="#_other_extension_metadata_72"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-06-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nicolas Caramelli</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_72"><a class="anchor" href="#_description_72"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_EXT_directfb_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a DirectFB
<code>IDirectFBSurface</code>, as well as a query to determine support for rendering
via DirectFB.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_44"><a class="anchor" href="#_new_commands_44"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateDirectFBSurfaceEXT" class="xref page">vkCreateDirectFBSurfaceEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceDirectFBPresentationSupportEXT" class="xref page">vkGetPhysicalDeviceDirectFBPresentationSupportEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_65"><a class="anchor" href="#_new_structures_65"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDirectFBSurfaceCreateInfoEXT" class="xref page">VkDirectFBSurfaceCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_22"><a class="anchor" href="#_new_bitmasks_22"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDirectFBSurfaceCreateFlagsEXT" class="xref page">VkDirectFBSurfaceCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_72"><a class="anchor" href="#_new_enum_constants_72"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DIRECTFB_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DIRECTFB_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DIRECTFB_SURFACE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_72"><a class="anchor" href="#_version_history_72"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-16 (Nicolas Caramelli)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_discard_rectangles"><a class="anchor" href="#VK_EXT_discard_rectangles"></a>VK_EXT_discard_rectangles</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_discard_rectangles</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>100</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_discard_rectangles] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_discard_rectangles extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_73"><a class="anchor" href="#_other_extension_metadata_73"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-18</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code></p>
</li>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_73"><a class="anchor" href="#_description_73"></a>Description</h3>
<div class="paragraph">
<p>This extension provides additional orthogonally aligned &#8220;discard
rectangles&#8221; specified in framebuffer-space coordinates that restrict
rasterization of all points, lines and triangles.</p>
</div>
<div class="paragraph">
<p>From zero to an implementation-dependent limit (specified by
<code>maxDiscardRectangles</code>) number of discard rectangles can be operational
at once.
When one or more discard rectangles are active, rasterized fragments can
either survive if the fragment is within any of the operational discard
rectangles (<code>VK_DISCARD_RECTANGLE_MODE_INCLUSIVE_EXT</code> mode) or be
rejected if the fragment is within any of the operational discard rectangles
(<code>VK_DISCARD_RECTANGLE_MODE_EXCLUSIVE_EXT</code> mode).</p>
</div>
<div class="paragraph">
<p>These discard rectangles operate orthogonally to the existing scissor test
functionality.
The discard rectangles can be different for each physical device in a device
group by specifying the device mask and setting discard rectangle dynamic
state.</p>
</div>
<div class="paragraph">
<p>Version 2 of this extension introduces new dynamic states
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code> and
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code>, and the corresponding
functions <a href="../chapters/fragops.html#vkCmdSetDiscardRectangleEnableEXT" class="xref page">vkCmdSetDiscardRectangleEnableEXT</a> and
<a href="../chapters/fragops.html#vkCmdSetDiscardRectangleModeEXT" class="xref page">vkCmdSetDiscardRectangleModeEXT</a>.
Applications that use these dynamic states must ensure the implementation
advertises at least <code>specVersion</code> <code>2</code> of this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_45"><a class="anchor" href="#_new_commands_45"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDiscardRectangleEXT" class="xref page">vkCmdSetDiscardRectangleEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDiscardRectangleEnableEXT" class="xref page">vkCmdSetDiscardRectangleEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDiscardRectangleModeEXT" class="xref page">vkCmdSetDiscardRectangleModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_66"><a class="anchor" href="#_new_structures_66"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT" class="xref page">VkPipelineDiscardRectangleStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT" class="xref page">VkPhysicalDeviceDiscardRectanglePropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_24"><a class="anchor" href="#_new_enums_24"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkDiscardRectangleModeEXT" class="xref page">VkDiscardRectangleModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_23"><a class="anchor" href="#_new_bitmasks_23"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineDiscardRectangleStateCreateFlagsEXT" class="xref page">VkPipelineDiscardRectangleStateCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_73"><a class="anchor" href="#_new_enum_constants_73"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DISCARD_RECTANGLES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DISCARD_RECTANGLES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DISCARD_RECTANGLE_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_DISCARD_RECTANGLE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_73"><a class="anchor" href="#_version_history_73"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-01-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Add dynamic states for discard rectangle enable/disable and mode.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-12-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_display_control"><a class="anchor" href="#VK_EXT_display_control"></a>VK_EXT_display_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_display_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>92</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_display_surface_counter">VK_EXT_display_surface_counter</a><br>
and<br>
<a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_display_control] @cubanismo%0A*Here describe the issue or question you have about the VK_EXT_display_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_74"><a class="anchor" href="#_other_extension_metadata_74"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_74"><a class="anchor" href="#_description_74"></a>Description</h3>
<div class="paragraph">
<p>This extension defines a set of utility functions for use with the
<code><a href="#VK_KHR_display">VK_KHR_display</a></code> and <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_46"><a class="anchor" href="#_new_commands_46"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkDisplayPowerControlEXT" class="xref page">vkDisplayPowerControlEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetSwapchainCounterEXT" class="xref page">vkGetSwapchainCounterEXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkRegisterDeviceEventEXT" class="xref page">vkRegisterDeviceEventEXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkRegisterDisplayEventEXT" class="xref page">vkRegisterDisplayEventEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_67"><a class="anchor" href="#_new_structures_67"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkDeviceEventInfoEXT" class="xref page">VkDeviceEventInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkDisplayEventInfoEXT" class="xref page">VkDisplayEventInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPowerInfoEXT" class="xref page">VkDisplayPowerInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCounterCreateInfoEXT" class="xref page">VkSwapchainCounterCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_25"><a class="anchor" href="#_new_enums_25"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkDeviceEventTypeEXT" class="xref page">VkDeviceEventTypeEXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkDisplayEventTypeEXT" class="xref page">VkDisplayEventTypeEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayPowerStateEXT" class="xref page">VkDisplayPowerStateEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_74"><a class="anchor" href="#_new_enum_constants_74"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DISPLAY_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DISPLAY_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_POWER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_COUNTER_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_48"><a class="anchor" href="#_issues_48"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension add an explicit &#8220;WaitForVsync&#8221; API or a fence
signaled at vsync that the application can wait on?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A fence.
A separate API could later be provided that allows exporting the fence to a
native object that could be inserted into standard run loops on POSIX and
Windows systems.</p>
</div>
<div class="paragraph">
<p>2) Should callbacks be added for a vsync event, or in general to monitor
events in Vulkan?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, fences should be used.
Some events are generated by interrupts which are managed in the kernel.
In order to use a callback provided by the application, drivers would need
to have the userspace driver spawn threads that would wait on the kernel
event, and hence the callbacks could be difficult for the application to
synchronize with its other work given they would arrive on a foreign thread.</p>
</div>
<div class="paragraph">
<p>3) Should vblank or scanline events be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vblank events.
Scanline events could be added by a separate extension, but the latency of
processing an interrupt and waking up a userspace event is high enough that
the accuracy of a scanline event would be rather low.
Further, per-scanline interrupts are not supported by all hardware.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_74"><a class="anchor" href="#_version_history_74"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_display_surface_counter"><a class="anchor" href="#VK_EXT_display_surface_counter"></a>VK_EXT_display_surface_counter</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_display_surface_counter</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>91</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_display_surface_counter] @cubanismo%0A*Here describe the issue or question you have about the VK_EXT_display_surface_counter extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_75"><a class="anchor" href="#_other_extension_metadata_75"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_75"><a class="anchor" href="#_description_75"></a>Description</h3>
<div class="paragraph">
<p>This extension defines a vertical blanking period counter associated with
display surfaces.
It provides a mechanism to query support for such a counter from a
<a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_47"><a class="anchor" href="#_new_commands_47"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2EXT" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_68"><a class="anchor" href="#_new_structures_68"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2EXT" class="xref page">VkSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_26"><a class="anchor" href="#_new_enums_26"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCounterFlagBitsEXT" class="xref page">VkSurfaceCounterFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_24"><a class="anchor" href="#_new_bitmasks_24"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCounterFlagsEXT" class="xref page">VkSurfaceCounterFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_75"><a class="anchor" href="#_new_enum_constants_75"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DISPLAY_SURFACE_COUNTER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DISPLAY_SURFACE_COUNTER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES2_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_75"><a class="anchor" href="#_version_history_75"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_dynamic_rendering_unused_attachments"><a class="anchor" href="#VK_EXT_dynamic_rendering_unused_attachments"></a>VK_EXT_dynamic_rendering_unused_attachments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_dynamic_rendering_unused_attachments</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>500</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.3" class="xref page">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_dynamic_rendering_unused_attachments] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_dynamic_rendering_unused_attachments extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_dynamic_rendering_unused_attachments.adoc">VK_EXT_dynamic_rendering_unused_attachments</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_76"><a class="anchor" href="#_other_extension_metadata_76"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Pan Gao, Huawei Technologies</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_76"><a class="anchor" href="#_description_76"></a>Description</h3>
<div class="paragraph">
<p>This extension lifts some restrictions in the
<code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code> extension to allow render pass instances
and bound pipelines within those render pass instances to have an unused
attachment specified in one but not the other.
It also allows pipelines to use different formats in a render pass as long
the attachment is NULL.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_69"><a class="anchor" href="#_new_structures_69"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDynamicRenderingUnusedAttachmentsFeaturesEXT" class="xref page">VkPhysicalDeviceDynamicRenderingUnusedAttachmentsFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_76"><a class="anchor" href="#_new_enum_constants_76"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_49"><a class="anchor" href="#_issues_49"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_76"><a class="anchor" href="#_version_history_76"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-05-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_extended_dynamic_state3"><a class="anchor" href="#VK_EXT_extended_dynamic_state3"></a>VK_EXT_extended_dynamic_state3</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_extended_dynamic_state3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>456</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_extended_dynamic_state3] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_extended_dynamic_state3 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_extended_dynamic_state3.adoc">VK_EXT_extended_dynamic_state3</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_77"><a class="anchor" href="#_other_extension_metadata_77"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Jamie Madill, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tapani Pälli, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_77"><a class="anchor" href="#_description_77"></a>Description</h3>
<div class="paragraph">
<p>This extension adds almost all of the remaining pipeline state as dynamic
state to help applications further reduce the number of monolithic pipelines
they need to create and bind.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_48"><a class="anchor" href="#_new_commands_48"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetAlphaToCoverageEnableEXT" class="xref page">vkCmdSetAlphaToCoverageEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetAlphaToOneEnableEXT" class="xref page">vkCmdSetAlphaToOneEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendAdvancedEXT" class="xref page">vkCmdSetColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendEnableEXT" class="xref page">vkCmdSetColorBlendEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendEquationEXT" class="xref page">vkCmdSetColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorWriteMaskEXT" class="xref page">vkCmdSetColorWriteMaskEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetConservativeRasterizationModeEXT" class="xref page">vkCmdSetConservativeRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClampEnableEXT" class="xref page">vkCmdSetDepthClampEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClipEnableEXT" class="xref page">vkCmdSetDepthClipEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT" class="xref page">vkCmdSetDepthClipNegativeOneToOneEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT" class="xref page">vkCmdSetExtraPrimitiveOverestimationSizeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetLineRasterizationModeEXT" class="xref page">vkCmdSetLineRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetLineStippleEnableEXT" class="xref page">vkCmdSetLineStippleEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetLogicOpEnableEXT" class="xref page">vkCmdSetLogicOpEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetPolygonModeEXT" class="xref page">vkCmdSetPolygonModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetProvokingVertexModeEXT" class="xref page">vkCmdSetProvokingVertexModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizationSamplesEXT" class="xref page">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizationStreamEXT" class="xref page">vkCmdSetRasterizationStreamEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetSampleLocationsEnableEXT" class="xref page">vkCmdSetSampleLocationsEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetSampleMaskEXT" class="xref page">vkCmdSetSampleMaskEXT</a></p>
</li>
<li>
<p><a href="../chapters/tessellation.html#vkCmdSetTessellationDomainOriginEXT" class="xref page">vkCmdSetTessellationDomainOriginEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportWScalingEnableNV" class="xref page">vkCmdSetViewportWScalingEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_coverage_reduction_mode">VK_NV_coverage_reduction_mode</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageReductionModeNV" class="xref page">vkCmdSetCoverageReductionModeNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageToColorEnableNV" class="xref page">vkCmdSetCoverageToColorEnableNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageToColorLocationNV" class="xref page">vkCmdSetCoverageToColorLocationNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationModeNV" class="xref page">vkCmdSetCoverageModulationModeNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationTableEnableNV" class="xref page">vkCmdSetCoverageModulationTableEnableNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationTableNV" class="xref page">vkCmdSetCoverageModulationTableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV" class="xref page">vkCmdSetRepresentativeFragmentTestEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetShadingRateImageEnableNV" class="xref page">vkCmdSetShadingRateImageEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportSwizzleNV" class="xref page">vkCmdSetViewportSwizzleNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_70"><a class="anchor" href="#_new_structures_70"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkColorBlendAdvancedEXT" class="xref page">VkColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#VkColorBlendEquationEXT" class="xref page">VkColorBlendEquationEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExtendedDynamicState3FeaturesEXT" class="xref page">VkPhysicalDeviceExtendedDynamicState3FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceExtendedDynamicState3PropertiesEXT" class="xref page">VkPhysicalDeviceExtendedDynamicState3PropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_77"><a class="anchor" href="#_new_enum_constants_77"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_3_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_3_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_3_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_coverage_reduction_mode">VK_NV_coverage_reduction_mode</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_50"><a class="anchor" href="#_issues_50"></a>Issues</h3>
<div class="paragraph">
<p>1) What about the VkPipelineMultisampleStateCreateInfo state
<code>sampleShadingEnable</code> and <code>minSampleShading</code>?</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">UNRESOLVED</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>sampleShadingEnable</code> and <code>minSampleShading</code> are required when compiling
the fragment shader, and it is not meaningful to set them dynamically
since they always need to match the fragment shader state, so this
hardware state may as well just come from the pipeline with the fragment
shader.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_77"><a class="anchor" href="#_version_history_77"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-07-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Added rasterizationSamples</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-05-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_external_memory_acquire_unmodified"><a class="anchor" href="#VK_EXT_external_memory_acquire_unmodified"></a>VK_EXT_external_memory_acquire_unmodified</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_acquire_unmodified</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>454</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_external_memory_acquire_unmodified] @versalinyaa%0A*Here describe the issue or question you have about the VK_EXT_external_memory_acquire_unmodified extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>versalinyaa</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_external_memory_acquire_unmodified.adoc">VK_EXT_external_memory_acquire_unmodified</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_78"><a class="anchor" href="#_other_extension_metadata_78"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>Chia-I Wu, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Yiwei Zhang, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_78"><a class="anchor" href="#_description_78"></a>Description</h3>
<div class="paragraph">
<p>A memory barrier <strong>may</strong> have a performance penalty when acquiring ownership of
a subresource range from an external queue family.
This extension provides API that <strong>may</strong> reduce the performance penalty if
ownership of the subresource range was previously released to the external
queue family and if the resource&#8217;s memory has remained unmodified between
the release and acquire operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_71"><a class="anchor" href="#_new_structures_71"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkBufferMemoryBarrier" class="xref page">VkBufferMemoryBarrier</a>, <a href="../chapters/synchronization.html#VkBufferMemoryBarrier2" class="xref page">VkBufferMemoryBarrier2</a>, <a href="../chapters/synchronization.html#VkImageMemoryBarrier" class="xref page">VkImageMemoryBarrier</a>, <a href="../chapters/synchronization.html#VkImageMemoryBarrier2" class="xref page">VkImageMemoryBarrier2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkExternalMemoryAcquireUnmodifiedEXT" class="xref page">VkExternalMemoryAcquireUnmodifiedEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_78"><a class="anchor" href="#_new_enum_constants_78"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_78"><a class="anchor" href="#_version_history_78"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-09 (Lina Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_external_memory_dma_buf"><a class="anchor" href="#VK_EXT_external_memory_dma_buf"></a>VK_EXT_external_memory_dma_buf</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_dma_buf</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>126</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_external_memory_dma_buf] @versalinyaa%0A*Here describe the issue or question you have about the VK_EXT_external_memory_dma_buf extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>versalinyaa</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_79"><a class="anchor" href="#_other_extension_metadata_79"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_79"><a class="anchor" href="#_description_79"></a>Description</h3>
<div class="paragraph">
<p>A <code>dma_buf</code> is a type of file descriptor, defined by the Linux kernel,
that allows sharing memory across kernel device drivers and across
processes.
This extension enables applications to import a <code>dma_buf</code> as
<a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>, to export <a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a> as a <code>dma_buf</code>, and
to create <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a> objects that <strong>can</strong> be bound to that memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_79"><a class="anchor" href="#_new_enum_constants_79"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_DMA_BUF_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_DMA_BUF_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_51"><a class="anchor" href="#_issues_51"></a>Issues</h3>
<div class="paragraph">
<p>1) How does the application, when creating a <a href="../chapters/resources.html#VkImage" class="xref page">VkImage</a> that it intends
to bind to <code>dma_buf</code> <a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a> containing an externally
produced image, specify the memory layout (such as row pitch and DRM format
modifier) of the <a href="../chapters/resources.html#VkImage" class="xref page">VkImage</a>? In other words, how does the application
achieve behavior comparable to that provided by
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt"><code>EGL_EXT_image_dma_buf_import</code></a>
and
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt"><code>EGL_EXT_image_dma_buf_import_modifiers</code></a>
?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Features comparable to those in
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt"><code>EGL_EXT_image_dma_buf_import</code></a>
and
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt"><code>EGL_EXT_image_dma_buf_import_modifiers</code></a>
will be provided by an extension layered atop this one.</p>
</div>
<div class="paragraph">
<p>2) Without the ability to specify the memory layout of external <code>dma_buf</code>
images, how is this extension useful?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This extension provides exactly one new feature: the ability to
import/export between <code>dma_buf</code> and <a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>.
This feature, together with features provided by
<code><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></code>, is sufficient to bind a <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a>
to <code>dma_buf</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_79"><a class="anchor" href="#_version_history_79"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-10-10 (Lina Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Squashed internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_external_memory_host"><a class="anchor" href="#VK_EXT_external_memory_host"></a>VK_EXT_external_memory_host</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_host</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>179</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_external_memory_host] @drakos-amd%0A*Here describe the issue or question you have about the VK_EXT_external_memory_host extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_80"><a class="anchor" href="#_other_extension_metadata_80"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-11-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_80"><a class="anchor" href="#_description_80"></a>Description</h3>
<div class="paragraph">
<p>This extension enables an application to import host allocations and host
mapped foreign device memory to Vulkan memory objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_49"><a class="anchor" href="#_new_commands_49"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryHostPointerPropertiesEXT" class="xref page">vkGetMemoryHostPointerPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_72"><a class="anchor" href="#_new_structures_72"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryHostPointerPropertiesEXT" class="xref page">VkMemoryHostPointerPropertiesEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMemoryHostPointerInfoEXT" class="xref page">VkImportMemoryHostPointerInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceExternalMemoryHostPropertiesEXT" class="xref page">VkPhysicalDeviceExternalMemoryHostPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_80"><a class="anchor" href="#_new_enum_constants_80"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_HOST_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_HOST_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_HOST_POINTER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_HOST_POINTER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_MEMORY_HOST_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_52"><a class="anchor" href="#_issues_52"></a>Issues</h3>
<div class="paragraph">
<p>1) What memory type has to be used to import host pointers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Depends on the implementation.
Applications have to use the new <a href="../chapters/memory.html#vkGetMemoryHostPointerPropertiesEXT" class="xref page">vkGetMemoryHostPointerPropertiesEXT</a>
command to query the supported memory types for a particular host pointer.
The reported memory types may include memory types that come from a memory
heap that is otherwise not usable for regular memory object allocation and
thus such a heap&#8217;s size may be zero.</p>
</div>
<div class="paragraph">
<p>2) Can the application still access the contents of the host allocation
after importing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
However, usual synchronization requirements apply.</p>
</div>
<div class="paragraph">
<p>3) Can the application free the host allocation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, it violates valid usage conditions.
Using the memory object imported from a host allocation that is already
freed thus results in <strong>undefined</strong> behavior.</p>
</div>
<div class="paragraph">
<p>4) Is <a href="../chapters/memory.html#vkMapMemory" class="xref page">vkMapMemory</a> expected to return the same host address which was
specified when importing it to the memory object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Implementations are allowed to return the same address but it is not
required.
Some implementations might return a different virtual mapping of the
allocation, although the same physical pages will be used.</p>
</div>
<div class="paragraph">
<p>5) Is there any limitation on the alignment of the host pointer and/or size?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Both the address and the size have to be an integer multiple of
<code>minImportedHostPointerAlignment</code>.
In addition, some platforms and foreign devices may have additional
restrictions.</p>
</div>
<div class="paragraph">
<p>6) Can the same host allocation be imported multiple times into a given
physical device?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, at least not guaranteed by this extension.
Some platforms do not allow locking the same physical pages for device
access multiple times, so attempting to do it may result in <strong>undefined</strong>
behavior.</p>
</div>
<div class="paragraph">
<p>7) Does this extension support exporting the new handle type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.</p>
</div>
<div class="paragraph">
<p>8) Should we include the possibility to import host mapped foreign device
memory using this API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, through a separate handle type.
Implementations are still allowed to support only one of the handle types
introduced by this extension by not returning import support for a
particular handle type as returned in <a href="../chapters/capabilities.html#VkExternalMemoryPropertiesKHR" class="xref page">VkExternalMemoryPropertiesKHR</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_80"><a class="anchor" href="#_version_history_80"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-11-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_filter_cubic"><a class="anchor" href="#VK_EXT_filter_cubic"></a>VK_EXT_filter_cubic</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_filter_cubic</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>171</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Licea-Kane <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_filter_cubic] @wwlk%0A*Here describe the issue or question you have about the VK_EXT_filter_cubic extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>wwlk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_81"><a class="anchor" href="#_other_extension_metadata_81"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-12-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Andrew Garrard, Samsung</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Donald Scorgie, Imagination Technologies</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_81"><a class="anchor" href="#_description_81"></a>Description</h3>
<div class="paragraph">
<p><code>VK_EXT_filter_cubic</code> extends <code>VK_IMG_filter_cubic</code>.</p>
</div>
<div class="paragraph">
<p>It documents cubic filtering of other image view types.
It adds new structures that <strong>can</strong> be added to the <code>pNext</code> chain of
<a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a> and <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>
that <strong>can</strong> be used to determine which image types and which image view types
support cubic filtering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_73"><a class="anchor" href="#_new_structures_73"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT" class="xref page">VkFilterCubicImageViewImageFormatPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceImageViewImageFormatInfoEXT" class="xref page">VkPhysicalDeviceImageViewImageFormatInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_81"><a class="anchor" href="#_new_enum_constants_81"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FILTER_CUBIC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FILTER_CUBIC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkFilter" class="xref page">VkFilter</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FILTER_CUBIC_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FILTER_CUBIC_IMAGE_VIEW_IMAGE_FORMAT_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_VIEW_IMAGE_FORMAT_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_81"><a class="anchor" href="#_version_history_81"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 3, 2019-12-13 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Delete requirement to cubic filter the formats USCALED_PACKED32,
SSCALED_PACKED32, UINT_PACK32, and SINT_PACK32 (cut/paste error)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-06-05 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify 1D optional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2019-01-24 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_fragment_density_map"><a class="anchor" href="#VK_EXT_fragment_density_map"></a>VK_EXT_fragment_density_map</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_fragment_density_map</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>219</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_fragment_density_map] @mnetsch%0A*Here describe the issue or question you have about the VK_EXT_fragment_density_map extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mnetsch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_82"><a class="anchor" href="#_other_extension_metadata_82"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_fragment_invocation_density.html"><code>SPV_EXT_fragment_invocation_density</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_fragment_invocation_density.txt"><code>GL_EXT_fragment_invocation_density</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Robert VanReenen, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tate Hornbeck, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Sam Holmes, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_82"><a class="anchor" href="#_description_82"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to specify areas of the render target
where the fragment shader may be invoked fewer times.
These fragments are broadcasted out to multiple pixels to cover the render
target.</p>
</div>
<div class="paragraph">
<p>The primary use of this extension is to reduce workloads in areas where
lower quality may not be perceived such as the distorted edges of a lens or
the periphery of a user&#8217;s gaze.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_74"><a class="anchor" href="#_new_structures_74"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentDensityMapFeaturesEXT" class="xref page">VkPhysicalDeviceFragmentDensityMapFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentDensityMapPropertiesEXT" class="xref page">VkPhysicalDeviceFragmentDensityMapPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateInfo" class="xref page">VkRenderPassCreateInfo</a>, <a href="../chapters/renderpass.html#VkRenderPassCreateInfo2" class="xref page">VkRenderPassCreateInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassFragmentDensityMapCreateInfoEXT" class="xref page">VkRenderPassFragmentDensityMapCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_82"><a class="anchor" href="#_new_enum_constants_82"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FRAGMENT_DENSITY_MAP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FRAGMENT_DENSITY_MAP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_FRAGMENT_DENSITY_MAP_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SUBSAMPLED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_FRAGMENT_DENSITY_MAP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateFlagBits" class="xref page">VkImageViewCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_VIEW_CREATE_FRAGMENT_DENSITY_MAP_DYNAMIC_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_DENSITY_PROCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateFlagBits" class="xref page">VkSamplerCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_CREATE_SUBSAMPLED_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SAMPLER_CREATE_SUBSAMPLED_COARSE_RECONSTRUCTION_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_FRAGMENT_DENSITY_MAP_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_2"><a class="anchor" href="#_new_or_modified_built_in_variables_2"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-fraginvocationcount" class="xref page"><code>FragInvocationCountEXT</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-fragsize" class="xref page"><code>FragSizeEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_10"><a class="anchor" href="#_new_spir_v_capabilities_10"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentDensityEXT" class="xref page">    <code>FragmentDensityEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_82"><a class="anchor" href="#_version_history_82"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-25 (Matthew Netsch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_fragment_density_map2"><a class="anchor" href="#VK_EXT_fragment_density_map2"></a>VK_EXT_fragment_density_map2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_fragment_density_map2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>333</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_fragment_density_map2] @mnetsch%0A*Here describe the issue or question you have about the VK_EXT_fragment_density_map2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mnetsch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_83"><a class="anchor" href="#_other_extension_metadata_83"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-06-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Tinkham, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_83"><a class="anchor" href="#_description_83"></a>Description</h3>
<div class="paragraph">
<p>This extension adds additional features and properties to
<code><a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a></code> in order to reduce fragment density map
host latency as well as improved queries for subsampled sampler
implementation-dependent behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_75"><a class="anchor" href="#_new_structures_75"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentDensityMap2FeaturesEXT" class="xref page">VkPhysicalDeviceFragmentDensityMap2FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentDensityMap2PropertiesEXT" class="xref page">VkPhysicalDeviceFragmentDensityMap2PropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_83"><a class="anchor" href="#_new_enum_constants_83"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FRAGMENT_DENSITY_MAP_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FRAGMENT_DENSITY_MAP_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateFlagBits" class="xref page">VkImageViewCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_VIEW_CREATE_FRAGMENT_DENSITY_MAP_DEFERRED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_2_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_2_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_83"><a class="anchor" href="#_version_history_83"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-16 (Matthew Netsch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_fragment_shader_interlock"><a class="anchor" href="#VK_EXT_fragment_shader_interlock"></a>VK_EXT_fragment_shader_interlock</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_fragment_shader_interlock</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>252</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_fragment_shader_interlock] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_fragment_shader_interlock extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_84"><a class="anchor" href="#_other_extension_metadata_84"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_fragment_shader_interlock.html"><code>SPV_EXT_fragment_shader_interlock</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_fragment_shader_interlock.txt"><code>GL_ARB_fragment_shader_interlock</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_84"><a class="anchor" href="#_description_84"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the <code>FragmentShaderPixelInterlockEXT</code>,
<code>FragmentShaderSampleInterlockEXT</code>, and
<code>FragmentShaderShadingRateInterlockEXT</code> capabilities from the
<code>SPV_EXT_fragment_shader_interlock</code> extension to Vulkan.</p>
</div>
<div class="paragraph">
<p>Enabling these capabilities provides a critical section for fragment shaders
to avoid overlapping pixels being processed at the same time, and certain
guarantees about the ordering of fragment shader invocations of fragments of
overlapping pixels.</p>
</div>
<div class="paragraph">
<p>This extension can be useful for algorithms that need to access per-pixel
data structures via shader loads and stores.
Algorithms using this extension can access per-pixel data structures in
critical sections without other invocations accessing the same per-pixel
data.
Additionally, the ordering guarantees are useful for cases where the API
ordering of fragments is meaningful.
For example, applications may be able to execute programmable blending
operations in the fragment shader, where the destination buffer is read via
image loads and the final value is written via image stores.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_76"><a class="anchor" href="#_new_structures_76"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentShaderInterlockFeaturesEXT" class="xref page">VkPhysicalDeviceFragmentShaderInterlockFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_84"><a class="anchor" href="#_new_enum_constants_84"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FRAGMENT_SHADER_INTERLOCK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FRAGMENT_SHADER_INTERLOCK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_INTERLOCK_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_11"><a class="anchor" href="#_new_spir_v_capabilities_11"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentShaderSampleInterlockEXT" class="xref page">    <code>FragmentShaderInterlockEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentShaderPixelInterlockEXT" class="xref page">    <code>FragmentShaderPixelInterlockEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentShaderShadingRateInterlockEXT" class="xref page">    <code>FragmentShaderShadingRateInterlockEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_84"><a class="anchor" href="#_version_history_84"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-24 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_frame_boundary"><a class="anchor" href="#VK_EXT_frame_boundary"></a>VK_EXT_frame_boundary</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_frame_boundary</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>376</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Fitzpatrick <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_frame_boundary] @jamesfitzpatrick%0A*Here describe the issue or question you have about the VK_EXT_frame_boundary extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jamesfitzpatrick</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_frame_boundary.adoc">VK_EXT_frame_boundary</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_85"><a class="anchor" href="#_other_extension_metadata_85"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-14</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Hugues Evrard, Google</p>
</li>
<li>
<p>Melih Yasin Yalcin, Google</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Vassili Nikolaev, NVIDIA</p>
</li>
<li>
<p>Ting Wei, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_85"><a class="anchor" href="#_description_85"></a>Description</h3>
<div class="paragraph">
<p><a href="#VK_EXT_frame_boundary">VK_EXT_frame_boundary</a> is a device extension that helps <strong>tools</strong> (such
as debuggers) to group queue submissions per frames in non-trivial
scenarios, typically when <a href="../chapters/VK_KHR_surface/wsi.html#vkQueuePresentKHR" class="xref page">vkQueuePresentKHR</a> is not a relevant frame
boundary delimiter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_77"><a class="anchor" href="#_new_structures_77"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFrameBoundaryFeaturesEXT" class="xref page">VkPhysicalDeviceFrameBoundaryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>, <a href="../chapters/cmdbuffers.html#VkSubmitInfo2" class="xref page">VkSubmitInfo2</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>, <a href="../chapters/sparsemem.html#VkBindSparseInfo" class="xref page">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkFrameBoundaryEXT" class="xref page">VkFrameBoundaryEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_27"><a class="anchor" href="#_new_enums_27"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkFrameBoundaryFlagBitsEXT" class="xref page">VkFrameBoundaryFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_25"><a class="anchor" href="#_new_bitmasks_25"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkFrameBoundaryFlagsEXT" class="xref page">VkFrameBoundaryFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_85"><a class="anchor" href="#_new_enum_constants_85"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FRAME_BOUNDARY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FRAME_BOUNDARY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAME_BOUNDARY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAME_BOUNDARY_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_85"><a class="anchor" href="#_version_history_85"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2022-01-14 (Hugues Evard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial proposal</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-06-14 (James Fitzpatrick)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_full_screen_exclusive"><a class="anchor" href="#VK_EXT_full_screen_exclusive"></a>VK_EXT_full_screen_exclusive</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_full_screen_exclusive</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>256</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_surface">VK_KHR_surface</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br>
and<br>
<a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_full_screen_exclusive] @cubanismo%0A*Here describe the issue or question you have about the VK_EXT_full_screen_exclusive extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_86"><a class="anchor" href="#_other_extension_metadata_86"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-03-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen, ARM</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Joshua Schnarr, NVIDIA</p>
</li>
<li>
<p>Aaron Hagan, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_86"><a class="anchor" href="#_description_86"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to set the policy for swapchain creation
and presentation mechanisms relating to full-screen access.
Implementations may be able to acquire exclusive access to a particular
display for an application window that covers the whole screen.
This can increase performance on some systems by bypassing composition,
however it can also result in disruptive or expensive transitions in the
underlying windowing system when a change occurs.</p>
</div>
<div class="paragraph">
<p>Applications can choose between explicitly disallowing or allowing this
behavior, letting the implementation decide, or managing this mode of
operation directly using the new <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireFullScreenExclusiveModeEXT" class="xref page">vkAcquireFullScreenExclusiveModeEXT</a>
and <a href="../chapters/VK_KHR_surface/wsi.html#vkReleaseFullScreenExclusiveModeEXT" class="xref page">vkReleaseFullScreenExclusiveModeEXT</a> commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_50"><a class="anchor" href="#_new_commands_50"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireFullScreenExclusiveModeEXT" class="xref page">vkAcquireFullScreenExclusiveModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModes2EXT" class="xref page">vkGetPhysicalDeviceSurfacePresentModes2EXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkReleaseFullScreenExclusiveModeEXT" class="xref page">vkReleaseFullScreenExclusiveModeEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_device_group">VK_KHR_device_group</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupSurfacePresentModes2EXT" class="xref page">vkGetDeviceGroupSurfacePresentModes2EXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupSurfacePresentModes2EXT" class="xref page">vkGetDeviceGroupSurfacePresentModes2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_78"><a class="anchor" href="#_new_structures_78"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPhysicalDeviceSurfaceInfo2KHR" class="xref page">VkPhysicalDeviceSurfaceInfo2KHR</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceFullScreenExclusiveInfoEXT" class="xref page">VkSurfaceFullScreenExclusiveInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesFullScreenExclusiveEXT" class="xref page">VkSurfaceCapabilitiesFullScreenExclusiveEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPhysicalDeviceSurfaceInfo2KHR" class="xref page">VkPhysicalDeviceSurfaceInfo2KHR</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceFullScreenExclusiveWin32InfoEXT" class="xref page">VkSurfaceFullScreenExclusiveWin32InfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_28"><a class="anchor" href="#_new_enums_28"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkFullScreenExclusiveEXT" class="xref page">VkFullScreenExclusiveEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_86"><a class="anchor" href="#_new_enum_constants_86"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FULL_SCREEN_EXCLUSIVE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FULL_SCREEN_EXCLUSIVE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_FULL_SCREEN_EXCLUSIVE_MODE_LOST_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_FULL_SCREEN_EXCLUSIVE_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FULL_SCREEN_EXCLUSIVE_WIN32_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_53"><a class="anchor" href="#_issues_53"></a>Issues</h3>
<div class="paragraph">
<p>1) What should the extension &amp; flag be called?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: VK_EXT_full_screen_exclusive.</p>
</div>
<div class="paragraph">
<p>Other options considered (prior to the app-controlled mode) were:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>VK_EXT_smooth_fullscreen_transition</p>
</li>
<li>
<p>VK_EXT_fullscreen_behavior</p>
</li>
<li>
<p>VK_EXT_fullscreen_preference</p>
</li>
<li>
<p>VK_EXT_fullscreen_hint</p>
</li>
<li>
<p>VK_EXT_fast_fullscreen_transition</p>
</li>
<li>
<p>VK_EXT_avoid_fullscreen_exclusive</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Do we need more than a boolean toggle?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Using an enum with default/allowed/disallowed/app-controlled enables
applications to accept driver default behavior, specifically override it in
either direction without implying the driver is ever required to use
full-screen exclusive mechanisms, or manage this mode explicitly.</p>
</div>
<div class="paragraph">
<p>3) Should this be a KHR or EXT extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: EXT, in order to allow it to be shipped faster.</p>
</div>
<div class="paragraph">
<p>4) Can the fullscreen hint affect the surface capabilities, and if so,
should the hint also be specified as input when querying the surface
capabilities?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes on both accounts.</p>
</div>
<div class="paragraph">
<p>While the hint does not guarantee a particular fullscreen mode will be used
when the swapchain is created, it can sometimes imply particular modes will
NOT be used.
If the driver determines that it will opt-out of using a particular mode
based on the policy, and knows it can only support certain capabilities if
that mode is used, it would be confusing at best to the application to
report those capabilities in such cases.
Not allowing implementations to report this state to applications could
result in situations where applications are unable to determine why
swapchain creation fails when they specify certain hint values, which could
result in never- terminating surface creation loops.</p>
</div>
<div class="paragraph">
<p>5) Should full-screen be one word or two?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Two words.</p>
</div>
<div class="paragraph">
<p>"Fullscreen" is not in my dictionary, and web searches did not turn up
definitive proof that it is a colloquially accepted compound word.
Documentation for the corresponding Windows API mechanisms dithers.
The text consistently uses a hyphen, but none-the-less, there is a
SetFullscreenState method in the DXGI swapchain object.
Given this inconclusive external guidance, it is best to adhere to the
Vulkan style guidelines and avoid inventing new compound words.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_86"><a class="anchor" href="#_version_history_86"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 4, 2019-03-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added application-controlled mode, and related functions</p>
</li>
<li>
<p>Tidied up appendix</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-01-03 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed to VK_EXT_full_screen_exclusive</p>
</li>
<li>
<p>Made related adjustments to the tri-state enumerant names.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-11-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed to VK_KHR_fullscreen_behavior</p>
</li>
<li>
<p>Switched from boolean flag to tri-state enum</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-11-06 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_graphics_pipeline_library"><a class="anchor" href="#VK_EXT_graphics_pipeline_library"></a>VK_EXT_graphics_pipeline_library</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_graphics_pipeline_library</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>321</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_graphics_pipeline_library] @tobski%0A*Here describe the issue or question you have about the VK_EXT_graphics_pipeline_library extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_graphics_pipeline_library.adoc">VK_EXT_graphics_pipeline_library</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_87"><a class="anchor" href="#_other_extension_metadata_87"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-08-17</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Chris Glover, Google</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Piers Daniell, NVidia</p>
</li>
<li>
<p>Boris Zanin, Mobica</p>
</li>
<li>
<p>Krzysztof Niski, NVidia</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Sebastian Aaltonen, Unity</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>Calle Lejdfors, Ubisoft</p>
</li>
<li>
<p>Tiago Rodrigues, Ubisoft</p>
</li>
<li>
<p>Francois Duranleau, Gameloft</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_87"><a class="anchor" href="#_description_87"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the separate compilation of four distinct parts of
graphics pipelines, with the intent of allowing faster pipeline loading for
applications reusing the same shaders or state in multiple pipelines.
Each part can be independently compiled into a graphics pipeline library,
with a final link step required to create an executable pipeline that can be
bound to a command buffer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_79"><a class="anchor" href="#_new_structures_79"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkGraphicsPipelineLibraryCreateInfoEXT" class="xref page">VkGraphicsPipelineLibraryCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceGraphicsPipelineLibraryFeaturesEXT" class="xref page">VkPhysicalDeviceGraphicsPipelineLibraryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceGraphicsPipelineLibraryPropertiesEXT" class="xref page">VkPhysicalDeviceGraphicsPipelineLibraryPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_29"><a class="anchor" href="#_new_enums_29"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkGraphicsPipelineLibraryFlagBitsEXT" class="xref page">VkGraphicsPipelineLibraryFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkPipelineLayoutCreateFlagBits" class="xref page">VkPipelineLayoutCreateFlagBits</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_26"><a class="anchor" href="#_new_bitmasks_26"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkGraphicsPipelineLibraryFlagsEXT" class="xref page">VkGraphicsPipelineLibraryFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_87"><a class="anchor" href="#_new_enum_constants_87"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_GRAPHICS_PIPELINE_LIBRARY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_GRAPHICS_PIPELINE_LIBRARY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_LINK_TIME_OPTIMIZATION_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RETAIN_LINK_TIME_OPTIMIZATION_INFO_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkPipelineLayoutCreateFlagBits" class="xref page">VkPipelineLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_LAYOUT_CREATE_INDEPENDENT_SETS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_LIBRARY_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GRAPHICS_PIPELINE_LIBRARY_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GRAPHICS_PIPELINE_LIBRARY_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_87"><a class="anchor" href="#_version_history_87"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-08-17 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_hdr_metadata"><a class="anchor" href="#VK_EXT_hdr_metadata"></a>VK_EXT_hdr_metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_hdr_metadata</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>106</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_hdr_metadata] @courtney-g%0A*Here describe the issue or question you have about the VK_EXT_hdr_metadata extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_88"><a class="anchor" href="#_other_extension_metadata_88"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_88"><a class="anchor" href="#_description_88"></a>Description</h3>
<div class="paragraph">
<p>This extension defines two new structures and a function to assign SMPTE
(the Society of Motion Picture and Television Engineers) 2086 metadata and
CTA (Consumer Technology Association) 861.3 metadata to a swapchain.
The metadata includes the color primaries, white point, and luminance range
of the reference monitor, which all together define the color volume
containing all the possible colors the reference monitor can produce.
The reference monitor is the display where creative work is done and
creative intent is established.
To preserve such creative intent as much as possible and achieve consistent
color reproduction on different viewing displays, it is useful for the
display pipeline to know the color volume of the original reference monitor
where content was created or tuned.
This avoids performing unnecessary mapping of colors that are not
displayable on the original reference monitor.
The metadata also includes the <code>maxContentLightLevel</code> and
<code>maxFrameAverageLightLevel</code> as defined by CTA 861.3.</p>
</div>
<div class="paragraph">
<p>While the intended purpose of the metadata is to assist in the
transformation between different color volumes of different displays and
help achieve better color reproduction, it is not in the scope of this
extension to define how exactly the metadata should be used in such a
process.
It is up to the implementation to determine how to make use of the metadata.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_51"><a class="anchor" href="#_new_commands_51"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkSetHdrMetadataEXT" class="xref page">vkSetHdrMetadataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_80"><a class="anchor" href="#_new_structures_80"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkHdrMetadataEXT" class="xref page">VkHdrMetadataEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkXYColorEXT" class="xref page">VkXYColorEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_88"><a class="anchor" href="#_new_enum_constants_88"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_HDR_METADATA_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_HDR_METADATA_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_HDR_METADATA_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_54"><a class="anchor" href="#_issues_54"></a>Issues</h3>
<div class="paragraph">
<p>1) Do we need a query function?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED</strong>: No, Vulkan does not provide queries for state that the
application can track on its own.</p>
</div>
<div class="paragraph">
<p>2) Should we specify default if not specified by the application?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED</strong>: No, that leaves the default up to the display.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_88"><a class="anchor" href="#_version_history_88"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-27 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-12-19 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Correct implicit validity for VkHdrMetadataEXT structure</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_headless_surface"><a class="anchor" href="#VK_EXT_headless_surface"></a>VK_EXT_headless_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_headless_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>257</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lisa Wu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_headless_surface] @chengtianww%0A*Here describe the issue or question you have about the VK_EXT_headless_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>chengtianww</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_89"><a class="anchor" href="#_other_extension_metadata_89"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-03-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ray Smith, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_89"><a class="anchor" href="#_description_89"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_EXT_headless_surface</code> extension is an instance extension.
It provides a mechanism to create <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> objects independently
of any window system or display device.
The presentation operation for a swapchain created from a headless surface
is by default a no-op, resulting in no externally-visible result.</p>
</div>
<div class="paragraph">
<p>Because there is no real presentation target, future extensions can layer on
top of the headless surface to introduce arbitrary or customisable sets of
restrictions or features.
These could include features like saving to a file or restrictions to
emulate a particular presentation target.</p>
</div>
<div class="paragraph">
<p>This functionality is expected to be useful for application and driver
development because it allows any platform to expose an arbitrary or
customisable set of restrictions and features of a presentation engine.
This makes it a useful portable test target for applications targeting a
wide range of presentation engines where the actual target presentation
engines might be scarce, unavailable or otherwise undesirable or
inconvenient to use for general Vulkan application development.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_52"><a class="anchor" href="#_new_commands_52"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateHeadlessSurfaceEXT" class="xref page">vkCreateHeadlessSurfaceEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_81"><a class="anchor" href="#_new_structures_81"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkHeadlessSurfaceCreateInfoEXT" class="xref page">VkHeadlessSurfaceCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_27"><a class="anchor" href="#_new_bitmasks_27"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkHeadlessSurfaceCreateFlagsEXT" class="xref page">VkHeadlessSurfaceCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_89"><a class="anchor" href="#_new_enum_constants_89"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_HEADLESS_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_HEADLESS_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_HEADLESS_SURFACE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_89"><a class="anchor" href="#_version_history_89"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-03-21 (Ray Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_host_image_copy"><a class="anchor" href="#VK_EXT_host_image_copy"></a>VK_EXT_host_image_copy</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_host_image_copy</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>271</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_copy_commands2">VK_KHR_copy_commands2</a><br>
and<br>
<a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_host_image_copy] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_host_image_copy extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_host_image_copy.adoc">VK_EXT_host_image_copy</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_90"><a class="anchor" href="#_other_extension_metadata_90"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-04-26</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_90"><a class="anchor" href="#_description_90"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to copy data between host memory and
images on the host processor, without staging the data through a
GPU-accessible buffer.
This removes the need to allocate and manage the buffer and its associated
memory.
On some architectures it may also eliminate an extra copy operation.
This extension additionally allows applications to copy data between images
on the host.</p>
</div>
<div class="paragraph">
<p>To support initializing a new image in preparation for a host copy, it is
now possible to transition a new image to <code>VK_IMAGE_LAYOUT_GENERAL</code> or
other host-copyable layouts via <a href="../chapters/synchronization.html#vkTransitionImageLayoutEXT" class="xref page">vkTransitionImageLayoutEXT</a>.
Additionally, it is possible to perform copies that preserve the swizzling
layout of the image by using the <code>VK_HOST_IMAGE_COPY_MEMCPY_EXT</code> flag.
In that case, the memory size needed for copies to or from a buffer can be
retrieved by chaining <a href="../chapters/resources.html#VkSubresourceHostMemcpySizeEXT" class="xref page">VkSubresourceHostMemcpySizeEXT</a> to <code>pLayout</code>
in <a href="../chapters/resources.html#vkGetImageSubresourceLayout2EXT" class="xref page">vkGetImageSubresourceLayout2EXT</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_53"><a class="anchor" href="#_new_commands_53"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#vkCopyImageToImageEXT" class="xref page">vkCopyImageToImageEXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCopyImageToMemoryEXT" class="xref page">vkCopyImageToMemoryEXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCopyMemoryToImageEXT" class="xref page">vkCopyMemoryToImageEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetImageSubresourceLayout2EXT" class="xref page">vkGetImageSubresourceLayout2EXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkTransitionImageLayoutEXT" class="xref page">vkTransitionImageLayoutEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_82"><a class="anchor" href="#_new_structures_82"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkCopyImageToImageInfoEXT" class="xref page">VkCopyImageToImageInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyImageToMemoryInfoEXT" class="xref page">VkCopyImageToMemoryInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyMemoryToImageInfoEXT" class="xref page">VkCopyMemoryToImageInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkHostImageLayoutTransitionInfoEXT" class="xref page">VkHostImageLayoutTransitionInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageSubresource2EXT" class="xref page">VkImageSubresource2EXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkImageToMemoryCopyEXT" class="xref page">VkImageToMemoryCopyEXT</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkMemoryToImageCopyEXT" class="xref page">VkMemoryToImageCopyEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkSubresourceLayout2EXT" class="xref page">VkSubresourceLayout2EXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkHostImageCopyDevicePerformanceQueryEXT" class="xref page">VkHostImageCopyDevicePerformanceQueryEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceHostImageCopyFeaturesEXT" class="xref page">VkPhysicalDeviceHostImageCopyFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceHostImageCopyPropertiesEXT" class="xref page">VkPhysicalDeviceHostImageCopyPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkSubresourceLayout2KHR" class="xref page">VkSubresourceLayout2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkSubresourceHostMemcpySizeEXT" class="xref page">VkSubresourceHostMemcpySizeEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_30"><a class="anchor" href="#_new_enums_30"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkHostImageCopyFlagBitsEXT" class="xref page">VkHostImageCopyFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_28"><a class="anchor" href="#_new_bitmasks_28"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkHostImageCopyFlagsEXT" class="xref page">VkHostImageCopyFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_90"><a class="anchor" href="#_new_enum_constants_90"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_HOST_IMAGE_COPY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_HOST_IMAGE_COPY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_HOST_IMAGE_TRANSFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_IMAGE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_MEMORY_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_IMAGE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_HOST_IMAGE_COPY_DEVICE_PERFORMANCE_QUERY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_HOST_IMAGE_LAYOUT_TRANSITION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_TO_MEMORY_COPY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_TO_IMAGE_COPY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_HOST_IMAGE_COPY_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_HOST_IMAGE_COPY_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBRESOURCE_HOST_MEMCPY_SIZE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_55"><a class="anchor" href="#_issues_55"></a>Issues</h3>
<div class="paragraph">
<p>1) When uploading data to an image, the data is usually loaded from disk.
Why not have the application load the data directly into a <code>VkDeviceMemory</code>
bound to a buffer (instead of host memory), and use
<a href="../chapters/copies.html#vkCmdCopyBufferToImage" class="xref page">vkCmdCopyBufferToImage</a>? The same could be done when downloading data
from an image.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This may not always be possible.
Complicated Vulkan applications such as game engines often have decoupled
subsystems for streaming data and rendering.
It may be unreasonable to require the streaming subsystem to coordinate with
the rendering subsystem to allocate memory on its behalf, especially as
Vulkan may not be the only API supported by the engine.
In emulation layers, the image data is necessarily provided by the
application in host memory, so an optimization as suggested is not possible.
Most importantly, the device memory may not be mappable by an application,
but still accessible to the driver.</p>
</div>
<div class="paragraph">
<p>2) Are <code>optimalBufferCopyOffsetAlignment</code> and
<code>optimalBufferCopyRowPitchAlignment</code> applicable to host memory as well with
the functions introduced by this extension? Or should there be new limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No alignment requirements for the host memory pointer.</p>
</div>
<div class="paragraph">
<p>3) Should there be granularity requirements for image offsets and extents?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No granularity requirements, i.e. a granularity of 1 pixel (for
non-compressed formats) and 1 texel block (for compressed formats) is
assumed.</p>
</div>
<div class="paragraph">
<p>4) How should the application deal with layout transitions before or after
copying to or from images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: An existing issue with linear images is that when emulating
other APIs, it is impossible to know when to transition them as they are
written to by the host and then used bindlessly.
The copy operations in this extension are affected by the same limitation.
A new command is thus introduced by this extension to address this problem
by allowing the host to perform an image layout transition between a handful
of layouts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_90"><a class="anchor" href="#_version_history_90"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2021-01-20 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial idea and xml</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-04-26 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_2d_view_of_3d"><a class="anchor" href="#VK_EXT_image_2d_view_of_3d"></a>VK_EXT_image_2d_view_of_3d</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_2d_view_of_3d</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>394</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_2d_view_of_3d] @zmike%0A*Here describe the issue or question you have about the VK_EXT_image_2d_view_of_3d extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zmike</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_91"><a class="anchor" href="#_other_extension_metadata_91"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-02-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Alex Walters, Imagination</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_91"><a class="anchor" href="#_description_91"></a>Description</h3>
<div class="paragraph">
<p>This extension allows a single slice of a 3D image to be used as a 2D view
in image descriptors, matching both the functionality of glBindImageTexture
in OpenGL with the <code>layer</code> parameter set to true and 2D view binding
provided by the extension EGL_KHR_gl_texture_3D_image.
It is primarily intended to support GL emulation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_83"><a class="anchor" href="#_new_structures_83"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImage2DViewOf3DFeaturesEXT" class="xref page">VkPhysicalDeviceImage2DViewOf3DFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_91"><a class="anchor" href="#_new_enum_constants_91"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_2D_VIEW_OF_3D_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_2D_VIEW_OF_3D_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_2D_VIEW_COMPATIBLE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_2D_VIEW_OF_3D_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_91"><a class="anchor" href="#_version_history_91"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-25 (Mike Blumenkrantz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_compression_control"><a class="anchor" href="#VK_EXT_image_compression_control"></a>VK_EXT_image_compression_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_compression_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>339</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_compression_control] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_image_compression_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_image_compression_control.adoc">VK_EXT_image_compression_control</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_92"><a class="anchor" href="#_other_extension_metadata_92"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Lisa Wu, Arm</p>
</li>
<li>
<p>Peter Kohaut, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_92"><a class="anchor" href="#_description_92"></a>Description</h3>
<div class="paragraph">
<p>This extension enables fixed-rate image compression and adds the ability to
control when this kind of compression can be applied.
Many implementations support some form of framebuffer compression.
This is typically transparent to applications as lossless compression
schemes are used.
With fixed-rate compression, the compression is done at a defined bitrate.
Such compression algorithms generally produce results that are visually
lossless, but the results are typically not bit-exact when compared to a
non-compressed result.
The implementation may not be able to use the requested compression rate in
all cases.
This extension adds a query that can be used to determine the compression
scheme and rate that was applied to an image.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_54"><a class="anchor" href="#_new_commands_54"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkGetImageSubresourceLayout2EXT" class="xref page">vkGetImageSubresourceLayout2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_84"><a class="anchor" href="#_new_structures_84"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageSubresource2EXT" class="xref page">VkImageSubresource2EXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkSubresourceLayout2EXT" class="xref page">VkSubresourceLayout2EXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>, <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionControlEXT" class="xref page">VkImageCompressionControlEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceFormat2KHR" class="xref page">VkSurfaceFormat2KHR</a>, <a href="../chapters/resources.html#VkSubresourceLayout2KHR" class="xref page">VkSubresourceLayout2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionPropertiesEXT" class="xref page">VkImageCompressionPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageCompressionControlFeaturesEXT" class="xref page">VkPhysicalDeviceImageCompressionControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_31"><a class="anchor" href="#_new_enums_31"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionFixedRateFlagBitsEXT" class="xref page">VkImageCompressionFixedRateFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionFlagBitsEXT" class="xref page">VkImageCompressionFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_29"><a class="anchor" href="#_new_bitmasks_29"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionFixedRateFlagsEXT" class="xref page">VkImageCompressionFixedRateFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageCompressionFlagsEXT" class="xref page">VkImageCompressionFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_92"><a class="anchor" href="#_new_enum_constants_92"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_COMPRESSION_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_COMPRESSION_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_COMPRESSION_EXHAUSTED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_COMPRESSION_CONTROL_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_COMPRESSION_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SUBRESOURCE_2_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_COMPRESSION_CONTROL_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBRESOURCE_LAYOUT_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_92"><a class="anchor" href="#_version_history_92"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-05-02 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_compression_control_swapchain"><a class="anchor" href="#VK_EXT_image_compression_control_swapchain"></a>VK_EXT_image_compression_control_swapchain</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_compression_control_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>438</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_image_compression_control">VK_EXT_image_compression_control</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_compression_control_swapchain] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_image_compression_control_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_93"><a class="anchor" href="#_other_extension_metadata_93"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Lisa Wu, Arm</p>
</li>
<li>
<p>Peter Kohaut, Arm</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_93"><a class="anchor" href="#_description_93"></a>Description</h3>
<div class="paragraph">
<p>This extension enables fixed-rate image compression and adds the ability to
control when this kind of compression can be applied to swapchain images.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_85"><a class="anchor" href="#_new_structures_85"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageCompressionControlSwapchainFeaturesEXT" class="xref page">VkPhysicalDeviceImageCompressionControlSwapchainFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_93"><a class="anchor" href="#_new_enum_constants_93"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_COMPRESSION_CONTROL_SWAPCHAIN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_COMPRESSION_CONTROL_SWAPCHAIN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_COMPRESSION_CONTROL_SWAPCHAIN_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_93"><a class="anchor" href="#_version_history_93"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-05-02 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_drm_format_modifier"><a class="anchor" href="#VK_EXT_image_drm_format_modifier"></a>VK_EXT_image_drm_format_modifier</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_drm_format_modifier</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>159</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a><br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; and<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; and<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.2" class="xref page">Version 1.2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_drm_format_modifier] @versalinyaa%0A*Here describe the issue or question you have about the VK_EXT_image_drm_format_modifier extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>versalinyaa</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_94"><a class="anchor" href="#_other_extension_metadata_94"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Bas Nieuwenhuizen, Google</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jőrg Wagner, ARM</p>
</li>
<li>
<p>Kristian Høgsberg Kristensen, Google</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_94"><a class="anchor" href="#_description_94"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the ability to use <em>DRM format modifiers</em> with
images, enabling Vulkan to better integrate with the Linux ecosystem of
graphics, video, and display APIs.</p>
</div>
<div class="paragraph">
<p>Its functionality closely overlaps with
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>
and
<code>EGL_MESA_image_dma_buf_export</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn3">3</a></sup>.
Unlike the EGL extensions, this extension does not require the use of a
specific handle type (such as a dma_buf) for external memory and provides
more explicit control of image creation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introduction_to_drm_format_modifiers"><a class="anchor" href="#_introduction_to_drm_format_modifiers"></a>Introduction to DRM Format Modifiers</h3>
<div class="paragraph">
<p>A <em>DRM format modifier</em> is a 64-bit, vendor-prefixed, semi-opaque unsigned
integer.
Most <em>modifiers</em> represent a concrete, vendor-specific tiling format for
images.
Some exceptions are <code>DRM_FORMAT_MOD_LINEAR</code> (which is not
vendor-specific); <code>DRM_FORMAT_MOD_NONE</code> (which is an alias of
<code>DRM_FORMAT_MOD_LINEAR</code> due to historical accident); and
<code>DRM_FORMAT_MOD_INVALID</code> (which does not represent a tiling format).
The <em>modifier&#8217;s</em> vendor prefix consists of the 8 most significant bits.
The canonical list of <em>modifiers</em> and vendor prefixes is found in
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_fourcc.h"><code>drm_fourcc.h</code></a>
in the Linux kernel source.
The other dominant source of <em>modifiers</em> are vendor kernel trees.</p>
</div>
<div class="paragraph">
<p>One goal of <em>modifiers</em> in the Linux ecosystem is to enumerate for each
vendor a reasonably sized set of tiling formats that are appropriate for
images shared across processes, APIs, and/or devices, where each
participating component may possibly be from different vendors.
A non-goal is to enumerate all tiling formats supported by all vendors.
Some tiling formats used internally by vendors are inappropriate for
sharing; no <em>modifiers</em> should be assigned to such tiling formats.</p>
</div>
<div class="paragraph">
<p>Modifier values typically do not <em>describe</em> memory layouts.
More precisely, a <em>modifier</em>'s lower 56 bits usually have no structure.
Instead, modifiers <em>name</em> memory layouts; they name a small set of
vendor-preferred layouts for image sharing.
As a consequence, in each vendor namespace the modifier values are often
sequentially allocated starting at 1.</p>
</div>
<div class="paragraph">
<p>Each <em>modifier</em> is usually supported by a single vendor and its name matches
the pattern <code>{VENDOR}_FORMAT_MOD_*</code> or <code>DRM_FORMAT_MOD_{VENDOR}_*</code>.
Examples are <code>I915_FORMAT_MOD_X_TILED</code> and
<code>DRM_FORMAT_MOD_BROADCOM_VC4_T_TILED</code>.
An exception is <code>DRM_FORMAT_MOD_LINEAR</code>, which is supported by most
vendors.</p>
</div>
<div class="paragraph">
<p>Many APIs in Linux use <em>modifiers</em> to negotiate and specify the memory
layout of shared images.
For example, a Wayland compositor and Wayland client may, by relaying
<em>modifiers</em> over the Wayland protocol <code>zwp_linux_dmabuf_v1</code>, negotiate a
vendor-specific tiling format for a shared <code>wl_buffer</code>.
The client may allocate the underlying memory for the <code>wl_buffer</code> with
GBM, providing the chosen <em>modifier</em> to <code>gbm_bo_create_with_modifiers</code>.
The client may then import the <code>wl_buffer</code> into Vulkan for producing
image content, providing the resource&#8217;s dma_buf to
<a href="../chapters/memory.html#VkImportMemoryFdInfoKHR" class="xref page">VkImportMemoryFdInfoKHR</a> and its <em>modifier</em> to
<a href="../chapters/resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>.
The compositor may then import the <code>wl_buffer</code> into OpenGL for sampling,
providing the resource&#8217;s dma_buf and <em>modifier</em> to <code>eglCreateImage</code>.
The compositor may also bypass OpenGL and submit the <code>wl_buffer</code> directly
to the kernel&#8217;s display API, providing the dma_buf and <em>modifier</em> through
<code>drm_mode_fb_cmd2</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_format_translation"><a class="anchor" href="#_format_translation"></a>Format Translation</h3>
<div class="paragraph">
<p><em>Modifier</em>-capable APIs often pair <em>modifiers</em> with DRM formats, which are
defined in
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_fourcc.h"><code>drm_fourcc.h</code></a>.
However, <code>VK_EXT_image_drm_format_modifier</code> uses <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> instead of
DRM formats.
The application must convert between <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> and DRM format when it
sends or receives a DRM format to or from an external API.</p>
</div>
<div class="paragraph">
<p>The mapping from <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> to DRM format is lossy.
Therefore, when receiving a DRM format from an external API, often the
application must use information from the external API to accurately map the
DRM format to a <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>.
For example, DRM formats do not distinguish between RGB and sRGB (as of
2018-03-28); external information is required to identify the image&#8217;s color
space.</p>
</div>
<div class="paragraph">
<p>The mapping between <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> and DRM format is also incomplete.
For some DRM formats there exist no corresponding Vulkan format, and for
some Vulkan formats there exist no corresponding DRM format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_usage_patterns"><a class="anchor" href="#_usage_patterns"></a>Usage Patterns</h3>
<div class="paragraph">
<p>Three primary usage patterns are intended for this extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Negotiation.</strong> The application negotiates with <em>modifier</em>-aware,
external components to determine sets of image creation parameters
supported among all components.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In the Linux ecosystem, the negotiation usually assumes the image is a 2D,
single-sampled, non-mipmapped, non-array image; this extension permits that
assumption but does not require it.
The result of the negotiation usually resembles a set of tuples such as
<em>(drmFormat, drmFormatModifier)</em>, where each participating component
supports all tuples in the set.</p>
</div>
<div class="paragraph">
<p>Many details of this negotiation - such as the protocol used during
negotiation, the set of image creation parameters expressible in the
protocol, and how the protocol chooses which process and which API will
create the image - are outside the scope of this specification.</p>
</div>
<div class="paragraph">
<p>In this extension, <a href="../chapters/formats.html#vkGetPhysicalDeviceFormatProperties2" class="xref page">vkGetPhysicalDeviceFormatProperties2</a> with
<a href="../chapters/formats.html#VkDrmFormatModifierPropertiesListEXT" class="xref page">VkDrmFormatModifierPropertiesListEXT</a> serves a primary role during the
negotiation, and <a href="../chapters/capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a> with
<a href="../chapters/capabilities.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT" class="xref page">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a> serves a secondary role.</p>
</div>
</div>
</div>
</li>
<li>
<p><strong>Import.</strong> The application imports an image with a <em>modifier</em>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In this pattern, the application receives from an external source the
image&#8217;s memory and its creation parameters, which are often the result of
the negotiation described above.
Some image creation parameters are implicitly defined by the external
source; for example, <code>VK_IMAGE_TYPE_2D</code> is often assumed.
Some image creation parameters are usually explicit, such as the image&#8217;s
<code>format</code>, <code>drmFormatModifier</code>, and <code>extent</code>; and each plane&#8217;s
<code>offset</code> and <code>rowPitch</code>.</p>
</div>
<div class="paragraph">
<p>Before creating the image, the application first verifies that the physical
device supports the received creation parameters by querying
<a href="../chapters/formats.html#vkGetPhysicalDeviceFormatProperties2" class="xref page">vkGetPhysicalDeviceFormatProperties2</a> with
<a href="../chapters/formats.html#VkDrmFormatModifierPropertiesListEXT" class="xref page">VkDrmFormatModifierPropertiesListEXT</a> and
<a href="../chapters/capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a> with
<a href="../chapters/capabilities.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT" class="xref page">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a>.
Then the application creates the image by chaining
<a href="../chapters/resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a> and
<a href="../chapters/resources.html#VkExternalMemoryImageCreateInfo" class="xref page">VkExternalMemoryImageCreateInfo</a> onto <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>.</p>
</div>
</div>
</div>
</li>
<li>
<p><strong>Export.</strong> The application creates an image and allocates its memory.
Then the application exports to <em>modifier</em>-aware consumers the image&#8217;s
memory handles; its creation parameters; its <em>modifier</em>; and the
<a href="../chapters/resources.html#VkSubresourceLayout" class="xref page"><code>offset</code></a>,
<a href="../chapters/resources.html#VkSubresourceLayout" class="xref page"><code>size</code></a>, and
<a href="../chapters/resources.html#VkSubresourceLayout" class="xref page"><code>rowPitch</code></a> of each <em>memory plane</em>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In this pattern, the Vulkan device is the authority for the image; it is the
allocator of the image&#8217;s memory and the decider of the image&#8217;s creation
parameters.
When choosing the image&#8217;s creation parameters, the application usually
chooses a tuple <em>(format, drmFormatModifier)</em> from the result of the
negotiation described above.
The negotiation&#8217;s result often contains multiple tuples that share the same
format but differ in their <em>modifier</em>.
In this case, the application should defer the choice of the image&#8217;s
<em>modifier</em> to the Vulkan implementation by providing all such <em>modifiers</em> to
<a href="../chapters/resources.html#VkImageDrmFormatModifierListCreateInfoEXT" class="xref page">VkImageDrmFormatModifierListCreateInfoEXT</a>::<code>pDrmFormatModifiers</code>;
and the implementation should choose from <code>pDrmFormatModifiers</code> the
optimal <em>modifier</em> in consideration with the other image parameters.</p>
</div>
<div class="paragraph">
<p>The application creates the image by chaining
<a href="../chapters/resources.html#VkImageDrmFormatModifierListCreateInfoEXT" class="xref page">VkImageDrmFormatModifierListCreateInfoEXT</a> and
<a href="../chapters/resources.html#VkExternalMemoryImageCreateInfo" class="xref page">VkExternalMemoryImageCreateInfo</a> onto <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>.
The protocol and APIs by which the application will share the image with
external consumers will likely determine the value of
<a href="../chapters/resources.html#VkExternalMemoryImageCreateInfo" class="xref page">VkExternalMemoryImageCreateInfo</a>::<code>handleTypes</code>.
The implementation chooses for the image an optimal <em>modifier</em> from
<a href="../chapters/resources.html#VkImageDrmFormatModifierListCreateInfoEXT" class="xref page">VkImageDrmFormatModifierListCreateInfoEXT</a>::<code>pDrmFormatModifiers</code>.
The application then queries the implementation-chosen <em>modifier</em> with
<a href="../chapters/resources.html#vkGetImageDrmFormatModifierPropertiesEXT" class="xref page">vkGetImageDrmFormatModifierPropertiesEXT</a>, and queries the memory
layout of each plane with <a href="../chapters/resources.html#vkGetImageSubresourceLayout" class="xref page">vkGetImageSubresourceLayout</a>.</p>
</div>
<div class="paragraph">
<p>The application then allocates the image&#8217;s memory with
<a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>, adding chained extending structures for external
memory; binds it to the image; and exports the memory, for example, with
<a href="../chapters/memory.html#vkGetMemoryFdKHR" class="xref page">vkGetMemoryFdKHR</a>.</p>
</div>
<div class="paragraph">
<p>Finally, the application sends the image&#8217;s creation parameters, its
<em>modifier</em>, its per-plane memory layout, and the exported memory handle to
the external consumers.
The details of how the application transmits this information to external
consumers is outside the scope of this specification.</p>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prior_art"><a class="anchor" href="#_prior_art"></a>Prior Art</h3>
<div class="paragraph">
<p>Extension
<code>EGL_EXT_image_dma_buf_import</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn1">1</a></sup>
introduced the ability to create an <code>EGLImage</code> by importing for each
plane a dma_buf, offset, and row pitch.</p>
</div>
<div class="paragraph">
<p>Later, extension
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>
introduced the ability to query which combination of formats and <em>modifiers</em>
the implementation supports and to specify <em>modifiers</em> during creation of
the <code>EGLImage</code>.</p>
</div>
<div class="paragraph">
<p>Extension
<code>EGL_MESA_image_dma_buf_export</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn3">3</a></sup>
is the inverse of <code>EGL_EXT_image_dma_buf_import_modifiers</code>.</p>
</div>
<div class="paragraph">
<p>The Linux kernel modesetting API (KMS), when configuring the display&#8217;s
framebuffer with <code>struct
drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, allows one to
specify the framebuffer&#8217;s <em>modifier</em> as well as a per-plane memory handle,
offset, and row pitch.</p>
</div>
<div class="paragraph">
<p>GBM, a graphics buffer manager for Linux, allows creation of a <code>gbm_bo</code>
(that is, a graphics <em>buffer object</em>) by importing data similar to that in
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn1">1</a></sup>;
and symmetrically allows exporting the same data from the <code>gbm_bo</code>.
See the references to <em>modifier</em> and <em>plane</em> in
<code>gbm.h</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_55"><a class="anchor" href="#_new_commands_55"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkGetImageDrmFormatModifierPropertiesEXT" class="xref page">vkGetImageDrmFormatModifierPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_86"><a class="anchor" href="#_new_structures_86"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkDrmFormatModifierPropertiesEXT" class="xref page">VkDrmFormatModifierPropertiesEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageDrmFormatModifierPropertiesEXT" class="xref page">VkImageDrmFormatModifierPropertiesEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatProperties2" class="xref page">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkDrmFormatModifierPropertiesListEXT" class="xref page">VkDrmFormatModifierPropertiesListEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageDrmFormatModifierListCreateInfoEXT" class="xref page">VkImageDrmFormatModifierListCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT" class="xref page">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkDrmFormatModifierProperties2EXT" class="xref page">VkDrmFormatModifierProperties2EXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatProperties2" class="xref page">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkDrmFormatModifierPropertiesList2EXT" class="xref page">VkDrmFormatModifierPropertiesList2EXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_94"><a class="anchor" href="#_new_enum_constants_94"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_DRM_FORMAT_MODIFIER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_DRM_FORMAT_MODIFIER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageAspectFlagBits" class="xref page">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_0_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_1_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_2_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_3_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageTiling" class="xref page">VkImageTiling</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DRM_FORMAT_MODIFIER_PROPERTIES_LIST_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_EXPLICIT_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_LIST_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_DRM_FORMAT_MODIFIER_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DRM_FORMAT_MODIFIER_PROPERTIES_LIST_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_56"><a class="anchor" href="#_issues_56"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension define a single DRM format modifier per
<code>VkImage</code>? Or define one per plane?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: There exists a single DRM format modifier per <code>VkImage</code>.</p>
</div>
<div class="paragraph">
<p><strong>DISCUSSION</strong>: Prior art, such as
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>,
<code>struct drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, and
<code>struct
gbm_import_fd_modifier_data</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>,
allows defining one <em>modifier</em> per plane.
However, developers of the GBM and kernel APIs concede it was a mistake.
Beginning in Linux 4.10, the kernel requires that the application provide
the same DRM format <em>modifier</em> for each plane.
(See Linux commit
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=bae781b259269590109e8a4a8227331362b88212">bae781b259269590109e8a4a8227331362b88212</a>).
And GBM provides an entry point, <code>gbm_bo_get_modifier</code>, for querying the
<em>modifier</em> of the image but does not provide one to query the modifier of
individual planes.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>2) When creating an image with
<a href="../chapters/resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>, which is typically used
when <em>importing</em> an image, should the application explicitly provide the
size of each plane?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The application <strong>must</strong> not provide the size.
To enforce this, the API requires that
<a href="../chapters/resources.html#VkImageDrmFormatModifierExplicitCreateInfoEXT" class="xref page">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>::<code>pPlaneLayouts-&gt;size</code>
<strong>must</strong> be 0.</p>
</div>
<div class="paragraph">
<p><strong>DISCUSSION</strong>: Prior art, such as
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>,
<code>struct drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, and
<code>struct
gbm_import_fd_modifier_data</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>,
omits from the API the size of each plane.
Instead, the APIs infer each plane&#8217;s size from the import parameters, which
include the image&#8217;s pixel format and a dma_buf, offset, and row pitch for
each plane.</p>
</div>
<div class="paragraph">
<p>However, Vulkan differs from EGL and GBM with regards to image creation in
the following ways:</p>
</div>
<div class="ulist">
<div class="title">Differences in Image Creation</div>
<ul>
<li>
<p><strong>Undedicated allocation by default.</strong> When importing or exporting a set
of dma_bufs as an <code>EGLImage</code> or <code>gbm_bo</code>, common practice mandates
that each dma_buf&#8217;s memory be dedicated (in the sense of
<code>VK_KHR_dedicated_allocation</code>) to the image (though not necessarily
dedicated to a single plane).
In particular, neither the GBM documentation nor the EGL extension
specifications explicitly state this requirement, but in light of common
practice this is likely due to under-specification rather than
intentional omission.
In contrast, <code>VK_EXT_image_drm_format_modifier</code> permits, but does not
require, the implementation to require dedicated allocations for images
created with <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code>.</p>
</li>
<li>
<p><strong>Separation of image creation and memory allocation.</strong> When importing a
set of dma_bufs as an <code>EGLImage</code> or <code>gbm_bo</code>, EGL and GBM create
the image resource and bind it to memory (the dma_bufs) simultaneously.
This allows EGL and GBM to query each dma_buf&#8217;s size during image
creation.
In Vulkan, image creation and memory allocation are independent unless a
dedicated allocation is used (as in <code>VK_KHR_dedicated_allocation</code>).
Therefore, without requiring dedicated allocation, Vulkan cannot query
the size of each dma_buf (or other external handle) when calculating the
image&#8217;s memory layout.
Even if dedication allocation were required, Vulkan cannot calculate the
image&#8217;s memory layout until after the image is bound to its dma_ufs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above differences complicate the potential inference of plane size in
Vulkan.
Consider the following problematic cases:</p>
</div>
<div class="ulist">
<div class="title">Problematic Plane Size Calculations</div>
<ul>
<li>
<p><strong>Padding.</strong> Some plane of the image may require implementation-dependent
padding.</p>
</li>
<li>
<p><strong>Metadata.</strong> For some <em>modifiers</em>, the image may have a metadata plane
which requires a non-trivial calculation to determine its size.</p>
</li>
<li>
<p><strong>Mipmapped, array, and 3D images.</strong> The implementation may support
<code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code> for images whose
<code>mipLevels</code>, <code>arrayLayers</code>, or <code>depth</code> is greater than 1.
For such images with certain <em>modifiers</em>, the calculation of each
plane&#8217;s size may be non-trivial.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, an application-provided plane size solves none of the above
problems.</p>
</div>
<div class="paragraph">
<p>For simplicity, consider an external image with a single memory plane.
The implementation is obviously capable calculating the image&#8217;s size when
its tiling is <code>VK_IMAGE_TILING_OPTIMAL</code>.
Likewise, any reasonable implementation is capable of calculating the
image&#8217;s size when its tiling uses a supported <em>modifier</em>.</p>
</div>
<div class="paragraph">
<p>Suppose that the external image&#8217;s size is smaller than the
implementation-calculated size.
If the application provided the external image&#8217;s size to
<a href="../chapters/resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, the implementation would observe the mismatched size
and recognize its inability to comprehend the external image&#8217;s layout
(unless the implementation used the application-provided size to select a
refinement of the tiling layout indicated by the <em>modifier</em>, which is
strongly discouraged).
The implementation would observe the conflict, and reject image creation
with <code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code>.
On the other hand, if the application did not provide the external image&#8217;s
size to <a href="../chapters/resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then the application would observe after
calling <a href="../chapters/resources.html#vkGetImageMemoryRequirements" class="xref page">vkGetImageMemoryRequirements</a> that the external image&#8217;s size is
less than the size required by the implementation.
The application would observe the conflict and refuse to bind the
<code>VkImage</code> to the external memory.
In both cases, the result is explicit failure.</p>
</div>
<div class="paragraph">
<p>Suppose that the external image&#8217;s size is larger than the
implementation-calculated size.
If the application provided the external image&#8217;s size to
<a href="../chapters/resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, for reasons similar to above the implementation would
observe the mismatched size and recognize its inability to comprehend the
image data residing in the extra size.
The implementation, however, must assume that image data resides in the
entire size provided by the application.
The implementation would observe the conflict and reject image creation with
<code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code>.
On the other hand, if the application did not provide the external image&#8217;s
size to <a href="../chapters/resources.html#vkCreateImage" class="xref page">vkCreateImage</a>, then the application would observe after
calling <a href="../chapters/resources.html#vkGetImageMemoryRequirements" class="xref page">vkGetImageMemoryRequirements</a> that the external image&#8217;s size is
larger than the implementation-usable size.
The application would observe the conflict and refuse to bind the
<code>VkImage</code> to the external memory.
In both cases, the result is explicit failure.</p>
</div>
<div class="paragraph">
<p>Therefore, an application-provided size provides no benefit, and this
extension should not require it.
This decision renders <a href="../chapters/resources.html#VkSubresourceLayout" class="xref page">VkSubresourceLayout</a>::<code>size</code> an unused field
during image creation, and thus introduces a risk that implementations may
require applications to submit sideband creation parameters in the unused
field.
To prevent implementations from relying on sideband data, this extension
<em>requires</em> the application to set <code>size</code> to 0.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_references"><a class="anchor" href="#_references"></a>References</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn1"></a>
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt"><code>EGL_EXT_image_dma_buf_import</code></a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn2"></a>
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt"><code>EGL_EXT_image_dma_buf_import_modifiers</code></a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn3"></a>
<a href="https://registry.khronos.org/EGL/extensions/MESA/EGL_MESA_image_dma_buf_export.txt"><code>EGL_MESA_image_dma_buf_export</code></a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn4"></a>
<a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_mode.h?id=refs/tags/v4.10#n392"><code>struct
drm_mode_fb_cmd2</code></a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn5"></a>
<a href="https://cgit.freedesktop.org/mesa/mesa/tree/src/gbm/main/gbm.h?id=refs/tags/mesa-18.0.0-rc1"><code>gbm.h</code></a></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_94"><a class="anchor" href="#_version_history_94"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-29 (Lina Versace)</p>
<div class="ulist">
<ul>
<li>
<p>First stable revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_sliced_view_of_3d"><a class="anchor" href="#VK_EXT_image_sliced_view_of_3d"></a>VK_EXT_image_sliced_view_of_3d</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_sliced_view_of_3d</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>419</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_sliced_view_of_3d] @zmike%0A*Here describe the issue or question you have about the VK_EXT_image_sliced_view_of_3d extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zmike</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_image_sliced_view_of_3d.adoc">VK_EXT_image_sliced_view_of_3d</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_95"><a class="anchor" href="#_other_extension_metadata_95"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_95"><a class="anchor" href="#_description_95"></a>Description</h3>
<div class="paragraph">
<p>This extension allows creating 3D views of 3D images such that the views
contain a subset of the slices in the image, using a Z offset and range, for
the purpose of using the views as storage image descriptors.
This matches functionality in D3D12 and is primarily intended to support
D3D12 emulation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_87"><a class="anchor" href="#_new_structures_87"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewSlicedCreateInfoEXT" class="xref page">VkImageViewSlicedCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageSlicedViewOf3DFeaturesEXT" class="xref page">VkPhysicalDeviceImageSlicedViewOf3DFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_95"><a class="anchor" href="#_new_enum_constants_95"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_SLICED_VIEW_OF_3D_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_SLICED_VIEW_OF_3D_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_REMAINING_3D_SLICES_EXT</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_SLICED_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_SLICED_VIEW_OF_3D_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_95"><a class="anchor" href="#_version_history_95"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-10-21 (Mike Blumenkrantz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_view_min_lod"><a class="anchor" href="#VK_EXT_image_view_min_lod"></a>VK_EXT_image_view_min_lod</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_view_min_lod</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>392</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_view_min_lod] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_image_view_min_lod extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_96"><a class="anchor" href="#_other_extension_metadata_96"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-11-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Samuel Iglesias Gonsalvez, Igalia</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_96"><a class="anchor" href="#_description_96"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to clamp the minimum LOD value during
<a href="../chapters/textures.html#textures-image-level-selection" class="xref page">Image Level(s) Selection</a>,
<a href="../chapters/textures.html#textures-gather" class="xref page">Texel Gathering</a> and
<a href="../chapters/textures.html#textures-integer-coordinate-operations" class="xref page">Integer Texel CoordinateOperations</a> with a given <a href="../chapters/resources.html#VkImageView" class="xref page">VkImageView</a> by
<a href="../chapters/resources.html#VkImageViewMinLodCreateInfoEXT" class="xref page">VkImageViewMinLodCreateInfoEXT</a>::<code>minLod</code>.</p>
</div>
<div class="paragraph">
<p>This extension may be useful to restrict a <a href="../chapters/resources.html#VkImageView" class="xref page">VkImageView</a> to only mips
which have been uploaded, and the use of fractional <code>minLod</code> can be
useful for smoothly introducing new mip levels when using linear mipmap
filtering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_88"><a class="anchor" href="#_new_structures_88"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewMinLodCreateInfoEXT" class="xref page">VkImageViewMinLodCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageViewMinLodFeaturesEXT" class="xref page">VkPhysicalDeviceImageViewMinLodFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_96"><a class="anchor" href="#_new_enum_constants_96"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_VIEW_MIN_LOD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_VIEW_MIN_LOD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_MIN_LOD_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_VIEW_MIN_LOD_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_96"><a class="anchor" href="#_version_history_96"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-07-06 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_index_type_uint8"><a class="anchor" href="#VK_EXT_index_type_uint8"></a>VK_EXT_index_type_uint8</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_index_type_uint8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>266</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_index_type_uint8] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_index_type_uint8 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_97"><a class="anchor" href="#_other_extension_metadata_97"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_97"><a class="anchor" href="#_description_97"></a>Description</h3>
<div class="paragraph">
<p>This extension allows <code>uint8_t</code> indices to be used with
<a href="../chapters/drawing.html#vkCmdBindIndexBuffer" class="xref page">vkCmdBindIndexBuffer</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_89"><a class="anchor" href="#_new_structures_89"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceIndexTypeUint8FeaturesEXT" class="xref page">VkPhysicalDeviceIndexTypeUint8FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_97"><a class="anchor" href="#_new_enum_constants_97"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_INDEX_TYPE_UINT8_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_INDEX_TYPE_UINT8_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/drawing.html#VkIndexType" class="xref page">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_UINT8_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INDEX_TYPE_UINT8_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_97"><a class="anchor" href="#_version_history_97"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-02 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_legacy_dithering"><a class="anchor" href="#VK_EXT_legacy_dithering"></a>VK_EXT_legacy_dithering</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_legacy_dithering</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>466</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_legacy_dithering] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_legacy_dithering extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_legacy_dithering.adoc">VK_EXT_legacy_dithering</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_98"><a class="anchor" href="#_other_extension_metadata_98"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-03-31</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_98"><a class="anchor" href="#_description_98"></a>Description</h3>
<div class="paragraph">
<p>This extension exposes a hardware feature used by some vendors to implement
OpenGL&#8217;s dithering.
The purpose of this extension is to support layering OpenGL over Vulkan, by
allowing the layer to take advantage of the same hardware feature and
provide equivalent dithering to OpenGL applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_90"><a class="anchor" href="#_new_structures_90"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceLegacyDitheringFeaturesEXT" class="xref page">VkPhysicalDeviceLegacyDitheringFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_98"><a class="anchor" href="#_new_enum_constants_98"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_LEGACY_DITHERING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_LEGACY_DITHERING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LEGACY_DITHERING_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescriptionFlagBits" class="xref page">VkSubpassDescriptionFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_ENABLE_LEGACY_DITHERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderingFlagBits" class="xref page">VkRenderingFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.3" class="xref page">Version 1.3</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderingFlagBits" class="xref page">VkRenderingFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_98"><a class="anchor" href="#_version_history_98"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-31 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_57"><a class="anchor" href="#_issues_57"></a>Issues</h3>
<div class="paragraph">
<p>1) In OpenGL, the dither state can change dynamically.
Should this extension add a pipeline state for dither?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Changing dither state is rarely, if ever, done during rendering.
Every surveyed Android application either entirely disables dither,
explicitly enables it, or uses the default state (which is enabled).
Additionally, on some hardware dither can only be specified in a render pass
granularity, so a change in dither state would necessarily need to cause a
render pass break.
This extension considers dynamic changes in OpenGL dither state a
theoretical situation, and expects the layer to break the render pass in
such a situation without any practical downsides.</p>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_line_rasterization"><a class="anchor" href="#VK_EXT_line_rasterization"></a>VK_EXT_line_rasterization</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_line_rasterization</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>260</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">CAD support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_line_rasterization] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_line_rasterization extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_99"><a class="anchor" href="#_other_extension_metadata_99"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Allen Jensen, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_99"><a class="anchor" href="#_description_99"></a>Description</h3>
<div class="paragraph">
<p>This extension adds some line rasterization features that are commonly used
in CAD applications and supported in other APIs like OpenGL.
Bresenham-style line rasterization is supported, smooth rectangular lines
(coverage to alpha) are supported, and stippled lines are supported for all
three line rasterization modes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_56"><a class="anchor" href="#_new_commands_56"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetLineStippleEXT" class="xref page">vkCmdSetLineStippleEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_91"><a class="anchor" href="#_new_structures_91"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceLineRasterizationFeaturesEXT" class="xref page">VkPhysicalDeviceLineRasterizationFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceLineRasterizationPropertiesEXT" class="xref page">VkPhysicalDeviceLineRasterizationPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationLineStateCreateInfoEXT" class="xref page">VkPipelineRasterizationLineStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_32"><a class="anchor" href="#_new_enums_32"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkLineRasterizationModeEXT" class="xref page">VkLineRasterizationModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_99"><a class="anchor" href="#_new_enum_constants_99"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_LINE_RASTERIZATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_LINE_RASTERIZATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_STIPPLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LINE_RASTERIZATION_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LINE_RASTERIZATION_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_LINE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_58"><a class="anchor" href="#_issues_58"></a>Issues</h3>
<div class="paragraph">
<p>1) Do we need to support Bresenham-style and smooth lines with more than one
rasterization sample? i.e. the equivalent of glDisable(GL_MULTISAMPLE) in
OpenGL when the framebuffer has more than one sample?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
For simplicity, Bresenham line rasterization carries forward a few
restrictions from OpenGL, such as not supporting per-sample shading, alpha
to coverage, or alpha to one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_99"><a class="anchor" href="#_version_history_99"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-09 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_load_store_op_none"><a class="anchor" href="#VK_EXT_load_store_op_none"></a>VK_EXT_load_store_op_none</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_load_store_op_none</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>401</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_load_store_op_none] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_load_store_op_none extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_100"><a class="anchor" href="#_other_extension_metadata_100"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-06</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_100"><a class="anchor" href="#_description_100"></a>Description</h3>
<div class="paragraph">
<p>This extension incorporates <code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code> from
<code><a href="#VK_QCOM_render_pass_store_ops">VK_QCOM_render_pass_store_ops</a></code>, enabling applications to avoid
unnecessary synchronization when an attachment is not written during a
render pass.</p>
</div>
<div class="paragraph">
<p>Additionally, <code>VK_ATTACHMENT_LOAD_OP_NONE_EXT</code> is introduced to avoid
unnecessary synchronization when an attachment is not used during a render
pass at all.
In combination with <code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code>, this is useful as
an alternative to preserve attachments in applications that cannot decide if
an attachment will be used in a render pass until after the necessary
pipelines have been created.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_100"><a class="anchor" href="#_new_enum_constants_100"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_LOAD_STORE_OP_NONE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_LOAD_STORE_OP_NONE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentLoadOp" class="xref page">VkAttachmentLoadOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_NONE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_100"><a class="anchor" href="#_version_history_100"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-06 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision, based on VK_QCOM_render_pass_store_ops.</p>
</li>
<li>
<p>Added VK_ATTACHMENT_LOAD_OP_NONE_EXT.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_memory_budget"><a class="anchor" href="#VK_EXT_memory_budget"></a>VK_EXT_memory_budget</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_memory_budget</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>238</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_memory_budget] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_memory_budget extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_101"><a class="anchor" href="#_other_extension_metadata_101"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-08</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_101"><a class="anchor" href="#_description_101"></a>Description</h3>
<div class="paragraph">
<p>While running a Vulkan application, other processes on the machine might
also be attempting to use the same device memory, which can pose problems.
This extension adds support for querying the amount of memory used and the
total memory budget for a memory heap.
The values returned by this query are implementation-dependent and can
depend on a variety of factors including operating system and system load.</p>
</div>
<div class="paragraph">
<p>The <a href="../chapters/memory.html#VkPhysicalDeviceMemoryBudgetPropertiesEXT" class="xref page">VkPhysicalDeviceMemoryBudgetPropertiesEXT</a>::<code>heapBudget</code> values
can be used as a guideline for how much total memory from each heap the
<strong>current process</strong> can use at any given time, before allocations may start
failing or causing performance degradation.
The values may change based on other activity in the system that is outside
the scope and control of the Vulkan implementation.</p>
</div>
<div class="paragraph">
<p>The <a href="../chapters/memory.html#VkPhysicalDeviceMemoryBudgetPropertiesEXT" class="xref page">VkPhysicalDeviceMemoryBudgetPropertiesEXT</a>::<code>heapUsage</code> will
display the <strong>current process</strong> estimated heap usage.</p>
</div>
<div class="paragraph">
<p>With this information, the idea is for an application at some interval (once
per frame, per few seconds, etc) to query <code>heapBudget</code> and
<code>heapUsage</code>.
From here the application can notice if it is over budget and decide how it
wants to handle the memory situation (free it, move to host memory, changing
mipmap levels, etc).
This extension is designed to be used in concert with
<code><a href="#VK_EXT_memory_priority">VK_EXT_memory_priority</a></code> to help with this part of memory management.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_92"><a class="anchor" href="#_new_structures_92"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/memory.html#VkPhysicalDeviceMemoryProperties2" class="xref page">VkPhysicalDeviceMemoryProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkPhysicalDeviceMemoryBudgetPropertiesEXT" class="xref page">VkPhysicalDeviceMemoryBudgetPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_101"><a class="anchor" href="#_new_enum_constants_101"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MEMORY_BUDGET_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MEMORY_BUDGET_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_BUDGET_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_101"><a class="anchor" href="#_version_history_101"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-08 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_memory_priority"><a class="anchor" href="#VK_EXT_memory_priority"></a>VK_EXT_memory_priority</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_memory_priority</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>239</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_memory_priority] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_memory_priority extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_102"><a class="anchor" href="#_other_extension_metadata_102"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-08</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_102"><a class="anchor" href="#_description_102"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a <code>priority</code> value specified at memory allocation
time.
On some systems with both device-local and non-device-local memory heaps,
the implementation may transparently move memory from one heap to another
when a heap becomes full (for example, when the total memory used across all
processes exceeds the size of the heap).
In such a case, this priority value may be used to determine which
allocations are more likely to remain in device-local memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_93"><a class="anchor" href="#_new_structures_93"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryPriorityAllocateInfoEXT" class="xref page">VkMemoryPriorityAllocateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMemoryPriorityFeaturesEXT" class="xref page">VkPhysicalDeviceMemoryPriorityFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_102"><a class="anchor" href="#_new_enum_constants_102"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MEMORY_PRIORITY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MEMORY_PRIORITY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_PRIORITY_ALLOCATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PRIORITY_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_102"><a class="anchor" href="#_version_history_102"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-08 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_mesh_shader"><a class="anchor" href="#VK_EXT_mesh_shader"></a>VK_EXT_mesh_shader</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_mesh_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>329</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_mesh_shader] @pixeljetstream%0A*Here describe the issue or question you have about the VK_EXT_mesh_shader extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_mesh_shader.adoc">VK_EXT_mesh_shader</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_103"><a class="anchor" href="#_other_extension_metadata_103"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-01-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_mesh_shader.html"><code>SPV_EXT_mesh_shader</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_mesh_shader.txt"><code>GLSL_EXT_mesh_shader</code></a></p>
</li>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>Patrick Mours, NVIDIA</p>
</li>
<li>
<p>David Zhao Akeley, NVIDIA</p>
</li>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
<li>
<p>Timur Kristóf, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Philip Rebohle, Valve</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Michal Pietrasiuk, Intel</p>
</li>
<li>
<p>Mariusz Merecki, Intel</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Sandeep Kakarlapudi, ARM</p>
</li>
<li>
<p>Ruihao Zhang, QUALCOMM</p>
</li>
<li>
<p>Ricardo Garcia, Igalia, S.L.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_103"><a class="anchor" href="#_description_103"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new mechanism allowing applications to generate
collections of geometric primitives via programmable mesh shading.
It is an alternative to the existing programmable primitive shading
pipeline, which relied on generating input primitives by a fixed function
assembler as well as fixed function vertex fetch.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for the following SPIR-V extension in
Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_mesh_shader.html"><code>SPV_EXT_mesh_shader</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_57"><a class="anchor" href="#_new_commands_57"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksEXT" class="xref page">vkCmdDrawMeshTasksEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksIndirectCountEXT" class="xref page">vkCmdDrawMeshTasksIndirectCountEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksIndirectEXT" class="xref page">vkCmdDrawMeshTasksIndirectEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_94"><a class="anchor" href="#_new_structures_94"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkDrawMeshTasksIndirectCommandEXT" class="xref page">VkDrawMeshTasksIndirectCommandEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMeshShaderFeaturesEXT" class="xref page">VkPhysicalDeviceMeshShaderFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMeshShaderPropertiesEXT" class="xref page">VkPhysicalDeviceMeshShaderPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_103"><a class="anchor" href="#_new_enum_constants_103"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MESH_SHADER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MESH_SHADER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_MESH_SHADER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TASK_SHADER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPipelineStatisticFlagBits" class="xref page">VkQueryPipelineStatisticFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_MESH_SHADER_INVOCATIONS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_TASK_SHADER_INVOCATIONS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_MESH_PRIMITIVES_GENERATED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_MESH_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TASK_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_generated_commands">VK_NV_device_generated_commands</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsTokenTypeNV" class="xref page">VkIndirectCommandsTokenTypeNV</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DRAW_MESH_TASKS_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_3"><a class="anchor" href="#_new_or_modified_built_in_variables_3"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-cullprimitive" class="xref page">CullPrimitiveEXT</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-primitivepointindices" class="xref page">PrimitivePointIndicesEXT</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-primitivelineindices" class="xref page">PrimitiveLineIndicesEXT</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-primitivetriangleindices" class="xref page">PrimitiveTriangleIndicesEXT</a></p>
</li>
<li>
<p>(modified)<code>Position</code></p>
</li>
<li>
<p>(modified)<code>PointSize</code></p>
</li>
<li>
<p>(modified)<code>ClipDistance</code></p>
</li>
<li>
<p>(modified)<code>CullDistance</code></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
<li>
<p>(modified)<code>Layer</code></p>
</li>
<li>
<p>(modified)<code>ViewportIndex</code></p>
</li>
<li>
<p>(modified)<code>NumWorkgroups</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupSize</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>GlobalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationIndex</code></p>
</li>
<li>
<p>(modified)<code>NumSubgroups</code></p>
</li>
<li>
<p>(modified)<code>SubgroupId</code></p>
</li>
<li>
<p>(modified)<code>DrawIndex</code></p>
</li>
<li>
<p>(modified)<code>PrimitiveShadingRateKHR</code></p>
</li>
<li>
<p>(modified)<code>ViewIndex</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability"><a class="anchor" href="#_new_spir_v_capability"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-MeshShadingEXT" class="xref page"><code>MeshShadingEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_103"><a class="anchor" href="#_version_history_103"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-08 (Christoph Kubisch, Daniel Koch, Patrick Mours)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_metal_objects"><a class="anchor" href="#VK_EXT_metal_objects"></a>VK_EXT_metal_objects</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_metal_objects</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>312</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_metal_objects] @billhollings%0A*Here describe the issue or question you have about the VK_EXT_metal_objects extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_metal_objects.adoc">VK_EXT_metal_objects</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_104"><a class="anchor" href="#_other_extension_metadata_104"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
<li>
<p>Dzmitry Malyshau, Mozilla Corp.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_104"><a class="anchor" href="#_description_104"></a>Description</h3>
<div class="paragraph">
<p>In a Vulkan implementation that is layered on top of Metal on Apple device
platforms, this extension provides the ability to import and export the
underlying Metal objects associated with specific Vulkan objects.</p>
</div>
<div class="paragraph">
<p>As detailed in the
<a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_metal_objects.adoc">extension
proposal document</a>, this extension adds one new Vulkan command,
<a href="../chapters/memory.html#vkExportMetalObjectsEXT" class="xref page">vkExportMetalObjectsEXT</a>, to export underlying Metal objects from
Vulkan objects, and supports importing the appropriate existing Metal
objects when creating Vulkan objects of types <a href="../chapters/memory.html#VkDeviceMemory" class="xref page">VkDeviceMemory</a>,
<a href="../chapters/resources.html#VkImage" class="xref page">VkImage</a>, <a href="../chapters/synchronization.html#VkSemaphore" class="xref page">VkSemaphore</a>, and <a href="../chapters/synchronization.html#VkEvent" class="xref page">VkEvent</a>,</p>
</div>
<div class="paragraph">
<p>The intent is that this extension will be advertised and supported only on
implementations that are layered on top of Metal on Apple device platforms.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types_2"><a class="anchor" href="#_new_base_types_2"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>IOSurfaceRef</code></p>
</li>
<li>
<p><code>MTLBuffer_id</code></p>
</li>
<li>
<p><code>MTLCommandQueue_id</code></p>
</li>
<li>
<p><code>MTLDevice_id</code></p>
</li>
<li>
<p><code>MTLSharedEvent_id</code></p>
</li>
<li>
<p><code>MTLTexture_id</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_58"><a class="anchor" href="#_new_commands_58"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkExportMetalObjectsEXT" class="xref page">vkExportMetalObjectsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_95"><a class="anchor" href="#_new_structures_95"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMetalObjectsInfoEXT" class="xref page">VkExportMetalObjectsInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkExportMetalObjectsInfoEXT" class="xref page">VkExportMetalObjectsInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMetalBufferInfoEXT" class="xref page">VkExportMetalBufferInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExportMetalCommandQueueInfoEXT" class="xref page">VkExportMetalCommandQueueInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExportMetalDeviceInfoEXT" class="xref page">VkExportMetalDeviceInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExportMetalIOSurfaceInfoEXT" class="xref page">VkExportMetalIOSurfaceInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExportMetalSharedEventInfoEXT" class="xref page">VkExportMetalSharedEventInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExportMetalTextureInfoEXT" class="xref page">VkExportMetalTextureInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMetalIOSurfaceInfoEXT" class="xref page">VkImportMetalIOSurfaceInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkImportMetalTextureInfoEXT" class="xref page">VkImportMetalTextureInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>, <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>, <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>, <a href="../chapters/resources.html#VkBufferViewCreateInfo" class="xref page">VkBufferViewCreateInfo</a>, <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>, <a href="../chapters/synchronization.html#VkEventCreateInfo" class="xref page">VkEventCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMetalObjectCreateInfoEXT" class="xref page">VkExportMetalObjectCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMetalBufferInfoEXT" class="xref page">VkImportMetalBufferInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>, <a href="../chapters/synchronization.html#VkEventCreateInfo" class="xref page">VkEventCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMetalSharedEventInfoEXT" class="xref page">VkImportMetalSharedEventInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_33"><a class="anchor" href="#_new_enums_33"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMetalObjectTypeFlagBitsEXT" class="xref page">VkExportMetalObjectTypeFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_30"><a class="anchor" href="#_new_bitmasks_30"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMetalObjectTypeFlagsEXT" class="xref page">VkExportMetalObjectTypeFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_104"><a class="anchor" href="#_new_enum_constants_104"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_METAL_OBJECTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_METAL_OBJECTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_BUFFER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_COMMAND_QUEUE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_DEVICE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_IO_SURFACE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_OBJECTS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_OBJECT_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_SHARED_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_METAL_TEXTURE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_METAL_BUFFER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_METAL_IO_SURFACE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_METAL_SHARED_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_METAL_TEXTURE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_59"><a class="anchor" href="#_issues_59"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_104"><a class="anchor" href="#_version_history_104"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-05-28 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
<li>
<p>Incorporated feedback from review by the Vulkan Working Group.
Renamed many structures, moved import/export of MTLBuffer to
VkDeviceMemory, added export of MTLSharedEvent, added import of
MTLSharedEvent for VkSemaphore and VkEvent, and changed used bit mask
fields to individual bit fields to simplify Valid Usage rules.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_metal_surface"><a class="anchor" href="#VK_EXT_metal_surface"></a>VK_EXT_metal_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_metal_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>218</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dzmitry Malyshau <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_metal_surface] @kvark%0A*Here describe the issue or question you have about the VK_EXT_metal_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kvark</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_105"><a class="anchor" href="#_other_extension_metadata_105"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dzmitry Malyshau, Mozilla Corp.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_105"><a class="anchor" href="#_description_105"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_EXT_metal_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) from <code>CAMetalLayer</code>, which is
the native rendering surface of Apple&#8217;s Metal framework.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types_3"><a class="anchor" href="#_new_base_types_3"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>CAMetalLayer</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_59"><a class="anchor" href="#_new_commands_59"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateMetalSurfaceEXT" class="xref page">vkCreateMetalSurfaceEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_96"><a class="anchor" href="#_new_structures_96"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkMetalSurfaceCreateInfoEXT" class="xref page">VkMetalSurfaceCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_31"><a class="anchor" href="#_new_bitmasks_31"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkMetalSurfaceCreateFlagsEXT" class="xref page">VkMetalSurfaceCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_105"><a class="anchor" href="#_new_enum_constants_105"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_METAL_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_METAL_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_METAL_SURFACE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_105"><a class="anchor" href="#_version_history_105"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-01 (Dzmitry Malyshau)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_multi_draw"><a class="anchor" href="#VK_EXT_multi_draw"></a>VK_EXT_multi_draw</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_multi_draw</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>393</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_multi_draw] @zmike%0A*Here describe the issue or question you have about the VK_EXT_multi_draw extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zmike</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_106"><a class="anchor" href="#_other_extension_metadata_106"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-05-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz, VALVE</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, INTEL</p>
</li>
<li>
<p>Spencer Fricke, SAMSUNG</p>
</li>
<li>
<p>Ricardo Garcia, IGALIA</p>
</li>
<li>
<p>Jon Leech, KHRONOS</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_106"><a class="anchor" href="#_description_106"></a>Description</h3>
<div class="paragraph">
<p>Processing multiple draw commands in sequence incurs measurable overhead
within drivers due to repeated state checks and updates during dispatch.
This extension enables passing the entire sequence of draws directly to the
driver in order to avoid any such overhead, using an array of
<a href="../chapters/drawing.html#VkMultiDrawInfoEXT" class="xref page">VkMultiDrawInfoEXT</a> or <a href="../chapters/drawing.html#VkMultiDrawIndexedInfoEXT" class="xref page">VkMultiDrawIndexedInfoEXT</a> structs with
<code>vkCmdDrawMultiEXT</code> or <code>vkCmdDrawMultiIndexedEXT</code>, respectively.
These functions could be used any time multiple draw commands are being
recorded without any state changes between them in order to maximize
performance.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_60"><a class="anchor" href="#_new_commands_60"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMultiEXT" class="xref page">vkCmdDrawMultiEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMultiIndexedEXT" class="xref page">vkCmdDrawMultiIndexedEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_97"><a class="anchor" href="#_new_structures_97"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkMultiDrawIndexedInfoEXT" class="xref page">VkMultiDrawIndexedInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#VkMultiDrawInfoEXT" class="xref page">VkMultiDrawInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMultiDrawFeaturesEXT" class="xref page">VkPhysicalDeviceMultiDrawFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMultiDrawPropertiesEXT" class="xref page">VkPhysicalDeviceMultiDrawPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_106"><a class="anchor" href="#_new_enum_constants_106"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MULTI_DRAW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MULTI_DRAW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTI_DRAW_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTI_DRAW_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_4"><a class="anchor" href="#_new_or_modified_built_in_variables_4"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p>(modified)<code>DrawIndex</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_106"><a class="anchor" href="#_version_history_106"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-01-20 (Mike Blumenkrantz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_multisampled_render_to_single_sampled"><a class="anchor" href="#VK_EXT_multisampled_render_to_single_sampled"></a>VK_EXT_multisampled_render_to_single_sampled</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_multisampled_render_to_single_sampled</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>377</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br>
and<br>
<a href="#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_multisampled_render_to_single_sampled] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_multisampled_render_to_single_sampled extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_multisampled_render_to_single_sampled.adoc">VK_EXT_multisampled_render_to_single_sampled</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_107"><a class="anchor" href="#_other_extension_metadata_107"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-04-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jörg Wagner, Arm</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jarred Davies, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_107"><a class="anchor" href="#_description_107"></a>Description</h3>
<div class="paragraph">
<p>With careful usage of resolve attachments, multisampled image memory
allocated with <code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code>, <code>loadOp</code>
not equal to <code>VK_ATTACHMENT_LOAD_OP_LOAD</code> and <code>storeOp</code> not equal to
<code>VK_ATTACHMENT_STORE_OP_STORE</code>, a Vulkan application is able to
efficiently perform multisampled rendering without incurring any additional
memory penalty on some implementations.</p>
</div>
<div class="paragraph">
<p>Under certain circumstances however, the application may not be able to
complete its multisampled rendering within a single render pass; for example
if it does partial rasterization from frame to frame, blending on an image
from a previous frame, or in emulation of
GL_EXT_multisampled_render_to_texture.
In such cases, the application can use an initial subpass to effectively
load single-sampled data from the next subpass&#8217;s resolve attachment and fill
in the multisampled attachment which otherwise uses <code>loadOp</code> equal to
<code>VK_ATTACHMENT_LOAD_OP_DONT_CARE</code>.
However, this is not always possible (for example for stencil in the absence
of VK_EXT_shader_stencil_export) and has multiple drawbacks.</p>
</div>
<div class="paragraph">
<p>Some implementations are able to perform said operation efficiently in
hardware, effectively loading a multisampled attachment from the contents of
a single sampled one.
Together with the ability to perform a resolve operation at the end of a
subpass, these implementations are able to perform multisampled rendering on
single-sampled attachments with no extra memory or bandwidth overhead.
This extension exposes this capability by allowing a framebuffer and render
pass to include single-sampled attachments while rendering is done with a
specified number of samples.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_98"><a class="anchor" href="#_new_structures_98"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatProperties2" class="xref page">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkSubpassResolvePerformanceQueryEXT" class="xref page">VkSubpassResolvePerformanceQueryEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMultisampledRenderToSingleSampledFeaturesEXT" class="xref page">VkPhysicalDeviceMultisampledRenderToSingleSampledFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>, <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT" class="xref page">VkMultisampledRenderToSingleSampledInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_107"><a class="anchor" href="#_new_enum_constants_107"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_RESOLVE_PERFORMANCE_QUERY_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_60"><a class="anchor" href="#_issues_60"></a>Issues</h3>
<div class="paragraph">
<p>1) Could the multisampled attachment be initialized through some form of
copy?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Some implementations do not support copying between attachments in general,
and find expressing this operation through a copy unnatural.</p>
</div>
<div class="paragraph">
<p>2) Another way to achieve this is by introducing a new <code>loadOp</code> to load
the contents of the multisampled image from a single-sampled one.
Why is this extension preferred?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Using this extension simplifies the application, as it does not
need to manage a secondary lazily-allocated image.
Additionally, using this extension leaves less room for error; for example a
single mistake in <code>loadOp</code> or <code>storeOp</code> would result in the
lazily-allocated image to actually take up memory, and remain so until
destruction.</p>
</div>
<div class="paragraph">
<p>3) There is no guarantee that multisampled data between two subpasses with
the same number of samples will be retained as the implementation may be
forced to split the render pass implicitly for various reasons.
Should this extension require that every subpass that uses
multisampled-render-to-single-sampled end in an implicit render pass split
(which results in a resolve operation)?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Not requiring this allows render passes with multiple
multisampled-render-to-single-sampled subpasses to potentially execute more
efficiently (though there is no guarantee).</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_107"><a class="anchor" href="#_version_history_107"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-04-12 (Shahbaz Youssefi)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_mutable_descriptor_type"><a class="anchor" href="#VK_EXT_mutable_descriptor_type"></a>VK_EXT_mutable_descriptor_type</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_mutable_descriptor_type</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>495</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_mutable_descriptor_type] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_mutable_descriptor_type extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
<li>
<p>Hans-Kristian Arntzen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_mutable_descriptor_type] @HansKristian-Work%0A*Here describe the issue or question you have about the VK_EXT_mutable_descriptor_type extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>HansKristian-Work</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_mutable_descriptor_type.adoc">VK_EXT_mutable_descriptor_type</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_108"><a class="anchor" href="#_other_extension_metadata_108"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-08-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_108"><a class="anchor" href="#_description_108"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to reduce descriptor memory footprint by
allowing a descriptor to be able to mutate to a given list of descriptor
types depending on which descriptor types are written into, or copied into a
descriptor set.</p>
</div>
<div class="paragraph">
<p>The main use case this extension intends to address is descriptor indexing
with <code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> where the
descriptor types are completely generic, as this means applications can
allocate one large descriptor set, rather than having one large descriptor
set per descriptor type, which significantly bloats descriptor memory usage
and causes performance issues.</p>
</div>
<div class="paragraph">
<p>This extension also adds a mechanism to declare that a descriptor pool, and
therefore the descriptor sets that are allocated from it, reside only in
host memory; as such these descriptors can only be updated/copied, but not
bound.</p>
</div>
<div class="paragraph">
<p>These features together allow much more efficient emulation of the raw D3D12
binding model.
This extension is primarily intended to be useful for API layering efforts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_99"><a class="anchor" href="#_new_structures_99"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkMutableDescriptorTypeListEXT" class="xref page">VkMutableDescriptorTypeListEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateInfo" class="xref page">VkDescriptorSetLayoutCreateInfo</a>, <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateInfo" class="xref page">VkDescriptorPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkMutableDescriptorTypeCreateInfoEXT" class="xref page">VkMutableDescriptorTypeCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_108"><a class="anchor" href="#_new_enum_constants_108"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_MUTABLE_DESCRIPTOR_TYPE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_MUTABLE_DESCRIPTOR_TYPE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateFlagBits" class="xref page">VkDescriptorPoolCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_MUTABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MUTABLE_DESCRIPTOR_TYPE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MUTABLE_DESCRIPTOR_TYPE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_108"><a class="anchor" href="#_version_history_108"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-08-22 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version, promoted from <a href="#VK_VALVE_mutable_descriptor_type">VK_VALVE_mutable_descriptor_type</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_non_seamless_cube_map"><a class="anchor" href="#VK_EXT_non_seamless_cube_map"></a>VK_EXT_non_seamless_cube_map</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_non_seamless_cube_map</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>423</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Uses</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Georg Lehmann <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_non_seamless_cube_map] @DadSchoorse%0A*Here describe the issue or question you have about the VK_EXT_non_seamless_cube_map extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>DadSchoorse</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_non_seamless_cube_map.adoc">VK_EXT_non_seamless_cube_map</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_109"><a class="anchor" href="#_other_extension_metadata_109"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Georg Lehmann</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_109"><a class="anchor" href="#_description_109"></a>Description</h3>
<div class="paragraph">
<p>This extension provides functionality to disable <a href="../chapters/textures.html#textures-cubemapedge" class="xref page">cube map edge handling</a> on a per sampler level which matches the behavior
of other graphics APIs.</p>
</div>
<div class="paragraph">
<p>This extension may be useful for building translation layers for those APIs
or for porting applications that rely on this cube map behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_100"><a class="anchor" href="#_new_structures_100"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceNonSeamlessCubeMapFeaturesEXT" class="xref page">VkPhysicalDeviceNonSeamlessCubeMapFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_109"><a class="anchor" href="#_new_enum_constants_109"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_NON_SEAMLESS_CUBE_MAP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_NON_SEAMLESS_CUBE_MAP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateFlagBits" class="xref page">VkSamplerCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_CREATE_NON_SEAMLESS_CUBE_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_NON_SEAMLESS_CUBE_MAP_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_109"><a class="anchor" href="#_version_history_109"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-09-04 (Georg Lehmann)</p>
<div class="ulist">
<ul>
<li>
<p>First Version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_opacity_micromap"><a class="anchor" href="#VK_EXT_opacity_micromap"></a>VK_EXT_opacity_micromap</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_opacity_micromap</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>397</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_opacity_micromap] @pixeljetstream%0A*Here describe the issue or question you have about the VK_EXT_opacity_micromap extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
<li>
<p>Eric Werness</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_opacity_micromap.adoc">VK_EXT_opacity_micromap</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_110"><a class="anchor" href="#_other_extension_metadata_110"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-08-24</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_opacity_micromap.html"><code>SPV_EXT_opacity_micromap</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_opacity_micromap.txt"><code>GLSL_EXT_opacity_micromap</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Josh Barczak, Intel</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_110"><a class="anchor" href="#_description_110"></a>Description</h3>
<div class="paragraph">
<p>When adding adding transparency to a ray traced scene, an application can
choose between further tessellating the geometry or using an any hit shader
to allow the ray through specific parts of the geometry.
These options have the downside of either significantly increasing memory
consumption or adding runtime overhead to run shader code in the middle of
traversal, respectively.</p>
</div>
<div class="paragraph">
<p>This extension adds the ability to add an <em>opacity micromap</em> to geometry
when building an acceleration structure.
The opacity micromap compactly encodes opacity information which can be read
by the implementation to mark parts of triangles as opaque or transparent.
The format is externally visible to allow the application to compress its
internal geometry and surface representations into the compressed format
ahead of time.
The compressed format subdivides each triangle into a set of subtriangles,
each of which can be assigned either two or four opacity values.
These opacity values can control if a ray hitting that subtriangle is
treated as an opaque hit, complete miss, or possible hit, depending on the
controls described in <a href="../chapters/raytraversal.html#ray-opacity-micromap" class="xref page">Ray Opacity Micromap</a>.</p>
</div>
<div class="paragraph">
<p>This extension provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="../chapters/resources.html#VkMicromapEXT" class="xref page">VkMicromapEXT</a> structure to store the micromap,</p>
</li>
<li>
<p>functions similar to acceleration structure build functions to build the
opacity micromap array, and</p>
</li>
<li>
<p>a structure to extend
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a> to attach a
micromap to the geometry of the acceleration structure.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_8"><a class="anchor" href="#_new_object_types_8"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkMicromapEXT" class="xref page">VkMicromapEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_61"><a class="anchor" href="#_new_commands_61"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkBuildMicromapsEXT" class="xref page">vkBuildMicromapsEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCmdBuildMicromapsEXT" class="xref page">vkCmdBuildMicromapsEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCmdCopyMemoryToMicromapEXT" class="xref page">vkCmdCopyMemoryToMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCmdCopyMicromapEXT" class="xref page">vkCmdCopyMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCmdCopyMicromapToMemoryEXT" class="xref page">vkCmdCopyMicromapToMemoryEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCmdWriteMicromapsPropertiesEXT" class="xref page">vkCmdWriteMicromapsPropertiesEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCopyMemoryToMicromapEXT" class="xref page">vkCopyMemoryToMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCopyMicromapEXT" class="xref page">vkCopyMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkCopyMicromapToMemoryEXT" class="xref page">vkCopyMicromapToMemoryEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkCreateMicromapEXT" class="xref page">vkCreateMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkDestroyMicromapEXT" class="xref page">vkDestroyMicromapEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkGetDeviceMicromapCompatibilityEXT" class="xref page">vkGetDeviceMicromapCompatibilityEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetMicromapBuildSizesEXT" class="xref page">vkGetMicromapBuildSizesEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#vkWriteMicromapsPropertiesEXT" class="xref page">vkWriteMicromapsPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_101"><a class="anchor" href="#_new_structures_101"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkCopyMemoryToMicromapInfoEXT" class="xref page">VkCopyMemoryToMicromapInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkCopyMicromapInfoEXT" class="xref page">VkCopyMicromapInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkCopyMicromapToMemoryInfoEXT" class="xref page">VkCopyMicromapToMemoryInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkMicromapBuildInfoEXT" class="xref page">VkMicromapBuildInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMicromapBuildSizesInfoEXT" class="xref page">VkMicromapBuildSizesInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMicromapCreateInfoEXT" class="xref page">VkMicromapCreateInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkMicromapTriangleEXT" class="xref page">VkMicromapTriangleEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkMicromapUsageEXT" class="xref page">VkMicromapUsageEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkMicromapVersionInfoEXT" class="xref page">VkMicromapVersionInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureTrianglesOpacityMicromapEXT" class="xref page">VkAccelerationStructureTrianglesOpacityMicromapEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceOpacityMicromapFeaturesEXT" class="xref page">VkPhysicalDeviceOpacityMicromapFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceOpacityMicromapPropertiesEXT" class="xref page">VkPhysicalDeviceOpacityMicromapPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_34"><a class="anchor" href="#_new_enums_34"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBuildMicromapFlagBitsEXT" class="xref page">VkBuildMicromapFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkBuildMicromapModeEXT" class="xref page">VkBuildMicromapModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkCopyMicromapModeEXT" class="xref page">VkCopyMicromapModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMicromapCreateFlagBitsEXT" class="xref page">VkMicromapCreateFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMicromapTypeEXT" class="xref page">VkMicromapTypeEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkOpacityMicromapFormatEXT" class="xref page">VkOpacityMicromapFormatEXT</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkOpacityMicromapSpecialIndexEXT" class="xref page">VkOpacityMicromapSpecialIndexEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_32"><a class="anchor" href="#_new_bitmasks_32"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBuildMicromapFlagsEXT" class="xref page">VkBuildMicromapFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMicromapCreateFlagsEXT" class="xref page">VkMicromapCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_110"><a class="anchor" href="#_new_enum_constants_110"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_OPACITY_MICROMAP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_OPACITY_MICROMAP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_MICROMAP_READ_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_MICROMAP_WRITE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_MICROMAP_BUILD_INPUT_READ_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_MICROMAP_STORAGE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DISABLE_OPACITY_MICROMAPS_EXT</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_OPACITY_MICROMAP_DATA_UPDATE_EXT</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_OPACITY_MICROMAP_UPDATE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsKHR" class="xref page">VkGeometryInstanceFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_INSTANCE_DISABLE_OPACITY_MICROMAPS_EXT</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_INSTANCE_FORCE_OPACITY_MICROMAP_2_STATE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_MICROMAP_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_MICROMAP_BUILD_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_MICROMAP_COMPACTED_SIZE_EXT</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_MICROMAP_SERIALIZATION_SIZE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_TRIANGLES_OPACITY_MICROMAP_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_MICROMAP_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MICROMAP_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MICROMAP_TO_MEMORY_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_BUILD_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_BUILD_SIZES_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_VERSION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPACITY_MICROMAP_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPACITY_MICROMAP_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_reference_code"><a class="anchor" href="#_reference_code"></a>Reference Code</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">uint32_t BarycentricsToSpaceFillingCurveIndex(float u, float v, uint32_t level)
{
    u = clamp(u, 0.0f, 1.0f);
    v = clamp(v, 0.0f, 1.0f);

    uint32_t iu, iv, iw;

    // Quantize barycentric coordinates
    float fu = u * (1u &lt;&lt; level);
    float fv = v * (1u &lt;&lt; level);

    iu = (uint32_t)fu;
    iv = (uint32_t)fv;

    float uf = fu - float(iu);
    float vf = fv - float(iv);

    if (iu &gt;= (1u &lt;&lt; level)) iu = (1u &lt;&lt; level) - 1u;
    if (iv &gt;= (1u &lt;&lt; level)) iv = (1u &lt;&lt; level) - 1u;

    uint32_t iuv = iu + iv;

    if (iuv &gt;= (1u &lt;&lt; level))
        iu -= iuv - (1u &lt;&lt; level) + 1u;

    iw = ~(iu + iv);

    if (uf + vf &gt;= 1.0f &amp;&amp; iuv &lt; (1u &lt;&lt; level) - 1u) --iw;

    uint32_t b0 = ~(iu ^ iw);
    b0 &amp;= ((1u &lt;&lt; level) - 1u);
    uint32_t t = (iu ^ iv) &amp; b0;

    uint32_t f = t;
    f ^= f &gt;&gt; 1u;
    f ^= f &gt;&gt; 2u;
    f ^= f &gt;&gt; 4u;
    f ^= f &gt;&gt; 8u;
    uint32_t b1 = ((f ^ iu) &amp; ~b0) | t;

    // Interleave bits
    b0 = (b0 | (b0 &lt;&lt; 8u)) &amp; 0x00ff00ffu;
    b0 = (b0 | (b0 &lt;&lt; 4u)) &amp; 0x0f0f0f0fu;
    b0 = (b0 | (b0 &lt;&lt; 2u)) &amp; 0x33333333u;
    b0 = (b0 | (b0 &lt;&lt; 1u)) &amp; 0x55555555u;
    b1 = (b1 | (b1 &lt;&lt; 8u)) &amp; 0x00ff00ffu;
    b1 = (b1 | (b1 &lt;&lt; 4u)) &amp; 0x0f0f0f0fu;
    b1 = (b1 | (b1 &lt;&lt; 2u)) &amp; 0x33333333u;
    b1 = (b1 | (b1 &lt;&lt; 1u)) &amp; 0x55555555u;

    return b0 | (b1 &lt;&lt; 1u);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_61"><a class="anchor" href="#_issues_61"></a>Issues</h3>
<div class="paragraph">
<p>(1) Is the build actually similar to an acceleration structure build?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: The build should be much lighter-weight than an acceleration
structure build, but the infrastructure is similar enough that it makes
sense to keep the concepts compatible.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Why does VkMicromapUsageEXT not have type/pNext?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There can be a very large number of these structures, so
doubling the size of these can be significant memory consumption.
Also, an application may be loading these directly from a file which is
more compatible with it being a flat structure.
The including structures are extensible and are probably a more suitable
place to add extensibility.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) Why is there a SPIR-V extension?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There is a ray flag.
To be consistent with how the existing ray tracing extensions work that
ray flag needs its own extension.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) Should there be indirect micromap build?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: Not for now.
There is more in-depth usage metadata required and it seems less likely
that something like a GPU culling system would need to change the counts
for a micromap.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) Should micromaps have a micromap device address?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There is no need right now (can just use the handle) but that
is a bit different from acceleration structures, though the two are not
completely parallel in their usage.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(6) Why are the alignment requirements defined as a mix of hardcoded values
and caps?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: This is most parallel with the definition of
<code><a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> and maintaining commonality makes
it easier for applications to share memory.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_110"><a class="anchor" href="#_version_history_110"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-06-22 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>EXTify and clean up for discussion</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-01-01 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pageable_device_local_memory"><a class="anchor" href="#VK_EXT_pageable_device_local_memory"></a>VK_EXT_pageable_device_local_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pageable_device_local_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>413</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_memory_priority">VK_EXT_memory_priority</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pageable_device_local_memory] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_pageable_device_local_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_111"><a class="anchor" href="#_other_extension_metadata_111"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-08-24</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Axel Gneiting, id Software</p>
</li>
<li>
<p>Billy Khan, id Software</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Chris Lentini, NVIDIA</p>
</li>
<li>
<p>Joshua Schnarr, NVIDIA</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_111"><a class="anchor" href="#_description_111"></a>Description</h3>
<div class="paragraph">
<p>Vulkan is frequently implemented on multi-user and multi-process operating
systems where the device-local memory can be shared by more than one
process.
On such systems the size of the device-local memory available to the
application may not be the full size of the memory heap at all times.
In order for these operating systems to support multiple applications the
device-local memory is virtualized and paging is used to move memory between
device-local and host-local memory heaps, transparent to the application.</p>
</div>
<div class="paragraph">
<p>The current Vulkan specification does not expose this behavior well and may
cause applications to make suboptimal memory choices when allocating memory.
For example, in a system with multiple applications running, the application
may think that device-local memory is full and revert to making
performance-sensitive allocations from host-local memory.
In reality the memory heap might not have been full, it just appeared to be
at the time memory consumption was queried, and a device-local allocation
would have succeeded.
A well designed operating system that implements pageable device-local
memory will try to have all memory allocations for the foreground
application paged into device-local memory, and paged out for other
applications as needed when not in use.</p>
</div>
<div class="paragraph">
<p>When this extension is exposed by the Vulkan implementation it indicates to
the application that the operating system implements pageable device-local
memory and the application should adjust its memory allocation strategy
accordingly.
The extension also exposes a new <a href="../chapters/memory.html#vkSetDeviceMemoryPriorityEXT" class="xref page">vkSetDeviceMemoryPriorityEXT</a> function
to allow the application to dynamically adjust the priority of existing
memory allocations based on its current needs.
This will help the operating system page out lower priority memory
allocations before higher priority allocations when needed.
It will also help the operating system decide which memory allocations to
page back into device-local memory first.</p>
</div>
<div class="paragraph">
<p>To take best advantage of pageable device-local memory the application must
create the Vulkan device with the
<a href="../chapters/features.html#VkPhysicalDevicePageableDeviceLocalMemoryFeaturesEXT" class="xref page">VkPhysicalDevicePageableDeviceLocalMemoryFeaturesEXT</a>::<code>pageableDeviceLocalMemory</code>
feature enabled.
When enabled the Vulkan implementation will allow device-local memory
allocations to be paged in and out by the operating system, and <strong>may</strong> not
return VK_ERROR_OUT_OF_DEVICE_MEMORY even if device-local memory appears to
be full, but will instead page this, or other allocations, out to make room.
The Vulkan implementation will also ensure that host-local memory
allocations will never be promoted to device-local memory by the operating
system, or consume device-local memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_62"><a class="anchor" href="#_new_commands_62"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkSetDeviceMemoryPriorityEXT" class="xref page">vkSetDeviceMemoryPriorityEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_102"><a class="anchor" href="#_new_structures_102"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePageableDeviceLocalMemoryFeaturesEXT" class="xref page">VkPhysicalDevicePageableDeviceLocalMemoryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_111"><a class="anchor" href="#_new_enum_constants_111"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PAGEABLE_DEVICE_LOCAL_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PAGEABLE_DEVICE_LOCAL_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PAGEABLE_DEVICE_LOCAL_MEMORY_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_111"><a class="anchor" href="#_version_history_111"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-08-24 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pci_bus_info"><a class="anchor" href="#VK_EXT_pci_bus_info"></a>VK_EXT_pci_bus_info</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pci_bus_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>213</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pci_bus_info] @anteru%0A*Here describe the issue or question you have about the VK_EXT_pci_bus_info extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_112"><a class="anchor" href="#_other_extension_metadata_112"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_112"><a class="anchor" href="#_description_112"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new query to obtain PCI bus information about a
physical device.</p>
</div>
<div class="paragraph">
<p>Not all physical devices have PCI bus information, either due to the device
not being connected to the system through a PCI interface or due to platform
specific restrictions and policies.
Thus this extension is only expected to be supported by physical devices
which can provide the information.</p>
</div>
<div class="paragraph">
<p>As a consequence, applications should always check for the presence of the
extension string for each individual physical device for which they intend
to issue the new query for and should not have any assumptions about the
availability of the extension on any given platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_103"><a class="anchor" href="#_new_structures_103"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDevicePCIBusInfoPropertiesEXT" class="xref page">VkPhysicalDevicePCIBusInfoPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_112"><a class="anchor" href="#_new_enum_constants_112"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PCI_BUS_INFO_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PCI_BUS_INFO_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PCI_BUS_INFO_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_112"><a class="anchor" href="#_version_history_112"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-12-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Changed all members of the new structure to have the uint32_t type</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-10-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_physical_device_drm"><a class="anchor" href="#VK_EXT_physical_device_drm"></a>VK_EXT_physical_device_drm</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_physical_device_drm</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>354</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Simon Ser <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_physical_device_drm] @emersion%0A*Here describe the issue or question you have about the VK_EXT_physical_device_drm extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>emersion</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_113"><a class="anchor" href="#_other_extension_metadata_113"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Simon Ser</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_113"><a class="anchor" href="#_description_113"></a>Description</h3>
<div class="paragraph">
<p>This extension provides new facilities to query DRM properties for physical
devices, enabling users to match Vulkan physical devices with DRM nodes on
Linux.</p>
</div>
<div class="paragraph">
<p>Its functionality closely overlaps with
<code>EGL_EXT_device_drm</code><sup><a href="#VK_EXT_physical_device_drm-fn1">1</a></sup>.
Unlike the EGL extension, this extension does not expose a string containing
the name of the device file and instead exposes device minor numbers.</p>
</div>
<div class="paragraph">
<p>DRM defines multiple device node types.
Each physical device may have one primary node and one render node
associated.
Physical devices may have no primary node (e.g. if the device does not have
a display subsystem), may have no render node (e.g. if it is a software
rendering engine), or may have neither (e.g. if it is a software rendering
engine without a display subsystem).</p>
</div>
<div class="paragraph">
<p>To query DRM properties for a physical device, chain
<a href="../chapters/devsandqueues.html#VkPhysicalDeviceDrmPropertiesEXT" class="xref page">VkPhysicalDeviceDrmPropertiesEXT</a> to <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_104"><a class="anchor" href="#_new_structures_104"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceDrmPropertiesEXT" class="xref page">VkPhysicalDeviceDrmPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_113"><a class="anchor" href="#_new_enum_constants_113"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PHYSICAL_DEVICE_DRM_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PHYSICAL_DEVICE_DRM_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DRM_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_references_2"><a class="anchor" href="#_references_2"></a>References</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="VK_EXT_physical_device_drm-fn1"></a>
<a href="https://registry.khronos.org/EGL/extensions/EXT/EGL_EXT_device_drm.txt"><code>EGL_EXT_device_drm</code></a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_113"><a class="anchor" href="#_version_history_113"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-09</p>
<div class="ulist">
<ul>
<li>
<p>First stable revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_library_group_handles"><a class="anchor" href="#VK_EXT_pipeline_library_group_handles"></a>VK_EXT_pipeline_library_group_handles</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_library_group_handles</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>499</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a><br>
and<br>
<a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pipeline_library_group_handles] @HansKristian-Work%0A*Here describe the issue or question you have about the VK_EXT_pipeline_library_group_handles extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>HansKristian-Work</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_pipeline_library_group_handles.adoc">VK_EXT_pipeline_library_group_handles</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_114"><a class="anchor" href="#_other_extension_metadata_114"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_114"><a class="anchor" href="#_description_114"></a>Description</h3>
<div class="paragraph">
<p>When using pipeline libraries in ray tracing pipelines, a library might get
linked into different pipelines in an incremental way.
An application can have a strategy where a ray tracing pipeline is comprised
of N pipeline libraries and is later augumented by creating a new pipeline
with N + 1 libraries.
Without this extension, all group handles must be re-queried as the group
handle is tied to the pipeline, not the library.
This is problematic for applications which aim to decouple construction of
record buffers and the linkage of ray tracing pipelines.</p>
</div>
<div class="paragraph">
<p>To aid in this, this extension enables support for querying group handles
directly from pipeline libraries.
Group handles obtained from a library <strong>must</strong> remain bitwise identical in any
<code>VkPipeline</code> that links to the library.</p>
</div>
<div class="paragraph">
<p>With this feature, the extension also improves compatibility with DXR 1.1
AddToStateObject(), which guarantees that group handles returned remain
bitwise identical between parent and child pipelines.
In addition, querying group handles from COLLECTION objects is also
supported with that API.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_105"><a class="anchor" href="#_new_structures_105"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelineLibraryGroupHandlesFeaturesEXT" class="xref page">VkPhysicalDevicePipelineLibraryGroupHandlesFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_114"><a class="anchor" href="#_new_enum_constants_114"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_LIBRARY_GROUP_HANDLES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_LIBRARY_GROUP_HANDLES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_LIBRARY_GROUP_HANDLES_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_114"><a class="anchor" href="#_version_history_114"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-01-25 (Hans-Kristian Arntzen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_properties"><a class="anchor" href="#VK_EXT_pipeline_properties"></a>VK_EXT_pipeline_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>373</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mukund Keshava <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pipeline_properties] @mkeshavanv%0A*Here describe the issue or question you have about the VK_EXT_pipeline_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mkeshavanv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_115"><a class="anchor" href="#_other_extension_metadata_115"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-04-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mukund Keshava, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Mark Bellamy, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_115"><a class="anchor" href="#_description_115"></a>Description</h3>
<div class="paragraph">
<p>Vulkan SC requires offline compilation of pipelines.
In order to support this, the pipeline state is represented in a
<a href="https://github.com/KhronosGroup/VulkanSC-Docs/wiki/JSON-schema">JSON schema</a>
that is read by an offline tool for compilation.</p>
</div>
<div class="paragraph">
<p>One method of developing a Vulkan SC application is to author a Vulkan
application and use a layer to record and serialize the pipeline state and
shaders for offline compilation.
Each pipeline is represented by a separate JSON file, and can be identified
with a <code>pipelineIdentifier</code>.</p>
</div>
<div class="paragraph">
<p>Once the pipelines have been compiled by the offline pipeline cache
compiler, the Vulkan SC application can then use this
<code>pipelineIdentifier</code> for identifying the pipeline via Vulkan SC&#8217;s
<code>VkPipelineIdentifierInfo</code> structure.</p>
</div>
<div class="paragraph">
<p>This extension allows the Vulkan application to query the
<code>pipelineIdentifier</code> associated with each pipeline so that the
application can store this with its pipeline metadata and the Vulkan SC
application will then use to map the same state to an entry in the Vulkan SC
pipeline cache.</p>
</div>
<div class="paragraph">
<p>It is expected that this extension will initially be implemented in the json
generation layer, although we can envision that there might be future uses
for it in native Vulkan drivers as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_63"><a class="anchor" href="#_new_commands_63"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkGetPipelinePropertiesEXT" class="xref page">vkGetPipelinePropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_106"><a class="anchor" href="#_new_structures_106"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineInfoEXT" class="xref page">VkPipelineInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelinePropertiesIdentifierEXT" class="xref page">VkPipelinePropertiesIdentifierEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelinePropertiesFeaturesEXT" class="xref page">VkPhysicalDevicePipelinePropertiesFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_115"><a class="anchor" href="#_new_enum_constants_115"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_PROPERTIES_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_PROPERTIES_IDENTIFIER_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_62"><a class="anchor" href="#_issues_62"></a>Issues</h3>
<div class="paragraph">
<p>(1) This extension does not make sense on a strict Vulkan SC implementation.
It may however be of potential use in a non-strict Vulkan SC implementation.
Should this extension be enabled as part of Vulkan SC as well?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension will not be enabled for Vulkan SC.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) This is intended to be a general pipeline properties query, but is
currently only retrieving the pipeline identifier.
Should the pipeline identifier query be mandatory for this extension and for
all queries using this entry point?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: Use <a href="../chapters/fundamentals.html#VkBaseOutStructure" class="xref page">VkBaseOutStructure</a> for the return parameter.
Currently this is required to actually be a
<a href="../chapters/pipelines.html#VkPipelinePropertiesIdentifierEXT" class="xref page">VkPipelinePropertiesIdentifierEXT</a> structure, but that could be relaxed
in the future to allow other structure types or to allow other structures to
be chained in along with this one.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) Should there be a feature structure? Should it be required?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add a feature structure, and a feature for querying pipeline
identifier, but allow it to be optional so that this extension can be used
as the basis for other pipeline property queries without requiring the
pipeline identifier to be supported.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_115"><a class="anchor" href="#_version_history_115"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-04-19 (Mukund Keshava, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_protected_access"><a class="anchor" href="#VK_EXT_pipeline_protected_access"></a>VK_EXT_pipeline_protected_access</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_protected_access</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>467</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pipeline_protected_access] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_pipeline_protected_access extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_pipeline_protected_access.adoc">VK_EXT_pipeline_protected_access</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_116"><a class="anchor" href="#_other_extension_metadata_116"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-28</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Jörg Wagner, Arm</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_116"><a class="anchor" href="#_description_116"></a>Description</h3>
<div class="paragraph">
<p>This extension allows protected memory access to be specified per pipeline
as opposed to per device.
Through the usage of this extension, any performance penalty paid due to
access to protected memory will be limited to the specific pipelines that
make such accesses.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_107"><a class="anchor" href="#_new_structures_107"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelineProtectedAccessFeaturesEXT" class="xref page">VkPhysicalDevicePipelineProtectedAccessFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_116"><a class="anchor" href="#_new_enum_constants_116"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_PROTECTED_ACCESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_PROTECTED_ACCESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_NO_PROTECTED_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_PROTECTED_ACCESS_ONLY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_PROTECTED_ACCESS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_116"><a class="anchor" href="#_version_history_116"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-28 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_robustness"><a class="anchor" href="#VK_EXT_pipeline_robustness"></a>VK_EXT_pipeline_robustness</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_robustness</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>69</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jarred Davies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_117"><a class="anchor" href="#_other_extension_metadata_117"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_EXT_robustness2">VK_EXT_robustness2</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_EXT_image_robustness">VK_EXT_image_robustness</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jarred Davies, Imagination Technologies</p>
</li>
<li>
<p>Alex Walters, Imagination Technologies</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom Corporation</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Shahbaz Youssefi, Google, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_117"><a class="anchor" href="#_description_117"></a>Description</h3>
<div class="paragraph">
<p>This extension allows users to request robustness on a per-pipeline stage
basis.</p>
</div>
<div class="paragraph">
<p>As <a href="../chapters/features.html#features-robustBufferAccess" class="xref page"><code>robustBufferAccess</code></a> and other
robustness features may have an adverse effect on performance, this
extension is designed to allow users to request robust behavior only where
it may be needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_108"><a class="anchor" href="#_new_structures_108"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkComputePipelineCreateInfo" class="xref page">VkComputePipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>, <a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineRobustnessCreateInfoEXT" class="xref page">VkPipelineRobustnessCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelineRobustnessFeaturesEXT" class="xref page">VkPhysicalDevicePipelineRobustnessFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDevicePipelineRobustnessPropertiesEXT" class="xref page">VkPhysicalDevicePipelineRobustnessPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_35"><a class="anchor" href="#_new_enums_35"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineRobustnessBufferBehaviorEXT" class="xref page">VkPipelineRobustnessBufferBehaviorEXT</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineRobustnessImageBehaviorEXT" class="xref page">VkPipelineRobustnessImageBehaviorEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_117"><a class="anchor" href="#_new_enum_constants_117"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_ROBUSTNESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_ROBUSTNESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_ROBUSTNESS_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_ROBUSTNESS_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_ROBUSTNESS_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_117"><a class="anchor" href="#_version_history_117"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-12 (Jarred Davies)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_post_depth_coverage"><a class="anchor" href="#VK_EXT_post_depth_coverage"></a>VK_EXT_post_depth_coverage</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_post_depth_coverage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>156</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_post_depth_coverage] @dgkoch%0A*Here describe the issue or question you have about the VK_EXT_post_depth_coverage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_118"><a class="anchor" href="#_other_extension_metadata_118"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_post_depth_coverage.html"><code>SPV_KHR_post_depth_coverage</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_post_depth_coverage.txt"><code>GL_ARB_post_depth_coverage</code></a>
and
<a href="https://registry.khronos.org/OpenGL/extensions/EXT/EXT_post_depth_coverage.txt"><code>GL_EXT_post_depth_coverage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_118"><a class="anchor" href="#_description_118"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_post_depth_coverage</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>which allows the fragment shader to control whether values in the
<code>SampleMask</code> built-in input variable reflect the coverage after early
<a href="../chapters/fragops.html#fragops-depth" class="xref page">depth</a> and <a href="../chapters/fragops.html#fragops-stencil" class="xref page">stencil</a> tests are applied.</p>
</div>
<div class="paragraph">
<p>This extension adds a new <code>PostDepthCoverage</code> execution mode under the
<code>SampleMaskPostDepthCoverage</code> capability.
When this mode is specified along with <code>EarlyFragmentTests</code>, the value of
an input variable decorated with the
<a href="../chapters/interfaces.html#interfaces-builtin-variables-samplemask" class="xref page"><code>SampleMask</code></a> built-in
reflects the coverage after the early fragment tests are applied.
Otherwise, it reflects the coverage before the depth and stencil tests.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>post_depth_coverage</code>
layout qualifier from GL_ARB_post_depth_coverage or
GL_EXT_post_depth_coverage maps to the <code>PostDepthCoverage</code> execution
mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_118"><a class="anchor" href="#_new_enum_constants_118"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_POST_DEPTH_COVERAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_POST_DEPTH_COVERAGE_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_12"><a class="anchor" href="#_new_spir_v_capabilities_12"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-SampleMaskPostDepthCoverage" class="xref page">    <code>SampleMaskPostDepthCoverage</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_118"><a class="anchor" href="#_version_history_118"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-17 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_primitive_topology_list_restart"><a class="anchor" href="#VK_EXT_primitive_topology_list_restart"></a>VK_EXT_primitive_topology_list_restart</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_primitive_topology_list_restart</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>357</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_primitive_topology_list_restart] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_primitive_topology_list_restart extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_119"><a class="anchor" href="#_other_extension_metadata_119"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-01-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_119"><a class="anchor" href="#_description_119"></a>Description</h3>
<div class="paragraph">
<p>This extension allows list primitives to use the primitive restart index
value.
This provides a more efficient implementation when layering OpenGL
functionality on Vulkan by avoiding emulation which incurs data copies.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_109"><a class="anchor" href="#_new_structures_109"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePrimitiveTopologyListRestartFeaturesEXT" class="xref page">VkPhysicalDevicePrimitiveTopologyListRestartFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_119"><a class="anchor" href="#_new_enum_constants_119"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PRIMITIVE_TOPOLOGY_LIST_RESTART_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PRIMITIVE_TOPOLOGY_LIST_RESTART_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRIMITIVE_TOPOLOGY_LIST_RESTART_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_119"><a class="anchor" href="#_version_history_119"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2020-09-14 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-01-11 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Add the <code>primitiveTopologyPatchListRestart</code> feature</p>
</li>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_primitives_generated_query"><a class="anchor" href="#VK_EXT_primitives_generated_query"></a>VK_EXT_primitives_generated_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_primitives_generated_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>383</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_transform_feedback">VK_EXT_transform_feedback</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_primitives_generated_query] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_primitives_generated_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_primitives_generated_query.adoc">VK_EXT_primitives_generated_query</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_120"><a class="anchor" href="#_other_extension_metadata_120"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-01-24</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_120"><a class="anchor" href="#_description_120"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for a new query type to match OpenGL&#8217;s
<code>GL_PRIMITIVES_GENERATED</code> to support layering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_110"><a class="anchor" href="#_new_structures_110"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePrimitivesGeneratedQueryFeaturesEXT" class="xref page">VkPhysicalDevicePrimitivesGeneratedQueryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_120"><a class="anchor" href="#_new_enum_constants_120"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PRIMITIVES_GENERATED_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PRIMITIVES_GENERATED_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRIMITIVES_GENERATED_QUERY_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_63"><a class="anchor" href="#_issues_63"></a>Issues</h3>
<div class="paragraph">
<p>1) Can the query from <code>VK_EXT_transform_feedback</code> be used instead?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While the query from VK_EXT_transform_feedback can produce the same results
as in this extension, it is only available while transform feedback is
active.
The OpenGL <code>GL_PRIMITIVES_GENERATED</code> query is independent from transform
feedback.
Emulation through artificial transform feedback is unnecessarily
inefficient.</p>
</div>
<div class="paragraph">
<p>2) Can <code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT</code> be used
instead?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It could, but we prefer the extension for simplicity.
Vulkan requires that only one query be active at a time.
If both the <code>GL_PRIMITIVES_GENERATED</code> and the
<code>GL_CLIPPING_INPUT_PRIMITIVES_ARB</code> queries need to be simultaneously
enabled, emulation of both through
<code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT</code> is inconvenient.</p>
</div>
<div class="paragraph">
<p>3) On some hardware, this query cannot be implemented if
<code>VkPipelineRasterizationStateCreateInfo</code>::<code>rasterizerDiscardEnable</code>
is enabled.
How will this be handled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A feature flag is exposed by this extension for this.
On said hardware, the GL implementation disables rasterizer-discard and
achieves the same effect through other means.
It will not be able to do the same in Vulkan due to lack of state
information.
A feature flag is exposed by this extension so the OpenGL implementation on
top of Vulkan would be able to implement a similar workaround.</p>
</div>
<div class="paragraph">
<p>4) On some hardware, this query cannot be implemented for non-zero query
indices.
How will this be handled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A feature flag is exposed by this extension for this.
If this feature is not present, the query from <code>VK_EXT_transform_feedback</code>
can be used to the same effect.</p>
</div>
<div class="paragraph">
<p>5) How is the interaction of this extension with
<code>transformFeedbackRasterizationStreamSelect</code> handled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Disallowed for non-zero streams.
In OpenGL, the rasterization stream is always stream zero.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_120"><a class="anchor" href="#_version_history_120"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-23 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_provoking_vertex"><a class="anchor" href="#VK_EXT_provoking_vertex"></a>VK_EXT_provoking_vertex</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_provoking_vertex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>255</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_provoking_vertex] @jessehall%0A*Here describe the issue or question you have about the VK_EXT_provoking_vertex extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jessehall</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_121"><a class="anchor" href="#_other_extension_metadata_121"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-02-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexis Hétu, Google</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Jamie Madill, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jörg Wagner, Arm</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Piers Daniell, Nvidia</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_121"><a class="anchor" href="#_description_121"></a>Description</h3>
<div class="paragraph">
<p>This extension allows changing the provoking vertex convention between
Vulkan&#8217;s default convention (first vertex) and OpenGL&#8217;s convention (last
vertex).</p>
</div>
<div class="paragraph">
<p>This extension is intended for use by API-translation layers that implement
APIs like OpenGL on top of Vulkan, and need to match the source API&#8217;s
provoking vertex convention.
Applications using Vulkan directly should use Vulkan&#8217;s default convention.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_111"><a class="anchor" href="#_new_structures_111"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceProvokingVertexFeaturesEXT" class="xref page">VkPhysicalDeviceProvokingVertexFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceProvokingVertexPropertiesEXT" class="xref page">VkPhysicalDeviceProvokingVertexPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT" class="xref page">VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_36"><a class="anchor" href="#_new_enums_36"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkProvokingVertexModeEXT" class="xref page">VkProvokingVertexModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_121"><a class="anchor" href="#_new_enum_constants_121"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PROVOKING_VERTEX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PROVOKING_VERTEX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROVOKING_VERTEX_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROVOKING_VERTEX_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_PROVOKING_VERTEX_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_64"><a class="anchor" href="#_issues_64"></a>Issues</h3>
<div class="paragraph">
<p>1) At what granularity should this state be set?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: At pipeline bind, with an optional per-render pass restriction.</p>
</div>
<div class="paragraph">
<p>The most natural place to put this state is in the graphics pipeline object.
Some implementations require it to be known when creating the pipeline, and
pipeline state is convenient for implementing OpenGL 3.2&#8217;s
glProvokingVertex, which can change the state between draw calls.
However, some implementations can only change it approximately render pass
granularity.
To accommodate both, provoking vertex will be pipeline state, but
implementations can require that only one mode is used within a render pass
instance; the render pass&#8217;s mode is chosen implicitly when the first
pipeline is bound.</p>
</div>
<div class="paragraph">
<p>2) Does the provoking vertex mode affect the order that vertices are written
to transform feedback buffers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, to enable layered implementations of OpenGL and D3D.</p>
</div>
<div class="paragraph">
<p>All of OpenGL, OpenGL ES, and Direct3D 11 require that vertices are written
to transform feedback buffers such that flat-shaded attributes have the same
value when drawing the contents of the transform feedback buffer as they did
in the original drawing when the transform feedback buffer was written
(assuming the provoking vertex mode has not changed, in APIs that support
more than one mode).</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_121"><a class="anchor" href="#_version_history_121"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, (1c) 2021-02-22 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added
VkPhysicalDeviceProvokingVertexPropertiesEXT::transformFeedbackPreservesTriangleFanProvokingVertex
to accommodate implementations that cannot change the transform
feedback vertex order for triangle fans.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, (1b) 2020-06-14 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added
VkPhysicalDeviceProvokingVertexFeaturesEXT::transformFeedbackPreservesProvokingVertex
and required that transform feedback write vertices so as to preserve
the provoking vertex of each primitive.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, (1a) 2019-10-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on a proposal by Alexis Hétu</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_queue_family_foreign"><a class="anchor" href="#VK_EXT_queue_family_foreign"></a>VK_EXT_queue_family_foreign</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_queue_family_foreign</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>127</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_queue_family_foreign] @versalinyaa%0A*Here describe the issue or question you have about the VK_EXT_queue_family_foreign extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>versalinyaa</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_122"><a class="anchor" href="#_other_extension_metadata_122"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-11-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_122"><a class="anchor" href="#_description_122"></a>Description</h3>
<div class="paragraph">
<p>This extension defines a special queue family,
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code>, which can be used to transfer ownership
of resources backed by external memory to foreign, external queues.
This is similar to <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>, defined in
<code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code>.
The key differences between the two are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The queues represented by <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code> must share
the same physical device and the same driver version as the current
<a href="../chapters/initialization.html#VkInstance" class="xref page">VkInstance</a>.
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> has no such restrictions.
It can represent devices and drivers from other vendors, and can even
represent non-Vulkan-capable devices.</p>
</li>
<li>
<p>All resources backed by external memory support
<code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>.
Support for <code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> is more restrictive.</p>
</li>
<li>
<p>Applications should expect transitions to/from
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> to be more expensive than transitions
to/from <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_122"><a class="anchor" href="#_new_enum_constants_122"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_QUEUE_FAMILY_FOREIGN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_QUEUE_FAMILY_FOREIGN_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_QUEUE_FAMILY_FOREIGN_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_122"><a class="anchor" href="#_version_history_122"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-11-01 (Lina Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Squashed internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_rasterization_order_attachment_access"><a class="anchor" href="#VK_EXT_rasterization_order_attachment_access"></a>VK_EXT_rasterization_order_attachment_access</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_rasterization_order_attachment_access</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>464</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_rasterization_order_attachment_access] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_rasterization_order_attachment_access extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_rasterization_order_attachment_access.adoc">VK_EXT_rasterization_order_attachment_access</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_123"><a class="anchor" href="#_other_extension_metadata_123"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_123"><a class="anchor" href="#_description_123"></a>Description</h3>
<div class="paragraph">
<p>This extension extends the mechanism of input attachments to allow access to
framebuffer attachments that are used both as input and as color or
depth/stencil attachments from one fragment to the next, in rasterization
order, without explicit synchronization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_112"><a class="anchor" href="#_new_structures_112"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRasterizationOrderAttachmentAccessFeaturesEXT" class="xref page">VkPhysicalDeviceRasterizationOrderAttachmentAccessFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_37"><a class="anchor" href="#_new_enums_37"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkPipelineColorBlendStateCreateFlagBits" class="xref page">VkPipelineColorBlendStateCreateFlagBits</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#VkPipelineDepthStencilStateCreateFlagBits" class="xref page">VkPipelineDepthStencilStateCreateFlagBits</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_123"><a class="anchor" href="#_new_enum_constants_123"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/framebuffer.html#VkPipelineColorBlendStateCreateFlagBits" class="xref page">VkPipelineColorBlendStateCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_COLOR_BLEND_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fragops.html#VkPipelineDepthStencilStateCreateFlagBits" class="xref page">VkPipelineDepthStencilStateCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescriptionFlagBits" class="xref page">VkSubpassDescriptionFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_COLOR_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_10"><a class="anchor" href="#_examples_10"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_123"><a class="anchor" href="#_version_history_123"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-04 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_rgba10x6_formats"><a class="anchor" href="#VK_EXT_rgba10x6_formats"></a>VK_EXT_rgba10x6_formats</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_rgba10x6_formats</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>345</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_rgba10x6_formats] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_rgba10x6_formats extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_124"><a class="anchor" href="#_other_extension_metadata_124"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_124"><a class="anchor" href="#_description_124"></a>Description</h3>
<div class="paragraph">
<p>This extension enables the
<code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16</code> format to be used without
a <a href="../chapters/samplers.html#samplers-YCbCr-conversion" class="xref page">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a> enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_113"><a class="anchor" href="#_new_structures_113"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRGBA10X6FormatsFeaturesEXT" class="xref page">VkPhysicalDeviceRGBA10X6FormatsFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_124"><a class="anchor" href="#_new_enum_constants_124"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_RGBA10X6_FORMATS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_RGBA10X6_FORMATS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RGBA10X6_FORMATS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_65"><a class="anchor" href="#_issues_65"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we reuse the existing format enumeration or introduce a new one?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We reuse an existing format enumeration,
<code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16</code>, that was previously
exclusively used for YCbCr and therefore had a set of limitations related to
that usage.
The alternative was to introduce a new format token with exactly the same
bit representation as the existing token, but without the limitations.</p>
</div>
<div class="paragraph">
<p>2) Should we only introduce
<code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16</code> or also 1-3 component
variations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Only the 4-component format is introduced because the 1- and 2-
component variations are already not exclusive to YCbCr, and the 3-component
variation is not a good match for hardware capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_124"><a class="anchor" href="#_version_history_124"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-09-29 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial EXT version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_robustness2"><a class="anchor" href="#VK_EXT_robustness2"></a>VK_EXT_robustness2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_robustness2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>287</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Liam Middlebrook <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_robustness2] @liam-middlebrook%0A*Here describe the issue or question you have about the VK_EXT_robustness2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>liam-middlebrook</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_125"><a class="anchor" href="#_other_extension_metadata_125"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-01-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_125"><a class="anchor" href="#_description_125"></a>Description</h3>
<div class="paragraph">
<p>This extension adds stricter requirements for how out of bounds reads and
writes are handled.
Most accesses <strong>must</strong> be tightly bounds-checked, out of bounds writes <strong>must</strong> be
discarded, out of bound reads <strong>must</strong> return zero.
Rather than allowing multiple possible <span class="eq">(0,0,0,x)</span> vectors, the out of
bounds values are treated as zero, and then missing components are inserted
based on the format as described in <a href="../chapters/textures.html#textures-conversion-to-rgba" class="xref page">Conversion to RGBA</a> and <a href="../chapters/fxvertex.html#fxvertex-input-extraction" class="xref page">vertex input attributeextraction</a>.</p>
</div>
<div class="paragraph">
<p>These additional requirements <strong>may</strong> be expensive on some implementations, and
should only be enabled when truly necessary.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for &#8220;null descriptors&#8221;, where
<a href="boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> <strong>can</strong> be used instead of a valid handle.
Accesses to null descriptors have well-defined behavior, and do not rely on
robustness.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_114"><a class="anchor" href="#_new_structures_114"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRobustness2FeaturesEXT" class="xref page">VkPhysicalDeviceRobustness2FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRobustness2PropertiesEXT" class="xref page">VkPhysicalDeviceRobustness2PropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_125"><a class="anchor" href="#_new_enum_constants_125"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ROBUSTNESS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ROBUSTNESS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ROBUSTNESS_2_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ROBUSTNESS_2_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_66"><a class="anchor" href="#_issues_66"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Why do
<a href="../chapters/limits.html#VkPhysicalDeviceRobustness2PropertiesEXT" class="xref page">VkPhysicalDeviceRobustness2PropertiesEXT</a>::<code>robustUniformBufferAccessSizeAlignment</code>
and
<a href="../chapters/limits.html#VkPhysicalDeviceRobustness2PropertiesEXT" class="xref page">VkPhysicalDeviceRobustness2PropertiesEXT</a>::<code>robustStorageBufferAccessSizeAlignment</code>
exist?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some implementations cannot efficiently tightly bounds-check all
buffer accesses.
Rather, the size of the bound range is padded to some power of two multiple,
up to 256 bytes for uniform buffers and up to 4 bytes for storage buffers,
and that padded size is bounds-checked.
This is sufficient to implement D3D-like behavior, because D3D only allows
binding whole uniform buffers or ranges that are a multiple of 256 bytes,
and D3D raw and structured buffers only support 32-bit accesses.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_11"><a class="anchor" href="#_examples_11"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_125"><a class="anchor" href="#_version_history_125"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-11-01 (Jeff Bolz, Liam Middlebrook)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_sample_locations"><a class="anchor" href="#VK_EXT_sample_locations"></a>VK_EXT_sample_locations</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_sample_locations</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>144</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_sample_locations] @drakos-amd%0A*Here describe the issue or question you have about the VK_EXT_sample_locations extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_126"><a class="anchor" href="#_other_extension_metadata_126"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-02</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mais Alnasser, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_126"><a class="anchor" href="#_description_126"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to modify the locations of samples
within a pixel used in rasterization.
Additionally, it allows applications to specify different sample locations
for each pixel in a group of adjacent pixels, which <strong>can</strong> increase
antialiasing quality (particularly if a custom resolve shader is used that
takes advantage of these different locations).</p>
</div>
<div class="paragraph">
<p>It is common for implementations to optimize the storage of depth values by
storing values that <strong>can</strong> be used to reconstruct depth at each sample
location, rather than storing separate depth values for each sample.
For example, the depth values from a single triangle <strong>may</strong> be represented
using plane equations.
When the depth value for a sample is needed, it is automatically evaluated
at the sample location.
Modifying the sample locations causes the reconstruction to no longer
evaluate the same depth values as when the samples were originally
generated, thus the depth aspect of a depth/stencil attachment <strong>must</strong> be
cleared before rendering to it using different sample locations.</p>
</div>
<div class="paragraph">
<p>Some implementations <strong>may</strong> need to evaluate depth image values while
performing image layout transitions.
To accommodate this, instances of the <a href="../chapters/primsrast.html#VkSampleLocationsInfoEXT" class="xref page">VkSampleLocationsInfoEXT</a>
structure <strong>can</strong> be specified for each situation where an explicit or
automatic layout transition has to take place.
<a href="../chapters/primsrast.html#VkSampleLocationsInfoEXT" class="xref page">VkSampleLocationsInfoEXT</a> <strong>can</strong> be chained from
<a href="../chapters/synchronization.html#VkImageMemoryBarrier" class="xref page">VkImageMemoryBarrier</a> structures to provide sample locations for layout
transitions performed by <a href="../chapters/synchronization.html#vkCmdWaitEvents" class="xref page">vkCmdWaitEvents</a> and
<a href="../chapters/synchronization.html#vkCmdPipelineBarrier" class="xref page">vkCmdPipelineBarrier</a> calls, and
<a href="../chapters/renderpass.html#VkRenderPassSampleLocationsBeginInfoEXT" class="xref page">VkRenderPassSampleLocationsBeginInfoEXT</a> <strong>can</strong> be chained from
<a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a> to provide sample locations for layout
transitions performed implicitly by a render pass instance.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_64"><a class="anchor" href="#_new_commands_64"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetSampleLocationsEXT" class="xref page">vkCmdSetSampleLocationsEXT</a></p>
</li>
<li>
<p><a href="../chapters/limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT" class="xref page">vkGetPhysicalDeviceMultisamplePropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_115"><a class="anchor" href="#_new_structures_115"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkAttachmentSampleLocationsEXT" class="xref page">VkAttachmentSampleLocationsEXT</a></p>
</li>
<li>
<p><a href="../chapters/limits.html#VkMultisamplePropertiesEXT" class="xref page">VkMultisamplePropertiesEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkSampleLocationEXT" class="xref page">VkSampleLocationEXT</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassSampleLocationsEXT" class="xref page">VkSubpassSampleLocationsEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkImageMemoryBarrier" class="xref page">VkImageMemoryBarrier</a>, <a href="../chapters/synchronization.html#VkImageMemoryBarrier2" class="xref page">VkImageMemoryBarrier2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkSampleLocationsInfoEXT" class="xref page">VkSampleLocationsInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceSampleLocationsPropertiesEXT" class="xref page">VkPhysicalDeviceSampleLocationsPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT" class="xref page">VkPipelineSampleLocationsStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassSampleLocationsBeginInfoEXT" class="xref page">VkRenderPassSampleLocationsBeginInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_126"><a class="anchor" href="#_new_enum_constants_126"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SAMPLE_LOCATIONS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SAMPLE_LOCATIONS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MULTISAMPLE_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLE_LOCATIONS_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_SAMPLE_LOCATIONS_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_SAMPLE_LOCATIONS_BEGIN_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLE_LOCATIONS_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_126"><a class="anchor" href="#_version_history_126"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-02 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_atomic_float"><a class="anchor" href="#VK_EXT_shader_atomic_float"></a>VK_EXT_shader_atomic_float</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_atomic_float</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>261</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_atomic_float] @vkushwaha-nv%0A*Here describe the issue or question you have about the VK_EXT_shader_atomic_float extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_127"><a class="anchor" href="#_other_extension_metadata_127"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_atomic_float_add.html"><code>SPV_EXT_shader_atomic_float_add</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_shader_atomic_float.txt"><code>GL_EXT_shader_atomic_float</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_127"><a class="anchor" href="#_description_127"></a>Description</h3>
<div class="paragraph">
<p>This extension allows a shader to contain floating-point atomic operations
on buffer, workgroup, and image memory.
It also advertises the SPIR-V <code>AtomicFloat32AddEXT</code> and
<code>AtomicFloat64AddEXT</code> capabilities that allows atomic addition on
floating-points numbers.
The supported operations include <code>OpAtomicFAddEXT</code>,
<code>OpAtomicExchange</code>, <code>OpAtomicLoad</code> and <code>OpAtomicStore</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_116"><a class="anchor" href="#_new_structures_116"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderAtomicFloatFeaturesEXT" class="xref page">VkPhysicalDeviceShaderAtomicFloatFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_127"><a class="anchor" href="#_new_enum_constants_127"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_ATOMIC_FLOAT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_ATOMIC_FLOAT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_FLOAT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_13"><a class="anchor" href="#_new_spir_v_capabilities_13"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat32AddEXT" class="xref page">    <code>AtomicFloat32AddEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat64AddEXT" class="xref page">    <code>AtomicFloat64AddEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_127"><a class="anchor" href="#_version_history_127"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-15 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_atomic_float2"><a class="anchor" href="#VK_EXT_shader_atomic_float2"></a>VK_EXT_shader_atomic_float2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_atomic_float2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>274</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_shader_atomic_float">VK_EXT_shader_atomic_float</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_atomic_float2] @gfxstrand%0A*Here describe the issue or question you have about the VK_EXT_shader_atomic_float2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_128"><a class="anchor" href="#_other_extension_metadata_128"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the VK_EXT_shader_atomic_float extension.</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_atomic_float_min_max.html"><code>SPV_EXT_shader_atomic_float_min_max</code></a>
and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_atomic_float16_add.html"><code>SPV_EXT_shader_atomic_float16_add</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_shader_atomic_float2.txt"><code>GLSL_EXT_shader_atomic_float2</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_128"><a class="anchor" href="#_description_128"></a>Description</h3>
<div class="paragraph">
<p>This extension allows a shader to perform 16-bit floating-point atomic
operations on buffer and workgroup memory as well as floating-point atomic
minimum and maximum operations on buffer, workgroup, and image memory.
It advertises the SPIR-V <code>AtomicFloat16AddEXT</code> capability which allows
atomic add operations on 16-bit floating-point numbers and the SPIR-V
<code>AtomicFloat16MinMaxEXT</code>, <code>AtomicFloat32MinMaxEXT</code> and
<code>AtomicFloat64MinMaxEXT</code> capabilities which allow atomic minimum and
maximum operations on floating-point numbers.
The supported operations include <code>OpAtomicFAddEXT</code>, <code>OpAtomicFMinEXT</code>
and <code>OpAtomicFMaxEXT</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_117"><a class="anchor" href="#_new_structures_117"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderAtomicFloat2FeaturesEXT" class="xref page">VkPhysicalDeviceShaderAtomicFloat2FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_128"><a class="anchor" href="#_new_enum_constants_128"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_ATOMIC_FLOAT_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_ATOMIC_FLOAT_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_FLOAT_2_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_67"><a class="anchor" href="#_issues_67"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension add support for 16-bit image atomics?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While Vulkan supports creating storage images with
<code>VK_FORMAT_R16_SFLOAT</code> and doing load and store on them, the data in the
shader has a 32-bit representation.
Vulkan currently has no facility for even basic reading or writing such
images using 16-bit float values in the shader.
Adding such functionality would be required before 16-bit image atomics
would make sense and is outside the scope of this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_14"><a class="anchor" href="#_new_spir_v_capabilities_14"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat16AddEXT" class="xref page">    <code>AtomicFloat32MinMaxEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat16MinMaxEXT" class="xref page">    <code>AtomicFloat32MinMaxEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat32MinMaxEXT" class="xref page">    <code>AtomicFloat32MinMaxEXT</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-AtomicFloat64MinMaxEXT" class="xref page">    <code>AtomicFloat64MinMaxEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_128"><a class="anchor" href="#_version_history_128"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-14 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_image_atomic_int64"><a class="anchor" href="#VK_EXT_shader_image_atomic_int64"></a>VK_EXT_shader_image_atomic_int64</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_image_atomic_int64</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>235</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_image_atomic_int64] @tobski%0A*Here describe the issue or question you have about the VK_EXT_shader_image_atomic_int64 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_129"><a class="anchor" href="#_other_extension_metadata_129"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_image_int64.html"><code>SPV_EXT_shader_image_int64</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_shader_image_int64.txt"><code>GLSL_EXT_shader_image_int64</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Graham Wihlidal, Epic Games</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_129"><a class="anchor" href="#_description_129"></a>Description</h3>
<div class="paragraph">
<p>This extension extends existing 64-bit integer atomic support to enable
these operations on images as well.</p>
</div>
<div class="paragraph">
<p>When working with large 2- or 3-dimensional data sets (e.g. rasterization or
screen-space effects), image accesses are generally more efficient than
equivalent buffer accesses.
This extension allows applications relying on 64-bit integer atomics in this
manner to quickly improve performance with only relatively minor code
changes.</p>
</div>
<div class="paragraph">
<p>64-bit integer atomic support is guaranteed for optimally tiled images with
the <code>VK_FORMAT_R64_UINT</code> and <code>VK_FORMAT_R64_SINT</code> formats.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_118"><a class="anchor" href="#_new_structures_118"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderImageAtomicInt64FeaturesEXT" class="xref page">VkPhysicalDeviceShaderImageAtomicInt64FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_129"><a class="anchor" href="#_new_enum_constants_129"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_IMAGE_ATOMIC_INT64_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_IMAGE_ATOMIC_INT64_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_IMAGE_ATOMIC_INT64_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_129"><a class="anchor" href="#_version_history_129"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_module_identifier"><a class="anchor" href="#VK_EXT_shader_module_identifier"></a>VK_EXT_shader_module_identifier</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_module_identifier</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>463</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_EXT_pipeline_creation_cache_control">VK_EXT_pipeline_creation_cache_control</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_module_identifier] @HansKristian-Work%0A*Here describe the issue or question you have about the VK_EXT_shader_module_identifier extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>HansKristian-Work</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_shader_module_identifier.adoc">VK_EXT_shader_module_identifier</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_130"><a class="anchor" href="#_other_extension_metadata_130"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_130"><a class="anchor" href="#_description_130"></a>Description</h3>
<div class="paragraph">
<p>Some applications generate SPIR-V code at runtime.
When pipeline caches are primed, either explicitly through e.g.
<a href="../chapters/pipelines.html#VkPipelineCache" class="xref page">VkPipelineCache</a> mechanisms, or implicitly through driver managed
caches, having to re-generate SPIR-V modules is redundant.
SPIR-V modules could be cached on disk by an application, but the extra disk
size requirement might be prohibitive in some use cases.</p>
</div>
<div class="paragraph">
<p>This extension adds the ability for an application to query a small
identifier associated with a <a href="../chapters/shaders.html#VkShaderModule" class="xref page">VkShaderModule</a>.
On subsequent runs of the application, the same identifier <strong>can</strong> be provided
in lieu of a <a href="../chapters/shaders.html#VkShaderModule" class="xref page">VkShaderModule</a> object.
A pipeline creation call with such a module <strong>may</strong> succeed if a pipeline could
be created without invoking compilation, and information inside the SPIR-V
module is not required by the implementation.</p>
</div>
<div class="paragraph">
<p><code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT</code> <strong>must</strong> be used
if only the identifier is provided, and this use case is intended to work
like a non-blocking, speculative compile.
Applications <strong>can</strong> fallback as necessary.</p>
</div>
<div class="paragraph">
<p>The main motivation for identifying the module itself and not the entire
pipeline is that pipeline identifiers change when a driver is updated, but
module identifiers are expected to be stable for any particular driver
implementation.
This approach is helpful for shader pre-compilation systems which can prime
pipeline caches ahead of time.
When on-disk pipeline caches are updated, the same shader identifiers could
lead to a pipeline cache hit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_65"><a class="anchor" href="#_new_commands_65"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#vkGetShaderModuleCreateInfoIdentifierEXT" class="xref page">vkGetShaderModuleCreateInfoIdentifierEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkGetShaderModuleIdentifierEXT" class="xref page">vkGetShaderModuleIdentifierEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_119"><a class="anchor" href="#_new_structures_119"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkShaderModuleIdentifierEXT" class="xref page">VkShaderModuleIdentifierEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderModuleIdentifierFeaturesEXT" class="xref page">VkPhysicalDeviceShaderModuleIdentifierFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderModuleIdentifierPropertiesEXT" class="xref page">VkPhysicalDeviceShaderModuleIdentifierPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineShaderStageModuleIdentifierCreateInfoEXT" class="xref page">VkPipelineShaderStageModuleIdentifierCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_130"><a class="anchor" href="#_new_enum_constants_130"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_MODULE_IDENTIFIER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_MODULE_IDENTIFIER_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_SHADER_MODULE_IDENTIFIER_SIZE_EXT</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_MODULE_IDENTIFIER_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_MODULE_IDENTIFIER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_MODULE_IDENTIFIER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_MODULE_IDENTIFIER_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_130"><a class="anchor" href="#_version_history_130"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-16 (Hans-Kristian Arntzen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_object"><a class="anchor" href="#VK_EXT_shader_object"></a>VK_EXT_shader_object</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_object</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>483</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.3" class="xref page">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_object] @daniel-story%0A*Here describe the issue or question you have about the VK_EXT_shader_object extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>daniel-story</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_shader_object.adoc">VK_EXT_shader_object</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_131"><a class="anchor" href="#_other_extension_metadata_131"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-30</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_EXT_extended_dynamic_state">VK_EXT_extended_dynamic_state</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_EXT_extended_dynamic_state2">VK_EXT_extended_dynamic_state2</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_EXT_extended_dynamic_state3">VK_EXT_extended_dynamic_state3</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="#VK_EXT_vertex_input_dynamic_state">VK_EXT_vertex_input_dynamic_state</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Sandy Jamieson, Nintendo</p>
</li>
<li>
<p>Žiga Markuš, LunarG</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Alex Walters, Imagination</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Connor Abott, Valve</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>Patrick Doane, Activision</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Chris Glover, Google</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Timur Kristóf, Valve</p>
</li>
<li>
<p>Constantine Shablya, Collabora</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Alyssa Rosenzweig, Collabora</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Spencer Fricke, LunarG</p>
</li>
<li>
<p>Soroush Faghihi Kashani, Imagination</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_131"><a class="anchor" href="#_description_131"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces a new <a href="../chapters/shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a> object type which
represents a single compiled shader stage.
Shader objects provide a more flexible alternative to <a href="../chapters/pipelines.html#VkPipeline" class="xref page">VkPipeline</a>
objects, which may be helpful in certain use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_9"><a class="anchor" href="#_new_object_types_9"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkShaderEXT" class="xref page">VkShaderEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_66"><a class="anchor" href="#_new_commands_66"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#vkCmdBindShadersEXT" class="xref page">vkCmdBindShadersEXT</a></p>
</li>
<li>
<p><a href="../chapters/fxvertex.html#vkCmdBindVertexBuffers2EXT" class="xref page">vkCmdBindVertexBuffers2EXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetAlphaToCoverageEnableEXT" class="xref page">vkCmdSetAlphaToCoverageEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetAlphaToOneEnableEXT" class="xref page">vkCmdSetAlphaToOneEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendAdvancedEXT" class="xref page">vkCmdSetColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendEnableEXT" class="xref page">vkCmdSetColorBlendEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorBlendEquationEXT" class="xref page">vkCmdSetColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetColorWriteMaskEXT" class="xref page">vkCmdSetColorWriteMaskEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetConservativeRasterizationModeEXT" class="xref page">vkCmdSetConservativeRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetCullModeEXT" class="xref page">vkCmdSetCullModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetDepthBiasEnableEXT" class="xref page">vkCmdSetDepthBiasEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthBoundsTestEnableEXT" class="xref page">vkCmdSetDepthBoundsTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClampEnableEXT" class="xref page">vkCmdSetDepthClampEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClipEnableEXT" class="xref page">vkCmdSetDepthClipEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT" class="xref page">vkCmdSetDepthClipNegativeOneToOneEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthCompareOpEXT" class="xref page">vkCmdSetDepthCompareOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthTestEnableEXT" class="xref page">vkCmdSetDepthTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthWriteEnableEXT" class="xref page">vkCmdSetDepthWriteEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT" class="xref page">vkCmdSetExtraPrimitiveOverestimationSizeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetFrontFaceEXT" class="xref page">vkCmdSetFrontFaceEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetLineRasterizationModeEXT" class="xref page">vkCmdSetLineRasterizationModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetLineStippleEnableEXT" class="xref page">vkCmdSetLineStippleEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetLogicOpEXT" class="xref page">vkCmdSetLogicOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetLogicOpEnableEXT" class="xref page">vkCmdSetLogicOpEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkCmdSetPatchControlPointsEXT" class="xref page">vkCmdSetPatchControlPointsEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetPolygonModeEXT" class="xref page">vkCmdSetPolygonModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdSetPrimitiveRestartEnableEXT" class="xref page">vkCmdSetPrimitiveRestartEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdSetPrimitiveTopologyEXT" class="xref page">vkCmdSetPrimitiveTopologyEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetProvokingVertexModeEXT" class="xref page">vkCmdSetProvokingVertexModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizationSamplesEXT" class="xref page">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizationStreamEXT" class="xref page">vkCmdSetRasterizationStreamEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizerDiscardEnableEXT" class="xref page">vkCmdSetRasterizerDiscardEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetSampleLocationsEnableEXT" class="xref page">vkCmdSetSampleLocationsEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetSampleMaskEXT" class="xref page">vkCmdSetSampleMaskEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetScissorWithCountEXT" class="xref page">vkCmdSetScissorWithCountEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetStencilOpEXT" class="xref page">vkCmdSetStencilOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetStencilTestEnableEXT" class="xref page">vkCmdSetStencilTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/tessellation.html#vkCmdSetTessellationDomainOriginEXT" class="xref page">vkCmdSetTessellationDomainOriginEXT</a></p>
</li>
<li>
<p><a href="../chapters/fxvertex.html#vkCmdSetVertexInputEXT" class="xref page">vkCmdSetVertexInputEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportWithCountEXT" class="xref page">vkCmdSetViewportWithCountEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkCreateShadersEXT" class="xref page">vkCreateShadersEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkDestroyShaderEXT" class="xref page">vkDestroyShaderEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkGetShaderBinaryDataEXT" class="xref page">vkGetShaderBinaryDataEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportWScalingEnableNV" class="xref page">vkCmdSetViewportWScalingEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_coverage_reduction_mode">VK_NV_coverage_reduction_mode</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageReductionModeNV" class="xref page">vkCmdSetCoverageReductionModeNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageToColorEnableNV" class="xref page">vkCmdSetCoverageToColorEnableNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageToColorLocationNV" class="xref page">vkCmdSetCoverageToColorLocationNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationModeNV" class="xref page">vkCmdSetCoverageModulationModeNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationTableEnableNV" class="xref page">vkCmdSetCoverageModulationTableEnableNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetCoverageModulationTableNV" class="xref page">vkCmdSetCoverageModulationTableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV" class="xref page">vkCmdSetRepresentativeFragmentTestEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetShadingRateImageEnableNV" class="xref page">vkCmdSetShadingRateImageEnableNV</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportSwizzleNV" class="xref page">vkCmdSetViewportSwizzleNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_120"><a class="anchor" href="#_new_structures_120"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/framebuffer.html#VkColorBlendAdvancedEXT" class="xref page">VkColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#VkColorBlendEquationEXT" class="xref page">VkColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#VkShaderCreateInfoEXT" class="xref page">VkShaderCreateInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/fxvertex.html#VkVertexInputAttributeDescription2EXT" class="xref page">VkVertexInputAttributeDescription2EXT</a></p>
</li>
<li>
<p><a href="../chapters/fxvertex.html#VkVertexInputBindingDescription2EXT" class="xref page">VkVertexInputBindingDescription2EXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderObjectFeaturesEXT" class="xref page">VkPhysicalDeviceShaderObjectFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderObjectPropertiesEXT" class="xref page">VkPhysicalDeviceShaderObjectPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>, <a href="../chapters/shaders.html#VkShaderCreateInfoEXT" class="xref page">VkShaderCreateInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkShaderRequiredSubgroupSizeCreateInfoEXT" class="xref page">VkShaderRequiredSubgroupSizeCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_38"><a class="anchor" href="#_new_enums_38"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkShaderCodeTypeEXT" class="xref page">VkShaderCodeTypeEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_33"><a class="anchor" href="#_new_bitmasks_33"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkShaderCreateFlagsEXT" class="xref page">VkShaderCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_131"><a class="anchor" href="#_new_enum_constants_131"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_OBJECT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_OBJECT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SHADER_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_SHADER_BINARY_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_OBJECT_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_OBJECT_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_REQUIRED_SUBGROUP_SIZE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_ATTRIBUTE_DESCRIPTION_2_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_BINDING_DESCRIPTION_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_mesh_shader">VK_EXT_mesh_shader</a> or <a href="#VK_NV_mesh_shader">VK_NV_mesh_shader</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_subgroup_size_control">VK_EXT_subgroup_size_control</a> or <a href="versions.html#versions-1.3" class="xref page">Version 1.3</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SHADER_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_device_group">VK_KHR_device_group</a> or <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_DISPATCH_BASE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderCreateFlagBitsEXT" class="xref page">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_12"><a class="anchor" href="#_examples_12"></a>Examples</h3>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Create linked pair of vertex and fragment shaders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Logical device created with the shaderObject feature enabled
VkDevice device;

// SPIR-V shader code for a vertex shader, along with its size in bytes
void* pVertexSpirv;
size_t vertexSpirvSize;

// SPIR-V shader code for a fragment shader, along with its size in bytes
void* pFragmentSpirv;
size_t fragmentSpirvSize;

// Descriptor set layout compatible with the shaders
VkDescriptorSetLayout descriptorSetLayout;

VkShaderCreateInfoEXT shaderCreateInfos[2] =
{
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = VK_SHADER_CREATE_LINK_STAGE_BIT_EXT,
        .stage = VK_SHADER_STAGE_VERTEX_BIT,
        .nextStage = VK_SHADER_STAGE_FRAGMENT_BIT,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = vertexSpirvSize,
        .pCode = pVertexSpirv,
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    },
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = VK_SHADER_CREATE_LINK_STAGE_BIT_EXT,
        .stage = VK_SHADER_STAGE_FRAGMENT_BIT,
        .nextStage = 0,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = fragmentSpirvSize,
        .pCode = pFragmentSpirv,
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    }
};

VkResult result;
VkShaderEXT shaders[2];

result = vkCreateShadersEXT(device, 2, &amp;shaderCreateInfos, NULL, shaders);
if (result != VK_SUCCESS)
{
    // Handle error
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Later, during command buffer recording, bind the linked shaders and draw.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Command buffer in the recording state
VkCommandBuffer commandBuffer;

// Vertex and fragment shader objects created above
VkShaderEXT shaders[2];

// Assume vertex buffers, descriptor sets, etc. have been bound, and existing
// state setting commands have been called to set all required state

const VkShaderStageFlagBits stages[2] =
{
    VK_SHADER_STAGE_VERTEX_BIT,
    VK_SHADER_STAGE_FRAGMENT_BIT
};

// Bind linked shaders
vkCmdBindShadersEXT(commandBuffer, 2, stages, shaders);

// Equivalent to the previous line. Linked shaders can be bound one at a time,
// in any order:
// vkCmdBindShadersEXT(commandBuffer, 1, &amp;stages[1], &amp;shaders[1]);
// vkCmdBindShadersEXT(commandBuffer, 1, &amp;stages[0], &amp;shaders[0]);

// The above is sufficient to draw if the device was created with the
// tessellationShader and geometryShader features disabled. Otherwise, since
// those stages should not execute, vkCmdBindShadersEXT() must be called at
// least once with each of their stages in pStages before drawing:

const VkShaderStageFlagBits unusedStages[3] =
{
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT,
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT,
    VK_SHADER_STAGE_GEOMETRY_BIT
};

// NULL pShaders is equivalent to an array of stageCount VK_NULL_HANDLE values,
// meaning no shaders are bound to those stages, and that any previously bound
// shaders are unbound
vkCmdBindShadersEXT(commandBuffer, 3, unusedStages, NULL);

// Graphics shader objects may only be used to draw inside dynamic render pass
// instances begun with vkCmdBeginRendering(), assume one has already been begun

// Draw a triangle
vkCmdDraw(commandBuffer, 3, 1, 0, 0);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Create unlinked vertex, geometry, and fragment shaders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Logical device created with the shaderObject feature enabled
VkDevice device;

// SPIR-V shader code for vertex shaders, along with their sizes in bytes
void* pVertexSpirv[2];
size_t vertexSpirvSize[2];

// SPIR-V shader code for a geometry shader, along with its size in bytes
void pGeometrySpirv;
size_t geometrySpirvSize;

// SPIR-V shader code for fragment shaders, along with their sizes in bytes
void* pFragmentSpirv[2];
size_t fragmentSpirvSize[2];

// Descriptor set layout compatible with the shaders
VkDescriptorSetLayout descriptorSetLayout;

VkShaderCreateInfoEXT shaderCreateInfos[5] =
{
    // Stage order does not matter
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .stage = VK_SHADER_STAGE_GEOMETRY_BIT,
        .nextStage = VK_SHADER_STAGE_FRAGMENT_BIT,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = pGeometrySpirv,
        .pCode = geometrySpirvSize,
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    },
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .stage = VK_SHADER_STAGE_VERTEX_BIT,
        .nextStage = VK_SHADER_STAGE_GEOMETRY_BIT,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = vertexSpirvSize[0],
        .pCode = pVertexSpirv[0],
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    },
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .stage = VK_SHADER_STAGE_FRAGMENT_BIT,
        .nextStage = 0,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = fragmentSpirvSize[0],
        .pCode = pFragmentSpirv[0],
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    },
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .stage = VK_SHADER_STAGE_FRAGMENT_BIT,
        .nextStage = 0,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = fragmentSpirvSize[1],
        .pCode = pFragmentSpirv[1],
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    },
    {
        .sType = VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = 0,
        .stage = VK_SHADER_STAGE_VERTEX_BIT,
        // Suppose we want this vertex shader to be able to be followed by
        // either a geometry shader or fragment shader:
        .nextStage = VK_SHADER_STAGE_GEOMETRY_BIT | VK_SHADER_STAGE_FRAGMENT_BIT,
        .codeType = VK_SHADER_CODE_TYPE_SPIRV_EXT,
        .codeSize = vertexSpirvSize[1],
        .pCode = pVertexSpirv[1],
        .pName = "main",
        .setLayoutCount = 1,
        .pSetLayouts = &amp;descriptorSetLayout;
        .pushConstantRangeCount = 0,
        .pPushConstantRanges = NULL,
        .pSpecializationInfo = NULL
    }
};

VkResult result;
VkShaderEXT shaders[5];

result = vkCreateShadersEXT(device, 5, &amp;shaderCreateInfos, NULL, shaders);
if (result != VK_SUCCESS)
{
    // Handle error
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Later, during command buffer recording, bind the linked shaders in different
combinations and draw.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Command buffer in the recording state
VkCommandBuffer commandBuffer;

// Vertex, geometry, and fragment shader objects created above
VkShaderEXT shaders[5];

// Assume vertex buffers, descriptor sets, etc. have been bound, and existing
// state setting commands have been called to set all required state

const VkShaderStageFlagBits stages[3] =
{
    // Any order is allowed
    VK_SHADER_STAGE_FRAGMENT_BIT,
    VK_SHADER_STAGE_VERTEX_BIT,
    VK_SHADER_STAGE_GEOMETRY_BIT,
};

VkShaderEXT bindShaders[3] =
{
    shaders[2], // FS
    shaders[1], // VS
    shaders[0]  // GS
};

// Bind unlinked shaders
vkCmdBindShadersEXT(commandBuffer, 3, stages, bindShaders);

// Assume the tessellationShader feature is disabled, so vkCmdBindShadersEXT()
// need not have been called with either tessellation stage

// Graphics shader objects may only be used to draw inside dynamic render pass
// instances begun with vkCmdBeginRendering(), assume one has already been begun

// Draw a triangle
vkCmdDraw(commandBuffer, 3, 1, 0, 0);

// Bind a different unlinked fragment shader
const VkShaderStageFlagBits fragmentStage = VK_SHADER_STAGE_FRAGMENT_BIT;
vkCmdBindShadersEXT(commandBuffer, 1, &amp;fragmentStage, &amp;shaders[3]);

// Draw another triangle
vkCmdDraw(commandBuffer, 3, 1, 0, 0);

// Bind a different unlinked vertex shader
const VkShaderStageFlagBits vertexStage = VK_SHADER_STAGE_VERTEX_BIT;
vkCmdBindShadersEXT(commandBuffer, 1, &amp;vertexStage, &amp;shaders[4]);

// Draw another triangle
vkCmdDraw(commandBuffer, 3, 1, 0, 0);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_131"><a class="anchor" href="#_version_history_131"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-30 (Daniel Story)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_stencil_export"><a class="anchor" href="#VK_EXT_shader_stencil_export"></a>VK_EXT_shader_stencil_export</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_stencil_export</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>141</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_stencil_export] @dominikwitczakamd%0A*Here describe the issue or question you have about the VK_EXT_shader_stencil_export extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_132"><a class="anchor" href="#_other_extension_metadata_132"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_stencil_export.html"><code>SPV_EXT_shader_stencil_export</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_stencil_export.txt"><code>GL_ARB_shader_stencil_export</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_132"><a class="anchor" href="#_description_132"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the SPIR-V extension
<code>SPV_EXT_shader_stencil_export</code>, providing a mechanism whereby a shader may
generate the stencil reference value per invocation.
When stencil testing is enabled, this allows the test to be performed
against the value generated in the shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_132"><a class="anchor" href="#_new_enum_constants_132"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_STENCIL_EXPORT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_STENCIL_EXPORT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_132"><a class="anchor" href="#_version_history_132"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-19 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_tile_image"><a class="anchor" href="#VK_EXT_shader_tile_image"></a>VK_EXT_shader_tile_image</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_tile_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>396</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.3" class="xref page">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_tile_image] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_shader_tile_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_shader_tile_image.adoc">VK_EXT_shader_tile_image</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_133"><a class="anchor" href="#_other_extension_metadata_133"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-23</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_tile_image.html"><code>SPV_EXT_shader_tile_image</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://raw.githubusercontent.com/KhronosGroup/GLSL/master/extensions/ext/GLSL_EXT_shader_tile_image.txt"><code>GL_EXT_shader_tile_image</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Kakarlapudi, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Huilong Wang, Huawei</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_133"><a class="anchor" href="#_description_133"></a>Description</h3>
<div class="paragraph">
<p>This extension allows fragment shader invocations to read color, depth and
stencil values at their pixel location in rasterization order.
The functionality is only available when using dynamic render passes
introduced by VK_KHR_dynamic_rendering.
Example use cases are programmable blending and deferred shading.</p>
</div>
<div class="paragraph">
<p>See <a href="../chapters/fragops.html#fragops-shader-tileimage-reads" class="xref page">fragment shader tile image reads</a> for
more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_121"><a class="anchor" href="#_new_structures_121"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderTileImageFeaturesEXT" class="xref page">VkPhysicalDeviceShaderTileImageFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceShaderTileImagePropertiesEXT" class="xref page">VkPhysicalDeviceShaderTileImagePropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_133"><a class="anchor" href="#_new_enum_constants_133"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_TILE_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_TILE_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TILE_IMAGE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TILE_IMAGE_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_68"><a class="anchor" href="#_issues_68"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_13"><a class="anchor" href="#_examples_13"></a>Examples</h3>
<div class="paragraph">
<p>Color read example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">layout( location = 0 /* aliased to color attachment 0 */ ) tileImageEXT highp attachmentEXT color0;
layout( location = 1 /* aliased to color attachment 1 */ ) tileImageEXT highp attachmentEXT color1;

layout( location = 0 ) out vec4 fragColor;

void main()
{
    vec4 value = colorAttachmentReadEXT(color0) + colorAttachmentReadEXT(color1);
    fragColor = value;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depth &amp; Stencil read example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void main()
{
    // read sample 0: works for non-MSAA or MSAA targets
    highp float last_depth = depthAttachmentReadEXT();
    lowp uint last_stencil = stencilAttachmentReadEXT();

    //..
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_133"><a class="anchor" href="#_version_history_133"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-23 (Sandeep Kakarlapudi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_subpass_merge_feedback"><a class="anchor" href="#VK_EXT_subpass_merge_feedback"></a>VK_EXT_subpass_merge_feedback</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_subpass_merge_feedback</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>459</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ting Wei <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_subpass_merge_feedback] @catweiting%0A*Here describe the issue or question you have about the VK_EXT_subpass_merge_feedback extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>catweiting</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_subpass_merge_feedback.adoc">VK_EXT_subpass_merge_feedback</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_134"><a class="anchor" href="#_other_extension_metadata_134"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jorg Wagner, Arm</p>
</li>
<li>
<p>Ting Wei, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_134"><a class="anchor" href="#_description_134"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a mechanism to provide feedback to an application about
whether the subpasses specified on render pass creation are merged by the
implementation.
Additionally, it provides a control to enable or disable subpass merging in
the render pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_122"><a class="anchor" href="#_new_structures_122"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassCreationFeedbackInfoEXT" class="xref page">VkRenderPassCreationFeedbackInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassSubpassFeedbackInfoEXT" class="xref page">VkRenderPassSubpassFeedbackInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSubpassMergeFeedbackFeaturesEXT" class="xref page">VkPhysicalDeviceSubpassMergeFeedbackFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateInfo2" class="xref page">VkRenderPassCreateInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassCreationFeedbackCreateInfoEXT" class="xref page">VkRenderPassCreationFeedbackCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateInfo2" class="xref page">VkRenderPassCreateInfo2</a>, <a href="../chapters/renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassCreationControlEXT" class="xref page">VkRenderPassCreationControlEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassSubpassFeedbackCreateInfoEXT" class="xref page">VkRenderPassSubpassFeedbackCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_39"><a class="anchor" href="#_new_enums_39"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassMergeStatusEXT" class="xref page">VkSubpassMergeStatusEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_134"><a class="anchor" href="#_new_enum_constants_134"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SUBPASS_MERGE_FEEDBACK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SUBPASS_MERGE_FEEDBACK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SUBPASS_MERGE_FEEDBACK_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATION_CONTROL_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATION_FEEDBACK_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_SUBPASS_FEEDBACK_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_134"><a class="anchor" href="#_version_history_134"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-10</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-05-24</p>
<div class="ulist">
<ul>
<li>
<p>Fix structextends and constness issues.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_surface_maintenance1"><a class="anchor" href="#VK_EXT_surface_maintenance1"></a>VK_EXT_surface_maintenance1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_surface_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>275</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_surface_maintenance1] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_surface_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_surface_maintenance1.adoc">VK_EXT_surface_maintenance1</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_135"><a class="anchor" href="#_other_extension_metadata_135"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Daniel Stone, Collabora</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_135"><a class="anchor" href="#_description_135"></a>Description</h3>
<div class="paragraph">
<p><code><a href="#VK_EXT_surface_maintenance1">VK_EXT_surface_maintenance1</a></code> adds a collection of window system
integration features that were intentionally left out or overlooked in the
original <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow querying number of min/max images from a surface for a particular
presentation mode.</p>
</li>
<li>
<p>Allow querying a surface&#8217;s scaled presentation capabilities.</p>
</li>
<li>
<p>Allow querying a surface for the set of presentation modes which can be
easily switched between without requiring swapchain recreation.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_123"><a class="anchor" href="#_new_structures_123"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPhysicalDeviceSurfaceInfo2KHR" class="xref page">VkPhysicalDeviceSurfaceInfo2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfacePresentModeEXT" class="xref page">VkSurfacePresentModeEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfacePresentModeCompatibilityEXT" class="xref page">VkSurfacePresentModeCompatibilityEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfacePresentScalingCapabilitiesEXT" class="xref page">VkSurfacePresentScalingCapabilitiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_40"><a class="anchor" href="#_new_enums_40"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentGravityFlagBitsEXT" class="xref page">VkPresentGravityFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentScalingFlagBitsEXT" class="xref page">VkPresentScalingFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_34"><a class="anchor" href="#_new_bitmasks_34"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentGravityFlagsEXT" class="xref page">VkPresentGravityFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentScalingFlagsEXT" class="xref page">VkPresentScalingFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_135"><a class="anchor" href="#_new_enum_constants_135"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SURFACE_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SURFACE_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_COMPATIBILITY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PRESENT_SCALING_CAPABILITIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_135"><a class="anchor" href="#_version_history_135"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2019-02-27 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-11-09 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Add functionality and complete spec</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_swapchain_colorspace"><a class="anchor" href="#VK_EXT_swapchain_colorspace"></a>VK_EXT_swapchain_colorspace</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_swapchain_colorspace</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>105</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_swapchain_colorspace] @courtney-g%0A*Here describe the issue or question you have about the VK_EXT_swapchain_colorspace extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_136"><a class="anchor" href="#_other_extension_metadata_136"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_136"><a class="anchor" href="#_description_136"></a>Description</h3>
<div class="paragraph">
<p>This extension expands <a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a> to add support for most
standard color spaces beyond <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.
This extension also adds support for <code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code>
which allows applications to use color spaces not explicitly enumerated in
<a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_136"><a class="anchor" href="#_new_enum_constants_136"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SWAPCHAIN_COLOR_SPACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SWAPCHAIN_COLOR_SPACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT2020_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_NONLINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DOLBYVISION_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_HLG_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_ST2084_EXT</code></p>
</li>
<li>
<p><code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_69"><a class="anchor" href="#_issues_69"></a>Issues</h3>
<div class="paragraph">
<p>1) Does the spec need to specify which kinds of image formats support the
color spaces?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Pixel format is independent of color space (though some color
spaces really want / need floating point color components to be useful).
Therefore, do not plan on documenting what formats support which color
spaces.
An application <strong>can</strong> call <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a> to query
what a particular implementation supports.</p>
</div>
<div class="paragraph">
<p>2) How does application determine if HW supports appropriate transfer
function for a color space?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension indicates that implementation <strong>must</strong> not do the OETF
encoding if it is not sRGB.
That responsibility falls to the application shaders.
Any other native OETF / EOTF functions supported by an implementation can be
described by separate extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_136"><a class="anchor" href="#_version_history_136"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-27 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-19 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Add pass through and multiple options for BT2020.</p>
</li>
<li>
<p>Clean up some issues with equations not displaying properly.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-06-23 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Add extended sRGB non-linear enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2019-04-26 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify color space transfer function usage.</p>
</li>
<li>
<p>Refer to normative definitions in the Data Format Specification.</p>
</li>
<li>
<p>Clarify DCI-P3 and Display P3 usage.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_swapchain_maintenance1"><a class="anchor" href="#VK_EXT_swapchain_maintenance1"></a>VK_EXT_swapchain_maintenance1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_swapchain_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>276</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_EXT_surface_maintenance1">VK_EXT_surface_maintenance1</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_swapchain_maintenance1] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_swapchain_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_swapchain_maintenance1.adoc">VK_EXT_swapchain_maintenance1</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_137"><a class="anchor" href="#_other_extension_metadata_137"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-10-28</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Yiwei Zhang, Google</p>
</li>
<li>
<p>Charlie Lao, Google</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Igor Nazarov, Samsung</p>
</li>
<li>
<p>Hyunchang Kim, Samsung</p>
</li>
<li>
<p>Suenghwan Lee, Samsung</p>
</li>
<li>
<p>Munseong Kang, Samsung</p>
</li>
<li>
<p>Joonyong Park, Samsung</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Lisa Wu, Arm</p>
</li>
<li>
<p>Daniel Stone, Collabora</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_137"><a class="anchor" href="#_description_137"></a>Description</h3>
<div class="paragraph">
<p><code><a href="#VK_EXT_swapchain_maintenance1">VK_EXT_swapchain_maintenance1</a></code> adds a collection of window system
integration features that were intentionally left out or overlooked in the
original <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specify a fence that will be signaled when the resources associated with
a present operation <strong>can</strong> be safely destroyed.</p>
</li>
<li>
<p>Allow changing the present mode a swapchain is using at per-present
granularity.</p>
</li>
<li>
<p>Allow applications to define the behavior when presenting a swapchain
image to a surface with different dimensions than the image.
Using this feature <strong>may</strong> allow implementations to avoid returning
<code>VK_ERROR_OUT_OF_DATE_KHR</code> in this situation.</p>
</li>
<li>
<p>Allow applications to defer swapchain memory allocation for improved
startup time and memory footprint.</p>
</li>
<li>
<p>Allow applications to release previously acquired images without
presenting them.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_67"><a class="anchor" href="#_new_commands_67"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkReleaseSwapchainImagesEXT" class="xref page">vkReleaseSwapchainImagesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_124"><a class="anchor" href="#_new_structures_124"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkReleaseSwapchainImagesInfoEXT" class="xref page">VkReleaseSwapchainImagesInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSwapchainMaintenance1FeaturesEXT" class="xref page">VkPhysicalDeviceSwapchainMaintenance1FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainPresentFenceInfoEXT" class="xref page">VkSwapchainPresentFenceInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainPresentModeInfoEXT" class="xref page">VkSwapchainPresentModeInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainPresentModesCreateInfoEXT" class="xref page">VkSwapchainPresentModesCreateInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainPresentScalingCreateInfoEXT" class="xref page">VkSwapchainPresentScalingCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_137"><a class="anchor" href="#_new_enum_constants_137"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SWAPCHAIN_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SWAPCHAIN_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SWAPCHAIN_MAINTENANCE_1_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RELEASE_SWAPCHAIN_IMAGES_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_FENCE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODES_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_MODE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_SCALING_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagBitsKHR" class="xref page">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_DEFERRED_MEMORY_ALLOCATION_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_137"><a class="anchor" href="#_version_history_137"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2019-05-28</p>
<div class="ulist">
<ul>
<li>
<p>Initial revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-08-21 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Add functionality and complete spec</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_transform_feedback"><a class="anchor" href="#VK_EXT_transform_feedback"></a>VK_EXT_transform_feedback</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_transform_feedback</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>29</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Uses</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_transform_feedback] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_transform_feedback extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_138"><a class="anchor" href="#_other_extension_metadata_138"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Boris Zanin, Mobica</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Donald Scorgie, Imagination</p>
</li>
<li>
<p>Henri Verbeet, CodeWeavers</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Philip Rebohle, DXVK</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Stu Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_138"><a class="anchor" href="#_description_138"></a>Description</h3>
<div class="paragraph">
<p>This extension adds transform feedback to the Vulkan API by exposing the
SPIR-V <code>TransformFeedback</code> and <code>GeometryStreams</code> capabilities to
capture vertex, tessellation or geometry shader outputs to one or more
buffers.
It adds API functionality to bind transform feedback buffers to capture the
primitives emitted by the graphics pipeline from SPIR-V outputs decorated
for transform feedback.
The transform feedback capture can be paused and resumed by way of storing
and retrieving a byte counter.
The captured data can be drawn again where the vertex count is derived from
the byte counter without CPU intervention.
If the implementation is capable, a vertex stream other than zero can be
rasterized.</p>
</div>
<div class="paragraph">
<p>All these features are designed to match the full capabilities of OpenGL
core transform feedback functionality and beyond.
Many of the features are optional to allow base OpenGL ES GPUs to also
implement this extension.</p>
</div>
<div class="paragraph">
<p>The primary purpose of the functionality exposed by this extension is to
support translation layers from other 3D APIs.
This functionality is not considered forward looking, and is not expected to
be promoted to a KHR extension or to core Vulkan.
Unless this is needed for translation, it is recommended that developers use
alternative techniques of using the GPU to process and capture vertex data.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_68"><a class="anchor" href="#_new_commands_68"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#vkCmdBeginQueryIndexedEXT" class="xref page">vkCmdBeginQueryIndexedEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdBeginTransformFeedbackEXT" class="xref page">vkCmdBeginTransformFeedbackEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdBindTransformFeedbackBuffersEXT" class="xref page">vkCmdBindTransformFeedbackBuffersEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawIndirectByteCountEXT" class="xref page">vkCmdDrawIndirectByteCountEXT</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkCmdEndQueryIndexedEXT" class="xref page">vkCmdEndQueryIndexedEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdEndTransformFeedbackEXT" class="xref page">vkCmdEndTransformFeedbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_125"><a class="anchor" href="#_new_structures_125"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceTransformFeedbackFeaturesEXT" class="xref page">VkPhysicalDeviceTransformFeedbackFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT" class="xref page">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationStateStreamCreateInfoEXT" class="xref page">VkPipelineRasterizationStateStreamCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_35"><a class="anchor" href="#_new_bitmasks_35"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationStateStreamCreateFlagsEXT" class="xref page">VkPipelineRasterizationStateStreamCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_138"><a class="anchor" href="#_new_enum_constants_138"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_TRANSFORM_FEEDBACK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_TRANSFORM_FEEDBACK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_WRITE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_COUNTER_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_TRANSFORM_FEEDBACK_STREAM_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TRANSFORM_FEEDBACK_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TRANSFORM_FEEDBACK_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_STREAM_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_70"><a class="anchor" href="#_issues_70"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we include pause/resume functionality?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed to ease layering other APIs which have this
functionality.
To pause use <code>vkCmdEndTransformFeedbackEXT</code> and provide valid buffer
handles in the <code>pCounterBuffers</code> array and offsets in the
<code>pCounterBufferOffsets</code> array for the implementation to save the resume
points.
Then to resume use <code>vkCmdBeginTransformFeedbackEXT</code> with the previous
<code>pCounterBuffers</code> and <code>pCounterBufferOffsets</code> values.
Between the pause and resume there needs to be a memory barrier for the
counter buffers with a source access of
<code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT</code> at pipeline stage
<code>VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT</code> to a destination access
of <code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXT</code> at pipeline stage
<code>VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT</code>.</p>
</div>
<div class="paragraph">
<p>2) How does this interact with multiview?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Transform feedback cannot be made active in a render pass with
multiview enabled.</p>
</div>
<div class="paragraph">
<p>3) How should queries be done?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is a new query type
<code>VK_QUERY_TYPE_TRANSFORM_FEEDBACK_STREAM_EXT</code>.
A query pool created with this type will capture 2 integers -
numPrimitivesWritten and numPrimitivesNeeded - for the specified vertex
stream output from the last
<a href="../chapters/pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shaderstage</a>.
The vertex stream output queried is zero by default, but can be specified
with the new <code>vkCmdBeginQueryIndexedEXT</code> and
<code>vkCmdEndQueryIndexedEXT</code> commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_138"><a class="anchor" href="#_version_history_138"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-09 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_validation_cache"><a class="anchor" href="#VK_EXT_validation_cache"></a>VK_EXT_validation_cache</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_validation_cache</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>161</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Cort Stratton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_validation_cache] @cdwfs%0A*Here describe the issue or question you have about the VK_EXT_validation_cache extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cdwfs</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_139"><a class="anchor" href="#_other_extension_metadata_139"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Cort Stratton, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_139"><a class="anchor" href="#_description_139"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a mechanism for caching the results of potentially
expensive internal validation operations across multiple runs of a Vulkan
application.
At the core is the <a href="../chapters/shaders.html#VkValidationCacheEXT" class="xref page">VkValidationCacheEXT</a> object type, which is managed
similarly to the existing <a href="../chapters/pipelines.html#VkPipelineCache" class="xref page">VkPipelineCache</a>.</p>
</div>
<div class="paragraph">
<p>The new struct <a href="../chapters/shaders.html#VkShaderModuleValidationCacheCreateInfoEXT" class="xref page">VkShaderModuleValidationCacheCreateInfoEXT</a> can be
included in the <code>pNext</code> chain at <a href="../chapters/shaders.html#vkCreateShaderModule" class="xref page">vkCreateShaderModule</a> time.
It contains a <a href="../chapters/shaders.html#VkValidationCacheEXT" class="xref page">VkValidationCacheEXT</a> to use when validating the
<a href="../chapters/shaders.html#VkShaderModule" class="xref page">VkShaderModule</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_10"><a class="anchor" href="#_new_object_types_10"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkValidationCacheEXT" class="xref page">VkValidationCacheEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_69"><a class="anchor" href="#_new_commands_69"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#vkCreateValidationCacheEXT" class="xref page">vkCreateValidationCacheEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkDestroyValidationCacheEXT" class="xref page">vkDestroyValidationCacheEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkGetValidationCacheDataEXT" class="xref page">vkGetValidationCacheDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkMergeValidationCachesEXT" class="xref page">vkMergeValidationCachesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_126"><a class="anchor" href="#_new_structures_126"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkValidationCacheCreateInfoEXT" class="xref page">VkValidationCacheCreateInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/shaders.html#VkShaderModuleCreateInfo" class="xref page">VkShaderModuleCreateInfo</a>, <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkShaderModuleValidationCacheCreateInfoEXT" class="xref page">VkShaderModuleValidationCacheCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_41"><a class="anchor" href="#_new_enums_41"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkValidationCacheHeaderVersionEXT" class="xref page">VkValidationCacheHeaderVersionEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_36"><a class="anchor" href="#_new_bitmasks_36"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkValidationCacheCreateFlagsEXT" class="xref page">VkValidationCacheCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_139"><a class="anchor" href="#_new_enum_constants_139"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VALIDATION_CACHE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VALIDATION_CACHE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_VALIDATION_CACHE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_MODULE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_139"><a class="anchor" href="#_version_history_139"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-29 (Cort Stratton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_validation_features"><a class="anchor" href="#VK_EXT_validation_features"></a>VK_EXT_validation_features</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_validation_features</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>248</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Karl Schultz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_validation_features] @karl-lunarg%0A*Here describe the issue or question you have about the VK_EXT_validation_features extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>karl-lunarg</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_140"><a class="anchor" href="#_other_extension_metadata_140"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Karl Schultz, LunarG</p>
</li>
<li>
<p>Dave Houlton, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
<li>
<p>Camden Stocker, LunarG</p>
</li>
<li>
<p>Tony Barbour, LunarG</p>
</li>
<li>
<p>John Zulauf, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_140"><a class="anchor" href="#_description_140"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the <a href="../chapters/initialization.html#VkValidationFeaturesEXT" class="xref page">VkValidationFeaturesEXT</a> struct that can be
included in the <code>pNext</code> chain of the <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>
structure passed as the <code>pCreateInfo</code> parameter of
<a href="../chapters/initialization.html#vkCreateInstance" class="xref page">vkCreateInstance</a>.
The structure contains an array of <a href="../chapters/initialization.html#VkValidationFeatureEnableEXT" class="xref page">VkValidationFeatureEnableEXT</a> enum
values that enable specific validation features that are disabled by
default.
The structure also contains an array of <a href="../chapters/initialization.html#VkValidationFeatureDisableEXT" class="xref page">VkValidationFeatureDisableEXT</a>
enum values that disable specific validation layer features that are enabled
by default.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code><a href="#VK_EXT_validation_features">VK_EXT_validation_features</a></code> extension subsumes all the
functionality provided in the <code><a href="#VK_EXT_validation_flags">VK_EXT_validation_flags</a></code> extension.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_127"><a class="anchor" href="#_new_structures_127"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkValidationFeaturesEXT" class="xref page">VkValidationFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_42"><a class="anchor" href="#_new_enums_42"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkValidationFeatureDisableEXT" class="xref page">VkValidationFeatureDisableEXT</a></p>
</li>
<li>
<p><a href="../chapters/initialization.html#VkValidationFeatureEnableEXT" class="xref page">VkValidationFeatureEnableEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_140"><a class="anchor" href="#_new_enum_constants_140"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VALIDATION_FEATURES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VALIDATION_FEATURES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VALIDATION_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_140"><a class="anchor" href="#_version_history_140"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-14 (Karl Schultz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-08-06 (Mark Lobodzinski)</p>
<div class="ulist">
<ul>
<li>
<p>Add Best Practices enable</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-03-04 (Tony Barbour)</p>
<div class="ulist">
<ul>
<li>
<p>Add Debug Printf enable</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-07-29 (John Zulauf)</p>
<div class="ulist">
<ul>
<li>
<p>Add Synchronization Validation enable</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2021-05-18 (Tony Barbour)</p>
<div class="ulist">
<ul>
<li>
<p>Add Shader Validation Cache disable</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_vertex_attribute_divisor"><a class="anchor" href="#VK_EXT_vertex_attribute_divisor"></a>VK_EXT_vertex_attribute_divisor</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_vertex_attribute_divisor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>191</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_vertex_attribute_divisor] @vkushwaha%0A*Here describe the issue or question you have about the VK_EXT_vertex_attribute_divisor extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_141"><a class="anchor" href="#_other_extension_metadata_141"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-03</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_141"><a class="anchor" href="#_description_141"></a>Description</h3>
<div class="paragraph">
<p>This extension allows instance-rate vertex attributes to be repeated for
certain number of instances instead of advancing for every instance when
instanced rendering is enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_128"><a class="anchor" href="#_new_structures_128"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fxvertex.html#VkVertexInputBindingDivisorDescriptionEXT" class="xref page">VkVertexInputBindingDivisorDescriptionEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceVertexAttributeDivisorFeaturesEXT" class="xref page">VkPhysicalDeviceVertexAttributeDivisorFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceVertexAttributeDivisorPropertiesEXT" class="xref page">VkPhysicalDeviceVertexAttributeDivisorPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfoEXT" class="xref page">VkPipelineVertexInputDivisorStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_141"><a class="anchor" href="#_new_enum_constants_141"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VERTEX_ATTRIBUTE_DIVISOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VERTEX_ATTRIBUTE_DIVISOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_DIVISOR_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_71"><a class="anchor" href="#_issues_71"></a>Issues</h3>
<div class="paragraph">
<p>1) What is the effect of a non-zero value for <code>firstInstance</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The Vulkan API should follow the OpenGL convention and offset
attribute fetching by <code>firstInstance</code> while computing vertex attribute
offsets.</p>
</div>
<div class="paragraph">
<p>2) Should zero be an allowed divisor?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
A zero divisor means the vertex attribute is repeated for all instances.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_14"><a class="anchor" href="#_examples_14"></a>Examples</h3>
<div class="paragraph">
<p>To create a vertex binding such that the first binding uses instanced
rendering and the same attribute is used for every 4 draw instances, an
application could use the following set of structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    const VkVertexInputBindingDivisorDescriptionEXT divisorDesc =
    {
        .binding = 0,
        .divisor = 4
    };

    const VkPipelineVertexInputDivisorStateCreateInfoEXT divisorInfo =
    {
        .sType = VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_DIVISOR_STATE_CREATE_INFO_EXT,
        .pNext = NULL,
        .vertexBindingDivisorCount = 1,
        .pVertexBindingDivisors = &amp;divisorDesc
    }

    const VkVertexInputBindingDescription binding =
    {
        .binding = 0,
        .stride = sizeof(Vertex),
        .inputRate = VK_VERTEX_INPUT_RATE_INSTANCE
    };

    const VkPipelineVertexInputStateCreateInfo viInfo =
    {
        .sType = VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_CREATE_INFO,
        .pNext = &amp;divisorInfo,
        ...
    };
    //...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_141"><a class="anchor" href="#_version_history_141"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-12-04 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>First Version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-07-16 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Adjust the interaction between <code>divisor</code> and <code>firstInstance</code> to
match the OpenGL convention.</p>
</li>
<li>
<p>Disallow divisors of zero.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-08-03 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Allow a zero divisor.</p>
</li>
<li>
<p>Add a physical device features structure to query/enable this feature.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_vertex_input_dynamic_state"><a class="anchor" href="#VK_EXT_vertex_input_dynamic_state"></a>VK_EXT_vertex_input_dynamic_state</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_vertex_input_dynamic_state</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>353</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_vertex_input_dynamic_state] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_vertex_input_dynamic_state extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_142"><a class="anchor" href="#_other_extension_metadata_142"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_142"><a class="anchor" href="#_description_142"></a>Description</h3>
<div class="paragraph">
<p>One of the states that contributes to the combinatorial explosion of
pipeline state objects that need to be created, is the vertex input binding
and attribute descriptions.
By allowing them to be dynamic applications may reduce the number of
pipeline objects they need to create.</p>
</div>
<div class="paragraph">
<p>This extension adds dynamic state support for what is normally static state
in <a href="../chapters/fxvertex.html#VkPipelineVertexInputStateCreateInfo" class="xref page">VkPipelineVertexInputStateCreateInfo</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_70"><a class="anchor" href="#_new_commands_70"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fxvertex.html#vkCmdSetVertexInputEXT" class="xref page">vkCmdSetVertexInputEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_129"><a class="anchor" href="#_new_structures_129"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fxvertex.html#VkVertexInputAttributeDescription2EXT" class="xref page">VkVertexInputAttributeDescription2EXT</a></p>
</li>
<li>
<p><a href="../chapters/fxvertex.html#VkVertexInputBindingDescription2EXT" class="xref page">VkVertexInputBindingDescription2EXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceVertexInputDynamicStateFeaturesEXT" class="xref page">VkPhysicalDeviceVertexInputDynamicStateFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_142"><a class="anchor" href="#_new_enum_constants_142"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VERTEX_INPUT_DYNAMIC_STATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VERTEX_INPUT_DYNAMIC_STATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VERTEX_INPUT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_INPUT_DYNAMIC_STATE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_ATTRIBUTE_DESCRIPTION_2_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_BINDING_DESCRIPTION_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_142"><a class="anchor" href="#_version_history_142"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2020-11-05 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Make <a href="../chapters/fxvertex.html#VkVertexInputBindingDescription2EXT" class="xref page">VkVertexInputBindingDescription2EXT</a> extensible</p>
</li>
<li>
<p>Add new <a href="../chapters/fxvertex.html#VkVertexInputAttributeDescription2EXT" class="xref page">VkVertexInputAttributeDescription2EXT</a> struct for the
<code>pVertexAttributeDescriptions</code> parameter to
<a href="../chapters/fxvertex.html#vkCmdSetVertexInputEXT" class="xref page">vkCmdSetVertexInputEXT</a> so it is also extensible</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-08-21 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_ycbcr_image_arrays"><a class="anchor" href="#VK_EXT_ycbcr_image_arrays"></a>VK_EXT_ycbcr_image_arrays</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_ycbcr_image_arrays</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>253</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_ycbcr_image_arrays] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_ycbcr_image_arrays extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_143"><a class="anchor" href="#_other_extension_metadata_143"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-15</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_143"><a class="anchor" href="#_description_143"></a>Description</h3>
<div class="paragraph">
<p>This extension allows images of a format that requires
<a href="../chapters/formats.html#formats-requiring-sampler-ycbcr-conversion" class="xref page">Y′C<sub>B</sub>C<sub>R</sub> conversion</a> to be
created with multiple array layers, which is otherwise restricted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_130"><a class="anchor" href="#_new_structures_130"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceYcbcrImageArraysFeaturesEXT" class="xref page">VkPhysicalDeviceYcbcrImageArraysFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_143"><a class="anchor" href="#_new_enum_constants_143"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_YCBCR_IMAGE_ARRAYS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_YCBCR_IMAGE_ARRAYS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_YCBCR_IMAGE_ARRAYS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_143"><a class="anchor" href="#_version_history_143"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-15 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_buffer_marker"><a class="anchor" href="#VK_AMD_buffer_marker"></a>VK_AMD_buffer_marker</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_buffer_marker</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>180</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_buffer_marker] @drakos-amd%0A*Here describe the issue or question you have about the VK_AMD_buffer_marker extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_144"><a class="anchor" href="#_other_extension_metadata_144"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-01-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_144"><a class="anchor" href="#_description_144"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new operation to execute pipelined writes of small
marker values into a <code>VkBuffer</code> object.</p>
</div>
<div class="paragraph">
<p>The primary purpose of these markers is to facilitate the development of
debugging tools for tracking which pipelined command contributed to device
loss.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_71"><a class="anchor" href="#_new_commands_71"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#vkCmdWriteBufferMarkerAMD" class="xref page">vkCmdWriteBufferMarkerAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_144"><a class="anchor" href="#_new_enum_constants_144"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_BUFFER_MARKER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_BUFFER_MARKER_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_15"><a class="anchor" href="#_examples_15"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_144"><a class="anchor" href="#_version_history_144"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-01-26 (Jaakko Konttinen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_device_coherent_memory"><a class="anchor" href="#VK_AMD_device_coherent_memory"></a>VK_AMD_device_coherent_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_device_coherent_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>230</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_device_coherent_memory] @tobski%0A*Here describe the issue or question you have about the VK_AMD_device_coherent_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_145"><a class="anchor" href="#_other_extension_metadata_145"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-02-04</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ping Fu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_145"><a class="anchor" href="#_description_145"></a>Description</h3>
<div class="paragraph">
<p>This extension adds the device coherent and device uncached memory types.
Any device accesses to device coherent memory are automatically made visible
to any other device access.
Device uncached memory indicates to applications that caches are disabled
for a particular memory type, which guarantees device coherence.</p>
</div>
<div class="paragraph">
<p>Device coherent and uncached memory are expected to have lower performance
for general access than non-device coherent memory, but can be useful in
certain scenarios; particularly so for debugging.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_131"><a class="anchor" href="#_new_structures_131"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCoherentMemoryFeaturesAMD" class="xref page">VkPhysicalDeviceCoherentMemoryFeaturesAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_145"><a class="anchor" href="#_new_enum_constants_145"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_DEVICE_COHERENT_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_DEVICE_COHERENT_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryPropertyFlagBits" class="xref page">VkMemoryPropertyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_COHERENT_BIT_AMD</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_UNCACHED_BIT_AMD</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COHERENT_MEMORY_FEATURES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_145"><a class="anchor" href="#_version_history_145"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-02-04 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_display_native_hdr"><a class="anchor" href="#VK_AMD_display_native_hdr"></a>VK_AMD_display_native_hdr</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_display_native_hdr</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>214</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br>
and<br>
<a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_display_native_hdr] @anteru%0A*Here describe the issue or question you have about the VK_AMD_display_native_hdr extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_146"><a class="anchor" href="#_other_extension_metadata_146"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Aric Cyr, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_146"><a class="anchor" href="#_description_146"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces the following display native HDR features to
Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new <a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a> enum for setting the native display color
space.
For example, this color space would be set by the swapchain to use the
native color space in Freesync2 displays.</p>
</li>
<li>
<p>Local dimming control</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_72"><a class="anchor" href="#_new_commands_72"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkSetLocalDimmingAMD" class="xref page">vkSetLocalDimmingAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_132"><a class="anchor" href="#_new_structures_132"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDisplayNativeHdrSurfaceCapabilitiesAMD" class="xref page">VkDisplayNativeHdrSurfaceCapabilitiesAMD</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainDisplayNativeHdrCreateInfoAMD" class="xref page">VkSwapchainDisplayNativeHdrCreateInfoAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_146"><a class="anchor" href="#_new_enum_constants_146"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_DISPLAY_NATIVE_HDR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_DISPLAY_NATIVE_HDR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkColorSpaceKHR" class="xref page">VkColorSpaceKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_NATIVE_AMD</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_NATIVE_HDR_SURFACE_CAPABILITIES_AMD</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_DISPLAY_NATIVE_HDR_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_72"><a class="anchor" href="#_issues_72"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_16"><a class="anchor" href="#_examples_16"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_146"><a class="anchor" href="#_version_history_146"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_gcn_shader"><a class="anchor" href="#VK_AMD_gcn_shader"></a>VK_AMD_gcn_shader</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gcn_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>26</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_gcn_shader] @dominikwitczakamd%0A*Here describe the issue or question you have about the VK_AMD_gcn_shader extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_147"><a class="anchor" href="#_other_extension_metadata_147"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-30</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_gcn_shader.html"><code>SPV_AMD_gcn_shader</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_gcn_shader.txt"><code>GL_AMD_gcn_shader</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_147"><a class="anchor" href="#_description_147"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_gcn_shader.html"><code>SPV_AMD_gcn_shader</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_147"><a class="anchor" href="#_new_enum_constants_147"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_GCN_SHADER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_GCN_SHADER_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_147"><a class="anchor" href="#_version_history_147"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-30 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_memory_overallocation_behavior"><a class="anchor" href="#VK_AMD_memory_overallocation_behavior"></a>VK_AMD_memory_overallocation_behavior</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_memory_overallocation_behavior</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>190</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_memory_overallocation_behavior] @mdinkov%0A*Here describe the issue or question you have about the VK_AMD_memory_overallocation_behavior extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mdinkov</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_148"><a class="anchor" href="#_other_extension_metadata_148"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jon Campbell, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_148"><a class="anchor" href="#_description_148"></a>Description</h3>
<div class="paragraph">
<p>This extension allows controlling whether explicit overallocation beyond the
device memory heap sizes (reported by
<a href="../chapters/memory.html#VkPhysicalDeviceMemoryProperties" class="xref page">VkPhysicalDeviceMemoryProperties</a>) is allowed or not.
Overallocation may lead to performance loss and is not supported for all
platforms.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_133"><a class="anchor" href="#_new_structures_133"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceMemoryOverallocationCreateInfoAMD" class="xref page">VkDeviceMemoryOverallocationCreateInfoAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_43"><a class="anchor" href="#_new_enums_43"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkMemoryOverallocationBehaviorAMD" class="xref page">VkMemoryOverallocationBehaviorAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_148"><a class="anchor" href="#_new_enum_constants_148"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_MEMORY_OVERALLOCATION_BEHAVIOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_MEMORY_OVERALLOCATION_BEHAVIOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_OVERALLOCATION_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_148"><a class="anchor" href="#_version_history_148"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-19 (Martin Dinkov)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_mixed_attachment_samples"><a class="anchor" href="#VK_AMD_mixed_attachment_samples"></a>VK_AMD_mixed_attachment_samples</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_mixed_attachment_samples</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>137</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_mixed_attachment_samples] @anteru%0A*Here describe the issue or question you have about the VK_AMD_mixed_attachment_samples extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_149"><a class="anchor" href="#_other_extension_metadata_149"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-24</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mais Alnasser, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_149"><a class="anchor" href="#_description_149"></a>Description</h3>
<div class="paragraph">
<p>This extension enables applications to use multisampled rendering with a
depth/stencil sample count that is larger than the color sample count.
Having a depth/stencil sample count larger than the color sample count
allows maintaining geometry and coverage information at a higher sample rate
than color information.
All samples are depth/stencil tested, but only the first color sample count
number of samples get a corresponding color output.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_149"><a class="anchor" href="#_new_enum_constants_149"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_MIXED_ATTACHMENT_SAMPLES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_MIXED_ATTACHMENT_SAMPLES_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_73"><a class="anchor" href="#_issues_73"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_149"><a class="anchor" href="#_version_history_149"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-24 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_pipeline_compiler_control"><a class="anchor" href="#VK_AMD_pipeline_compiler_control"></a>VK_AMD_pipeline_compiler_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_pipeline_compiler_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>184</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_pipeline_compiler_control] @anteru%0A*Here describe the issue or question you have about the VK_AMD_pipeline_compiler_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_150"><a class="anchor" href="#_other_extension_metadata_150"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-07-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_150"><a class="anchor" href="#_description_150"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces <a href="../chapters/pipelines.html#VkPipelineCompilerControlCreateInfoAMD" class="xref page">VkPipelineCompilerControlCreateInfoAMD</a>
structure that can be chained to a pipeline&#8217;s creation information to
specify additional flags that affect pipeline compilation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_134"><a class="anchor" href="#_new_structures_134"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkComputePipelineCreateInfo" class="xref page">VkComputePipelineCreateInfo</a>, <a href="../chapters/executiongraphs.html#VkExecutionGraphPipelineCreateInfoAMDX" class="xref page">VkExecutionGraphPipelineCreateInfoAMDX</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCompilerControlCreateInfoAMD" class="xref page">VkPipelineCompilerControlCreateInfoAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_44"><a class="anchor" href="#_new_enums_44"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCompilerControlFlagBitsAMD" class="xref page">VkPipelineCompilerControlFlagBitsAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_37"><a class="anchor" href="#_new_bitmasks_37"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCompilerControlFlagsAMD" class="xref page">VkPipelineCompilerControlFlagsAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_150"><a class="anchor" href="#_new_enum_constants_150"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_PIPELINE_COMPILER_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_PIPELINE_COMPILER_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COMPILER_CONTROL_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_74"><a class="anchor" href="#_issues_74"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_17"><a class="anchor" href="#_examples_17"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_150"><a class="anchor" href="#_version_history_150"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-07-26 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_rasterization_order"><a class="anchor" href="#VK_AMD_rasterization_order"></a>VK_AMD_rasterization_order</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_rasterization_order</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>19</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_rasterization_order] @drakos-amd%0A*Here describe the issue or question you have about the VK_AMD_rasterization_order extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_151"><a class="anchor" href="#_other_extension_metadata_151"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-04-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_151"><a class="anchor" href="#_description_151"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces the possibility for the application to control the
order of primitive rasterization.
In unextended Vulkan, the following stages are guaranteed to execute in <em>API
order</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>depth bounds test</p>
</li>
<li>
<p>stencil test, stencil op, and stencil write</p>
</li>
<li>
<p>depth test and depth write</p>
</li>
<li>
<p>occlusion queries</p>
</li>
<li>
<p>blending, logic op, and color write</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension enables applications to opt into a relaxed, implementation
defined primitive rasterization order that may allow better parallel
processing of primitives and thus enabling higher primitive throughput.
It is applicable in cases where the primitive rasterization order is known
to not affect the output of the rendering or any differences caused by a
different rasterization order are not a concern from the point of view of
the application&#8217;s purpose.</p>
</div>
<div class="paragraph">
<p>A few examples of cases when using the relaxed primitive rasterization order
would not have an effect on the final rendering:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the primitives rendered are known to not overlap in framebuffer
space.</p>
</li>
<li>
<p>If depth testing is used with a comparison operator of
<code>VK_COMPARE_OP_LESS</code>, <code>VK_COMPARE_OP_LESS_OR_EQUAL</code>,
<code>VK_COMPARE_OP_GREATER</code>, or <code>VK_COMPARE_OP_GREATER_OR_EQUAL</code>,
and the primitives rendered are known to not overlap in clip space.</p>
</li>
<li>
<p>If depth testing is not used and blending is enabled for all attachments
with a commutative blend operator.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_135"><a class="anchor" href="#_new_structures_135"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineRasterizationStateCreateInfo" class="xref page">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineRasterizationStateRasterizationOrderAMD" class="xref page">VkPipelineRasterizationStateRasterizationOrderAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_45"><a class="anchor" href="#_new_enums_45"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkRasterizationOrderAMD" class="xref page">VkRasterizationOrderAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_151"><a class="anchor" href="#_new_enum_constants_151"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_RASTERIZATION_ORDER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_RASTERIZATION_ORDER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_RASTERIZATION_ORDER_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_75"><a class="anchor" href="#_issues_75"></a>Issues</h3>
<div class="paragraph">
<p>1) How is this extension useful to application developers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Allows them to increase primitive throughput for cases when
strict API order rasterization is not important due to the nature of the
content, the configuration used, or the requirements towards the output of
the rendering.</p>
</div>
<div class="paragraph">
<p>2) How does this extension interact with content optimizations aiming to
reduce overdraw by appropriately ordering the input primitives?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While the relaxed rasterization order might somewhat limit the
effectiveness of such content optimizations, most of the benefits of it are
expected to be retained even when the relaxed rasterization order is used,
so applications <strong>should</strong> still apply these optimizations even if they intend
to use the extension.</p>
</div>
<div class="paragraph">
<p>3) Are there any guarantees about the primitive rasterization order when
using the new relaxed mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
In this case the rasterization order is completely implementation-dependent,
but in practice it is expected to partially still follow the order of
incoming primitives.</p>
</div>
<div class="paragraph">
<p>4) Does the new relaxed rasterization order have any adverse effect on
repeatability and other invariance rules of the API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, in the sense that it extends the list of exceptions when
the repeatability requirement does not apply.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_18"><a class="anchor" href="#_examples_18"></a>Examples</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_76"><a class="anchor" href="#_issues_76"></a>Issues</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_151"><a class="anchor" href="#_version_history_151"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-04-25 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_ballot"><a class="anchor" href="#VK_AMD_shader_ballot"></a>VK_AMD_shader_ballot</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_ballot</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>38</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_ballot] @dominikwitczakamd%0A*Here describe the issue or question you have about the VK_AMD_shader_ballot extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_152"><a class="anchor" href="#_other_extension_metadata_152"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_ballot.html"><code>SPV_AMD_shader_ballot</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_shader_ballot.txt"><code>GL_AMD_shader_ballot</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Matthäus G. Chajdas, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_152"><a class="anchor" href="#_description_152"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_ballot.html"><code>SPV_AMD_shader_ballot</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_152"><a class="anchor" href="#_new_enum_constants_152"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_BALLOT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_BALLOT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_152"><a class="anchor" href="#_version_history_152"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-19 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_core_properties"><a class="anchor" href="#VK_AMD_shader_core_properties"></a>VK_AMD_shader_core_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_core_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>186</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_core_properties] @mdinkov%0A*Here describe the issue or question you have about the VK_AMD_shader_core_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mdinkov</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_153"><a class="anchor" href="#_other_extension_metadata_153"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_153"><a class="anchor" href="#_description_153"></a>Description</h3>
<div class="paragraph">
<p>This extension exposes shader core properties for a target physical device
through the <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.
Please refer to the example below for proper usage.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_136"><a class="anchor" href="#_new_structures_136"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderCorePropertiesAMD" class="xref page">VkPhysicalDeviceShaderCorePropertiesAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_153"><a class="anchor" href="#_new_enum_constants_153"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_CORE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_CORE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_19"><a class="anchor" href="#_examples_19"></a>Examples</h3>
<div class="paragraph">
<p>This example retrieves the shader core properties for a physical device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">extern VkInstance       instance;

PFN_vkGetPhysicalDeviceProperties2 pfnVkGetPhysicalDeviceProperties2 =
    reinterpret_cast&lt;PFN_vkGetPhysicalDeviceProperties2&gt;
    (vkGetInstanceProcAddr(instance, "vkGetPhysicalDeviceProperties2") );

VkPhysicalDeviceProperties2             general_props;
VkPhysicalDeviceShaderCorePropertiesAMD shader_core_properties;

shader_core_properties.pNext = nullptr;
shader_core_properties.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_AMD;

general_props.pNext = &amp;shader_core_properties;
general_props.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2;

// After this call, shader_core_properties has been populated
pfnVkGetPhysicalDeviceProperties2(device, &amp;general_props);

printf("Number of shader engines: %d\n",
    m_shader_core_properties.shader_engine_count =
    shader_core_properties.shaderEngineCount;
printf("Number of shader arrays: %d\n",
    m_shader_core_properties.shader_arrays_per_engine_count =
    shader_core_properties.shaderArraysPerEngineCount;
printf("Number of CUs per shader array: %d\n",
    m_shader_core_properties.compute_units_per_shader_array =
    shader_core_properties.computeUnitsPerShaderArray;
printf("Number of SIMDs per compute unit: %d\n",
    m_shader_core_properties.simd_per_compute_unit =
    shader_core_properties.simdPerComputeUnit;
printf("Number of wavefront slots in each SIMD: %d\n",
    m_shader_core_properties.wavefronts_per_simd =
    shader_core_properties.wavefrontsPerSimd;
printf("Number of threads per wavefront: %d\n",
    m_shader_core_properties.wavefront_size =
    shader_core_properties.wavefrontSize;
printf("Number of physical SGPRs per SIMD: %d\n",
    m_shader_core_properties.sgprs_per_simd =
    shader_core_properties.sgprsPerSimd;
printf("Minimum number of SGPRs that can be allocated by a wave: %d\n",
    m_shader_core_properties.min_sgpr_allocation =
    shader_core_properties.minSgprAllocation;
printf("Number of available SGPRs: %d\n",
    m_shader_core_properties.max_sgpr_allocation =
    shader_core_properties.maxSgprAllocation;
printf("SGPRs are allocated in groups of this size: %d\n",
    m_shader_core_properties.sgpr_allocation_granularity =
    shader_core_properties.sgprAllocationGranularity;
printf("Number of physical VGPRs per SIMD: %d\n",
    m_shader_core_properties.vgprs_per_simd =
    shader_core_properties.vgprsPerSimd;
printf("Minimum number of VGPRs that can be allocated by a wave: %d\n",
    m_shader_core_properties.min_vgpr_allocation =
    shader_core_properties.minVgprAllocation;
printf("Number of available VGPRs: %d\n",
    m_shader_core_properties.max_vgpr_allocation =
    shader_core_properties.maxVgprAllocation;
printf("VGPRs are allocated in groups of this size: %d\n",
    m_shader_core_properties.vgpr_allocation_granularity =
    shader_core_properties.vgprAllocationGranularity;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_153"><a class="anchor" href="#_version_history_153"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2019-06-25 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified the meaning of a few fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-02-15 (Martin Dinkov)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_core_properties2"><a class="anchor" href="#VK_AMD_shader_core_properties2"></a>VK_AMD_shader_core_properties2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_core_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>228</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_AMD_shader_core_properties">VK_AMD_shader_core_properties</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_core_properties2] @anteru%0A*Here describe the issue or question you have about the VK_AMD_shader_core_properties2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_154"><a class="anchor" href="#_other_extension_metadata_154"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-07-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_154"><a class="anchor" href="#_description_154"></a>Description</h3>
<div class="paragraph">
<p>This extension exposes additional shader core properties for a target
physical device through the <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code>
extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_137"><a class="anchor" href="#_new_structures_137"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderCoreProperties2AMD" class="xref page">VkPhysicalDeviceShaderCoreProperties2AMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_46"><a class="anchor" href="#_new_enums_46"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkShaderCorePropertiesFlagBitsAMD" class="xref page">VkShaderCorePropertiesFlagBitsAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_38"><a class="anchor" href="#_new_bitmasks_38"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkShaderCorePropertiesFlagsAMD" class="xref page">VkShaderCorePropertiesFlagsAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_154"><a class="anchor" href="#_new_enum_constants_154"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_CORE_PROPERTIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_CORE_PROPERTIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_2_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_20"><a class="anchor" href="#_examples_20"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_154"><a class="anchor" href="#_version_history_154"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-07-26 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_early_and_late_fragment_tests"><a class="anchor" href="#VK_AMD_shader_early_and_late_fragment_tests"></a>VK_AMD_shader_early_and_late_fragment_tests</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_early_and_late_fragment_tests</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>322</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_early_and_late_fragment_tests] @tobski%0A*Here describe the issue or question you have about the VK_AMD_shader_early_and_late_fragment_tests extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_AMD_shader_early_and_late_fragment_tests.adoc">VK_AMD_shader_early_and_late_fragment_tests</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_155"><a class="anchor" href="#_other_extension_metadata_155"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_early_and_late_fragment_tests.html"><code>SPV_AMD_shader_early_and_late_fragment_tests</code></a></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_EXT_shader_stencil_export">VK_EXT_shader_stencil_export</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_155"><a class="anchor" href="#_description_155"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_early_and_late_fragment_tests.html"><code>SPV_AMD_shader_early_and_late_fragment_tests</code></a>
extension, allowing shaders to explicitly opt in to allowing both early
<em>and</em> late fragment tests with the <code>EarlyAndLateFragmentTestsAMD</code>
execution mode.</p>
</div>
<div class="paragraph">
<p>If <code><a href="#VK_EXT_shader_stencil_export">VK_EXT_shader_stencil_export</a></code> is supported, additional execution
modes allowing early depth tests similar to <code>DepthUnchanged</code>,
<code>DepthLess</code>, and <code>DepthGreater</code> are provided.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_138"><a class="anchor" href="#_new_structures_138"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderEarlyAndLateFragmentTestsFeaturesAMD" class="xref page">VkPhysicalDeviceShaderEarlyAndLateFragmentTestsFeaturesAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_155"><a class="anchor" href="#_new_enum_constants_155"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_EARLY_AND_LATE_FRAGMENT_TESTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_EARLY_AND_LATE_FRAGMENT_TESTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_EARLY_AND_LATE_FRAGMENT_TESTS_FEATURES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_155"><a class="anchor" href="#_version_history_155"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-09-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_explicit_vertex_parameter"><a class="anchor" href="#VK_AMD_shader_explicit_vertex_parameter"></a>VK_AMD_shader_explicit_vertex_parameter</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_explicit_vertex_parameter</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>22</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_explicit_vertex_parameter] @linqun%0A*Here describe the issue or question you have about the VK_AMD_shader_explicit_vertex_parameter extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_156"><a class="anchor" href="#_other_extension_metadata_156"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_explicit_vertex_parameter.html"><code>SPV_AMD_shader_explicit_vertex_parameter</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_shader_explicit_vertex_parameter.txt"><code>GL_AMD_shader_explicit_vertex_parameter</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_156"><a class="anchor" href="#_description_156"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_explicit_vertex_parameter.html"><code>SPV_AMD_shader_explicit_vertex_parameter</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_156"><a class="anchor" href="#_new_enum_constants_156"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_EXPLICIT_VERTEX_PARAMETER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_EXPLICIT_VERTEX_PARAMETER_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_156"><a class="anchor" href="#_version_history_156"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_fragment_mask"><a class="anchor" href="#VK_AMD_shader_fragment_mask"></a>VK_AMD_shader_fragment_mask</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_fragment_mask</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>138</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_fragment_mask] @AaronHaganAMD%0A*Here describe the issue or question you have about the VK_AMD_shader_fragment_mask extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>AaronHaganAMD</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_157"><a class="anchor" href="#_other_extension_metadata_157"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_fragment_mask.html"><code>SPV_AMD_shader_fragment_mask</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/amd/GL_AMD_shader_fragment_mask.txt"><code>GL_AMD_shader_fragment_mask</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_157"><a class="anchor" href="#_description_157"></a>Description</h3>
<div class="paragraph">
<p>This extension provides efficient read access to the fragment mask in
compressed multisampled color surfaces.
The fragment mask is a lookup table that associates color samples with color
fragment values.</p>
</div>
<div class="paragraph">
<p>From a shader, the fragment mask can be fetched with a call to
<code>fragmentMaskFetchAMD</code>, which returns a single <code>uint</code> where each
subsequent four bits specify the color fragment index corresponding to the
color sample, starting from the least significant bit.
For example, when eight color samples are used, the color fragment index for
color sample 0 will be in bits 0-3 of the fragment mask, for color sample 7
the index will be in bits 28-31.</p>
</div>
<div class="paragraph">
<p>The color fragment for a particular color sample may then be fetched with
the corresponding fragment mask value using the <code>fragmentFetchAMD</code> shader
function.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_157"><a class="anchor" href="#_new_enum_constants_157"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_FRAGMENT_MASK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_FRAGMENT_MASK_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_15"><a class="anchor" href="#_new_spir_v_capabilities_15"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentMaskAMD" class="xref page"><code>FragmentMaskAMD</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_21"><a class="anchor" href="#_examples_21"></a>Examples</h3>
<div class="paragraph">
<p>This example shows a shader that queries the fragment mask from a
multisampled compressed surface and uses it to query fragment values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">#version 450 core

#extension GL_AMD_shader_fragment_mask: enable

layout(binding = 0) uniform sampler2DMS       s2DMS;
layout(binding = 1) uniform isampler2DMSArray is2DMSArray;

layout(binding = 2, input_attachment_index = 0) uniform usubpassInputMS usubpassMS;

layout(location = 0) out vec4 fragColor;

void main()
{
    vec4 fragOne = vec4(0.0);

    uint fragMask = fragmentMaskFetchAMD(s2DMS, ivec2(2, 3));
    uint fragIndex = (fragMask &amp; 0xF0) &gt;&gt; 4;
    fragOne += fragmentFetchAMD(s2DMS, ivec2(2, 3), 1);

    fragMask = fragmentMaskFetchAMD(is2DMSArray, ivec3(2, 3, 1));
    fragIndex = (fragMask &amp; 0xF0) &gt;&gt; 4;
    fragOne += fragmentFetchAMD(is2DMSArray, ivec3(2, 3, 1), fragIndex);

    fragMask = fragmentMaskFetchAMD(usubpassMS);
    fragIndex = (fragMask &amp; 0xF0) &gt;&gt; 4;
    fragOne += fragmentFetchAMD(usubpassMS, fragIndex);

    fragColor = fragOne;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_157"><a class="anchor" href="#_version_history_157"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-16 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_image_load_store_lod"><a class="anchor" href="#VK_AMD_shader_image_load_store_lod"></a>VK_AMD_shader_image_load_store_lod</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_image_load_store_lod</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>47</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_image_load_store_lod] @dominikwitczakamd%0A*Here describe the issue or question you have about the VK_AMD_shader_image_load_store_lod extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_158"><a class="anchor" href="#_other_extension_metadata_158"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-21</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_image_load_store_lod.html"><code>SPV_AMD_shader_image_load_store_lod</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_shader_image_load_store_lod.txt"><code>GL_AMD_shader_image_load_store_lod</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_158"><a class="anchor" href="#_description_158"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_image_load_store_lod.html"><code>SPV_AMD_shader_image_load_store_lod</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_158"><a class="anchor" href="#_new_enum_constants_158"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_IMAGE_LOAD_STORE_LOD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_IMAGE_LOAD_STORE_LOD_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_158"><a class="anchor" href="#_version_history_158"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_info"><a class="anchor" href="#VK_AMD_shader_info"></a>VK_AMD_shader_info</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>43</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_info] @jaakkoamd%0A*Here describe the issue or question you have about the VK_AMD_shader_info extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jaakkoamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_159"><a class="anchor" href="#_other_extension_metadata_159"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_159"><a class="anchor" href="#_description_159"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a way to query certain information about a compiled
shader which is part of a pipeline.
This information may include shader disassembly, shader binary and various
statistics about a shader&#8217;s resource usage.</p>
</div>
<div class="paragraph">
<p>While this extension provides a mechanism for extracting this information,
the details regarding the contents or format of this information are not
specified by this extension and may be provided by the vendor externally.</p>
</div>
<div class="paragraph">
<p>Furthermore, all information types are optionally supported, and users
should not assume every implementation supports querying every type of
information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_73"><a class="anchor" href="#_new_commands_73"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkGetShaderInfoAMD" class="xref page">vkGetShaderInfoAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_139"><a class="anchor" href="#_new_structures_139"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkShaderResourceUsageAMD" class="xref page">VkShaderResourceUsageAMD</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkShaderStatisticsInfoAMD" class="xref page">VkShaderStatisticsInfoAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_47"><a class="anchor" href="#_new_enums_47"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkShaderInfoTypeAMD" class="xref page">VkShaderInfoTypeAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_159"><a class="anchor" href="#_new_enum_constants_159"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_INFO_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_INFO_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_22"><a class="anchor" href="#_examples_22"></a>Examples</h3>
<div class="paragraph">
<p>This example extracts the register usage of a fragment shader within a
particular graphics pipeline:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">extern VkDevice device;
extern VkPipeline gfxPipeline;

PFN_vkGetShaderInfoAMD pfnGetShaderInfoAMD = (PFN_vkGetShaderInfoAMD)vkGetDeviceProcAddr(
    device, "vkGetShaderInfoAMD");

VkShaderStatisticsInfoAMD statistics = {};

size_t dataSize = sizeof(statistics);

if (pfnGetShaderInfoAMD(device,
    gfxPipeline,
    VK_SHADER_STAGE_FRAGMENT_BIT,
    VK_SHADER_INFO_TYPE_STATISTICS_AMD,
    &amp;dataSize,
    &amp;statistics) == VK_SUCCESS)
{
    printf("VGPR usage: %d\n", statistics.resourceUsage.numUsedVgprs);
    printf("SGPR usage: %d\n", statistics.resourceUsage.numUsedSgprs);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example continues the previous example by subsequently
attempting to query and print shader disassembly about the fragment shader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Query disassembly size (if available)
if (pfnGetShaderInfoAMD(device,
    gfxPipeline,
    VK_SHADER_STAGE_FRAGMENT_BIT,
    VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD,
    &amp;dataSize,
    nullptr) == VK_SUCCESS)
{
    printf("Fragment shader disassembly:\n");

    void* disassembly = malloc(dataSize);

    // Query disassembly and print
    if (pfnGetShaderInfoAMD(device,
        gfxPipeline,
        VK_SHADER_STAGE_FRAGMENT_BIT,
        VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD,
        &amp;dataSize,
        disassembly) == VK_SUCCESS)
    {
        printf((char*)disassembly);
    }

    free(disassembly);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_159"><a class="anchor" href="#_version_history_159"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-10-09 (Jaakko Konttinen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_shader_trinary_minmax"><a class="anchor" href="#VK_AMD_shader_trinary_minmax"></a>VK_AMD_shader_trinary_minmax</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_trinary_minmax</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>21</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_shader_trinary_minmax] @linqun%0A*Here describe the issue or question you have about the VK_AMD_shader_trinary_minmax extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_160"><a class="anchor" href="#_other_extension_metadata_160"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_trinary_minmax.html"><code>SPV_AMD_shader_trinary_minmax</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_shader_trinary_minmax.txt"><code>GL_AMD_shader_trinary_minmax</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_160"><a class="anchor" href="#_description_160"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_shader_trinary_minmax.html"><code>SPV_AMD_shader_trinary_minmax</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_160"><a class="anchor" href="#_new_enum_constants_160"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_SHADER_TRINARY_MINMAX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_SHADER_TRINARY_MINMAX_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_160"><a class="anchor" href="#_version_history_160"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_texture_gather_bias_lod"><a class="anchor" href="#VK_AMD_texture_gather_bias_lod"></a>VK_AMD_texture_gather_bias_lod</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_texture_gather_bias_lod</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>42</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Rex Xu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_texture_gather_bias_lod] @amdrexu%0A*Here describe the issue or question you have about the VK_AMD_texture_gather_bias_lod extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>amdrexu</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_161"><a class="anchor" href="#_other_extension_metadata_161"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_texture_gather_bias_lod.html"><code>SPV_AMD_texture_gather_bias_lod</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_texture_gather_bias_lod.txt"><code>GL_AMD_texture_gather_bias_lod</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_161"><a class="anchor" href="#_description_161"></a>Description</h3>
<div class="paragraph">
<p>This extension adds two related features.</p>
</div>
<div class="paragraph">
<p>Firstly, support for the following SPIR-V extension in Vulkan is added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_AMD_texture_gather_bias_lod</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Secondly, the extension allows the application to query which formats can be
used together with the new function prototypes introduced by the SPIR-V
extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_140"><a class="anchor" href="#_new_structures_140"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkTextureLODGatherFormatPropertiesAMD" class="xref page">VkTextureLODGatherFormatPropertiesAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_161"><a class="anchor" href="#_new_enum_constants_161"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_TEXTURE_GATHER_BIAS_LOD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_TEXTURE_GATHER_BIAS_LOD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_TEXTURE_LOD_GATHER_FORMAT_PROPERTIES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_16"><a class="anchor" href="#_new_spir_v_capabilities_16"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ImageGatherBiasLodAMD" class="xref page">    <code>ImageGatherBiasLodAMD</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_23"><a class="anchor" href="#_examples_23"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">struct VkTextureLODGatherFormatPropertiesAMD
{
    VkStructureType sType;
    const void*     pNext;
    VkBool32        supportsTextureGatherLODBiasAMD;
};

// ----------------------------------------------------------------------------------------
// How to detect if an image format can be used with the new function prototypes.
VkPhysicalDeviceImageFormatInfo2   formatInfo;
VkImageFormatProperties2           formatProps;
VkTextureLODGatherFormatPropertiesAMD textureLODGatherSupport;

textureLODGatherSupport.sType = VK_STRUCTURE_TYPE_TEXTURE_LOD_GATHER_FORMAT_PROPERTIES_AMD;
textureLODGatherSupport.pNext = nullptr;

formatInfo.sType  = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2;
formatInfo.pNext  = nullptr;
formatInfo.format = ...;
formatInfo.type   = ...;
formatInfo.tiling = ...;
formatInfo.usage  = ...;
formatInfo.flags  = ...;

formatProps.sType = VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2;
formatProps.pNext = &amp;textureLODGatherSupport;

vkGetPhysicalDeviceImageFormatProperties2(physical_device, &amp;formatInfo, &amp;formatProps);

if (textureLODGatherSupport.supportsTextureGatherLODBiasAMD == VK_TRUE)
{
    // physical device supports SPV_AMD_texture_gather_bias_lod for the specified
    // format configuration.
}
else
{
    // physical device does not support SPV_AMD_texture_gather_bias_lod for the
    // specified format configuration.
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_161"><a class="anchor" href="#_version_history_161"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_ANDROID_external_memory_android_hardware_buffer"><a class="anchor" href="#VK_ANDROID_external_memory_android_hardware_buffer"></a>VK_ANDROID_external_memory_android_hardware_buffer</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_ANDROID_external_memory_android_hardware_buffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>130</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br>
and<br>
<a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
and<br>
<a href="#VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</a><br>
and<br>
<a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_ANDROID_external_memory_android_hardware_buffer] @critsec%0A*Here describe the issue or question you have about the VK_ANDROID_external_memory_android_hardware_buffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_162"><a class="anchor" href="#_other_extension_metadata_162"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Andrew Garrard, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_162"><a class="anchor" href="#_description_162"></a>Description</h3>
<div class="paragraph">
<p>This extension enables an application to import Android
<code>AHardwareBuffer</code> objects created outside of the Vulkan device into
Vulkan memory objects, where they <strong>can</strong> be bound to images and buffers.
It also allows exporting an <code>AHardwareBuffer</code> from a Vulkan memory
object for symmetry with other operating systems.
But since not all <code>AHardwareBuffer</code> usages and formats have Vulkan
equivalents, exporting from Vulkan provides strictly less functionality than
creating the <code>AHardwareBuffer</code> externally and importing it.</p>
</div>
<div class="paragraph">
<p>Some <code>AHardwareBuffer</code> images have implementation-defined <em>external
formats</em> that <strong>may</strong> not correspond to Vulkan formats.
Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion <strong>can</strong> be used to sample from these images and
convert them to a known color space.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types_4"><a class="anchor" href="#_new_base_types_4"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>AHardwareBuffer</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_74"><a class="anchor" href="#_new_commands_74"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetAndroidHardwareBufferPropertiesANDROID" class="xref page">vkGetAndroidHardwareBufferPropertiesANDROID</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryAndroidHardwareBufferANDROID" class="xref page">vkGetMemoryAndroidHardwareBufferANDROID</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_141"><a class="anchor" href="#_new_structures_141"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkAndroidHardwareBufferPropertiesANDROID" class="xref page">VkAndroidHardwareBufferPropertiesANDROID</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkMemoryGetAndroidHardwareBufferInfoANDROID" class="xref page">VkMemoryGetAndroidHardwareBufferInfoANDROID</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkAndroidHardwareBufferPropertiesANDROID" class="xref page">VkAndroidHardwareBufferPropertiesANDROID</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkAndroidHardwareBufferFormatPropertiesANDROID" class="xref page">VkAndroidHardwareBufferFormatPropertiesANDROID</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfo" class="xref page">VkSamplerYcbcrConversionCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkExternalFormatANDROID" class="xref page">VkExternalFormatANDROID</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkAndroidHardwareBufferUsageANDROID" class="xref page">VkAndroidHardwareBufferUsageANDROID</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportAndroidHardwareBufferInfoANDROID" class="xref page">VkImportAndroidHardwareBufferInfoANDROID</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/memory.html#VkAndroidHardwareBufferPropertiesANDROID" class="xref page">VkAndroidHardwareBufferPropertiesANDROID</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkAndroidHardwareBufferFormatProperties2ANDROID" class="xref page">VkAndroidHardwareBufferFormatProperties2ANDROID</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_162"><a class="anchor" href="#_new_enum_constants_162"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_ANDROID_EXTERNAL_MEMORY_ANDROID_HARDWARE_BUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_ANDROID_EXTERNAL_MEMORY_ANDROID_HARDWARE_BUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_FORMAT_PROPERTIES_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_PROPERTIES_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_USAGE_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FORMAT_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_ANDROID_HARDWARE_BUFFER_INFO_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_ANDROID_HARDWARE_BUFFER_INFO_ANDROID</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_FORMAT_PROPERTIES_2_ANDROID</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_77"><a class="anchor" href="#_issues_77"></a>Issues</h3>
<div class="paragraph">
<p>1) Other external memory objects are represented as weakly-typed handles
(e.g. Win32 <code>HANDLE</code> or POSIX file descriptor), and require a handle type
parameter along with handles.
<code>AHardwareBuffer</code> is strongly typed, so naming the handle type is
redundant.
Does symmetry justify adding handle type parameters/fields anyway?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The handle type is already provided in places that treat external memory
objects generically.
In the places we would add it, the application code that would have to
provide the handle type value is already dealing with
<code>AHardwareBuffer</code>-specific commands/structures; the extra symmetry
would not be enough to make that code generic.</p>
</div>
<div class="paragraph">
<p>2) The internal layout and therefore size of a <code>AHardwareBuffer</code>
image may depend on native usage flags that do not have corresponding Vulkan
counterparts.
Do we provide this information to <a href="../chapters/resources.html#vkCreateImage" class="xref page">vkCreateImage</a> somehow, or allow the
allocation size reported by <a href="../chapters/resources.html#vkGetImageMemoryRequirements" class="xref page">vkGetImageMemoryRequirements</a> to be
approximate?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Allow the allocation size to be unspecified when allocating the
memory.
It has to work this way for exported image memory anyway, since
<code>AHardwareBuffer</code> allocation happens in <a href="../chapters/memory.html#vkAllocateMemory" class="xref page">vkAllocateMemory</a>, and
internally is performed by a separate HAL, not the Vulkan implementation
itself.
There is a similar issue with <a href="../chapters/resources.html#vkGetImageSubresourceLayout" class="xref page">vkGetImageSubresourceLayout</a>: the layout
is determined by the allocator HAL, so it is not known until the image is
bound to memory.</p>
</div>
<div class="paragraph">
<p>3) Should the result of sampling an external-format image with the suggested
Y′C<sub>B</sub>C<sub>R</sub> conversion parameters yield the same results as using a
<code>samplerExternalOES</code> in OpenGL ES?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This would be desirable, so that apps converting from OpenGL ES
to Vulkan could get the same output given the same input.
But since sampling and conversion from Y′C<sub>B</sub>C<sub>R</sub> images is so loosely defined
in OpenGL ES, multiple implementations do it in a way that does not conform
to Vulkan&#8217;s requirements.
Modifying the OpenGL ES implementation would be difficult, and would change
the output of existing unmodified applications.
Changing the output only for applications that are being modified gives
developers the chance to notice and mitigate any problems.
Implementations are encouraged to minimize differences as much as possible
without causing compatibility problems for existing OpenGL ES applications
or violating Vulkan requirements.</p>
</div>
<div class="paragraph">
<p>4) Should an <code>AHardwareBuffer</code> with <code>AHARDWAREBUFFER_USAGE_CPU_*</code>
usage be mappable in Vulkan? Should it be possible to export an
<code>AHardwareBuffers</code> with such usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Optional, and mapping in Vulkan is not the same as
<code>AHardwareBuffer_lock</code>.
The semantics of these are different: mapping in memory is persistent, just
gives a raw view of the memory contents, and does not involve ownership.
<code>AHardwareBuffer_lock</code> gives the host exclusive access to the buffer, is
temporary, and allows for reformatting copy-in/copy-out.
Implementations are not required to support host-visible memory types for
imported Android hardware buffers or resources backed by them.
If a host-visible memory type is supported and used, the memory can be
mapped in Vulkan, but doing so follows Vulkan semantics: it is just a raw
view of the data and does not imply ownership (this means implementations
must not internally call <code>AHardwareBuffer_lock</code> to implement
<a href="../chapters/memory.html#vkMapMemory" class="xref page">vkMapMemory</a>, or assume the application has done so).
Implementations are not required to support linear-tiled images backed by
Android hardware buffers, even if the <code>AHardwareBuffer</code> has CPU
usage.
There is no reliable way to allocate memory in Vulkan that can be exported
to a <code>AHardwareBuffer</code> with CPU usage.</p>
</div>
<div class="paragraph">
<p>5) Android may add new <code>AHardwareBuffer</code> formats and usage flags over
time.
Can reference to them be added to this extension, or do they need a new
extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This extension can document the interaction between the new AHB
formats/usages and existing Vulkan features.
No new Vulkan features or implementation requirements can be added.
The extension version number will be incremented when this additional
documentation is added, but the version number does not indicate that an
implementation supports Vulkan memory or resources that map to the new
<code>AHardwareBuffer</code> features: support for that must be queried with
<a href="../chapters/capabilities.html#vkGetPhysicalDeviceImageFormatProperties2" class="xref page">vkGetPhysicalDeviceImageFormatProperties2</a> or is implied by
successfully allocating a <code>AHardwareBuffer</code> outside of Vulkan that
uses the new feature and has a GPU usage flag.</p>
</div>
<div class="paragraph">
<p>In essence, these are new features added to a new Android API level, rather
than new Vulkan features.
The extension will only document how existing Vulkan features map to that
new Android feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_162"><a class="anchor" href="#_version_history_162"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 5, 2022-02-04 (Chris Forbes)</p>
<div class="ulist">
<ul>
<li>
<p>Describe mapping of flags for storage image support</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-08-27 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Update revision history to correspond to XML version number</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-04-09 (Petr Kraus)</p>
<div class="ulist">
<ul>
<li>
<p>Markup fixes and remove incorrect Draft status</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-03-04 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_ARM_shader_core_builtins"><a class="anchor" href="#VK_ARM_shader_core_builtins"></a>VK_ARM_shader_core_builtins</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_ARM_shader_core_builtins</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>498</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_ARM_shader_core_builtins] @kpet%0A*Here describe the issue or question you have about the VK_ARM_shader_core_builtins extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_163"><a class="anchor" href="#_other_extension_metadata_163"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-10-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/ARM/SPV_ARM_core_builtins.html"><code>SPV_ARM_core_builtins</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/arm/GLSL_ARM_shader_core_builtins.txt"><code>GL_ARM_shader_core_builtins</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit, Arm Ltd.</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_163"><a class="anchor" href="#_description_163"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the ability to determine device-specific properties
on Arm GPUs.
It exposes properties for the number of shader cores, the maximum number of
warps that can run on a shader core, and shader builtins to enable
invocations to identify which core and warp a shader invocation is executing
on.</p>
</div>
<div class="paragraph">
<p>This extension enables support for the SPIR-V <code>CoreBuiltinsARM</code>
capability.</p>
</div>
<div class="paragraph">
<p>These properties and built-ins can be used for debugging or performance
optimisation purposes.
A typical optimisation example would be to use <code>CoreIDARM</code> to select a
per-shader-core instance of a data structure in algorithms that use atomics
so as to reduce contention.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_142"><a class="anchor" href="#_new_structures_142"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderCoreBuiltinsFeaturesARM" class="xref page">VkPhysicalDeviceShaderCoreBuiltinsFeaturesARM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderCoreBuiltinsPropertiesARM" class="xref page">VkPhysicalDeviceShaderCoreBuiltinsPropertiesARM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_163"><a class="anchor" href="#_new_enum_constants_163"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_ARM_SHADER_CORE_BUILTINS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_ARM_SHADER_CORE_BUILTINS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_BUILTINS_FEATURES_ARM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_BUILTINS_PROPERTIES_ARM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_5"><a class="anchor" href="#_new_or_modified_built_in_variables_5"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-corecountarm" class="xref page"><code>CoreCountARM</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-coremaxidarm" class="xref page"><code>CoreMaxIDARM</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-coreidarm" class="xref page"><code>CoreIDARM</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-warpmaxidarm" class="xref page"><code>WarpsMaxIDARM</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-warpidarm" class="xref page"><code>WarpIDARM</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_17"><a class="anchor" href="#_new_spir_v_capabilities_17"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-CoreBuiltinsARM" class="xref page"><code>CoreBuiltinsARM</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_78"><a class="anchor" href="#_issues_78"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_163"><a class="anchor" href="#_version_history_163"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-10-05 (Kevin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-10-26 (Kevin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Add <code>shaderCoreMask</code> property</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_ARM_shader_core_properties"><a class="anchor" href="#VK_ARM_shader_core_properties"></a>VK_ARM_shader_core_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_ARM_shader_core_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>416</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_ARM_shader_core_properties] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_ARM_shader_core_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_164"><a class="anchor" href="#_other_extension_metadata_164"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-07</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_164"><a class="anchor" href="#_description_164"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the ability to determine device-specific performance
properties of Arm GPUs.</p>
</div>
<div class="paragraph">
<p>It exposes properties for the number of texel, pixel, and fused multiply-add
operations per clock per shader core.
This can be used in combination with the
<code><a href="#VK_ARM_shader_core_builtins">VK_ARM_shader_core_builtins</a></code> extension that provides the ability to
query the number of shader cores on the physical device.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_143"><a class="anchor" href="#_new_structures_143"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderCorePropertiesARM" class="xref page">VkPhysicalDeviceShaderCorePropertiesARM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_164"><a class="anchor" href="#_new_enum_constants_164"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_ARM_SHADER_CORE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_ARM_SHADER_CORE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_ARM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_164"><a class="anchor" href="#_version_history_164"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-02-07 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_FUCHSIA_buffer_collection"><a class="anchor" href="#VK_FUCHSIA_buffer_collection"></a>VK_FUCHSIA_buffer_collection</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_FUCHSIA_buffer_collection</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>367</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_FUCHSIA_external_memory">VK_FUCHSIA_external_memory</a><br>
and<br>
<a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Rosasco <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_FUCHSIA_buffer_collection] @rosasco%0A*Here describe the issue or question you have about the VK_FUCHSIA_buffer_collection extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>rosasco</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_165"><a class="anchor" href="#_other_extension_metadata_165"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-23</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout, Google</p>
</li>
<li>
<p>John Bauman, Google</p>
</li>
<li>
<p>John Rosasco, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_165"><a class="anchor" href="#_description_165"></a>Description</h3>
<div class="paragraph">
<p>A buffer collection is a collection of one or more buffers which were
allocated together as a group and which all have the same properties.
These properties describe the buffers' internal representation such as its
dimensions and memory layout.
This ensures that all of the buffers can be used interchangeably by tasks
that require swapping among multiple buffers, such as double-buffered
graphics rendering.</p>
</div>
<div class="paragraph">
<p>By sharing such a collection of buffers between components, communication
about buffer lifecycle can be made much simpler and more efficient.
For example, when a content producer finishes writing to a buffer, it can
message the consumer of the buffer with the buffer index, rather than
passing a handle to the shared memory.</p>
</div>
<div class="paragraph">
<p>On Fuchsia, the Sysmem service uses buffer collections as a core construct
in its design.
VK_FUCHSIA_buffer_collection is the Vulkan extension that allows Vulkan
applications to interoperate with the Sysmem service on Fuchsia.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_11"><a class="anchor" href="#_new_object_types_11"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionFUCHSIA" class="xref page">VkBufferCollectionFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_75"><a class="anchor" href="#_new_commands_75"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkCreateBufferCollectionFUCHSIA" class="xref page">vkCreateBufferCollectionFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkDestroyBufferCollectionFUCHSIA" class="xref page">vkDestroyBufferCollectionFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetBufferCollectionPropertiesFUCHSIA" class="xref page">vkGetBufferCollectionPropertiesFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkSetBufferCollectionBufferConstraintsFUCHSIA" class="xref page">vkSetBufferCollectionBufferConstraintsFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkSetBufferCollectionImageConstraintsFUCHSIA" class="xref page">vkSetBufferCollectionImageConstraintsFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_144"><a class="anchor" href="#_new_structures_144"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionConstraintsInfoFUCHSIA" class="xref page">VkBufferCollectionConstraintsInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionCreateInfoFUCHSIA" class="xref page">VkBufferCollectionCreateInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionPropertiesFUCHSIA" class="xref page">VkBufferCollectionPropertiesFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBufferConstraintsInfoFUCHSIA" class="xref page">VkBufferConstraintsInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageConstraintsInfoFUCHSIA" class="xref page">VkImageConstraintsInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageFormatConstraintsInfoFUCHSIA" class="xref page">VkImageFormatConstraintsInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkSysmemColorSpaceFUCHSIA" class="xref page">VkSysmemColorSpaceFUCHSIA</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionBufferCreateInfoFUCHSIA" class="xref page">VkBufferCollectionBufferCreateInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferCollectionImageCreateInfoFUCHSIA" class="xref page">VkBufferCollectionImageCreateInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImportMemoryBufferCollectionFUCHSIA" class="xref page">VkImportMemoryBufferCollectionFUCHSIA</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_48"><a class="anchor" href="#_new_enums_48"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageConstraintsInfoFlagBitsFUCHSIA" class="xref page">VkImageConstraintsInfoFlagBitsFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_39"><a class="anchor" href="#_new_bitmasks_39"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageConstraintsInfoFlagsFUCHSIA" class="xref page">VkImageConstraintsInfoFlagsFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageFormatConstraintsFlagsFUCHSIA" class="xref page">VkImageFormatConstraintsFlagsFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_165"><a class="anchor" href="#_new_enum_constants_165"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_FUCHSIA_BUFFER_COLLECTION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_FUCHSIA_BUFFER_COLLECTION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_BUFFER_COLLECTION_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COLLECTION_BUFFER_CREATE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COLLECTION_CONSTRAINTS_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COLLECTION_CREATE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COLLECTION_IMAGE_CREATE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COLLECTION_PROPERTIES_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_CONSTRAINTS_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_CONSTRAINTS_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_CONSTRAINTS_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_BUFFER_COLLECTION_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SYSMEM_COLOR_SPACE_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_BUFFER_COLLECTION_FUCHSIA_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_79"><a class="anchor" href="#_issues_79"></a>Issues</h3>
<div class="paragraph">
<p>1) When configuring a <a href="../chapters/resources.html#VkImageConstraintsInfoFUCHSIA" class="xref page">VkImageConstraintsInfoFUCHSIA</a> structure for
constraint setting, should a NULL <code>pFormatConstraints</code> parameter be
allowed ?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Specifying a NULL <code>pFormatConstraints</code> results in logical complexity of
interpreting the relationship between the
<a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>::<code>usage</code> settings of the elements of the
<code>pImageCreateInfos</code> array and the implied or desired
<a href="../chapters/formats.html#VkFormatFeatureFlags" class="xref page">VkFormatFeatureFlags</a>.</p>
</div>
<div class="paragraph">
<p>The explicit requirement for <code>pFormatConstraints</code> to be non-NULL
simplifies the implied logic of the implementation and expectations for the
Vulkan application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_165"><a class="anchor" href="#_version_history_165"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2021-09-23 (John Rosasco)</p>
<div class="ulist">
<ul>
<li>
<p>Review passes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-03-09 (John Rosasco)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_FUCHSIA_external_memory"><a class="anchor" href="#VK_FUCHSIA_external_memory"></a>VK_FUCHSIA_external_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_FUCHSIA_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>365</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a><br>
and<br>
<a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Rosasco <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_FUCHSIA_external_memory] @rosasco%0A*Here describe the issue or question you have about the VK_FUCHSIA_external_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>rosasco</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_166"><a class="anchor" href="#_other_extension_metadata_166"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-03-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout, Google</p>
</li>
<li>
<p>John Bauman, Google</p>
</li>
<li>
<p>John Rosasco, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_166"><a class="anchor" href="#_description_166"></a>Description</h3>
<div class="paragraph">
<p>Vulkan apps may wish to export or import device memory handles to or from
other logical devices, instances or APIs.</p>
</div>
<div class="paragraph">
<p>This memory sharing can eliminate copies of memory buffers when different
subsystems need to interoperate on them.
Sharing memory buffers may also facilitate a better distribution of
processing workload for more complex memory manipulation pipelines.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_76"><a class="anchor" href="#_new_commands_76"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryZirconHandleFUCHSIA" class="xref page">vkGetMemoryZirconHandleFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryZirconHandlePropertiesFUCHSIA" class="xref page">vkGetMemoryZirconHandlePropertiesFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_145"><a class="anchor" href="#_new_structures_145"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryGetZirconHandleInfoFUCHSIA" class="xref page">VkMemoryGetZirconHandleInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkMemoryZirconHandlePropertiesFUCHSIA" class="xref page">VkMemoryZirconHandlePropertiesFUCHSIA</a></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportMemoryZirconHandleInfoFUCHSIA" class="xref page">VkImportMemoryZirconHandleInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_166"><a class="anchor" href="#_new_enum_constants_166"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_FUCHSIA_EXTERNAL_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_FUCHSIA_EXTERNAL_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ZIRCON_VMO_BIT_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_ZIRCON_HANDLE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_ZIRCON_HANDLE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_ZIRCON_HANDLE_PROPERTIES_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_80"><a class="anchor" href="#_issues_80"></a>Issues</h3>
<div class="paragraph">
<p>See <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code> issues list for further information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_166"><a class="anchor" href="#_version_history_166"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-03-01 (John Rosasco)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_FUCHSIA_external_semaphore"><a class="anchor" href="#VK_FUCHSIA_external_semaphore"></a>VK_FUCHSIA_external_semaphore</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_FUCHSIA_external_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>366</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a><br>
and<br>
<a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Rosasco <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_FUCHSIA_external_semaphore] @rosasco%0A*Here describe the issue or question you have about the VK_FUCHSIA_external_semaphore extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>rosasco</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_167"><a class="anchor" href="#_other_extension_metadata_167"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-03-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout, Google</p>
</li>
<li>
<p>John Bauman, Google</p>
</li>
<li>
<p>John Rosasco, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_167"><a class="anchor" href="#_description_167"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from Zircon event handles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_77"><a class="anchor" href="#_new_commands_77"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetSemaphoreZirconHandleFUCHSIA" class="xref page">vkGetSemaphoreZirconHandleFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkImportSemaphoreZirconHandleFUCHSIA" class="xref page">vkImportSemaphoreZirconHandleFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_146"><a class="anchor" href="#_new_structures_146"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkImportSemaphoreZirconHandleInfoFUCHSIA" class="xref page">VkImportSemaphoreZirconHandleInfoFUCHSIA</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreGetZirconHandleInfoFUCHSIA" class="xref page">VkSemaphoreGetZirconHandleInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_167"><a class="anchor" href="#_new_enum_constants_167"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_FUCHSIA_EXTERNAL_SEMAPHORE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_FUCHSIA_EXTERNAL_SEMAPHORE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalSemaphoreHandleTypeFlagBits" class="xref page">VkExternalSemaphoreHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_ZIRCON_HANDLE_INFO_FUCHSIA</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_ZIRCON_HANDLE_INFO_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_81"><a class="anchor" href="#_issues_81"></a>Issues</h3>
<div class="paragraph">
<p>1) Does the application need to close the Zircon event handle returned by
<a href="../chapters/synchronization.html#vkGetSemaphoreZirconHandleFUCHSIA" class="xref page">vkGetSemaphoreZirconHandleFUCHSIA</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the semaphore.
A successful get call transfers ownership of the Zircon event handle to the
application, and a successful import transfers it back to the driver.
Destroying the original semaphore object will not close the Zircon event
handle nor remove its reference to the underlying semaphore resource
associated with it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_167"><a class="anchor" href="#_version_history_167"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-03-08 (John Rosasco)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_FUCHSIA_imagepipe_surface"><a class="anchor" href="#VK_FUCHSIA_imagepipe_surface"></a>VK_FUCHSIA_imagepipe_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_FUCHSIA_imagepipe_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>215</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_FUCHSIA_imagepipe_surface] @cdotstout%0A*Here describe the issue or question you have about the VK_FUCHSIA_imagepipe_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cdotstout</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_168"><a class="anchor" href="#_other_extension_metadata_168"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout, Google</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_168"><a class="anchor" href="#_description_168"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_FUCHSIA_imagepipe_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Fuchsia
<code>imagePipeHandle</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_78"><a class="anchor" href="#_new_commands_78"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateImagePipeSurfaceFUCHSIA" class="xref page">vkCreateImagePipeSurfaceFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_147"><a class="anchor" href="#_new_structures_147"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkImagePipeSurfaceCreateInfoFUCHSIA" class="xref page">VkImagePipeSurfaceCreateInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_40"><a class="anchor" href="#_new_bitmasks_40"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkImagePipeSurfaceCreateFlagsFUCHSIA" class="xref page">VkImagePipeSurfaceCreateFlagsFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_168"><a class="anchor" href="#_new_enum_constants_168"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_FUCHSIA_IMAGEPIPE_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_FUCHSIA_IMAGEPIPE_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGEPIPE_SURFACE_CREATE_INFO_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_168"><a class="anchor" href="#_version_history_168"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-27 (Craig Stout)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GGP_frame_token"><a class="anchor" href="#VK_GGP_frame_token"></a>VK_GGP_frame_token</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GGP_frame_token</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>192</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_GGP_stream_descriptor_surface">VK_GGP_stream_descriptor_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GGP_frame_token] @jfroy%0A*Here describe the issue or question you have about the VK_GGP_frame_token extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jfroy</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_169"><a class="anchor" href="#_other_extension_metadata_169"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy, Google</p>
</li>
<li>
<p>Richard O&#8217;Grady, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_169"><a class="anchor" href="#_description_169"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application that uses the <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>
extension in combination with a Google Games Platform surface provided by
the <code><a href="#VK_GGP_stream_descriptor_surface">VK_GGP_stream_descriptor_surface</a></code> extension to associate a
Google Games Platform frame token with a present operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_148"><a class="anchor" href="#_new_structures_148"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentFrameTokenGGP" class="xref page">VkPresentFrameTokenGGP</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_169"><a class="anchor" href="#_new_enum_constants_169"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GGP_FRAME_TOKEN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GGP_FRAME_TOKEN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_FRAME_TOKEN_GGP</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_169"><a class="anchor" href="#_version_history_169"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-26 (Jean-Francois Roy)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GGP_stream_descriptor_surface"><a class="anchor" href="#VK_GGP_stream_descriptor_surface"></a>VK_GGP_stream_descriptor_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GGP_stream_descriptor_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>50</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GGP_stream_descriptor_surface] @jfroy%0A*Here describe the issue or question you have about the VK_GGP_stream_descriptor_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jfroy</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_170"><a class="anchor" href="#_other_extension_metadata_170"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy, Google</p>
</li>
<li>
<p>Brad Grantham, Google</p>
</li>
<li>
<p>Connor Smith, Google</p>
</li>
<li>
<p>Cort Stratton, Google</p>
</li>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jim Ray, Google</p>
</li>
<li>
<p>Katherine Wu, Google</p>
</li>
<li>
<p>Kaye Mason, Google</p>
</li>
<li>
<p>Kuangye Guo, Google</p>
</li>
<li>
<p>Mark Segal, Google</p>
</li>
<li>
<p>Nicholas Vining, Google</p>
</li>
<li>
<p>Paul Lalonde, Google</p>
</li>
<li>
<p>Richard O&#8217;Grady, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_170"><a class="anchor" href="#_description_170"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_GGP_stream_descriptor_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Google Games
Platform <code>GgpStreamDescriptor</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_79"><a class="anchor" href="#_new_commands_79"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateStreamDescriptorSurfaceGGP" class="xref page">vkCreateStreamDescriptorSurfaceGGP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_149"><a class="anchor" href="#_new_structures_149"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkStreamDescriptorSurfaceCreateInfoGGP" class="xref page">VkStreamDescriptorSurfaceCreateInfoGGP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_41"><a class="anchor" href="#_new_bitmasks_41"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkStreamDescriptorSurfaceCreateFlagsGGP" class="xref page">VkStreamDescriptorSurfaceCreateFlagsGGP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_170"><a class="anchor" href="#_new_enum_constants_170"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GGP_STREAM_DESCRIPTOR_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GGP_STREAM_DESCRIPTOR_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_STREAM_DESCRIPTOR_SURFACE_CREATE_INFO_GGP</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_170"><a class="anchor" href="#_version_history_170"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-26 (Jean-Francois Roy)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GOOGLE_decorate_string"><a class="anchor" href="#VK_GOOGLE_decorate_string"></a>VK_GOOGLE_decorate_string</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_decorate_string</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>225</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GOOGLE_decorate_string] @chaoticbob%0A*Here describe the issue or question you have about the VK_GOOGLE_decorate_string extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>chaoticbob</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_171"><a class="anchor" href="#_other_extension_metadata_171"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/GOOGLE/SPV_GOOGLE_decorate_string.html"><code>SPV_GOOGLE_decorate_string</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_171"><a class="anchor" href="#_description_171"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_GOOGLE_decorate_string</code> extension allows use of the
<code>SPV_GOOGLE_decorate_string</code> extension in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_171"><a class="anchor" href="#_new_enum_constants_171"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GOOGLE_DECORATE_STRING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_DECORATE_STRING_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_171"><a class="anchor" href="#_version_history_171"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-09 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GOOGLE_display_timing"><a class="anchor" href="#VK_GOOGLE_display_timing"></a>VK_GOOGLE_display_timing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_display_timing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>93</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GOOGLE_display_timing] @ianelliottus%0A*Here describe the issue or question you have about the VK_GOOGLE_display_timing extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_172"><a class="anchor" href="#_other_extension_metadata_172"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_172"><a class="anchor" href="#_description_172"></a>Description</h3>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to obtain information about the
presentation engine&#8217;s display, to obtain timing information about each
present, and to schedule a present to happen no earlier than a desired time.
An application can use this to minimize various visual anomalies (e.g.
stuttering).</p>
</div>
<div class="paragraph">
<p>Traditional game and real-time animation applications need to correctly
position their geometry for when the presentable image will be presented to
the user.
To accomplish this, applications need various timing information about the
presentation engine&#8217;s display.
They need to know when presentable images were actually presented, and when
they could have been presented.
Applications also need to tell the presentation engine to display an image
no sooner than a given time.
This allows the application to avoid stuttering, so the animation looks
smooth to the user.</p>
</div>
<div class="paragraph">
<p>This extension treats variable-refresh-rate (VRR) displays as if they are
fixed-refresh-rate (FRR) displays.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_80"><a class="anchor" href="#_new_commands_80"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPastPresentationTimingGOOGLE" class="xref page">vkGetPastPresentationTimingGOOGLE</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetRefreshCycleDurationGOOGLE" class="xref page">vkGetRefreshCycleDurationGOOGLE</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_150"><a class="anchor" href="#_new_structures_150"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPastPresentationTimingGOOGLE" class="xref page">VkPastPresentationTimingGOOGLE</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentTimeGOOGLE" class="xref page">VkPresentTimeGOOGLE</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkRefreshCycleDurationGOOGLE" class="xref page">VkRefreshCycleDurationGOOGLE</a></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkPresentTimesInfoGOOGLE" class="xref page">VkPresentTimesInfoGOOGLE</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_172"><a class="anchor" href="#_new_enum_constants_172"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GOOGLE_DISPLAY_TIMING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_DISPLAY_TIMING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_TIMES_INFO_GOOGLE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_24"><a class="anchor" href="#_examples_24"></a>Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the this extension (like the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code>
and <code>VK_GOOGLE_display_timing</code> extensions) is contained in the cube demo
that is shipped with the official Khronos SDK, and is being kept up-to-date
in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a> ).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_172"><a class="anchor" href="#_version_history_172"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GOOGLE_hlsl_functionality1"><a class="anchor" href="#VK_GOOGLE_hlsl_functionality1"></a>VK_GOOGLE_hlsl_functionality1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_hlsl_functionality1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>224</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GOOGLE_hlsl_functionality1] @chaoticbob%0A*Here describe the issue or question you have about the VK_GOOGLE_hlsl_functionality1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>chaoticbob</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_173"><a class="anchor" href="#_other_extension_metadata_173"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/GOOGLE/SPV_GOOGLE_hlsl_functionality1.html"><code>SPV_GOOGLE_hlsl_functionality1</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_173"><a class="anchor" href="#_description_173"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_GOOGLE_hlsl_functionality1</code> extension allows use of the
<code>SPV_GOOGLE_hlsl_functionality1</code> extension in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_173"><a class="anchor" href="#_new_enum_constants_173"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GOOGLE_HLSL_FUNCTIONALITY1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_HLSL_FUNCTIONALITY1_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_GOOGLE_HLSL_FUNCTIONALITY_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_HLSL_FUNCTIONALITY_1_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_173"><a class="anchor" href="#_version_history_173"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-09 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GOOGLE_surfaceless_query"><a class="anchor" href="#VK_GOOGLE_surfaceless_query"></a>VK_GOOGLE_surfaceless_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_surfaceless_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>434</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">OpenGL / ES support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GOOGLE_surfaceless_query] @syoussefi%0A*Here describe the issue or question you have about the VK_GOOGLE_surfaceless_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_GOOGLE_surfaceless_query.adoc">VK_GOOGLE_surfaceless_query</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_174"><a class="anchor" href="#_other_extension_metadata_174"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-08-03</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_174"><a class="anchor" href="#_description_174"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormatsKHR" class="xref page">vkGetPhysicalDeviceSurfaceFormatsKHR</a> and
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModesKHR" class="xref page">vkGetPhysicalDeviceSurfacePresentModesKHR</a> functions to accept
<a href="boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> as their <code>surface</code> parameter, allowing potential
surface formats, color spaces and present modes to be queried without
providing a surface.
Identically, <a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceFormats2KHR" class="xref page">vkGetPhysicalDeviceSurfaceFormats2KHR</a>,
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfacePresentModes2EXT" class="xref page">vkGetPhysicalDeviceSurfacePresentModes2EXT</a>, and
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a> would accept
<a href="boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> in
<a href="../chapters/VK_KHR_surface/wsi.html#VkPhysicalDeviceSurfaceInfo2KHR" class="xref page">VkPhysicalDeviceSurfaceInfo2KHR</a>::<code>surface</code>.
<strong>This can only be supported on platforms where the results of these queries
are surface-agnostic and a single presentation engine is the implicit target
of all present operations</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_174"><a class="anchor" href="#_new_enum_constants_174"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GOOGLE_SURFACELESS_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_SURFACELESS_QUERY_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_174"><a class="anchor" href="#_version_history_174"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-12-14 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-08-03 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Precisions to which parts of the query responses are defined when
surfaceless</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_GOOGLE_user_type"><a class="anchor" href="#VK_GOOGLE_user_type"></a>VK_GOOGLE_user_type</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_user_type</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>290</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kaye Mason <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_GOOGLE_user_type] @chaleur%0A*Here describe the issue or question you have about the VK_GOOGLE_user_type extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>chaleur</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_175"><a class="anchor" href="#_other_extension_metadata_175"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-07-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/GOOGLE/SPV_GOOGLE_user_type.html"><code>SPV_GOOGLE_user_type</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kaye Mason, Google</p>
</li>
<li>
<p>Hai Nguyen, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_175"><a class="anchor" href="#_description_175"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_GOOGLE_user_type</code> extension allows use of the <code>SPV_GOOGLE_user_type</code>
extension in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_175"><a class="anchor" href="#_new_enum_constants_175"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_GOOGLE_USER_TYPE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_GOOGLE_USER_TYPE_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_175"><a class="anchor" href="#_version_history_175"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-09-07 (Kaye Mason)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_HUAWEI_cluster_culling_shader"><a class="anchor" href="#VK_HUAWEI_cluster_culling_shader"></a>VK_HUAWEI_cluster_culling_shader</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_HUAWEI_cluster_culling_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>405</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yuchang Wang <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_HUAWEI_cluster_culling_shader] @richard_Wang2%0A*Here describe the issue or question you have about the VK_HUAWEI_cluster_culling_shader extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>richard_Wang2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_HUAWEI_cluster_culling_shader.adoc">VK_HUAWEI_cluster_culling_shader</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_176"><a class="anchor" href="#_other_extension_metadata_176"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/HUAWEI/SPV_HUAWEI_cluster_culling_shader.html"><code>SPV_HUAWEI_cluster_culling_shader</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/huawei/GLSL_HUAWEI_cluster_culling_shader.txt"><code>GL_HUAWEI_cluster_culling_shader</code></a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yuchang Wang, Huawei</p>
</li>
<li>
<p>Juntao Li, Huawei</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
<li>
<p>Jie Cao, Huawei</p>
</li>
<li>
<p>Yunjin Zhang, Huawei</p>
</li>
<li>
<p>Shujie Zhou, Huawei</p>
</li>
<li>
<p>Chaojun Wang, Huawei</p>
</li>
<li>
<p>Jiajun Hu, Huawei</p>
</li>
<li>
<p>Cong Zhang, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_176"><a class="anchor" href="#_description_176"></a>Description</h3>
<div class="paragraph">
<p>Cluster Culling Shaders (CCS) are similar to the existing compute shaders.
Their main purpose is to provide an execution environment in order to
perform coarse-level geometry culling and LOD selection more efficiently on
the GPU.</p>
</div>
<div class="paragraph">
<p>The traditional 2-pass GPU culling solution using a compute shader sometimes
needs a pipeline barrier between compute and graphics pipeline to optimize
performance.
An additional compaction process may also be required.
This extension addresses these shortcomings, allowing compute shaders to
directly emit visible clusters to the following graphics pipeline.</p>
</div>
<div class="paragraph">
<p>A set of new built-in output variables are used to express a visible
cluster.
In addition, a new built-in function is used to emit these variables from
CCS to the IA stage.
The IA stage can use these variables to fetches vertices of a visible
cluster and drive vertex shaders to shading these vertices.</p>
</div>
<div class="paragraph">
<p>Note that CCS do not work with geometry or tessellation shaders, but both IA
and vertex shaders are preserved.
Vertex shaders are still used for vertex position shading, instead of
directly outputting transformed vertices from the compute shader.
This makes CCS more suitable for mobile GPUs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_81"><a class="anchor" href="#_new_commands_81"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawClusterHUAWEI" class="xref page">vkCmdDrawClusterHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawClusterIndirectHUAWEI" class="xref page">vkCmdDrawClusterIndirectHUAWEI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_151"><a class="anchor" href="#_new_structures_151"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceClusterCullingShaderFeaturesHUAWEI" class="xref page">VkPhysicalDeviceClusterCullingShaderFeaturesHUAWEI</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI" class="xref page">VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_176"><a class="anchor" href="#_new_enum_constants_176"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_HUAWEI_CLUSTER_CULLING_SHADER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_HUAWEI_CLUSTER_CULLING_SHADER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_CLUSTER_CULLING_SHADER_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPipelineStatisticFlagBits" class="xref page">VkQueryPipelineStatisticFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_CLUSTER_CULLING_SHADER_INVOCATIONS_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CLUSTER_CULLING_SHADER_FEATURES_HUAWEI</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CLUSTER_CULLING_SHADER_PROPERTIES_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_5"><a class="anchor" href="#_new_built_in_variables_5"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-indexcounthuawei" class="xref page">IndexCountHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-vertexcounthuawei" class="xref page">VertexCountHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-instancecounthuawei" class="xref page">InstanceCountHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-firstindexhuawei" class="xref page">FirstIndexHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-firstvertexhuawei" class="xref page">FirstVertexHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-vertexoffsethuawei" class="xref page">VertexOffsetHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-firstinstancehuawei" class="xref page">FirstInstanceHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-clusteridhuawei" class="xref page">ClusterIDHUAWEI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability_2"><a class="anchor" href="#_new_spir_v_capability_2"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ClusterCullingShadingHUAWEI" class="xref page">    <code>ClusterCullingShadingHUAWEI</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code_3"><a class="anchor" href="#_sample_code_3"></a>Sample code</h3>
<div class="paragraph">
<p>Example of cluster culling in a GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#extension GL_HUAWEI_cluster_culling_shader: enable

#define GPU_WARP_SIZE                   32
#define GPU_GROUP_SIZE                  GPU_WARP_SIZE

#define GPU_CLUSTER_PER_INVOCATION      1
#define GPU_CLUSTER_PER_WORKGROUP       (GPU_GROUP_SIZE * GPU_CLUSTER_PER_INVOCATION)

// Number of threads per workgroup
// - 1D only
// - warpsize = 32
layout(local_size_x=GPU_GROUP_SIZE, local_size_y=1, local_size_z=1) in;


#define GPU_CLUSTER_DESCRIPTOR_BINDING      0
#define GPU_DRAW_BUFFER_BINDING             1
#define GPU_INSTANCE_DESCRIPTOR_BINDING     2

const float pi_half = 1.570795;
uint instance_id;

struct BoundingSphere
{
  vec3 center;
  float radius;
};

struct BoundingCone
{
  vec3 normal;
  float angle;
};

struct ClusterDescriptor
{
  BoundingSphere sphere;
  BoundingCone cone;
  uint instance_idx;
};

struct InstanceData
{
  mat4 mvp_matrix;                      // mvp matrix.
  vec4 frustum_planes[6];               // six frustum planes
  mat4 model_matrix_transpose_inverse;  // inverse transpose of model matrix.
  vec3 view_origin;                     // view original
};

struct InstanceDescriptor
{
  uint begin;
  uint end;
  uint cluster_count;
  uint debug;
  BoundingSphere sphere;
  InstanceData instance_data;
};

struct DrawElementsCommand{
  uint indexcount;
  uint instanceCount;
  uint firstIndex;
  int  vertexoffset;
  uint firstInstance;
  uint cluster_id;
};

// indexed mode
out gl_PerClusterHUAWEI{
  uint gl_IndexCountHUAWEI;
  uint gl_InstanceCountHUAWEI;
  uint gl_FirstIndexHUAWEI;
  int  gl_VertexOffsetHUAWEI;
  uint gl_FirstInstanceHUAWEI;
  uint gl_ClusterIDHUAWEI;
};


layout(binding = GPU_CLUSTER_DESCRIPTOR_BINDING, std430) readonly buffer cluster_descriptor_ssbo
{
        ClusterDescriptor cluster_descriptors[];
};


layout(binding = GPU_DRAW_BUFFER_BINDING, std430) buffer draw_indirect_ssbo
{
        DrawElementsCommand draw_commands[];
};

layout(binding = GPU_INSTANCE_DESCRIPTOR_BINDING, std430) buffer instance_descriptor_ssbo
{
        InstanceDescriptor instance_descriptors[];
};


bool isFrontFaceVisible( vec3 sphere_center, float sphere_radius, vec3 cone_normal, float cone_angle )
{
  vec3 sphere_center_dir = normalize(sphere_center -
                           instance_descriptors[instance_id].instance_data.view_origin);

  float sin_cone_angle = sin(min(cone_angle, pi_half));
  return dot(cone_normal, sphere_center_dir) &lt; sin_cone_angle;
}

bool isSphereOutsideFrustum( vec3 sphere_center, float sphere_radius )
{
  bool isInside = false;

  for(int i = 0; i &lt; 6; i++)
  {
      isInside = isInside ||
      (dot(instance_descriptors[instance_id].instance_data.frustum_planes[i].xyz,
      sphere_center) + instance_descriptors[instance_id].instance_data.frustum_planes[i].w &lt;
      sphere_radius);
  }
  return isInside;
}


void main()
{
    uint cluster_id = gl_GlobalInvocationID.x;
    ClusterDescriptor desc = cluster_descriptors[cluster_id];

    // get instance description
    instance_id = desc.instance_idx;
    InstanceDescriptor inst_desc = instance_descriptors[instance_id];

    //instance based culling
    bool instance_render = !isSphereOutsideFrustum(inst_desc.sphere.center, inst_desc.sphere.radius);

    if( instance_render)
    {
        // cluster based culling
        bool render = (!isSphereOutsideFrustum(desc.sphere.center,
        desc.sphere.radius) &amp;&amp; isFrontFaceVisible(desc.sphere.center, desc.sphere.radius, desc.cone.norm
        al, desc.cone.angle));

        if (render)
        {
            // this cluster passed coarse-level culling, update built-in output variable.
            // in case of indexed mode:
            gl_IndexCountHUAWEI     = draw_commands[cluster_id].indexcount;
            gl_InstanceCountHUAWEI  = draw_commands[cluster_id].instanceCount;
            gl_FirstIndexHUAWEI     = draw_commands[cluster_id].firstIndex;
            gl_VertexOffsetHUAWEI   = draw_commands[cluster_id].vertexoffset;
            gl_FirstInstanceHUAWEI  = draw_commands[cluster_id].firstInstance;
            gl_ClusterIDHUAWEI      = draw_commands[cluster_id].cluster_id;

            // emit built-in output variables as a drawing command to subsequent
            // rendering pipeline.
            dispatchClusterHUAWEI();
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of graphics pipeline creation with cluster culling shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">// create a cluster culling shader stage info structure.
VkPipelineShaderStageCreateInfo ccsStageInfo{};
ccsStageInfo.sType = VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO;
ccsStageInfo.stage = VK_SHADER_STAGE_CLUSTER_CULLING_BIT_HUAWEI;
ccsStageInfo.module = clustercullingshaderModule;
ccsStageInfo.pName =  "main";

// pipeline shader stage creation
VkPipelineShaderStageCreateInfo shaderStages[] = { ccsStageInfo, vertexShaderStageInfo, fragmentShaderStageInfo };

// create graphics pipeline
VkGraphicsPipelineCreateInfo pipelineInfo{};
pipelineInfo.sType = VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO;
pipelineInfo.stageCount = 3;
pipelineInfo.pStage = shaderStages;
pipelineInfo.pVertexInputState = &amp;vertexInputInfo;
// ...
VkPipeline graphicsPipeline;
VkCreateGraphicsPipelines(device, VK_NULL_HANDLE, 1, &amp;pipelineInfo, nullptr, &amp;graphicsPipeline);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of launching the execution of cluster culling shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">vkCmdBindPipeline(commandBuffer, VK_PIPELINE_BIND_POINT_GRAPHICS, graphicsPipeline);
vkCmdDrawClusterHUAWEI(commandBuffer, groupCountX, 1, 1);
vkCmdEndRenderPass(commandBuffer);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_176"><a class="anchor" href="#_version_history_176"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-11-18 (YuChang Wang)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2023-04-02 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Grammar edits.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_HUAWEI_invocation_mask"><a class="anchor" href="#VK_HUAWEI_invocation_mask"></a>VK_HUAWEI_invocation_mask</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_HUAWEI_invocation_mask</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>371</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pan Gao <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_HUAWEI_invocation_mask] @PanGao-h%0A*Here describe the issue or question you have about the VK_HUAWEI_invocation_mask extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>PanGao-h</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_HUAWEI_invocation_mask.adoc">VK_HUAWEI_invocation_mask</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_177"><a class="anchor" href="#_other_extension_metadata_177"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-05-27</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code>, which
allow to bind an invocation mask image before the ray tracing command</p>
</li>
<li>
<p>This extension requires <code><a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code>, which allows
new pipeline stage for the invocation mask image</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yunpeng Zhu</p>
</li>
<li>
<p>Juntao Li, Huawei</p>
</li>
<li>
<p>Liang Chen, Huawei</p>
</li>
<li>
<p>Shaozhuang Shi, Huawei</p>
</li>
<li>
<p>Hailong Chu, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_177"><a class="anchor" href="#_description_177"></a>Description</h3>
<div class="paragraph">
<p>The rays to trace may be sparse in some use cases.
For example, the scene only have a few regions to reflect.
Providing an invocation mask image to the ray tracing commands could
potentially give the hardware the hint to do certain optimization without
invoking an additional pass to compact the ray buffer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_82"><a class="anchor" href="#_new_commands_82"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/raytracing.html#vkCmdBindInvocationMaskHUAWEI" class="xref page">vkCmdBindInvocationMaskHUAWEI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_152"><a class="anchor" href="#_new_structures_152"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceInvocationMaskFeaturesHUAWEI" class="xref page">VkPhysicalDeviceInvocationMaskFeaturesHUAWEI</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_177"><a class="anchor" href="#_new_enum_constants_177"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_HUAWEI_INVOCATION_MASK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_HUAWEI_INVOCATION_MASK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_INVOCATION_MASK_READ_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_INVOCATION_MASK_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_INVOCATION_MASK_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INVOCATION_MASK_FEATURES_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_25"><a class="anchor" href="#_examples_25"></a>Examples</h3>
<div class="paragraph">
<p>RT mask is updated before each traceRay.</p>
</div>
<div class="paragraph">
<p>Step 1.
Generate InvocationMask.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">//the rt mask image bind as color attachment in the fragment shader
Layout(location = 2) out vec4 outRTmask
vec4 mask = vec4(x,x,x,x);
outRTmask = mask;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step 2.
traceRay with InvocationMask</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">vkCmdBindPipeline(
    commandBuffers[imageIndex],
    VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR, m_rtPipeline);
    vkCmdBindDescriptorSets(commandBuffers[imageIndex],
    VK_PIPELINE_BIND_POINT_RAY_TRACING_NV,
    m_rtPipelineLayout, 0, 1, &amp;m_rtDescriptorSet,
    0, nullptr);

vkCmdBindInvocationMaskHUAWEI(
    commandBuffers[imageIndex],
    InvocationMaskimageView,
    InvocationMaskimageLayout);
    vkCmdTraceRaysKHR(commandBuffers[imageIndex],
    pRaygenShaderBindingTable,
    pMissShaderBindingTable,
    swapChainExtent.width,
    swapChainExtent.height, 1);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_177"><a class="anchor" href="#_version_history_177"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-05-27 (Yunpeng Zhu)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_HUAWEI_subpass_shading"><a class="anchor" href="#VK_HUAWEI_subpass_shading"></a>VK_HUAWEI_subpass_shading</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_HUAWEI_subpass_shading</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>370</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pan Gao <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_HUAWEI_subpass_shading] @PanGao-h%0A*Here describe the issue or question you have about the VK_HUAWEI_subpass_shading extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>PanGao-h</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_178"><a class="anchor" href="#_other_extension_metadata_178"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-01</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/HUAWEI/SPV_HUAWEI_subpass_shading.html"><code>SPV_HUAWEI_subpass_shading</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/huawei/GLSL_HUAWEI_subpass_shading.txt"><code>GL_HUAWEI_subpass_shading</code></a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hueilong Wang</p>
</li>
<li>
<p>Juntao Li, Huawei</p>
</li>
<li>
<p>Renmiao Lu, Huawei</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_178"><a class="anchor" href="#_description_178"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to execute a subpass shading pipeline in
a subpass of a render pass in order to save memory bandwidth for algorithms
like tile-based deferred rendering and forward plus.
A subpass shading pipeline is a pipeline with the compute pipeline ability,
allowed to read values from input attachments, and only allowed to be
dispatched inside a stand-alone subpass.
Its work dimension is defined by the render pass&#8217;s render area size.
Its workgroup size (width, height) shall be a power-of-two number in width
or height, with minimum value from 8, and maximum value shall be decided
from the render pass attachments and sample counts but depends on
implementation.</p>
</div>
<div class="paragraph">
<p>The <code>GlobalInvocationId.xy</code> of a subpass shading pipeline is equal to the
<code>FragCoord.xy</code> of a graphic pipeline in the same render pass subtracted
the <a href="../chapters/fundamentals.html#VkRect2D" class="xref page"><code>offset</code></a> of the
<a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>::<code>renderArea</code>.
<code>GlobalInvocationId.z</code> is mapped to the Layer if
<code><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></code> is supported.
The <code>GlobalInvocationId.xy</code> is equal to the index of the local workgroup
multiplied by the size of the local workgroup plus the
<code>LocalInvocationId</code> and the <a href="../chapters/fundamentals.html#VkRect2D" class="xref page"><code>offset</code></a> of the
<a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>::<code>renderArea</code>.</p>
</div>
<div class="paragraph">
<p>This extension allows a subpass&#8217;s pipeline bind point to be
<code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_83"><a class="anchor" href="#_new_commands_83"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/dispatch.html#vkCmdSubpassShadingHUAWEI" class="xref page">vkCmdSubpassShadingHUAWEI</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI" class="xref page">vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_153"><a class="anchor" href="#_new_structures_153"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkComputePipelineCreateInfo" class="xref page">VkComputePipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkSubpassShadingPipelineCreateInfoHUAWEI" class="xref page">VkSubpassShadingPipelineCreateInfoHUAWEI</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSubpassShadingFeaturesHUAWEI" class="xref page">VkPhysicalDeviceSubpassShadingFeaturesHUAWEI</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceSubpassShadingPropertiesHUAWEI" class="xref page">VkPhysicalDeviceSubpassShadingPropertiesHUAWEI</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_178"><a class="anchor" href="#_new_enum_constants_178"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_HUAWEI_SUBPASS_SHADING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_HUAWEI_SUBPASS_SHADING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_SUBPASS_SHADER_BIT_HUAWEI</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_2_SUBPASS_SHADING_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SUBPASS_SHADING_FEATURES_HUAWEI</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SUBPASS_SHADING_PROPERTIES_HUAWEI</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_SHADING_PIPELINE_CREATE_INFO_HUAWEI</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code_4"><a class="anchor" href="#_sample_code_4"></a>Sample Code</h3>
<div class="paragraph">
<p>Example of subpass shading in a GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#extension GL_HUAWEI_subpass_shading: enable
#extension GL_KHR_shader_subgroup_arithmetic: enable

layout(constant_id = 0) const uint tileWidth = 8;
layout(constant_id = 1) const uint tileHeight = 8;
layout(local_size_x_id = 0, local_size_y_id = 1, local_size_z = 1) in;
layout(set=0, binding=0, input_attachment_index=0) uniform subpassInput depth;

void main()
{
  float d = subpassLoad(depth).x;
  float minD = subgroupMin(d);
  float maxD = subgroupMax(d);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of subpass shading dispatching in a subpass</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">vkCmdNextSubpass(commandBuffer, VK_SUBPASS_CONTENTS_INLINE);
vkCmdBindPipeline(commandBuffer, VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI, subpassShadingPipeline);
vkCmdBindDescriptorSets(commandBuffer, VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI, subpassShadingPipelineLayout,
  firstSet, descriptorSetCount, pDescriptorSets, dynamicOffsetCount, pDynamicOffsets);
vkCmdSubpassShadingHUAWEI(commandBuffer)
vkCmdEndRenderPass(commandBuffer);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of subpass shading render pass creation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VkAttachmentDescription2 attachments[] = {
  {
    VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2, NULL,
    0, VK_FORMAT_R8G8B8A8_UNORM, VK_SAMPLE_COUNT_1_BIT,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_STORE_OP_DONT_CARE,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE, VK_ATTACHMENT_LOAD_OP_DONT_CARE,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL
  },
  {
    VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2, NULL,
    0, VK_FORMAT_R8G8B8A8_UNORM, VK_SAMPLE_COUNT_1_BIT,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_STORE_OP_DONT_CARE,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE, VK_ATTACHMENT_LOAD_OP_DONT_CARE,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL
  },
  {
    VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2, NULL,
    0, VK_FORMAT_R8G8B8A8_UNORM, VK_SAMPLE_COUNT_1_BIT,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_STORE_OP_DONT_CARE,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE, VK_ATTACHMENT_LOAD_OP_DONT_CARE,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL
  },
  {
    VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2, NULL,
    0, VK_FORMAT_D24_UNORM_S8_UINT, VK_SAMPLE_COUNT_1_BIT,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_STORE_OP_DONT_CARE,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_LOAD_OP_DONT_CARE,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL, VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL
  },
  {
    VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2, NULL,
    0, VK_FORMAT_R8G8B8A8_UNORM, VK_SAMPLE_COUNT_1_BIT,
    VK_ATTACHMENT_LOAD_OP_CLEAR, VK_ATTACHMENT_STORE_OP_STORE,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE, VK_ATTACHMENT_LOAD_OP_DONT_CARE,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL
  }
};

VkAttachmentReference2 gBufferAttachmentReferences[] = {
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 0, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT },
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 1, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT },
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 2, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT }
};
VkAttachmentReference2 gBufferDepthStencilAttachmentReferences =
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 3, VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_DEPTH_BIT|VK_IMAGE_ASPECT_STENCIL_BIT };
VkAttachmentReference2 depthInputAttachmentReferences[] = {
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 3, VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL, VK_IMAGE_ASPECT_DEPTH_BIT|VK_IMAGE_ASPECT_STENCIL_BIT };
};
VkAttachmentReference2 preserveAttachmentReferences[] = {
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 0, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT },
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 1, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT },
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 2, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT },
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 3, VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_DEPTH_BIT|VK_IMAGE_ASPECT_STENCIL_BIT }
}; // G buffer including depth/stencil
VkAttachmentReference2 colorAttachmentReferences[] = {
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 4, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT }
};
VkAttachmentReference2 resolveAttachmentReference =
  { VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2, NULL, 4, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL, VK_IMAGE_ASPECT_COLOR_BIT };

VkSubpassDescription2 subpasses[] = {
  {
    VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2, NULL, 0, VK_PIPELINE_BIND_POINT_GRAPHICS, 0,
    0, NULL, // input
    sizeof(gBufferAttachmentReferences)/sizeof(gBufferAttachmentReferences[0]), gBufferAttachmentReferences, // color
    NULL, &amp;gBufferDepthStencilAttachmentReferences, // resolve &amp; DS
    0, NULL
  },
  {
    VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2, NULL, 0, VK_PIPELINE_BIND_POINT_SUBPASS_SHADING_HUAWEI , 0,
    sizeof(depthInputAttachmentReferences)/sizeof(depthInputAttachmentReferences[0]), depthInputAttachmentReferences, // input
    0, NULL, // color
    NULL, NULL, // resolve &amp; DS
    sizeof(preserveAttachmentReferences)/sizeof(preserveAttachmentReferences[0]), preserveAttachmentReferences,
  },
  {
    VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2, NULL, 0, VK_PIPELINE_BIND_POINT_GRAPHICS, 0,
    sizeof(gBufferAttachmentReferences)/sizeof(gBufferAttachmentReferences[0]), gBufferAttachmentReferences, // input
    sizeof(colorAttachmentReferences)/sizeof(colorAttachmentReferences[0]), colorAttachmentReferences, // color
    &amp;resolveAttachmentReference, &amp;gBufferDepthStencilAttachmentReferences, // resolve &amp; DS
    0, NULL
  },
};

VkMemoryBarrier2KHR fragmentToSubpassShading = {
  VK_STRUCTURE_TYPE_MEMORY_BARRIER_2_KHR, NULL,
  VK_PIPELINE_STAGE_2_FRAGMENT_SHADER_BIT_KHR, VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT|VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT,
  VK_PIPELINE_STAGE_2_SUBPASS_SHADER_BIT_HUAWEI, VK_ACCESS_INPUT_ATTACHMENT_READ_BIT
};

VkMemoryBarrier2KHR subpassShadingToFragment = {
  VK_STRUCTURE_TYPE_MEMORY_BARRIER_2_KHR, NULL,
  VK_PIPELINE_STAGE_2_SUBPASS_SHADER_BIT_HUAWEI, VK_ACCESS_SHADER_WRITE_BIT,
  VK_PIPELINE_STAGE_2_FRAGMENT_SHADER_BIT_KHR, VK_ACCESS_SHADER_READ_BIT
};

VkSubpassDependency2 dependencies[] = {
  {
    VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2, &amp;fragmentToSubpassShading,
    0, 1,
    0, 0, 0, 0,
    0, 0
  },
  {
    VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2, &amp;subpassShadingToFragment,
    1, 2,
    0, 0, 0, 0,
    0, 0
  },
};

VkRenderPassCreateInfo2 renderPassCreateInfo = {
  VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO_2, NULL, 0,
    sizeof(attachments)/sizeof(attachments[0]), attachments,
    sizeof(subpasses)/sizeof(subpasses[0]), subpasses,
    sizeof(dependencies)/sizeof(dependencies[0]), dependencies,
    0, NULL
};
VKRenderPass renderPass;
vkCreateRenderPass2(device, &amp;renderPassCreateInfo, NULL, &amp;renderPass);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of subpass shading pipeline creation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VkExtent2D maxWorkgroupSize;

VkSpecializationMapEntry subpassShadingConstantMapEntries[] = {
  { 0, 0 * sizeof(uint32_t), sizeof(uint32_t) },
  { 1, 1 * sizeof(uint32_t), sizeof(uint32_t) }
};

VkSpecializationInfo subpassShadingConstants = {
  2, subpassShadingConstantMapEntries,
  sizeof(VkExtent2D), &amp;maxWorkgroupSize
};

VkSubpassShadingPipelineCreateInfoHUAWEI subpassShadingPipelineCreateInfo {
  VK_STRUCTURE_TYPE_SUBPASSS_SHADING_PIPELINE_CREATE_INFO_HUAWEI, NULL,
  renderPass, 1
};

VkPipelineShaderStageCreateInfo subpassShadingPipelineStageCreateInfo {
  VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO, NULL,
  0, VK_SHADER_STAGE_SUBPASS_SHADING_BIT_HUAWEI,
  shaderModule, "main",
  &amp;subpassShadingConstants
};

VkComputePipelineCreateInfo subpassShadingComputePipelineCreateInfo = {
  VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO, &amp;subpassShadingPipelineCreateInfo,
  0, &amp;subpassShadingPipelineStageCreateInfo,
  pipelineLayout, basePipelineHandle, basePipelineIndex
};

VKPipeline pipeline;

vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI(device, renderPass, &amp;maxWorkgroupSize);
vkCreateComputePipelines(device, pipelineCache, 1, &amp;subpassShadingComputePipelineCreateInfo, NULL, &amp;pipeline);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_178"><a class="anchor" href="#_version_history_178"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 3, 2023-06-19 (Pan Gao)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VK_PIPELINE_STAGE_2_SUBPASS_SHADING_BIT_HUAWEI</code> to
<code>VK_PIPELINE_STAGE_2_SUBPASS_SHADER_BIT_HUAWEI</code> to better aligned with
naming of other pipeline stages</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-06-28 (Hueilong Wang)</p>
<div class="ulist">
<ul>
<li>
<p>Change vkGetSubpassShadingMaxWorkgroupSizeHUAWEI to
vkGetDeviceSubpassShadingMaxWorkgroupSizeHUAWEI to resolve issue
<a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/1564"><code>pub1564</code></a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-12-15 (Hueilong Wang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_IMG_filter_cubic"><a class="anchor" href="#VK_IMG_filter_cubic"></a>VK_IMG_filter_cubic</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_IMG_filter_cubic</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>16</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_IMG_filter_cubic] @tobski%0A*Here describe the issue or question you have about the VK_IMG_filter_cubic extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_179"><a class="anchor" href="#_other_extension_metadata_179"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-02-23</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_179"><a class="anchor" href="#_description_179"></a>Description</h3>
<div class="paragraph">
<p><code>VK_IMG_filter_cubic</code> adds an additional, high quality cubic filtering mode
to Vulkan, using a Catmull-Rom bicubic filter.
Performing this kind of filtering can be done in a shader by using 16
samples and a number of instructions, but this can be inefficient.
The cubic filter mode exposes an optimized high quality texture sampling
using fixed texture sampling functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_179"><a class="anchor" href="#_new_enum_constants_179"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMG_FILTER_CUBIC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_IMG_FILTER_CUBIC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkFilter" class="xref page">VkFilter</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FILTER_CUBIC_IMG</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_IMG</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h3>
<div class="paragraph">
<p>Creating a sampler with the new filter for both magnification and
minification</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkSamplerCreateInfo createInfo =
    {
        .sType = VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO,
        // Other members set to application-desired values
    };

    createInfo.magFilter = VK_FILTER_CUBIC_IMG;
    createInfo.minFilter = VK_FILTER_CUBIC_IMG;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_179"><a class="anchor" href="#_version_history_179"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-23 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_INTEL_performance_query"><a class="anchor" href="#VK_INTEL_performance_query"></a>VK_INTEL_performance_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_INTEL_performance_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>211</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_INTEL_performance_query] @llandwerlin%0A*Here describe the issue or question you have about the VK_INTEL_performance_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>llandwerlin</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_180"><a class="anchor" href="#_other_extension_metadata_180"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-05-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Piotr Maciejewski, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_180"><a class="anchor" href="#_description_180"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to capture performance data to be
interpreted by a external application or library.</p>
</div>
<div class="paragraph">
<p>Such a library is available at : <a href="https://github.com/intel/metrics-discovery" class="bare">https://github.com/intel/metrics-discovery</a></p>
</div>
<div class="paragraph">
<p>Performance analysis tools such as
<a href="https://software.intel.com/content/www/us/en/develop/tools/graphics-performance-analyzers.html">Graphics
Performance Analyzers</a> make use of this extension and the metrics-discovery
library to present the data in a human readable way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_12"><a class="anchor" href="#_new_object_types_12"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkPerformanceConfigurationINTEL" class="xref page">VkPerformanceConfigurationINTEL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_84"><a class="anchor" href="#_new_commands_84"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#vkAcquirePerformanceConfigurationINTEL" class="xref page">vkAcquirePerformanceConfigurationINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkCmdSetPerformanceMarkerINTEL" class="xref page">vkCmdSetPerformanceMarkerINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkCmdSetPerformanceOverrideINTEL" class="xref page">vkCmdSetPerformanceOverrideINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkCmdSetPerformanceStreamMarkerINTEL" class="xref page">vkCmdSetPerformanceStreamMarkerINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkGetPerformanceParameterINTEL" class="xref page">vkGetPerformanceParameterINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkInitializePerformanceApiINTEL" class="xref page">vkInitializePerformanceApiINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkQueueSetPerformanceConfigurationINTEL" class="xref page">vkQueueSetPerformanceConfigurationINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkReleasePerformanceConfigurationINTEL" class="xref page">vkReleasePerformanceConfigurationINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkUninitializePerformanceApiINTEL" class="xref page">vkUninitializePerformanceApiINTEL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_154"><a class="anchor" href="#_new_structures_154"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkInitializePerformanceApiInfoINTEL" class="xref page">VkInitializePerformanceApiInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceConfigurationAcquireInfoINTEL" class="xref page">VkPerformanceConfigurationAcquireInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceMarkerInfoINTEL" class="xref page">VkPerformanceMarkerInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceOverrideInfoINTEL" class="xref page">VkPerformanceOverrideInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceStreamMarkerInfoINTEL" class="xref page">VkPerformanceStreamMarkerInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceValueINTEL" class="xref page">VkPerformanceValueINTEL</a></p>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkQueryPoolCreateInfoINTEL" class="xref page">VkQueryPoolCreateInfoINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkQueryPoolPerformanceQueryCreateInfoINTEL" class="xref page">VkQueryPoolPerformanceQueryCreateInfoINTEL</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_5"><a class="anchor" href="#_new_unions_5"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkPerformanceValueDataINTEL" class="xref page">VkPerformanceValueDataINTEL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_49"><a class="anchor" href="#_new_enums_49"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkPerformanceConfigurationTypeINTEL" class="xref page">VkPerformanceConfigurationTypeINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceOverrideTypeINTEL" class="xref page">VkPerformanceOverrideTypeINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceParameterTypeINTEL" class="xref page">VkPerformanceParameterTypeINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkPerformanceValueTypeINTEL" class="xref page">VkPerformanceValueTypeINTEL</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkQueryPoolSamplingModeINTEL" class="xref page">VkQueryPoolSamplingModeINTEL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_180"><a class="anchor" href="#_new_enum_constants_180"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_INTEL_PERFORMANCE_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_INTEL_PERFORMANCE_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_PERFORMANCE_CONFIGURATION_INTEL</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_PERFORMANCE_QUERY_INTEL</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_INITIALIZE_PERFORMANCE_API_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_CONFIGURATION_ACQUIRE_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_MARKER_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_OVERRIDE_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_STREAM_MARKER_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO_INTEL</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_QUERY_CREATE_INFO_INTEL</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_example_code"><a class="anchor" href="#_example_code"></a>Example Code</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">// A previously created device
VkDevice device;

// A queue derived from the device
VkQueue queue;

VkInitializePerformanceApiInfoINTEL performanceApiInfoIntel = {
  VK_STRUCTURE_TYPE_INITIALIZE_PERFORMANCE_API_INFO_INTEL,
  NULL,
  NULL
};

vkInitializePerformanceApiINTEL(
  device,
  &amp;performanceApiInfoIntel);

VkQueryPoolPerformanceQueryCreateInfoINTEL queryPoolIntel = {
  VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO_INTEL,
  NULL,
  VK_QUERY_POOL_SAMPLING_MODE_MANUAL_INTEL,
};

VkQueryPoolCreateInfo queryPoolCreateInfo = {
  VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO,
  &amp;queryPoolIntel,
  0,
  VK_QUERY_TYPE_PERFORMANCE_QUERY_INTEL,
  1,
  0
};

VkQueryPool queryPool;

VkResult result = vkCreateQueryPool(
  device,
  &amp;queryPoolCreateInfo,
  NULL,
  &amp;queryPool);

assert(VK_SUCCESS == result);

// A command buffer we want to record counters on
VkCommandBuffer commandBuffer;

VkCommandBufferBeginInfo commandBufferBeginInfo = {
  VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO,
  NULL,
  VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT,
  NULL
};

result = vkBeginCommandBuffer(commandBuffer, &amp;commandBufferBeginInfo);

assert(VK_SUCCESS == result);

vkCmdResetQueryPool(
  commandBuffer,
  queryPool,
  0,
  1);

vkCmdBeginQuery(
  commandBuffer,
  queryPool,
  0,
  0);

// Perform the commands you want to get performance information on
// ...

// Perform a barrier to ensure all previous commands were complete before
// ending the query
vkCmdPipelineBarrier(commandBuffer,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  0,
  0,
  NULL,
  0,
  NULL,
  0,
  NULL);

vkCmdEndQuery(
  commandBuffer,
  queryPool,
  0);

result = vkEndCommandBuffer(commandBuffer);

assert(VK_SUCCESS == result);

VkPerformanceConfigurationAcquireInfoINTEL performanceConfigurationAcquireInfo = {
  VK_STRUCTURE_TYPE_PERFORMANCE_CONFIGURATION_ACQUIRE_INFO_INTEL,
  NULL,
  VK_PERFORMANCE_CONFIGURATION_TYPE_COMMAND_QUEUE_METRICS_DISCOVERY_ACTIVATED_INTEL
};

VkPerformanceConfigurationINTEL performanceConfigurationIntel;

result = vkAcquirePerformanceConfigurationINTEL(
  device,
  &amp;performanceConfigurationAcquireInfo,
  &amp;performanceConfigurationIntel);

vkQueueSetPerformanceConfigurationINTEL(queue, performanceConfigurationIntel);

assert(VK_SUCCESS == result);

// Submit the command buffer and wait for its completion
// ...

result = vkReleasePerformanceConfigurationINTEL(
  device,
  performanceConfigurationIntel);

assert(VK_SUCCESS == result);

// Get the report size from metrics-discovery's QueryReportSize

result = vkGetQueryPoolResults(
  device,
  queryPool,
  0, 1, QueryReportSize,
  data, QueryReportSize, 0);

assert(VK_SUCCESS == result);

// The data can then be passed back to metrics-discovery from which
// human readable values can be queried.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_180"><a class="anchor" href="#_version_history_180"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2020-03-06 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Rename VkQueryPoolCreateInfoINTEL in
VkQueryPoolPerformanceQueryCreateInfoINTEL</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-05-16 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_INTEL_shader_integer_functions2"><a class="anchor" href="#VK_INTEL_shader_integer_functions2"></a>VK_INTEL_shader_integer_functions2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_INTEL_shader_integer_functions2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>210</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Romanick <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_INTEL_shader_integer_functions2] @ianromanick%0A*Here describe the issue or question you have about the VK_INTEL_shader_integer_functions2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianromanick</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_181"><a class="anchor" href="#_other_extension_metadata_181"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-30</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/INTEL/SPV_INTEL_shader_integer_functions2.html"><code>SPV_INTEL_shader_integer_functions2</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/INTEL/INTEL_shader_integer_functions2.txt"><code>GL_INTEL_shader_integer_functions2</code></a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Romanick, Intel</p>
</li>
<li>
<p>Ben Ashbaugh, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_181"><a class="anchor" href="#_description_181"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for several new integer instructions in SPIR-V
for use in graphics shaders.
Many of these instructions have pre-existing counterparts in the Kernel
environment.</p>
</div>
<div class="paragraph">
<p>The added integer functions are defined by the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/INTEL/SPV_INTEL_shader_integer_functions2.html"><code>SPV_INTEL_shader_integer_functions2</code></a>
SPIR-V extension and can be used with the GL_INTEL_shader_integer_functions2
GLSL extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_155"><a class="anchor" href="#_new_structures_155"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderIntegerFunctions2FeaturesINTEL" class="xref page">VkPhysicalDeviceShaderIntegerFunctions2FeaturesINTEL</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_181"><a class="anchor" href="#_new_enum_constants_181"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_INTEL_SHADER_INTEGER_FUNCTIONS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_INTEL_SHADER_INTEGER_FUNCTIONS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_INTEGER_FUNCTIONS_2_FEATURES_INTEL</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_18"><a class="anchor" href="#_new_spir_v_capabilities_18"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-IntegerFunctions2INTEL" class="xref page">    <code>IntegerFunctions2INTEL</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_181"><a class="anchor" href="#_version_history_181"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-04-30 (Ian Romanick)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_LUNARG_direct_driver_loading"><a class="anchor" href="#VK_LUNARG_direct_driver_loading"></a>VK_LUNARG_direct_driver_loading</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_LUNARG_direct_driver_loading</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>460</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Giessen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_LUNARG_direct_driver_loading] @charles-lunarg%0A*Here describe the issue or question you have about the VK_LUNARG_direct_driver_loading extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>charles-lunarg</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_LUNARG_direct_driver_loading.adoc">VK_LUNARG_direct_driver_loading</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_182"><a class="anchor" href="#_other_extension_metadata_182"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-29</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Giessen, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_182"><a class="anchor" href="#_description_182"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a mechanism for applications to add drivers to the
implementation.
This allows drivers to be included with an application without requiring
installation and is capable of being used in any execution environment, such
as a process running with elevated privileges.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_156"><a class="anchor" href="#_new_structures_156"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkDirectDriverLoadingInfoLUNARG" class="xref page">VkDirectDriverLoadingInfoLUNARG</a></p>
</li>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkDirectDriverLoadingListLUNARG" class="xref page">VkDirectDriverLoadingListLUNARG</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_function_pointers_3"><a class="anchor" href="#_new_function_pointers_3"></a>New Function Pointers</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#PFN_vkGetInstanceProcAddrLUNARG" class="xref page">PFN_vkGetInstanceProcAddrLUNARG</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_50"><a class="anchor" href="#_new_enums_50"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkDirectDriverLoadingModeLUNARG" class="xref page">VkDirectDriverLoadingModeLUNARG</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_42"><a class="anchor" href="#_new_bitmasks_42"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkDirectDriverLoadingFlagsLUNARG" class="xref page">VkDirectDriverLoadingFlagsLUNARG</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_182"><a class="anchor" href="#_new_enum_constants_182"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_LUNARG_DIRECT_DRIVER_LOADING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_LUNARG_DIRECT_DRIVER_LOADING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DIRECT_DRIVER_LOADING_INFO_LUNARG</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DIRECT_DRIVER_LOADING_LIST_LUNARG</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_182"><a class="anchor" href="#_version_history_182"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-11-29 (Charles Giessen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_MSFT_layered_driver"><a class="anchor" href="#VK_MSFT_layered_driver"></a>VK_MSFT_layered_driver</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_MSFT_layered_driver</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>531</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Natalie <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_MSFT_layered_driver] @jenatali%0A*Here describe the issue or question you have about the VK_MSFT_layered_driver extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jenatali</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_MSFT_layered_driver.adoc">VK_MSFT_layered_driver</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_183"><a class="anchor" href="#_other_extension_metadata_183"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Natalie, Microsoft</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_183"><a class="anchor" href="#_description_183"></a>Description</h3>
<div class="paragraph">
<p>This extension adds new physical device properties to allow applications and
the Vulkan ICD loader to understand when a physical device is implemented as
a layered driver on top of another underlying API.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_157"><a class="anchor" href="#_new_structures_157"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceLayeredDriverPropertiesMSFT" class="xref page">VkPhysicalDeviceLayeredDriverPropertiesMSFT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_51"><a class="anchor" href="#_new_enums_51"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkLayeredDriverUnderlyingApiMSFT" class="xref page">VkLayeredDriverUnderlyingApiMSFT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_183"><a class="anchor" href="#_new_enum_constants_183"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_MSFT_LAYERED_DRIVER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_MSFT_LAYERED_DRIVER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LAYERED_DRIVER_PROPERTIES_MSFT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_26"><a class="anchor" href="#_examples_26"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_183"><a class="anchor" href="#_version_history_183"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-06-21 (Jesse Natalie)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NN_vi_surface"><a class="anchor" href="#VK_NN_vi_surface"></a>VK_NN_vi_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NN_vi_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>63</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mathias Heyer <span class="icon red"><i class="fa fa-gitlab"></i></span>mheyer</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_184"><a class="anchor" href="#_other_extension_metadata_184"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>Michael Chock, NVIDIA</p>
</li>
<li>
<p>Yasuhiro Yoshioka, Nintendo</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_184"><a class="anchor" href="#_description_184"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_NN_vi_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) associated with an
<code>nn</code>::<code>vi</code>::<code>Layer</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_85"><a class="anchor" href="#_new_commands_85"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateViSurfaceNN" class="xref page">vkCreateViSurfaceNN</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_158"><a class="anchor" href="#_new_structures_158"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkViSurfaceCreateInfoNN" class="xref page">VkViSurfaceCreateInfoNN</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_43"><a class="anchor" href="#_new_bitmasks_43"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkViSurfaceCreateFlagsNN" class="xref page">VkViSurfaceCreateFlagsNN</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_184"><a class="anchor" href="#_new_enum_constants_184"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NN_VI_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NN_VI_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VI_SURFACE_CREATE_INFO_NN</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_82"><a class="anchor" href="#_issues_82"></a>Issues</h3>
<div class="paragraph">
<p>1) Does VI need a way to query for compatibility between a particular
physical device (and queue family?) and a specific VI display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is currently always assumed that the device and display will always be
compatible.</p>
</div>
<div class="paragraph">
<p>2) <a href="../chapters/VK_KHR_surface/wsi.html#VkViSurfaceCreateInfoNN" class="xref page">VkViSurfaceCreateInfoNN</a>::<code>pWindow</code> is intended to store an
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code>, but its declared type is a bare
<code>void*</code> to store the window handle.
Why the discrepancy?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is for C compatibility.
The definition for the VI native window handle type is defined inside the
<code>nn</code>::<code>vi</code> C++ namespace.
This prevents its use in C source files.
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code> is always defined to be
<code>void*</code>, so this extension uses <code>void*</code> to match.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_184"><a class="anchor" href="#_version_history_184"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-2 (Michael Chock)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_acquire_winrt_display"><a class="anchor" href="#VK_NV_acquire_winrt_display"></a>VK_NV_acquire_winrt_display</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_acquire_winrt_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>346</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Juliano <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_acquire_winrt_display] @jjuliano%0A*Here describe the issue or question you have about the VK_NV_acquire_winrt_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jjuliano</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_185"><a class="anchor" href="#_other_extension_metadata_185"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_185"><a class="anchor" href="#_description_185"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to take exclusive control of a display
on Windows 10 provided that the display is not already controlled by a
compositor.
Examples of compositors include the Windows desktop compositor, other
applications using this Vulkan extension, and applications that
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaymanager.tryacquiretarget">&#8220;Acquire&#8221;</a>
a
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaytarget">&#8220;DisplayTarget&#8221;</a>
using a <a href="https://docs.microsoft.com/en-us/uwp/api/">&#8220;WinRT&#8221;</a> command such as
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.devices.display.core.displaymanager.tryacquiretarget">&#8220;winrt::Windows::Devices::Display::Core::DisplayManager.TryAcquireTarget()&#8221;</a>.</p>
</div>
<div class="paragraph">
<p>When control is acquired the application has exclusive access to the display
until control is released or the application terminates.
An application&#8217;s attempt to acquire is denied if a different application has
already acquired the display.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_86"><a class="anchor" href="#_new_commands_86"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireWinrtDisplayNV" class="xref page">vkAcquireWinrtDisplayNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetWinrtDisplayNV" class="xref page">vkGetWinrtDisplayNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_185"><a class="anchor" href="#_new_enum_constants_185"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_ACQUIRE_WINRT_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_ACQUIRE_WINRT_DISPLAY_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_83"><a class="anchor" href="#_issues_83"></a>Issues</h3>
<div class="paragraph">
<p>1) What should the platform substring be for this extension:</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The platform substring is &#8220;Winrt&#8221;.</p>
</div>
<div class="paragraph">
<p>The substring &#8220;Winrt&#8221; matches the fact that the OS API exposing the
acquire and release functionality is called &#8220;WinRT&#8221;.</p>
</div>
<div class="paragraph">
<p>The substring &#8220;Win32&#8221; is wrong because the related &#8220;WinRT&#8221; API is
explicitly <strong>not</strong> a &#8220;Win32&#8221; API.
&#8220;WinRT&#8221; is a competing API family to the &#8220;Win32&#8221; API family.</p>
</div>
<div class="paragraph">
<p>The substring &#8220;Windows&#8221; is suboptimal because there could be more than one
relevant API on the Windows platform.
There is preference to use the more-specific substring &#8220;Winrt&#8221;.</p>
</div>
<div class="paragraph">
<p>2) Should <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireWinrtDisplayNV" class="xref page">vkAcquireWinrtDisplayNV</a> take a winRT DisplayTarget, or a
Vulkan display handle as input?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A Vulkan display handle.
This matches the design of <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireXlibDisplayEXT" class="xref page">vkAcquireXlibDisplayEXT</a>.</p>
</div>
<div class="paragraph">
<p>3) Should the acquire command be platform-independent named
&#8220;vkAcquireDisplayNV&#8221;, or platform-specific named
&#8220;vkAcquireWinrtDisplayNV&#8221;?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add a platform-specific command.</p>
</div>
<div class="paragraph">
<p>The inputs to the Acquire command are all Vulkan types.
None are WinRT types.
This opens the possibility of the winrt extension defining a
platform-independent acquire command.</p>
</div>
<div class="paragraph">
<p>The X11 acquire command does need to accept a platform-specific parameter.
This could be handled by adding to a platform-independent acquire command a
params struct to which platform-dependent types can be chained by
<code>pNext</code> pointer.</p>
</div>
<div class="paragraph">
<p>The prevailing opinion is that it would be odd to create a second
platform-independent function that is used on the Windows 10 platform, but
that is not used for the X11 platform.
Since a Windows 10 platform-specific command is needed anyway for converting
between vkDisplayKHR and platform-native handles, opinion was to create a
platform-specific acquire function.</p>
</div>
<div class="paragraph">
<p>4) Should the <a href="../chapters/VK_KHR_surface/wsi.html#vkGetWinrtDisplayNV" class="xref page">vkGetWinrtDisplayNV</a> parameter identifying a display be
named &#8220;deviceRelativeId&#8221; or &#8220;adapterRelativeId&#8221;?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The WinRT name is &#8220;AdapterRelativeId&#8221;.
The name &#8220;adapter&#8221; is the Windows analog to a Vulkan &#8220;physical device&#8221;.
Vulkan already has precedent to use the name <code>deviceLUID</code> for the
concept that Windows APIs call &#8220;AdapterLuid&#8221;.
Keeping form with this precedent, the name &#8220;deviceRelativeId&#8221; is chosen.</p>
</div>
<div class="paragraph">
<p>5) Does <a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireWinrtDisplayNV" class="xref page">vkAcquireWinrtDisplayNV</a> cause the Windows desktop compositor
to release a display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
<a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireWinrtDisplayNV" class="xref page">vkAcquireWinrtDisplayNV</a> does not itself cause the Windows desktop
compositor to release a display.
This action must be performed outside of Vulkan.</p>
</div>
<div class="paragraph">
<p>Beginning with Windows 10 version 2004 it is possible to cause the Windows
desktop compositor to release a display by using the &#8220;Advanced display
settings&#8221; sub-page of the &#8220;Display settings&#8221; control panel.
See
<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/display/specialized-monitors" class="bare">https://docs.microsoft.com/en-us/windows-hardware/drivers/display/specialized-monitors</a></p>
</div>
<div class="paragraph">
<p>6) Where can one find additional information about custom compositors for
Windows 10?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Relevant references are as follows.</p>
</div>
<div class="paragraph">
<p>According to Microsoft&#8217;s documentation on
<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/display/specialized-monitors-compositor">"building
a custom compositor"</a>, the ability to write a custom compositor is not a
replacement for a fullscreen desktop window.
The feature is for writing compositor apps that drive specialized hardware.</p>
</div>
<div class="paragraph">
<p>Only certain editions of Windows 10 support custom compositors,
<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/display/specialized-monitors#windows-10-version-2004">"documented
here"</a>.
The product type can be queried from Windows 10.
See
<a href="https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/nf-sysinfoapi-getproductinfo" class="bare">https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/nf-sysinfoapi-getproductinfo</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_185"><a class="anchor" href="#_version_history_185"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-09-29 (Jeff Juliano)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_clip_space_w_scaling"><a class="anchor" href="#VK_NV_clip_space_w_scaling"></a>VK_NV_clip_space_w_scaling</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_clip_space_w_scaling</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>88</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_clip_space_w_scaling] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NV_clip_space_w_scaling extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_186"><a class="anchor" href="#_other_extension_metadata_186"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_186"><a class="anchor" href="#_description_186"></a>Description</h3>
<div class="paragraph">
<p>Virtual Reality (VR) applications often involve a post-processing step to
apply a &#8220;barrel&#8221; distortion to the rendered image to correct the
&#8220;pincushion&#8221; distortion introduced by the optics in a VR device.
The barrel distorted image has lower resolution along the edges compared to
the center.
Since the original image is rendered at high resolution, which is uniform
across the complete image, a lot of pixels towards the edges do not make it
to the final post-processed image.</p>
</div>
<div class="paragraph">
<p>This extension provides a mechanism to render VR scenes at a non-uniform
resolution, in particular a resolution that falls linearly from the center
towards the edges.
This is achieved by scaling the <span class="eq">w</span> coordinate of the vertices in the
clip space before perspective divide.
The clip space <span class="eq">w</span> coordinate of the vertices <strong>can</strong> be offset as of a
function of <span class="eq">x</span> and <span class="eq">y</span> coordinates as follows:</p>
</div>
<div class="paragraph">
<p><span class="eq">w' = w +  Ax +  By</span></p>
</div>
<div class="paragraph">
<p>In the intended use case for viewport position scaling, an application
should use a set of four viewports, one for each of the four quadrants of a
Cartesian coordinate system.
Each viewport is set to the dimension of the image, but is scissored to the
quadrant it represents.
The application should specify <span class="eq">A</span> and <span class="eq">B</span> coefficients of the
<span class="eq">w</span>-scaling equation above, that have the same value, but different
signs, for each of the viewports.
The signs of <span class="eq">A</span> and <span class="eq">B</span> should match the signs of <span class="eq">x</span> and
<span class="eq">y</span> for the quadrant that they represent such that the value of <span class="eq">w'</span>
will always be greater than or equal to the original <span class="eq">w</span> value for the
entire image.
Since the offset to <span class="eq">w</span>, (<span class="eq">Ax +  By</span>), is always positive, and
increases with the absolute values of <span class="eq">x</span> and <span class="eq">y</span>, the effective
resolution will fall off linearly from the center of the image to its edges.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_87"><a class="anchor" href="#_new_commands_87"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportWScalingNV" class="xref page">vkCmdSetViewportWScalingNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_159"><a class="anchor" href="#_new_structures_159"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkViewportWScalingNV" class="xref page">VkViewportWScalingNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV" class="xref page">VkPipelineViewportWScalingStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_186"><a class="anchor" href="#_new_enum_constants_186"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_CLIP_SPACE_W_SCALING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_CLIP_SPACE_W_SCALING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_W_SCALING_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_84"><a class="anchor" href="#_issues_84"></a>Issues</h3>
<div class="paragraph">
<p>1) Is the pipeline struct name too long?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It fits with the naming convention.</p>
</div>
<div class="paragraph">
<p>2) Separate W scaling section or fold into coordinate transformations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Leaving it as its own section for now.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_27"><a class="anchor" href="#_examples_27"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">VkViewport viewports[4];
VkRect2D scissors[4];
VkViewportWScalingNV scalings[4];

for (int i = 0; i &lt; 4; i++) {
    int x = (i &amp; 2) ? 0 : currentWindowWidth / 2;
    int y = (i &amp; 1) ? 0 : currentWindowHeight / 2;

    viewports[i].x = 0;
    viewports[i].y = 0;
    viewports[i].width = currentWindowWidth;
    viewports[i].height = currentWindowHeight;
    viewports[i].minDepth = 0.0f;
    viewports[i].maxDepth = 1.0f;

    scissors[i].offset.x = x;
    scissors[i].offset.y = y;
    scissors[i].extent.width = currentWindowWidth/2;
    scissors[i].extent.height = currentWindowHeight/2;

    const float factor = 0.15;
    scalings[i].xcoeff = ((i &amp; 2) ? -1.0 : 1.0) * factor;
    scalings[i].ycoeff = ((i &amp; 1) ? -1.0 : 1.0) * factor;
}

VkPipelineViewportWScalingStateCreateInfoNV vpWScalingStateInfo = { VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_W_SCALING_STATE_CREATE_INFO_NV };

vpWScalingStateInfo.viewportWScalingEnable = VK_TRUE;
vpWScalingStateInfo.viewportCount = 4;
vpWScalingStateInfo.pViewportWScalings = &amp;scalings[0];

VkPipelineViewportStateCreateInfo vpStateInfo = { VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO };
vpStateInfo.viewportCount = 4;
vpStateInfo.pViewports = &amp;viewports[0];
vpStateInfo.scissorCount = 4;
vpStateInfo.pScissors = &amp;scissors[0];
vpStateInfo.pNext = &amp;vpWScalingStateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example shader to read from a w-scaled texture:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Vertex Shader
// Draw a triangle that covers the whole screen
const vec4 positions[3] = vec4[3](vec4(-1, -1, 0, 1),
                                  vec4( 3, -1, 0, 1),
                                  vec4(-1,  3, 0, 1));
out vec2 uv;
void main()
{
    vec4 pos = positions[ gl_VertexID ];
    gl_Position = pos;
    uv = pos.xy;
}

// Fragment Shader
uniform sampler2D tex;
uniform float xcoeff;
uniform float ycoeff;
out vec4 Color;
in vec2 uv;

void main()
{
    // Handle uv as if upper right quadrant
    vec2 uvabs = abs(uv);

    // unscale: transform w-scaled image into an unscaled image
    //   scale: transform unscaled image int a w-scaled image
    float unscale = 1.0 / (1 + xcoeff * uvabs.x + xcoeff * uvabs.y);
    //float scale = 1.0 / (1 - xcoeff * uvabs.x - xcoeff * uvabs.y);

    vec2 P = vec2(unscale * uvabs.x, unscale * uvabs.y);

    // Go back to the right quadrant
    P *= sign(uv);

    Color = texture(tex, P * 0.5 + 0.5);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_186"><a class="anchor" href="#_version_history_186"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_compute_shader_derivatives"><a class="anchor" href="#VK_NV_compute_shader_derivatives"></a>VK_NV_compute_shader_derivatives</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_compute_shader_derivatives</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>202</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_compute_shader_derivatives] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_compute_shader_derivatives extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_187"><a class="anchor" href="#_other_extension_metadata_187"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_compute_shader_derivatives.html"><code>SPV_NV_compute_shader_derivatives</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_compute_shader_derivatives.txt"><code>GL_NV_compute_shader_derivatives</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_187"><a class="anchor" href="#_description_187"></a>Description</h3>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_compute_shader_derivatives.html"><code>SPV_NV_compute_shader_derivatives</code></a>
SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>The SPIR-V extension provides two new execution modes, both of which allow
compute shaders to use built-ins that evaluate compute derivatives
explicitly or implicitly.
Derivatives will be computed via differencing over a 2x2 group of shader
invocations.
The <code>DerivativeGroupQuadsNV</code> execution mode assembles shader invocations
into 2x2 groups, where each group has x and y coordinates of the local
invocation ID of the form (2m+{0,1}, 2n+{0,1}).
The <code>DerivativeGroupLinearNV</code> execution mode assembles shader invocations
into 2x2 groups, where each group has local invocation index values of the
form 4m+{0,1,2,3}.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_160"><a class="anchor" href="#_new_structures_160"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceComputeShaderDerivativesFeaturesNV" class="xref page">VkPhysicalDeviceComputeShaderDerivativesFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_187"><a class="anchor" href="#_new_enum_constants_187"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_COMPUTE_SHADER_DERIVATIVES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_COMPUTE_SHADER_DERIVATIVES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COMPUTE_SHADER_DERIVATIVES_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability_3"><a class="anchor" href="#_new_spir_v_capability_3"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ComputeDerivativeGroupQuadsNV" class="xref page">    <code>ComputeDerivativeGroupQuadsNV</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ComputeDerivativeGroupLinearNV" class="xref page">    <code>ComputeDerivativeGroupLinearNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_85"><a class="anchor" href="#_issues_85"></a>Issues</h3>
<div class="paragraph">
<p>(1) Should we specify that the groups of four shader invocations used for
derivatives in a compute shader are the same groups of four invocations that
form a &#8220;quad&#8221; in shader subgroups?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_28"><a class="anchor" href="#_examples_28"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_187"><a class="anchor" href="#_version_history_187"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-19 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_cooperative_matrix"><a class="anchor" href="#VK_NV_cooperative_matrix"></a>VK_NV_cooperative_matrix</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_cooperative_matrix</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>250</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_cooperative_matrix] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_cooperative_matrix extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_188"><a class="anchor" href="#_other_extension_metadata_188"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-02-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_cooperative_matrix.html"><code>SPV_NV_cooperative_matrix</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_cooperative_matrix.txt"><code>GL_NV_cooperative_matrix</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Markus Tavenrath, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_188"><a class="anchor" href="#_description_188"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for using cooperative matrix types in SPIR-V.
Cooperative matrix types are medium-sized matrices that are primarily
supported in compute shaders, where the storage for the matrix is spread
across all invocations in some scope (usually a subgroup) and those
invocations cooperate to efficiently perform matrix multiplies.</p>
</div>
<div class="paragraph">
<p>Cooperative matrix types are defined by the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_cooperative_matrix.html"><code>SPV_NV_cooperative_matrix</code></a>
SPIR-V extension and can be used with the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_cooperative_matrix.txt"><code>GL_NV_cooperative_matrix</code></a>
GLSL extension.</p>
</div>
<div class="paragraph">
<p>This extension includes support for enumerating the matrix types and
dimensions that are supported by the implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_88"><a class="anchor" href="#_new_commands_88"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#vkGetPhysicalDeviceCooperativeMatrixPropertiesNV" class="xref page">vkGetPhysicalDeviceCooperativeMatrixPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_161"><a class="anchor" href="#_new_structures_161"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkCooperativeMatrixPropertiesNV" class="xref page">VkCooperativeMatrixPropertiesNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCooperativeMatrixFeaturesNV" class="xref page">VkPhysicalDeviceCooperativeMatrixFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceCooperativeMatrixPropertiesNV" class="xref page">VkPhysicalDeviceCooperativeMatrixPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_52"><a class="anchor" href="#_new_enums_52"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#VkComponentTypeNV" class="xref page">VkComponentTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#VkScopeNV" class="xref page">VkScopeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_188"><a class="anchor" href="#_new_enum_constants_188"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_COOPERATIVE_MATRIX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_COOPERATIVE_MATRIX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/shaders.html#VkComponentTypeKHR" class="xref page">VkComponentTypeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT16_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT32_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_FLOAT64_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT16_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT32_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT64_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_SINT8_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT16_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT32_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT64_NV</code></p>
</li>
<li>
<p><code>VK_COMPONENT_TYPE_UINT8_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/shaders.html#VkScopeKHR" class="xref page">VkScopeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SCOPE_DEVICE_NV</code></p>
</li>
<li>
<p><code>VK_SCOPE_QUEUE_FAMILY_NV</code></p>
</li>
<li>
<p><code>VK_SCOPE_SUBGROUP_NV</code></p>
</li>
<li>
<p><code>VK_SCOPE_WORKGROUP_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COOPERATIVE_MATRIX_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_19"><a class="anchor" href="#_new_spir_v_capabilities_19"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-CooperativeMatrixNV" class="xref page">    <code>CooperativeMatrixNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_86"><a class="anchor" href="#_issues_86"></a>Issues</h3>
<div class="paragraph">
<p>(1) What matrix properties will be supported in practice?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In NVIDIA&#8217;s initial implementation, we will support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AType = BType = fp16 CType = DType = fp16 MxNxK = 16x8x16 scope =
Subgroup</p>
</li>
<li>
<p>AType = BType = fp16 CType = DType = fp16 MxNxK = 16x8x8 scope =
Subgroup</p>
</li>
<li>
<p>AType = BType = fp16 CType = DType = fp32 MxNxK = 16x8x16 scope =
Subgroup</p>
</li>
<li>
<p>AType = BType = fp16 CType = DType = fp32 MxNxK = 16x8x8 scope =
Subgroup</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_188"><a class="anchor" href="#_version_history_188"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-02-05 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_copy_memory_indirect"><a class="anchor" href="#VK_NV_copy_memory_indirect"></a>VK_NV_copy_memory_indirect</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_copy_memory_indirect</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>427</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_copy_memory_indirect] @vkushwaha-nv%0A*Here describe the issue or question you have about the VK_NV_copy_memory_indirect extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_189"><a class="anchor" href="#_other_extension_metadata_189"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-10-14</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_189"><a class="anchor" href="#_description_189"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for performing copies between memory and image
regions using indirect parameters that are read by the device from a buffer
during execution.
This functionality <strong>may</strong> be useful for performing copies where the copy
parameters are not known during the command buffer creation time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_89"><a class="anchor" href="#_new_commands_89"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyMemoryIndirectNV" class="xref page">vkCmdCopyMemoryIndirectNV</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyMemoryToImageIndirectNV" class="xref page">vkCmdCopyMemoryToImageIndirectNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_162"><a class="anchor" href="#_new_structures_162"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkCopyMemoryIndirectCommandNV" class="xref page">VkCopyMemoryIndirectCommandNV</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyMemoryToImageIndirectCommandNV" class="xref page">VkCopyMemoryToImageIndirectCommandNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCopyMemoryIndirectFeaturesNV" class="xref page">VkPhysicalDeviceCopyMemoryIndirectFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceCopyMemoryIndirectPropertiesNV" class="xref page">VkPhysicalDeviceCopyMemoryIndirectPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_189"><a class="anchor" href="#_new_enum_constants_189"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_COPY_MEMORY_INDIRECT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_COPY_MEMORY_INDIRECT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COPY_MEMORY_INDIRECT_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COPY_MEMORY_INDIRECT_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_189"><a class="anchor" href="#_version_history_189"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-10-14 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_corner_sampled_image"><a class="anchor" href="#VK_NV_corner_sampled_image"></a>VK_NV_corner_sampled_image</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_corner_sampled_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>51</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_corner_sampled_image] @dgkoch%0A*Here describe the issue or question you have about the VK_NV_corner_sampled_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_190"><a class="anchor" href="#_other_extension_metadata_190"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Chris Lentini, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_190"><a class="anchor" href="#_description_190"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for a new image organization, which this
extension refers to as &#8220;corner-sampled&#8221; images.
A corner-sampled image differs from a conventional image in the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Texels are centered on integer coordinates.
See <a href="../chapters/textures.html#textures-unnormalized-to-integer" class="xref page">Unnormalized Texel Coordinate    Operations</a></p>
</li>
<li>
<p>Normalized coordinates are scaled using <span class="eq">coord × (dim - 1)</span>
rather than <span class="eq">coord × dim</span>, where dim is the size of one
dimension of the image.
See <a href="../chapters/textures.html#textures-normalized-to-unnormalized" class="xref page">normalized texel coordinate    transform</a>.</p>
</li>
<li>
<p>Partial derivatives are scaled using <span class="eq">coord × (dim - 1)</span>
rather than <span class="eq">coord × dim</span>.
See <a href="../chapters/textures.html#textures-scale-factor" class="xref page">Scale Factor Operation</a>.</p>
</li>
<li>
<p>Calculation of the next higher LOD size goes according to
<span class="eq">⌈dim / 2⌉</span> rather than <span class="eq">⌊dim / 2⌋</span>.
See <a href="../chapters/resources.html#resources-image-mip-level-sizing" class="xref page">Image Mip Level Sizing</a>.</p>
</li>
<li>
<p>The minimum level size is 2x2 for 2D images and 2x2x2 for 3D images.
See <a href="../chapters/resources.html#resources-image-mip-level-sizing" class="xref page">Image Mip Level Sizing</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This image organization is designed to facilitate a system like Ptex with
separate textures for each face of a subdivision or polygon mesh.
Placing sample locations at pixel corners allows applications to maintain
continuity between adjacent patches by duplicating values along shared
edges.
Additionally, using the modified mipmapping logic along with texture
dimensions of the form <span class="eq">2<sup>n</sup>+1</span> allows continuity across shared edges
even if the adjacent patches use different LOD values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_163"><a class="anchor" href="#_new_structures_163"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCornerSampledImageFeaturesNV" class="xref page">VkPhysicalDeviceCornerSampledImageFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_190"><a class="anchor" href="#_new_enum_constants_190"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_CORNER_SAMPLED_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_CORNER_SAMPLED_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CORNER_SAMPLED_IMAGE_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_87"><a class="anchor" href="#_issues_87"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What should this extension be named?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>: While naming this extension, we chose the most distinctive
aspect of the image organization and referred to such images as
&#8220;corner-sampled images&#8221;.
As a result, we decided to name the extension NV_corner_sampled_image.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do we need a format feature flag so formats can advertise if they support corner-sampling?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>: Currently NVIDIA supports this for all 2D and 3D formats, but
not for cube maps or depth-stencil formats.
A format feature might be useful if other vendors would only support this on
some formats.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do integer texel coordinates have a different range for corner-sampled images?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these are unchanged.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do unnormalized sampler coordinates work with corner-sampled images? Are there any functional differences?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Unnormalized coordinates are treated as already scaled for corner-sample
usage.</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we have a diagram in the &#8220;Image Operations&#8221; chapter demonstrating different texel sampling locations?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>UNRESOLVED</strong>: Probably, but later.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_190"><a class="anchor" href="#_version_history_190"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-14 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-08-14 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>???</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_coverage_reduction_mode"><a class="anchor" href="#VK_NV_coverage_reduction_mode"></a>VK_NV_coverage_reduction_mode</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_coverage_reduction_mode</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>251</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_coverage_reduction_mode] @kthangudu%0A*Here describe the issue or question you have about the VK_NV_coverage_reduction_mode extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kthangudu</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_191"><a class="anchor" href="#_other_extension_metadata_191"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-29</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_191"><a class="anchor" href="#_description_191"></a>Description</h3>
<div class="paragraph">
<p>When using a framebuffer with mixed samples, a per-fragment coverage
reduction operation is performed which generates color sample coverage from
the pixel coverage.
This extension defines the following modes to control how this reduction is
performed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Merge: When there are more samples in the pixel coverage than color
samples, there is an implementation-dependent association of each pixel
coverage sample to a color sample.
In the merge mode, the color sample coverage is computed such that only
if any associated sample in the pixel coverage is covered, the color
sample is covered.
This is the default mode.</p>
</li>
<li>
<p>Truncate: When there are more raster samples (N) than color samples(M),
there is one to one association of the first M raster samples to the M
color samples; other raster samples are ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the number of raster samples is equal to the color samples, there is a
one to one mapping between them in either of the above modes.</p>
</div>
<div class="paragraph">
<p>The new command
<a href="../chapters/fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV" class="xref page">vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV</a> can
be used to query the various raster, color, depth/stencil sample count and
reduction mode combinations that are supported by the implementation.
This extension would allow an implementation to support the behavior of both
<code>VK_NV_framebuffer_mixed_samples</code> and <code>VK_AMD_mixed_attachment_samples</code>
extensions simultaneously.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_90"><a class="anchor" href="#_new_commands_90"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV" class="xref page">vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_164"><a class="anchor" href="#_new_structures_164"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkFramebufferMixedSamplesCombinationNV" class="xref page">VkFramebufferMixedSamplesCombinationNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCoverageReductionModeFeaturesNV" class="xref page">VkPhysicalDeviceCoverageReductionModeFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageReductionStateCreateInfoNV" class="xref page">VkPipelineCoverageReductionStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_53"><a class="anchor" href="#_new_enums_53"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkCoverageReductionModeNV" class="xref page">VkCoverageReductionModeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_44"><a class="anchor" href="#_new_bitmasks_44"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageReductionStateCreateFlagsNV" class="xref page">VkPipelineCoverageReductionStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_191"><a class="anchor" href="#_new_enum_constants_191"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_COVERAGE_REDUCTION_MODE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_COVERAGE_REDUCTION_MODE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_MIXED_SAMPLES_COMBINATION_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COVERAGE_REDUCTION_MODE_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_REDUCTION_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_191"><a class="anchor" href="#_version_history_191"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-29 (Kedarnath Thangudu)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_dedicated_allocation_image_aliasing"><a class="anchor" href="#VK_NV_dedicated_allocation_image_aliasing"></a>VK_NV_dedicated_allocation_image_aliasing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_dedicated_allocation_image_aliasing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>241</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nuno Subtil <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_dedicated_allocation_image_aliasing] @nsubtil%0A*Here describe the issue or question you have about the VK_NV_dedicated_allocation_image_aliasing extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nsubtil</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_192"><a class="anchor" href="#_other_extension_metadata_192"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-04</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Axel Gneiting, id Software</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_192"><a class="anchor" href="#_description_192"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to alias images on dedicated allocations,
subject to specific restrictions: the extent and the number of layers in the
image being aliased must be smaller than or equal to those of the original
image for which the allocation was created, and every other image parameter
must match.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_165"><a class="anchor" href="#_new_structures_165"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDedicatedAllocationImageAliasingFeaturesNV" class="xref page">VkPhysicalDeviceDedicatedAllocationImageAliasingFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_192"><a class="anchor" href="#_new_enum_constants_192"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEDICATED_ALLOCATION_IMAGE_ALIASING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEDICATED_ALLOCATION_IMAGE_ALIASING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEDICATED_ALLOCATION_IMAGE_ALIASING_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_192"><a class="anchor" href="#_version_history_192"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-04 (Nuno Subtil)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_descriptor_pool_overallocation"><a class="anchor" href="#VK_NV_descriptor_pool_overallocation"></a>VK_NV_descriptor_pool_overallocation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_descriptor_pool_overallocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>547</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_descriptor_pool_overallocation] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_NV_descriptor_pool_overallocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_193"><a class="anchor" href="#_other_extension_metadata_193"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-08-30</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_193"><a class="anchor" href="#_description_193"></a>Description</h3>
<div class="paragraph">
<p>There are scenarios where the application does not know ahead of time how
many descriptor sets it may need to allocate from a descriptor pool, or how
many descriptors of any of the descriptor types it may need to allocate from
the descriptor pool.</p>
</div>
<div class="paragraph">
<p>This extension gives applications the ability to request the implementation
allow more sets or descriptors to be allocated than initially specified at
descriptor pool creation time, subject to available resources.</p>
</div>
<div class="paragraph">
<p>The <code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV</code> flag
lets the application allocate more than
<a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateInfo" class="xref page">VkDescriptorPoolCreateInfo</a>::<code>maxSets</code> descriptor sets, and the
<code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_POOLS_BIT_NV</code> lets the
application allocate more descriptors than initially specified by
<a href="../chapters/descriptorsets.html#VkDescriptorPoolSize" class="xref page">VkDescriptorPoolSize</a>::<code>descriptorCount</code> for any descriptor types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_166"><a class="anchor" href="#_new_structures_166"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDescriptorPoolOverallocationFeaturesNV" class="xref page">VkPhysicalDeviceDescriptorPoolOverallocationFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_193"><a class="anchor" href="#_new_enum_constants_193"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DESCRIPTOR_POOL_OVERALLOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DESCRIPTOR_POOL_OVERALLOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateFlagBits" class="xref page">VkDescriptorPoolCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_POOLS_BIT_NV</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_ALLOW_OVERALLOCATION_SETS_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_POOL_OVERALLOCATION_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_193"><a class="anchor" href="#_version_history_193"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-08-30 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_device_diagnostic_checkpoints"><a class="anchor" href="#VK_NV_device_diagnostic_checkpoints"></a>VK_NV_device_diagnostic_checkpoints</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_device_diagnostic_checkpoints</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>207</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nuno Subtil <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_device_diagnostic_checkpoints] @nsubtil%0A*Here describe the issue or question you have about the VK_NV_device_diagnostic_checkpoints extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nsubtil</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_194"><a class="anchor" href="#_other_extension_metadata_194"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-16</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Oleg Kuznetsov, NVIDIA</p>
</li>
<li>
<p>Alex Dunn, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_194"><a class="anchor" href="#_description_194"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to insert markers in the command stream
and associate them with custom data.</p>
</div>
<div class="paragraph">
<p>If a device lost error occurs, the application <strong>may</strong> then query the
implementation for the last markers to cross specific implementation-defined
pipeline stages, in order to narrow down which commands were executing at
the time and might have caused the failure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_91"><a class="anchor" href="#_new_commands_91"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkCmdSetCheckpointNV" class="xref page">vkCmdSetCheckpointNV</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkGetQueueCheckpointDataNV" class="xref page">vkGetQueueCheckpointDataNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_167"><a class="anchor" href="#_new_structures_167"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkCheckpointDataNV" class="xref page">VkCheckpointDataNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2" class="xref page">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyCheckpointPropertiesNV" class="xref page">VkQueueFamilyCheckpointPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_194"><a class="anchor" href="#_new_enum_constants_194"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEVICE_DIAGNOSTIC_CHECKPOINTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEVICE_DIAGNOSTIC_CHECKPOINTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CHECKPOINT_DATA_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_CHECKPOINT_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_194"><a class="anchor" href="#_version_history_194"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-16 (Nuno Subtil)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-07-16 (Nuno Subtil)</p>
<div class="ulist">
<ul>
<li>
<p>???</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_device_diagnostics_config"><a class="anchor" href="#VK_NV_device_diagnostics_config"></a>VK_NV_device_diagnostics_config</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_device_diagnostics_config</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>301</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_device_diagnostics_config] @kthangudu%0A*Here describe the issue or question you have about the VK_NV_device_diagnostics_config extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kthangudu</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_195"><a class="anchor" href="#_other_extension_metadata_195"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-04-06</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
<li>
<p>Thomas Klein, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_195"><a class="anchor" href="#_description_195"></a>Description</h3>
<div class="paragraph">
<p>Applications using Nvidia Nsight<sup>&#8482;</sup> Aftermath SDK for Vulkan to integrate
device crash dumps into their error reporting mechanisms, <strong>may</strong> use this
extension to configure options related to device crash dump creation.</p>
</div>
<div class="paragraph">
<p>Version 2 of this extension adds
<code>VK_DEVICE_DIAGNOSTICS_CONFIG_ENABLE_SHADER_ERROR_REPORTING_BIT_NV</code>
which when set enables enhanced reporting of shader execution errors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_168"><a class="anchor" href="#_new_structures_168"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceDiagnosticsConfigCreateInfoNV" class="xref page">VkDeviceDiagnosticsConfigCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDiagnosticsConfigFeaturesNV" class="xref page">VkPhysicalDeviceDiagnosticsConfigFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_54"><a class="anchor" href="#_new_enums_54"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceDiagnosticsConfigFlagBitsNV" class="xref page">VkDeviceDiagnosticsConfigFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_45"><a class="anchor" href="#_new_bitmasks_45"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceDiagnosticsConfigFlagsNV" class="xref page">VkDeviceDiagnosticsConfigFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_195"><a class="anchor" href="#_new_enum_constants_195"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEVICE_DIAGNOSTICS_CONFIG_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEVICE_DIAGNOSTICS_CONFIG_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_DIAGNOSTICS_CONFIG_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DIAGNOSTICS_CONFIG_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_195"><a class="anchor" href="#_version_history_195"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-11-21 (Kedarnath Thangudu)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-04-06 (Kedarnath Thangudu)</p>
<div class="ulist">
<ul>
<li>
<p>Added a config bit
<code>VK_DEVICE_DIAGNOSTICS_CONFIG_ENABLE_SHADER_ERROR_REPORTING_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_device_generated_commands"><a class="anchor" href="#VK_NV_device_generated_commands"></a>VK_NV_device_generated_commands</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_device_generated_commands</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>278</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_device_generated_commands] @pixeljetstream%0A*Here describe the issue or question you have about the VK_NV_device_generated_commands extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_196"><a class="anchor" href="#_other_extension_metadata_196"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-02-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires Vulkan 1.1</p>
</li>
<li>
<p>This extension requires <code>VK_EXT_buffer_device_address</code> or
<code>VK_KHR_buffer_device_address</code> or Vulkan 1.2 for the ability to bind
vertex and index buffers on the device.</p>
</li>
<li>
<p>This extension interacts with <code>VK_NV_mesh_shader</code>.
If the latter extension is not supported, remove the command token to
initiate mesh tasks drawing in this extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Mathias Schott, NVIDIA</p>
</li>
<li>
<p>Tyson Smith, NVIDIA</p>
</li>
<li>
<p>Ingo Esser, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_196"><a class="anchor" href="#_description_196"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the device to generate a number of critical graphics
commands for command buffers.</p>
</div>
<div class="paragraph">
<p>When rendering a large number of objects, the device can be leveraged to
implement a number of critical functions, like updating matrices, or
implementing occlusion culling, frustum culling, front to back sorting, etc.
Implementing those on the device does not require any special extension,
since an application is free to define its own data structures, and just
process them using shaders.</p>
</div>
<div class="paragraph">
<p>However, if the application desires to quickly kick off the rendering of the
final stream of objects, then unextended Vulkan forces the application to
read back the processed stream and issue graphics command from the host.
For very large scenes, the synchronization overhead and cost to generate the
command buffer can become the bottleneck.
This extension allows an application to generate a device side stream of
state changes and commands, and convert it efficiently into a command buffer
without having to read it back to the host.</p>
</div>
<div class="paragraph">
<p>Furthermore, it allows incremental changes to such command buffers by
manipulating only partial sections of a command stream&#8201;&#8212;&#8201;for example
pipeline bindings.
Unextended Vulkan requires re-creation of entire command buffers in such a
scenario, or updates synchronized on the host.</p>
</div>
<div class="paragraph">
<p>The intended usage for this extension is for the application to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create <code>VkBuffer</code> objects and retrieve physical addresses from them
via <a href="../chapters/descriptorsets.html#vkGetBufferDeviceAddressEXT" class="xref page">vkGetBufferDeviceAddressEXT</a></p>
</li>
<li>
<p>create a graphics pipeline using
<code>VkGraphicsPipelineShaderGroupsCreateInfoNV</code> for the ability to
change shaders on the device.</p>
</li>
<li>
<p>create a <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutNV" class="xref page">VkIndirectCommandsLayoutNV</a>, which lists the
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsTokenTypeNV" class="xref page">VkIndirectCommandsTokenTypeNV</a> it wants to dynamically execute as
an atomic command sequence.
This step likely involves some internal device code compilation, since
the intent is for the GPU to generate the command buffer in the
pipeline.</p>
</li>
<li>
<p>fill the input stream buffers with the data for each of the inputs it
needs.
Each input is an array that will be filled with token-dependent data.</p>
</li>
<li>
<p>set up a preprocess <code>VkBuffer</code> that uses memory according to the
information retrieved via
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkGetGeneratedCommandsMemoryRequirementsNV" class="xref page">vkGetGeneratedCommandsMemoryRequirementsNV</a>.</p>
</li>
<li>
<p>optionally preprocess the generated content using
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a>, for example on an asynchronous
compute queue, or for the purpose of re-using the data in multiple
executions.</p>
</li>
<li>
<p>call <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a> to create and execute the
actual device commands for all sequences based on the inputs provided.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each draw in a sequence, the following can be specified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a different shader group</p>
</li>
<li>
<p>a number of vertex buffer bindings</p>
</li>
<li>
<p>a different index buffer, with an optional dynamic offset and index type</p>
</li>
<li>
<p>a number of different push constants</p>
</li>
<li>
<p>a flag that encodes the primitive winding</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While the GPU can be faster than a CPU to generate the commands, it will not
happen asynchronously to the device, therefore the primary use case is
generating &#8220;less&#8221; total work (occlusion culling, classification to use
specialized shaders, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_13"><a class="anchor" href="#_new_object_types_13"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutNV" class="xref page">VkIndirectCommandsLayoutNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_92"><a class="anchor" href="#_new_commands_92"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkCmdBindPipelineShaderGroupNV" class="xref page">vkCmdBindPipelineShaderGroupNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCreateIndirectCommandsLayoutNV" class="xref page">vkCreateIndirectCommandsLayoutNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkDestroyIndirectCommandsLayoutNV" class="xref page">vkDestroyIndirectCommandsLayoutNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkGetGeneratedCommandsMemoryRequirementsNV" class="xref page">vkGetGeneratedCommandsMemoryRequirementsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_169"><a class="anchor" href="#_new_structures_169"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkBindIndexBufferIndirectCommandNV" class="xref page">VkBindIndexBufferIndirectCommandNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkBindShaderGroupIndirectCommandNV" class="xref page">VkBindShaderGroupIndirectCommandNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkBindVertexBufferIndirectCommandNV" class="xref page">VkBindVertexBufferIndirectCommandNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkGeneratedCommandsInfoNV" class="xref page">VkGeneratedCommandsInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkGeneratedCommandsMemoryRequirementsInfoNV" class="xref page">VkGeneratedCommandsMemoryRequirementsInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkGraphicsShaderGroupCreateInfoNV" class="xref page">VkGraphicsShaderGroupCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutCreateInfoNV" class="xref page">VkIndirectCommandsLayoutCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutTokenNV" class="xref page">VkIndirectCommandsLayoutTokenNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsStreamNV" class="xref page">VkIndirectCommandsStreamNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkSetStateFlagsIndirectCommandNV" class="xref page">VkSetStateFlagsIndirectCommandNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkGraphicsPipelineShaderGroupsCreateInfoNV" class="xref page">VkGraphicsPipelineShaderGroupsCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDeviceGeneratedCommandsFeaturesNV" class="xref page">VkPhysicalDeviceDeviceGeneratedCommandsFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDeviceGeneratedCommandsPropertiesNV" class="xref page">VkPhysicalDeviceDeviceGeneratedCommandsPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_55"><a class="anchor" href="#_new_enums_55"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutUsageFlagBitsNV" class="xref page">VkIndirectCommandsLayoutUsageFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsTokenTypeNV" class="xref page">VkIndirectCommandsTokenTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectStateFlagBitsNV" class="xref page">VkIndirectStateFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_46"><a class="anchor" href="#_new_bitmasks_46"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsLayoutUsageFlagsNV" class="xref page">VkIndirectCommandsLayoutUsageFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectStateFlagsNV" class="xref page">VkIndirectStateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_196"><a class="anchor" href="#_new_enum_constants_196"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEVICE_GENERATED_COMMANDS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEVICE_GENERATED_COMMANDS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_COMMAND_PREPROCESS_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_COMMAND_PREPROCESS_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_INDIRECT_COMMANDS_LAYOUT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_COMMAND_PREPROCESS_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GENERATED_COMMANDS_MEMORY_REQUIREMENTS_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_SHADER_GROUPS_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GRAPHICS_SHADER_GROUP_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_INDIRECT_COMMANDS_LAYOUT_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_INDIRECT_COMMANDS_LAYOUT_TOKEN_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEVICE_GENERATED_COMMANDS_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEVICE_GENERATED_COMMANDS_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_88"><a class="anchor" href="#_issues_88"></a>Issues</h3>
<div class="paragraph">
<p>1) How to name this extension ?</p>
</div>
<div class="paragraph">
<p><code>VK_NV_device_generated_commands</code></p>
</div>
<div class="paragraph">
<p>As usual, one of the hardest issues ;)</p>
</div>
<div class="paragraph">
<p>Alternatives: <code>VK_gpu_commands</code>, <code>VK_execute_commands</code>,
<code>VK_device_commands</code>, <code>VK_device_execute_commands</code>, <code>VK_device_execute</code>,
<code>VK_device_created_commands</code>, <code>VK_device_recorded_commands</code>,
<code>VK_device_generated_commands</code> <code>VK_indirect_generated_commands</code></p>
</div>
<div class="paragraph">
<p>2) Should we use a serial stateful token stream or stateless sequence
descriptions?</p>
</div>
<div class="paragraph">
<p>Similarly to <a href="../chapters/pipelines.html#VkPipeline" class="xref page">VkPipeline</a>, fixed layouts have the most likelihood to be
cross-vendor adoptable.
They also benefit from being processable in parallel.
This is a different design choice compared to the serial command stream
generated through <code>GL_NV_command_list</code>.</p>
</div>
<div class="paragraph">
<p>3) How to name a sequence description?</p>
</div>
<div class="paragraph">
<p><code>VkIndirectCommandsLayout</code> as in the NVX extension predecessor.</p>
</div>
<div class="paragraph">
<p>Alternative: <code>VkGeneratedCommandsLayout</code></p>
</div>
<div class="paragraph">
<p>4) Do we want to provide <code>indirectCommands</code> inputs with layout or at
<code>indirectCommands</code> time?</p>
</div>
<div class="paragraph">
<p>Separate layout from data as Vulkan does.
Provide full flexibility for <code>indirectCommands</code>.</p>
</div>
<div class="paragraph">
<p>5) Should the input be provided as SoA or AoS?</p>
</div>
<div class="paragraph">
<p>Both ways are desirable.
AoS can provide portability to other APIs and easier to setup, while SoA
allows to update individual inputs in a cache-efficient manner, when others
remain static.</p>
</div>
<div class="paragraph">
<p>6) How do we make developers aware of the memory requirements of
implementation-dependent data used for the generated commands?</p>
</div>
<div class="paragraph">
<p>Make the API explicit and introduce a <code>preprocess</code> <a href="../chapters/resources.html#VkBuffer" class="xref page">VkBuffer</a>.
Developers have to allocate it using
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkGetGeneratedCommandsMemoryRequirementsNV" class="xref page">vkGetGeneratedCommandsMemoryRequirementsNV</a>.</p>
</div>
<div class="paragraph">
<p>In the NVX version the requirements were hidden implicitly as part of the
command buffer reservation process, however as the memory requirements can
be substantial, we want to give developers the ability to budget the memory
themselves.
By lowering the <code>maxSequencesCount</code> the memory consumption can be reduced.
Furthermore reuse of the memory is possible, for example for doing explicit
preprocessing and execution in a ping-pong fashion.</p>
</div>
<div class="paragraph">
<p>The actual buffer size is implementation-dependent and may be zero, i.e. not
always required.</p>
</div>
<div class="paragraph">
<p>When making use of Graphics Shader Groups, the programs should behave
similar with regards to vertex inputs, clipping and culling outputs of the
geometry stage, as well as sample shading behavior in fragment shaders, to
reduce the amount of the worst-case memory approximation.</p>
</div>
<div class="paragraph">
<p>7) Should we allow additional per-sequence dynamic state changes?</p>
</div>
<div class="paragraph">
<p>Yes</p>
</div>
<div class="paragraph">
<p>Introduced a lightweight indirect state flag
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectStateFlagBitsNV" class="xref page">VkIndirectStateFlagBitsNV</a>.
So far only switching front face winding state is exposed.
Especially in CAD/DCC mirrored transforms that require such changes are
common, and similar flexibility is given in the ray tracing instance
description.</p>
</div>
<div class="paragraph">
<p>The flag could be extended further, for example to switch between
primitive-lists or -strips, or make other state modifications.</p>
</div>
<div class="paragraph">
<p>Furthermore, as new tokens can be added easily, future extension could add
the ability to change any <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>.</p>
</div>
<div class="paragraph">
<p>8) How do we allow re-using already &#8220;generated&#8221; <code>indirectCommands</code>?</p>
</div>
<div class="paragraph">
<p>Expose a <code>preprocessBuffer</code> to reuse implementation-dependencyFlags data.
Set the <code>isPreprocessed</code> to true in <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a>.</p>
</div>
<div class="paragraph">
<p>9) Under which conditions is <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a> legal?</p>
</div>
<div class="paragraph">
<p>It behaves like a regular draw call command.</p>
</div>
<div class="paragraph">
<p>10) Is <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a> copying the input data or
referencing it?</p>
</div>
<div class="paragraph">
<p>There are multiple implementations possible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one could have some emulation code that parses the inputs, and generates
an output command buffer, therefore copying the inputs.</p>
</li>
<li>
<p>one could just reference the inputs, and have the processing done in
pipe at execution time.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the data is mandated to be copied, then it puts a penalty on
implementation that could process the inputs directly in pipe.
If the data is &#8220;referenced&#8221;, then it allows both types of implementation.</p>
</div>
<div class="paragraph">
<p>The inputs are &#8220;referenced&#8221;, and <strong>must</strong> not be modified after the call to
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a> has completed.</p>
</div>
<div class="paragraph">
<p>11) Which buffer usage flags are required for the buffers referenced by
<code>VkGeneratedCommandsInfoNV</code> ?</p>
</div>
<div class="paragraph">
<p>Reuse existing <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkGeneratedCommandsInfoNV" class="xref page">VkGeneratedCommandsInfoNV</a>::<code>preprocessBuffer</code></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkGeneratedCommandsInfoNV" class="xref page">VkGeneratedCommandsInfoNV</a>::<code>sequencesCountBuffer</code></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkGeneratedCommandsInfoNV" class="xref page">VkGeneratedCommandsInfoNV</a>::<code>sequencesIndexBuffer</code></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsStreamNV" class="xref page">VkIndirectCommandsStreamNV</a>::<code>buffer</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>12) In which pipeline stage does the device generated command expansion
happen?</p>
</div>
<div class="paragraph">
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a> is treated as if it occurs in a
separate logical pipeline from either graphics or compute, and that pipeline
only includes <code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>, a new stage
<code>VK_PIPELINE_STAGE_COMMAND_PREPROCESS_BIT_NV</code>, and
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.
This new stage has two corresponding new access types,
<code>VK_ACCESS_COMMAND_PREPROCESS_READ_BIT_NV</code> and
<code>VK_ACCESS_COMMAND_PREPROCESS_WRITE_BIT_NV</code>, used to synchronize reading
the buffer inputs and writing the preprocess memory output.</p>
</div>
<div class="paragraph">
<p>The generated output written in the preprocess buffer memory by
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a> is considered to be consumed by the
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code> pipeline stage.</p>
</div>
<div class="paragraph">
<p>Thus, to synchronize from writing the input buffers to preprocessing via
<a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a>, use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_COMMAND_PREPROCESS_BIT_NV</code></p>
</li>
<li>
<p><code>dstAccessMask</code> = <code>VK_ACCESS_COMMAND_PREPROCESS_READ_BIT_NV</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To synchronize from <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdPreprocessGeneratedCommandsNV" class="xref page">vkCmdPreprocessGeneratedCommandsNV</a> to executing
the generated commands by <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a>, use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcStageMask</code> = <code>VK_PIPELINE_STAGE_COMMAND_PREPROCESS_BIT_NV</code></p>
</li>
<li>
<p><code>srcAccessMask</code> = <code>VK_ACCESS_COMMAND_PREPROCESS_WRITE_BIT_NV</code></p>
</li>
<li>
<p><code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>dstAccessMask</code> = <code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkCmdExecuteGeneratedCommandsNV" class="xref page">vkCmdExecuteGeneratedCommandsNV</a> is used with a
<code>isPreprocessed</code> of <code>VK_FALSE</code>, the generated commands are implicitly
preprocessed, therefore one only needs to synchronize the inputs via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>dstAccessMask</code> = <code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>13) What if most token data is &#8220;static&#8221;, but we frequently want to render
a subsection?</p>
</div>
<div class="paragraph">
<p>Added &#8220;sequencesIndexBuffer&#8221;.
This allows to easier sort and filter what should actually be executed.</p>
</div>
<div class="paragraph">
<p>14) What are the changes compared to the previous NVX extension?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Compute dispatch support was removed (was never implemented in drivers).
There are different approaches how dispatching from the device should
work, hence we defer this to a future extension.</p>
</li>
<li>
<p>The <code>ObjectTableNVX</code> was replaced by using physical buffer addresses and
introducing Shader Groups for the graphics pipeline.</p>
</li>
<li>
<p>Less state changes are possible overall, but the important operations
are still there (reduces complexity of implementation).</p>
</li>
<li>
<p>The API was redesigned so all inputs must be passed at both
preprocessing and execution time (this was implicit in NVX, now it is
explicit)</p>
</li>
<li>
<p>The reservation of intermediate command space is now mandatory and
explicit through a preprocess buffer.</p>
</li>
<li>
<p>The <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectStateFlagBitsNV" class="xref page">VkIndirectStateFlagBitsNV</a> were introduced</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>15) When porting from other APIs, their indirect buffers may use different
    enums, for example for index buffer types.
    How to solve this?</p>
</div>
<div class="paragraph">
<p>Added &#8220;pIndexTypeValues&#8221; to map custom <code>uint32_t</code> values to corresponding
<code>VkIndexType</code>.</p>
</div>
<div class="paragraph">
<p>16) Do we need more shader group state overrides?</p>
</div>
<div class="paragraph">
<p>The NVX version allowed all PSO states to be different, however as the goal
is not to replace all state setup, but focus on highly-frequent state
changes for drawing lots of objects, we reduced the amount of state
overrides.
Especially VkPipelineLayout as well as VkRenderPass configuration should be
left static, the rest is still open for discussion.</p>
</div>
<div class="paragraph">
<p>The current focus is just to allow VertexInput changes as well as shaders,
while all shader groups use the same shader stages.</p>
</div>
<div class="paragraph">
<p>Too much flexibility will increase the test coverage requirement as well.
However, further extensions could allow more dynamic state as well.</p>
</div>
<div class="paragraph">
<p>17) Do we need more detailed physical device feature queries/enables?</p>
</div>
<div class="paragraph">
<p>An EXT version would need detailed implementor feedback to come up with a
good set of features.
Please contact us if you are interested, we are happy to make more features
optional, or add further restrictions to reduce the minimum feature set of
an EXT.</p>
</div>
<div class="paragraph">
<p>18) Is there an interaction with VK_KHR_pipeline_library planned?</p>
</div>
<div class="paragraph">
<p>Yes, a future version of this extension will detail the interaction, once
VK_KHR_pipeline_library is no longer provisional.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_code_2"><a class="anchor" href="#_example_code_2"></a>Example Code</h3>
<div class="paragraph">
<p>Open-Source samples illustrating the usage of the extension can be found at
the following location (may not yet exist at time of writing):</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/nvpro-samples/vk_device_generated_cmds" class="bare">https://github.com/nvpro-samples/vk_device_generated_cmds</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_196"><a class="anchor" href="#_version_history_196"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-02-20 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-03-09 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Remove VK_EXT_debug_report interactions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-03-09 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Fix naming VkPhysicalDeviceGenerated to VkPhysicalDeviceDeviceGenerated</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_device_generated_commands_compute"><a class="anchor" href="#VK_NV_device_generated_commands_compute"></a>VK_NV_device_generated_commands_compute</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_device_generated_commands_compute</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>429</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_NV_device_generated_commands">VK_NV_device_generated_commands</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_device_generated_commands_compute] @vkushwaha-nv%0A*Here describe the issue or question you have about the VK_NV_device_generated_commands_compute extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_197"><a class="anchor" href="#_other_extension_metadata_197"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-21</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Mike Blumenkrantz, VALVE</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_197"><a class="anchor" href="#_description_197"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the device to generate commands for binding compute
pipelines, setting push constants and launching compute dispatches.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_93"><a class="anchor" href="#_new_commands_93"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#vkCmdUpdatePipelineIndirectBufferNV" class="xref page">vkCmdUpdatePipelineIndirectBufferNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkGetPipelineIndirectDeviceAddressNV" class="xref page">vkGetPipelineIndirectDeviceAddressNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#vkGetPipelineIndirectMemoryRequirementsNV" class="xref page">vkGetPipelineIndirectMemoryRequirementsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_170"><a class="anchor" href="#_new_structures_170"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkBindPipelineIndirectCommandNV" class="xref page">VkBindPipelineIndirectCommandNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkComputePipelineIndirectBufferInfoNV" class="xref page">VkComputePipelineIndirectBufferInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkPipelineIndirectDeviceAddressInfoNV" class="xref page">VkPipelineIndirectDeviceAddressInfoNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV" class="xref page">VkPhysicalDeviceDeviceGeneratedCommandsComputeFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_197"><a class="anchor" href="#_new_enum_constants_197"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEVICE_GENERATED_COMMANDS_COMPUTE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEVICE_GENERATED_COMMANDS_COMPUTE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_INDIRECT_BINDABLE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_NV_device_generated_commands/generatedcommands.html#VkIndirectCommandsTokenTypeNV" class="xref page">VkIndirectCommandsTokenTypeNV</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_DISPATCH_NV</code></p>
</li>
<li>
<p><code>VK_INDIRECT_COMMANDS_TOKEN_TYPE_PIPELINE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_INDIRECT_BUFFER_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEVICE_GENERATED_COMMANDS_COMPUTE_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_INDIRECT_DEVICE_ADDRESS_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_197"><a class="anchor" href="#_version_history_197"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-07-21 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Rename vkCmdUpdatePipelineIndirectBuffer to
vkCmdUpdatePipelineIndirectBufferNV</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-06-09 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>First Revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_external_memory_rdma"><a class="anchor" href="#VK_NV_external_memory_rdma"></a>VK_NV_external_memory_rdma</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory_rdma</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>372</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_external_memory_rdma] @crohde%0A*Here describe the issue or question you have about the VK_NV_external_memory_rdma extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_198"><a class="anchor" href="#_other_extension_metadata_198"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-04-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_198"><a class="anchor" href="#_description_198"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for allocating memory which can be used for
remote direct memory access (RDMA) from other devices.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types_5"><a class="anchor" href="#_new_base_types_5"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>VkRemoteAddressNV</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_94"><a class="anchor" href="#_new_commands_94"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryRemoteAddressNV" class="xref page">vkGetMemoryRemoteAddressNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_171"><a class="anchor" href="#_new_structures_171"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryGetRemoteAddressInfoNV" class="xref page">VkMemoryGetRemoteAddressInfoNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExternalMemoryRDMAFeaturesNV" class="xref page">VkPhysicalDeviceExternalMemoryRDMAFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_198"><a class="anchor" href="#_new_enum_constants_198"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_RDMA_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_RDMA_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryPropertyFlagBits" class="xref page">VkMemoryPropertyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_PROPERTY_RDMA_CAPABLE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_REMOTE_ADDRESS_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_MEMORY_RDMA_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_89"><a class="anchor" href="#_issues_89"></a>Issues</h3>

</div>
<div class="sect2">
<h3 id="_examples_29"><a class="anchor" href="#_examples_29"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">VkPhysicalDeviceMemoryBudgetPropertiesEXT memoryBudgetProperties = { VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_BUDGET_PROPERTIES_EXT };
VkPhysicalDeviceMemoryProperties2 memoryProperties2 = { VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2, &amp;memoryBudgetProperties };
vkGetPhysicalDeviceMemoryProperties2(physicalDevice, &amp;memoryProperties2);
uint32_t heapIndex = (uint32_t)-1;
for (uint32_t memoryType = 0; memoryType &lt; memoryProperties2.memoryProperties.memoryTypeCount; memoryType++) {
    if (memoryProperties2.memoryProperties.memoryTypes[memoryType].propertyFlags &amp; VK_MEMORY_PROPERTY_RDMA_CAPABLE_BIT_NV) {
        heapIndex = memoryProperties2.memoryProperties.memoryTypes[memoryType].heapIndex;
        break;
    }
}
if ((heapIndex == (uint32_t)-1) ||
    (memoryBudgetProperties.heapBudget[heapIndex] &lt; size)) {
    return;
}

VkPhysicalDeviceExternalBufferInfo externalBufferInfo = { VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO };
externalBufferInfo.usage = VK_BUFFER_USAGE_TRANSFER_SRC_BIT | VK_BUFFER_USAGE_TRANSFER_DST_BIT;
externalBufferInfo.handleType = VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV;

VkExternalBufferProperties externalBufferProperties = { VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES };
vkGetPhysicalDeviceExternalBufferProperties(physicalDevice, &amp;externalBufferInfo, &amp;externalBufferProperties);

if (!(externalBufferProperties.externalMemoryProperties.externalMemoryFeatures &amp; VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT)) {
    return;
}

VkExternalMemoryBufferCreateInfo externalMemoryBufferCreateInfo = { VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_BUFFER_CREATE_INFO };
externalMemoryBufferCreateInfo.handleTypes = VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV;

VkBufferCreateInfo bufferCreateInfo = { VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO, &amp;externalMemoryBufferCreateInfo };
bufferCreateInfo.size = size;
bufferCreateInfo.usage = VK_BUFFER_USAGE_TRANSFER_SRC_BIT | VK_BUFFER_USAGE_TRANSFER_DST_BIT;

VkMemoryRequirements mem_reqs;
vkCreateBuffer(device, &amp;bufferCreateInfo, NULL, &amp;buffer);
vkGetBufferMemoryRequirements(device, buffer, &amp;mem_reqs);

VkExportMemoryAllocateInfo exportMemoryAllocateInfo = { VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO };
exportMemoryAllocateInfo.handleTypes = VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV;

// Find memory type index
uint32_t i = 0;
for (; i &lt; VK_MAX_MEMORY_TYPES; i++) {
    if ((mem_reqs.memoryTypeBits &amp; (1 &lt;&lt; i)) &amp;&amp;
        (memoryProperties.memoryTypes[i].propertyFlags &amp; VK_MEMORY_PROPERTY_RDMA_CAPABLE_BIT_NV)) {
        break;
    }
}

VkMemoryAllocateInfo memAllocInfo = { VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO, &amp;exportMemoryAllocateInfo };
memAllocInfo.allocationSize = mem_reqs.size;
memAllocInfo.memoryTypeIndex = i;

vkAllocateMemory(device, &amp;memAllocInfo, NULL, &amp;mem);
vkBindBufferMemory(device, buffer, mem, 0);

VkMemoryGetRemoteAddressInfoNV getMemoryRemoteAddressInfo = { VK_STRUCTURE_TYPE_MEMORY_GET_REMOTE_ADDRESS_INFO_NV };
getMemoryRemoteAddressInfo.memory = mem;
getMemoryRemoteAddressInfo.handleType = VK_EXTERNAL_MEMORY_HANDLE_TYPE_RDMA_ADDRESS_BIT_NV;

VkRemoteAddressNV rdmaAddress;
vkGetMemoryRemoteAddressNV(device, &amp;getMemoryRemoteAddressInfo, &amp;rdmaAddress);
// address returned in 'rdmaAddress' can be used by external devices to initiate RDMA transfers</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_198"><a class="anchor" href="#_version_history_198"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-12-15 (Carsten Rohde)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_fill_rectangle"><a class="anchor" href="#VK_NV_fill_rectangle"></a>VK_NV_fill_rectangle</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fill_rectangle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>154</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_fill_rectangle] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_fill_rectangle extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_199"><a class="anchor" href="#_other_extension_metadata_199"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_199"><a class="anchor" href="#_description_199"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new <a href="../chapters/primsrast.html#VkPolygonMode" class="xref page">VkPolygonMode</a> <code>enum</code> where a triangle is
rasterized by computing and filling its axis-aligned screen-space bounding
box, disregarding the actual triangle edges.
This can be useful for drawing a rectangle without being split into two
triangles with an internal edge.
It is also useful to minimize the number of primitives that need to be
drawn, particularly for a user interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_199"><a class="anchor" href="#_new_enum_constants_199"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_FILL_RECTANGLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_FILL_RECTANGLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPolygonMode" class="xref page">VkPolygonMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_199"><a class="anchor" href="#_version_history_199"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-22 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_fragment_coverage_to_color"><a class="anchor" href="#VK_NV_fragment_coverage_to_color"></a>VK_NV_fragment_coverage_to_color</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fragment_coverage_to_color</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>150</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_fragment_coverage_to_color] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_fragment_coverage_to_color extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_200"><a class="anchor" href="#_other_extension_metadata_200"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-21</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_200"><a class="anchor" href="#_description_200"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the fragment coverage value, represented as an integer
bitmask, to be substituted for a color output being written to a
single-component color attachment with integer components (e.g.
<code>VK_FORMAT_R8_UINT</code>).
The functionality provided by this extension is different from simply
writing the <code>SampleMask</code> fragment shader output, in that the coverage
value written to the framebuffer is taken after stencil test and depth test,
as well as after fragment operations such as alpha-to-coverage.</p>
</div>
<div class="paragraph">
<p>This functionality may be useful for deferred rendering algorithms, where
the second pass needs to know which samples belong to which original
fragments.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_172"><a class="anchor" href="#_new_structures_172"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageToColorStateCreateInfoNV" class="xref page">VkPipelineCoverageToColorStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_47"><a class="anchor" href="#_new_bitmasks_47"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageToColorStateCreateFlagsNV" class="xref page">VkPipelineCoverageToColorStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_200"><a class="anchor" href="#_new_enum_constants_200"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_FRAGMENT_COVERAGE_TO_COLOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_FRAGMENT_COVERAGE_TO_COLOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_TO_COLOR_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_200"><a class="anchor" href="#_version_history_200"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-21 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_fragment_shading_rate_enums"><a class="anchor" href="#VK_NV_fragment_shading_rate_enums"></a>VK_NV_fragment_shading_rate_enums</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fragment_shading_rate_enums</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>327</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_fragment_shading_rate_enums] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_fragment_shading_rate_enums extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_201"><a class="anchor" href="#_other_extension_metadata_201"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-09-02</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_201"><a class="anchor" href="#_description_201"></a>Description</h3>
<div class="paragraph">
<p>This extension builds on the fragment shading rate functionality provided by
the VK_KHR_fragment_shading_rate extension, adding support for
&#8220;supersample&#8221; fragment shading rates that trigger multiple fragment shader
invocations per pixel as well as a &#8220;no invocations&#8221; shading rate that
discards any portions of a primitive that would use that shading rate.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_95"><a class="anchor" href="#_new_commands_95"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetFragmentShadingRateEnumNV" class="xref page">vkCmdSetFragmentShadingRateEnumNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_173"><a class="anchor" href="#_new_structures_173"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentShadingRateEnumsFeaturesNV" class="xref page">VkPhysicalDeviceFragmentShadingRateEnumsFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentShadingRateEnumsPropertiesNV" class="xref page">VkPhysicalDeviceFragmentShadingRateEnumsPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_56"><a class="anchor" href="#_new_enums_56"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkFragmentShadingRateNV" class="xref page">VkFragmentShadingRateNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkFragmentShadingRateTypeNV" class="xref page">VkFragmentShadingRateTypeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_201"><a class="anchor" href="#_new_enum_constants_201"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_FRAGMENT_SHADING_RATE_ENUMS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_FRAGMENT_SHADING_RATE_ENUMS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_ENUMS_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_ENUMS_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_FRAGMENT_SHADING_RATE_ENUM_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_90"><a class="anchor" href="#_issues_90"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Why was this extension created?   How should it be named?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: The primary goal of this extension was to expose support for
supersample and &#8220;no invocations&#8221; shading rates, which are supported by the
VK_NV_shading_rate_image extension but not by VK_KHR_fragment_shading_rate.
Because VK_KHR_fragment_shading_rate specifies the primitive shading rate
using a fragment size in pixels, it lacks a good way to specify supersample
rates.
To deal with this, we defined enums covering shading rates supported by the
KHR extension as well as the new shading rates and added structures and APIs
accepting shading rate enums instead of fragment sizes.</p>
</div>
<div class="paragraph">
<p>Since this extension adds two different types of shading rates, both
expressed using enums, we chose the extension name
VK_NV_fragment_shading_rate_enums.</p>
</div>
</div>
</div>
</li>
<li>
<p>Is this a standalone extension?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, this extension requires VK_KHR_fragment_shading_rate.
In order to use the features of this extension, applications must enable the
relevant features of KHR extension.</p>
</div>
</div>
</div>
</li>
<li>
<p>How are the shading rate enums used, and how were the enum values assigned?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: The shading rates supported by the enums in this extension are
accepted as pipeline, primitive, and attachment shading rates and behave
identically.
For the shading rates also supported by the KHR extension, the values
assigned to the corresponding enums are identical to the values already used
for the primitive and attachment shading rates in the KHR extension.
For those enums, bits 0 and 1 specify the base two logarithm of the fragment
height and bits 2 and 3 specify the base two logarithm of the fragment
width.
For the new shading rates added by this extension, we chose to use 11
through 14 (10 plus the base two logarithm of the invocation count) for the
supersample rates and 15 for the &#8220;no invocations&#8221; rate.
None of those values are supported as primitive or attachment shading rates
by the KHR extension.</p>
</div>
</div>
</div>
</li>
<li>
<p>Between this extension, VK_KHR_fragment_shading_rate, and
VK_NV_shading_rate_image, there are three different ways to specify shading
rate state in a pipeline.
How should we handle this?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: We do not allow the concurrent use of VK_NV_shading_rate_image
and VK_KHR_fragment_shading_rate; it is an error to enable shading rate
features from both extensions.
But we do allow applications to enable this extension together with
VK_KHR_fragment_shading_rate together.
While we expect that applications will never attach pipeline CreateInfo
structures for both this extension and the KHR extension concurrently,
Vulkan does not have any precedent forbidding such behavior and instead
typically treats a pipeline created without an extension-specific CreateInfo
structure as equivalent to one containing default values specified by the
extension.
Rather than adding such a rule considering the presence or absence of our
new CreateInfo structure, we instead included a <code>shadingRateType</code> member
to <a href="../chapters/primsrast.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="xref page">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a> that selects
between using state specified by that structure and state specified by
<a href="../chapters/primsrast.html#VkPipelineFragmentShadingRateStateCreateInfoKHR" class="xref page">VkPipelineFragmentShadingRateStateCreateInfoKHR</a>.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_201"><a class="anchor" href="#_version_history_201"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-09-02 (pbrown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_framebuffer_mixed_samples"><a class="anchor" href="#VK_NV_framebuffer_mixed_samples"></a>VK_NV_framebuffer_mixed_samples</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_framebuffer_mixed_samples</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>153</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_framebuffer_mixed_samples] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_framebuffer_mixed_samples extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_202"><a class="anchor" href="#_other_extension_metadata_202"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-04</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_202"><a class="anchor" href="#_description_202"></a>Description</h3>
<div class="paragraph">
<p>This extension allows multisample rendering with a raster and depth/stencil
sample count that is larger than the color sample count.
Rasterization and the results of the depth and stencil tests together
determine the portion of a pixel that is &#8220;covered&#8221;.
It can be useful to evaluate coverage at a higher frequency than color
samples are stored.
This coverage is then &#8220;reduced&#8221; to a collection of covered color samples,
each having an opacity value corresponding to the fraction of the color
sample covered.
The opacity can optionally be blended into individual color samples.</p>
</div>
<div class="paragraph">
<p>Rendering with fewer color samples than depth/stencil samples greatly
reduces the amount of memory and bandwidth consumed by the color buffer.
However, converting the coverage values into opacity introduces artifacts
where triangles share edges and <strong>may</strong> not be suitable for normal triangle
mesh rendering.</p>
</div>
<div class="paragraph">
<p>One expected use case for this functionality is Stencil-then-Cover path
rendering (similar to the OpenGL GL_NV_path_rendering extension).
The stencil step determines the coverage (in the stencil buffer) for an
entire path at the higher sample frequency, and then the cover step draws
the path into the lower frequency color buffer using the coverage
information to antialias path edges.
With this two-step process, internal edges are fully covered when
antialiasing is applied and there is no corruption on these edges.</p>
</div>
<div class="paragraph">
<p>The key features of this extension are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It allows render pass and framebuffer objects to be created where the
number of samples in the depth/stencil attachment in a subpass is a
multiple of the number of samples in the color attachments in the
subpass.</p>
</li>
<li>
<p>A coverage reduction step is added to Fragment Operations which converts
a set of covered raster/depth/stencil samples to a set of color samples
that perform blending and color writes.
The coverage reduction step also includes an optional coverage
modulation step, multiplying color values by a fractional opacity
corresponding to the number of associated raster/depth/stencil samples
covered.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_174"><a class="anchor" href="#_new_structures_174"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/primsrast.html#VkPipelineMultisampleStateCreateInfo" class="xref page">VkPipelineMultisampleStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageModulationStateCreateInfoNV" class="xref page">VkPipelineCoverageModulationStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_57"><a class="anchor" href="#_new_enums_57"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkCoverageModulationModeNV" class="xref page">VkCoverageModulationModeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_48"><a class="anchor" href="#_new_bitmasks_48"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineCoverageModulationStateCreateFlagsNV" class="xref page">VkPipelineCoverageModulationStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_202"><a class="anchor" href="#_new_enum_constants_202"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_FRAMEBUFFER_MIXED_SAMPLES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_FRAMEBUFFER_MIXED_SAMPLES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_MODULATION_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_202"><a class="anchor" href="#_version_history_202"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-04 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_geometry_shader_passthrough"><a class="anchor" href="#VK_NV_geometry_shader_passthrough"></a>VK_NV_geometry_shader_passthrough</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_geometry_shader_passthrough</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>96</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_geometry_shader_passthrough] @dgkoch%0A*Here describe the issue or question you have about the VK_NV_geometry_shader_passthrough extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_203"><a class="anchor" href="#_other_extension_metadata_203"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_geometry_shader_passthrough.html"><code>SPV_NV_geometry_shader_passthrough</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_geometry_shader_passthrough.txt"><code>GL_NV_geometry_shader_passthrough</code></a></p>
</li>
<li>
<p>This extension requires the <code>geometryShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_203"><a class="anchor" href="#_description_203"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_NV_geometry_shader_passthrough</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Geometry shaders provide the ability for applications to process each
primitive sent through the graphics pipeline using a programmable shader.
However, one common use case treats them largely as a &#8220;passthrough&#8221;.
In this use case, the bulk of the geometry shader code simply copies inputs
from each vertex of the input primitive to corresponding outputs in the
vertices of the output primitive.
Such shaders might also compute values for additional built-in or
user-defined per-primitive attributes (e.g., <code>Layer</code>) to be assigned to
all the vertices of the output primitive.</p>
</div>
<div class="paragraph">
<p>This extension provides access to the <code>PassthroughNV</code> decoration under
the <code>GeometryShaderPassthroughNV</code> capability.
Adding this to a geometry shader input variable specifies that the values of
this input are copied to the corresponding vertex of the output primitive.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>passthrough</code> layout
qualifier from <code>GL_NV_geometry_shader_passthrough</code> maps to the
<code>PassthroughNV</code> decoration.
To use the <code>passthrough</code> layout, in GLSL the
<code>GL_NV_geometry_shader_passthrough</code> extension must be enabled.
Behaviour is described in the <code>GL_NV_geometry_shader_passthrough</code> extension
specification.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_203"><a class="anchor" href="#_new_enum_constants_203"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_GEOMETRY_SHADER_PASSTHROUGH_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_GEOMETRY_SHADER_PASSTHROUGH_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_variable_decoration"><a class="anchor" href="#_new_variable_decoration"></a>New Variable Decoration</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/geometry.html#geometry-passthrough-passthrough" class="xref page"><code>PassthroughNV</code></a> in
<a href="../chapters/geometry.html#geometry-passthrough" class="xref page">Geometry Shader Passthrough</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_20"><a class="anchor" href="#_new_spir_v_capabilities_20"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-GeometryShaderPassthroughNV" class="xref page">    <code>GeometryShaderPassthroughNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_91"><a class="anchor" href="#_issues_91"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we require or allow a passthrough geometry shader to specify the
output layout qualifiers for the output primitive type and maximum vertex
count in the SPIR-V?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes they should be required in the SPIR-V.
Per GL_NV_geometry_shader_passthrough they are not permitted in the GLSL
source shader, but SPIR-V is lower-level.
It is straightforward for the GLSL compiler to infer them from the input
primitive type and to explicitly emit them in the SPIR-V according to the
following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input Layout</th>
<th class="tableblock halign-left valign-top">Implied Output Layout</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">points</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(points, max_vertices=1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(line_strip, max_vertices=2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">triangles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(triangle_strip, max_vertices=3)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>2) How does interface matching work with passthrough geometry shaders?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is described in <a href="../chapters/geometry.html#geometry-passthrough-interface" class="xref page">Passthrough Interface Matching</a>.
In GL when using passthough geometry shaders in separable mode, all inputs
must also be explicitly assigned location layout qualifiers.
In Vulkan all SPIR-V shader inputs (except built-ins) must also have
location decorations specified.
Redeclarations of built-in variables that add the passthrough layout
qualifier are exempted from the rule requiring location assignment because
built-in variables do not have locations and are matched by <code>BuiltIn</code>
decoration.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code_5"><a class="anchor" href="#_sample_code_5"></a>Sample Code</h3>
<div class="paragraph">
<p>Consider the following simple geometry shader in unextended GLSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">layout(triangles) in;
layout(triangle_strip) out;
layout(max_vertices=3) out;

in Inputs {
    vec2 texcoord;
    vec4 baseColor;
} v_in[];
out Outputs {
    vec2 texcoord;
    vec4 baseColor;
};

void main()
{
    int layer = compute_layer();
    for (int i = 0; i &lt; 3; i++) {
        gl_Position = gl_in[i].gl_Position;
        texcoord = v_in[i].texcoord;
        baseColor = v_in[i].baseColor;
        gl_Layer = layer;
        EmitVertex();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this shader, the inputs <code>gl_Position</code>, <code>Inputs.texcoord</code>, and
<code>Inputs.baseColor</code> are simply copied from the input vertex to the
corresponding output vertex.
The only &#8220;interesting&#8221; work done by the geometry shader is computing and
emitting a <code>gl_Layer</code> value for the primitive.</p>
</div>
<div class="paragraph">
<p>The following geometry shader, using this extension, is equivalent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#extension GL_NV_geometry_shader_passthrough : require

layout(triangles) in;
// No output primitive layout qualifiers required.

// Redeclare gl_PerVertex to pass through "gl_Position".
layout(passthrough) in gl_PerVertex {
    vec4 gl_Position;
} gl_in[];

// Declare "Inputs" with "passthrough" to automatically copy members.
layout(passthrough) in Inputs {
    vec2 texcoord;
    vec4 baseColor;
} v_in[];

// No output block declaration required.

void main()
{
    // The shader simply computes and writes gl_Layer.  We do not
    // loop over three vertices or call EmitVertex().
    gl_Layer = compute_layer();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_203"><a class="anchor" href="#_version_history_203"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_inherited_viewport_scissor"><a class="anchor" href="#VK_NV_inherited_viewport_scissor"></a>VK_NV_inherited_viewport_scissor</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_inherited_viewport_scissor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>279</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>David Zhao Akeley <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_inherited_viewport_scissor] @akeley98%0A*Here describe the issue or question you have about the VK_NV_inherited_viewport_scissor extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>akeley98</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_204"><a class="anchor" href="#_other_extension_metadata_204"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-02-04</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>David Zhao Akeley, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_204"><a class="anchor" href="#_description_204"></a>Description</h3>
<div class="paragraph">
<p>This extension adds the ability for a secondary command buffer to inherit
the dynamic viewport and scissor state from a primary command buffer, or a
previous secondary command buffer executed within the same
<a href="../chapters/cmdbuffers.html#vkCmdExecuteCommands" class="xref page">vkCmdExecuteCommands</a> call.
It addresses a frequent scenario in applications that deal with window
resizing and want to improve utilization of re-usable secondary command
buffers.
The functionality is provided through
<a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV" class="xref page">VkCommandBufferInheritanceViewportScissorInfoNV</a>.
Viewport inheritance is effectively limited to the 2D rectangle; secondary
command buffers must re-specify the inherited depth range values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_175"><a class="anchor" href="#_new_structures_175"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV" class="xref page">VkCommandBufferInheritanceViewportScissorInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceInheritedViewportScissorFeaturesNV" class="xref page">VkPhysicalDeviceInheritedViewportScissorFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_204"><a class="anchor" href="#_new_enum_constants_204"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_INHERITED_VIEWPORT_SCISSOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_INHERITED_VIEWPORT_SCISSOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_VIEWPORT_SCISSOR_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INHERITED_VIEWPORT_SCISSOR_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_92"><a class="anchor" href="#_issues_92"></a>Issues</h3>
<div class="paragraph">
<p>(1) Why are viewport depth values configured in the
<a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV" class="xref page">VkCommandBufferInheritanceViewportScissorInfoNV</a> struct, rather than by
a <code>vkCmd&#8230;&#8203;</code> function?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>We considered both adding a new <code>vkCmdSetViewportDepthNV</code> function, and
modifying <a href="../chapters/vertexpostproc.html#vkCmdSetViewport" class="xref page">vkCmdSetViewport</a> to ignore the <code>x</code>, <code>y</code>,
<code>width</code>, and <code>height</code> values when called with a secondary command
buffer that activates this extension.</p>
</div>
<div class="paragraph">
<p>The primary design considerations for this extension are debuggability and
easy integration into existing applications.
The main issue with adding a new <code>vkCmdSetViewportDepthNV</code> function is
reducing ease-of-integration.
A new function pointer will have to be loaded, but more importantly, a new
function would require changes to be supported in graphics debuggers; this
would delay widespread adoption of the extension.</p>
</div>
<div class="paragraph">
<p>The proposal to modify <a href="../chapters/vertexpostproc.html#vkCmdSetViewport" class="xref page">vkCmdSetViewport</a> would avoid these issues.
However, we expect that the intent of applications using this extension is
to have the viewport values used for drawing exactly match the inherited
values; thus, it would be better for debuggability if no function for
modifying the viewport depth alone is provided.
By specifying viewport depth values when starting secondary command buffer
recording, and requiring the specified depth values to match the inherited
depth values, we allow for validation layers that flag depth changes as
errors.</p>
</div>
<div class="paragraph">
<p>This design also better matches the hardware model.
In fact, there is no need to re-execute a depth-setting command.
The graphics device retains the viewport depth state; it is the CPU-side
state of <a href="../chapters/cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> that must be re-initialized.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Why are viewport depth values specified as a partial <a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a>
struct, rather than a leaner depth-only struct?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>We considered adding a new <code>VkViewportDepthNV</code> struct containing only
<code>minDepth</code> and <code>maxDepth</code>.
However, as application developers would need to maintain both a
<code>VK_NV_inherited_viewport_scissor</code> code path and a fallback code path (at
least in the short term), we ultimately chose to continue using the existing
<a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> structure.
Doing so would allow application developers to reuse the same
<a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> array for both code paths, rather than constructing
separate <code>VkViewportDepthNV</code> and <a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a> arrays for each code
path.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_204"><a class="anchor" href="#_version_history_204"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-02-04 (David Zhao Akeley)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_linear_color_attachment"><a class="anchor" href="#VK_NV_linear_color_attachment"></a>VK_NV_linear_color_attachment</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_linear_color_attachment</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>431</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>sourav parmar <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_linear_color_attachment] @souravpNV%0A*Here describe the issue or question you have about the VK_NV_linear_color_attachment extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>souravpNV</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_205"><a class="anchor" href="#_other_extension_metadata_205"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-12-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Sourav Parmar, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_205"><a class="anchor" href="#_description_205"></a>Description</h3>
<div class="paragraph">
<p>This extension expands support for using <code>VK_IMAGE_TILING_LINEAR</code> images
as color attachments when all the color attachments in the render pass
instance have <code>VK_IMAGE_TILING_LINEAR</code> tiling.
This extension adds a new flag bit
<code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code> that extends the
existing <a href="../chapters/formats.html#VkFormatFeatureFlagBits2KHR" class="xref page">VkFormatFeatureFlagBits2KHR</a> bits.
This flag <strong>can</strong> be set for renderable color formats in the
<a href="../chapters/formats.html#VkFormatProperties3KHR" class="xref page">VkFormatProperties3KHR</a>::<code>linearTilingFeatures</code> format properties
structure member.
Formats with the <code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code>
flag <strong>may</strong> be used as color attachments as long as all the color attachments
in the render pass instance have <code>VK_IMAGE_TILING_LINEAR</code> tiling, and
the formats their images views are created with have
<a href="../chapters/formats.html#VkFormatProperties3KHR" class="xref page">VkFormatProperties3KHR</a>::<code>linearTilingFeatures</code> which include
<code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code>.
This extension supports both dynamic rendering and traditional render
passes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_176"><a class="anchor" href="#_new_structures_176"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceLinearColorAttachmentFeaturesNV" class="xref page">VkPhysicalDeviceLinearColorAttachmentFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_205"><a class="anchor" href="#_new_enum_constants_205"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_LINEAR_COLOR_ATTACHMENT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_LINEAR_COLOR_ATTACHMENT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LINEAR_COLOR_ATTACHMENT_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_LINEAR_COLOR_ATTACHMENT_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_205"><a class="anchor" href="#_version_history_205"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-11-29 (sourav parmar)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_low_latency"><a class="anchor" href="#VK_NV_low_latency"></a>VK_NV_low_latency</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_low_latency</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>311</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Hansen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_low_latency] @cshansen%0A*Here describe the issue or question you have about the VK_NV_low_latency extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cshansen</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_206"><a class="anchor" href="#_other_extension_metadata_206"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-10</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Hansen, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_206"><a class="anchor" href="#_description_206"></a>Description</h3>
<div class="paragraph">
<p>This extension adds the <a href="../chapters/synchronization.html#VkQueryLowLatencySupportNV" class="xref page">VkQueryLowLatencySupportNV</a> structure, a
structure used to query support for NVIDIA Reflex.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_177"><a class="anchor" href="#_new_structures_177"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkQueryLowLatencySupportNV" class="xref page">VkQueryLowLatencySupportNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_206"><a class="anchor" href="#_new_enum_constants_206"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_LOW_LATENCY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_LOW_LATENCY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_LOW_LATENCY_SUPPORT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_93"><a class="anchor" href="#_issues_93"></a>Issues</h3>
<div class="paragraph">
<p>1) Why does <code>VkQueryLowLatencySupportNV</code> have output parameters in an
input chain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We are stuck with this for legacy reasons - we are aware this is
bad behavior and this should not be used as a precedent for future
extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_206"><a class="anchor" href="#_version_history_206"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-02-10 (Charles Hansen)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_memory_decompression"><a class="anchor" href="#VK_NV_memory_decompression"></a>VK_NV_memory_decompression</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_memory_decompression</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>428</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_memory_decompression] @vkushwaha-nv%0A*Here describe the issue or question you have about the VK_NV_memory_decompression extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_207"><a class="anchor" href="#_other_extension_metadata_207"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-01-31</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_207"><a class="anchor" href="#_description_207"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for performing memory to memory decompression.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_96"><a class="anchor" href="#_new_commands_96"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_memory_decompression.html#vkCmdDecompressMemoryIndirectCountNV" class="xref page">vkCmdDecompressMemoryIndirectCountNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_memory_decompression.html#vkCmdDecompressMemoryNV" class="xref page">vkCmdDecompressMemoryNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_178"><a class="anchor" href="#_new_structures_178"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_memory_decompression.html#VkDecompressMemoryRegionNV" class="xref page">VkDecompressMemoryRegionNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMemoryDecompressionFeaturesNV" class="xref page">VkPhysicalDeviceMemoryDecompressionFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMemoryDecompressionPropertiesNV" class="xref page">VkPhysicalDeviceMemoryDecompressionPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_58"><a class="anchor" href="#_new_enums_58"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_memory_decompression.html#VkMemoryDecompressionMethodFlagBitsNV" class="xref page">VkMemoryDecompressionMethodFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_49"><a class="anchor" href="#_new_bitmasks_49"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_memory_decompression.html#VkMemoryDecompressionMethodFlagsNV" class="xref page">VkMemoryDecompressionMethodFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_207"><a class="anchor" href="#_new_enum_constants_207"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_MEMORY_DECOMPRESSION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_MEMORY_DECOMPRESSION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_DECOMPRESSION_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_DECOMPRESSION_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_207"><a class="anchor" href="#_version_history_207"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-01-31 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_mesh_shader"><a class="anchor" href="#VK_NV_mesh_shader"></a>VK_NV_mesh_shader</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_mesh_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>203</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_mesh_shader] @pixeljetstream%0A*Here describe the issue or question you have about the VK_NV_mesh_shader extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_208"><a class="anchor" href="#_other_extension_metadata_208"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-19</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_mesh_shader.html"><code>SPV_NV_mesh_shader</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_mesh_shader.txt"><code>GLSL_NV_mesh_shader</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_208"><a class="anchor" href="#_description_208"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new mechanism allowing applications to generate
collections of geometric primitives via programmable mesh shading.
It is an alternative to the existing programmable primitive shading
pipeline, which relied on generating input primitives by a fixed function
assembler as well as fixed function vertex fetch.</p>
</div>
<div class="paragraph">
<p>There are new programmable shader types&#8201;&#8212;&#8201;the task and mesh shader&#8201;&#8212;&#8201;to
generate these collections to be processed by fixed-function primitive
assembly and rasterization logic.
When task and mesh shaders are dispatched, they replace the core
<a href="../chapters/pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization stages</a>,
including vertex array attribute fetching, vertex shader processing,
tessellation, and geometry shader processing.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for the following SPIR-V extension in
Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_mesh_shader.html"><code>SPV_NV_mesh_shader</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_97"><a class="anchor" href="#_new_commands_97"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksIndirectCountNV" class="xref page">vkCmdDrawMeshTasksIndirectCountNV</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksIndirectNV" class="xref page">vkCmdDrawMeshTasksIndirectNV</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawMeshTasksNV" class="xref page">vkCmdDrawMeshTasksNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_179"><a class="anchor" href="#_new_structures_179"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#VkDrawMeshTasksIndirectCommandNV" class="xref page">VkDrawMeshTasksIndirectCommandNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMeshShaderFeaturesNV" class="xref page">VkPhysicalDeviceMeshShaderFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMeshShaderPropertiesNV" class="xref page">VkPhysicalDeviceMeshShaderPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_208"><a class="anchor" href="#_new_enum_constants_208"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_MESH_SHADER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_MESH_SHADER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_MESH_SHADER_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TASK_SHADER_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_MESH_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TASK_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_6"><a class="anchor" href="#_new_or_modified_built_in_variables_6"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-taskcount" class="xref page">TaskCountNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-primitivecount" class="xref page">PrimitiveCountNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-primitiveindices" class="xref page">PrimitiveIndicesNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-clipdistancepv" class="xref page">ClipDistancePerViewNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-culldistancepv" class="xref page">CullDistancePerViewNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-layerpv" class="xref page">LayerPerViewNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-meshviewcount" class="xref page">MeshViewCountNV</a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-meshviewindices" class="xref page">MeshViewIndicesNV</a></p>
</li>
<li>
<p>(modified)<code>Position</code></p>
</li>
<li>
<p>(modified)<code>PointSize</code></p>
</li>
<li>
<p>(modified)<code>ClipDistance</code></p>
</li>
<li>
<p>(modified)<code>CullDistance</code></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
<li>
<p>(modified)<code>Layer</code></p>
</li>
<li>
<p>(modified)<code>ViewportIndex</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupSize</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>GlobalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationIndex</code></p>
</li>
<li>
<p>(modified)<code>DrawIndex</code></p>
</li>
<li>
<p>(modified)<code>ViewportMaskNV</code></p>
</li>
<li>
<p>(modified)<code>PositionPerViewNV</code></p>
</li>
<li>
<p>(modified)<code>ViewportMaskPerViewNV</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability_4"><a class="anchor" href="#_new_spir_v_capability_4"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-MeshShadingNV" class="xref page"><code>MeshShadingNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_94"><a class="anchor" href="#_issues_94"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>How to name this extension?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: VK_NV_mesh_shader</p>
</div>
<div class="paragraph">
<p>Other options considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>VK_NV_mesh_shading</p>
</li>
<li>
<p>VK_NV_programmable_mesh_shading</p>
</li>
<li>
<p>VK_NV_primitive_group_shading</p>
</li>
<li>
<p>VK_NV_grouped_drawing</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Do we need a new VkPrimitiveTopology?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
We skip the InputAssembler stage.</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we allow Instancing?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is no fixed function input, other than the IDs.
However, allow offsetting with a &#8220;first&#8221; value.</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we use existing vkCmdDraw or introduce new functions?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: Introduce new functions.</p>
</div>
<div class="paragraph">
<p>New functions make it easier to separate from &#8220;programmable primitive
shading&#8221; chapter, less &#8220;dual use&#8221; language about existing functions
having alternative behavior.
The text around the existing &#8220;draws&#8221; is heavily based around emitting
vertices.</p>
</div>
</div>
</div>
</li>
<li>
<p>If new functions, how to name?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: CmdDrawMeshTasks*</p>
</div>
<div class="paragraph">
<p>Other options considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CmdDrawMeshed</p>
</li>
<li>
<p>CmdDrawTasked</p>
</li>
<li>
<p>CmdDrawGrouped</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Should VK_SHADER_STAGE_ALL_GRAPHICS be updated to include the new stages?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
If an application were to be recompiled with headers that include additional
shader stage bits in VK_SHADER_STAGE_ALL_GRAPHICS, then the previously valid
application would no longer be valid on implementations that do not support
mesh or task shaders.
This means the change would not be backwards compatible.
It is too bad VkShaderStageFlagBits does not have a dedicated &#8220;all
supported graphics stages&#8221; bit like VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT,
which would have avoided this problem.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_208"><a class="anchor" href="#_version_history_208"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-19 (Christoph Kubisch, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_optical_flow"><a class="anchor" href="#VK_NV_optical_flow"></a>VK_NV_optical_flow</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_optical_flow</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>465</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_optical_flow] @crohde%0A*Here describe the issue or question you have about the VK_NV_optical_flow extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_209"><a class="anchor" href="#_other_extension_metadata_209"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-26</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Vipul Parashar, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_209"><a class="anchor" href="#_description_209"></a>Description</h3>
<div class="paragraph">
<p>Optical flow are fundamental algorithms in computer vision (CV) area.
This extension allows applications to estimate 2D displacement of pixels
between two frames.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension is designed to be used with upcoming NVIDIA Optical Flow SDK
Version 5 which will be available on NVIDIA Developer webpage.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_14"><a class="anchor" href="#_new_object_types_14"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionNV" class="xref page">VkOpticalFlowSessionNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_98"><a class="anchor" href="#_new_commands_98"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#vkBindOpticalFlowSessionImageNV" class="xref page">vkBindOpticalFlowSessionImageNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#vkCmdOpticalFlowExecuteNV" class="xref page">vkCmdOpticalFlowExecuteNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#vkCreateOpticalFlowSessionNV" class="xref page">vkCreateOpticalFlowSessionNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#vkDestroyOpticalFlowSessionNV" class="xref page">vkDestroyOpticalFlowSessionNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#vkGetPhysicalDeviceOpticalFlowImageFormatsNV" class="xref page">vkGetPhysicalDeviceOpticalFlowImageFormatsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_180"><a class="anchor" href="#_new_structures_180"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowExecuteInfoNV" class="xref page">VkOpticalFlowExecuteInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowImageFormatPropertiesNV" class="xref page">VkOpticalFlowImageFormatPropertiesNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionCreateInfoNV" class="xref page">VkOpticalFlowSessionCreateInfoNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionCreateInfoNV" class="xref page">VkOpticalFlowSessionCreateInfoNV</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionCreatePrivateDataInfoNV" class="xref page">VkOpticalFlowSessionCreatePrivateDataInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceOpticalFlowFeaturesNV" class="xref page">VkPhysicalDeviceOpticalFlowFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>, <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowImageFormatInfoNV" class="xref page">VkOpticalFlowImageFormatInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceOpticalFlowPropertiesNV" class="xref page">VkPhysicalDeviceOpticalFlowPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_59"><a class="anchor" href="#_new_enums_59"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowExecuteFlagBitsNV" class="xref page">VkOpticalFlowExecuteFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowGridSizeFlagBitsNV" class="xref page">VkOpticalFlowGridSizeFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowPerformanceLevelNV" class="xref page">VkOpticalFlowPerformanceLevelNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionBindingPointNV" class="xref page">VkOpticalFlowSessionBindingPointNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionCreateFlagBitsNV" class="xref page">VkOpticalFlowSessionCreateFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowUsageFlagBitsNV" class="xref page">VkOpticalFlowUsageFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_50"><a class="anchor" href="#_new_bitmasks_50"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowExecuteFlagsNV" class="xref page">VkOpticalFlowExecuteFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowGridSizeFlagsNV" class="xref page">VkOpticalFlowGridSizeFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowSessionCreateFlagsNV" class="xref page">VkOpticalFlowSessionCreateFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/VK_NV_optical_flow/optical_flow.html#VkOpticalFlowUsageFlagsNV" class="xref page">VkOpticalFlowUsageFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_209"><a class="anchor" href="#_new_enum_constants_209"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_OPTICAL_FLOW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_OPTICAL_FLOW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_OPTICAL_FLOW_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_OPTICAL_FLOW_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_R16G16_S10_5_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_OPTICAL_FLOW_COST_BIT_NV</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_OPTICAL_FLOW_IMAGE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_OPTICAL_FLOW_VECTOR_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_OPTICAL_FLOW_SESSION_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_OPTICAL_FLOW_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFlagBits" class="xref page">VkQueueFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_OPTICAL_FLOW_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_OPTICAL_FLOW_EXECUTE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_OPTICAL_FLOW_IMAGE_FORMAT_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_OPTICAL_FLOW_IMAGE_FORMAT_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_OPTICAL_FLOW_SESSION_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_OPTICAL_FLOW_SESSION_CREATE_PRIVATE_DATA_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPTICAL_FLOW_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPTICAL_FLOW_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_30"><a class="anchor" href="#_examples_30"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Example querying available input formats
VkOpticalFlowImageFormatInfoNV ofFormatInfo = { VK_STRUCTURE_TYPE_OPTICAL_FLOW_IMAGE_FORMAT_INFO_NV };
ofFormatInfo.usage = VK_OPTICAL_FLOW_USAGE_INPUT_BIT_NV;

uint32_t count = 0;
vkGetPhysicalDeviceOpticalFlowImageFormatsNV(physicalDevice, &amp;ofFormatInfo, &amp;count, NULL);
VkOpticalFlowImageFormatPropertiesNV* fmt = new VkOpticalFlowImageFormatPropertiesNV[count];
memset(fmt, 0, count  * sizeof(VkOpticalFlowImageFormatPropertiesNV));
for (uint32_t i = 0; i &lt; count; i++) {
    fmt[i].sType = VK_STRUCTURE_TYPE_OPTICAL_FLOW_IMAGE_FORMAT_PROPERTIES_NV;
}
vkGetPhysicalDeviceOpticalFlowImageFormatsNV(physicalDevice, &amp;ofFormatInfo, &amp;count, fmt);

// Pick one of the available formats
VkFormat inputFormat = fmt[0].format;

// Check feature support for optimal tiling
VkFormatProperties3 formatProperties3 = { VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_3 };
VkFormatProperties2 formatProperties2 = { VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2, &amp;formatProperties3 };
vkGetPhysicalDeviceFormatProperties2(physicalDevice, inputFormat, &amp;formatProperties2);
if (!(formatProperties3.optimalTilingFeatures &amp; VK_FORMAT_FEATURE_2_OPTICAL_FLOW_IMAGE_BIT_NV)) {
    return false;
}

// Check support for image creation parameters
VkPhysicalDeviceImageFormatInfo2 imageFormatInfo2 = { VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2, &amp;ofFormatInfo };
imageFormatInfo2.format = inputFormat;
imageFormatInfo2.type = VK_IMAGE_TYPE_2D;
imageFormatInfo2.tiling = VK_IMAGE_TILING_OPTIMAL;
imageFormatInfo2.usage = VK_IMAGE_USAGE_SAMPLED_BIT | VK_IMAGE_USAGE_TRANSFER_DST_BIT;

VkImageFormatProperties2 imageFormatProperties2 = { VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2 };
if (vkGetPhysicalDeviceImageFormatProperties2(physicalDevice, &amp;imageFormatInfo2, &amp;imageFormatProperties2) != VK_SUCCESS) {
    return false;
}

VkImageCreateInfo imageCreateInfo = { VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO, &amp;ofFormatInfo };
imageCreateInfo.imageType = VK_IMAGE_TYPE_2D;
imageCreateInfo.format = inputFormat;
imageCreateInfo.extent = { width, height, (uint32_t)1};
imageCreateInfo.mipLevels = 1;
imageCreateInfo.arrayLayers = 1;
imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;
imageCreateInfo.usage = VK_IMAGE_USAGE_SAMPLED_BIT | VK_IMAGE_USAGE_TRANSFER_DST_BIT;;
imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;

vkCreateImage(device, &amp;imageCreateInfo, NULL, &amp;input);
"allocate memory, bind image, create view"

"do the same for reference and output"

// Create optical flow session
VkOpticalFlowSessionCreateInfoNV sessionCreateInfo = { VK_STRUCTURE_TYPE_OPTICAL_FLOW_SESSION_CREATE_INFO_NV };
sessionCreateInfo.width = width;
sessionCreateInfo.height = height;
sessionCreateInfo.imageFormat = inputFormat;
sessionCreateInfo.flowVectorFormat = outputFormat;
sessionCreateInfo.outputGridSize = VK_OPTICAL_FLOW_GRID_SIZE_4X4_BIT_NV;
sessionCreateInfo.performanceLevel = VK_OPTICAL_FLOW_PERFORMANCE_LEVEL_SLOW_NV;
VkOpticalFlowSessionNV session;
vkCreateOpticalFlowSessionNV(device, &amp;sessionCreateInfo, NULL, &amp;session);

"allocate command buffer"

"transfer images to VK_PIPELINE_STAGE_2_OPTICAL_FLOW_BIT_NV"
"transfer input images to VK_ACCESS_2_OPTICAL_FLOW_READ_BIT_NV and output image to VK_ACCESS_2_OPTICAL_FLOW_WRITE_BIT_NV"

vkBindOpticalFlowSessionImageNV(device, session, VK_OPTICAL_FLOW_SESSION_BINDING_POINT_INPUT_NV, inputView, VK_IMAGE_LAYOUT_GENERAL);
vkBindOpticalFlowSessionImageNV(device, session, VK_OPTICAL_FLOW_SESSION_BINDING_POINT_REFERENCE_NV, refView, VK_IMAGE_LAYOUT_GENERAL);
vkBindOpticalFlowSessionImageNV(device, session, VK_OPTICAL_FLOW_SESSION_BINDING_POINT_FLOW_VECTOR_NV, outputView, VK_IMAGE_LAYOUT_GENERAL);

VkOpticalFlowExecuteInfoNV opticalFlowExecuteInfo = { VK_STRUCTURE_TYPE_OPTICAL_FLOW_EXECUTE_INFO_NV };
vkCmdOpticalFlowExecuteNV(cmd, session, &amp;opticalFlowExecuteInfo);

"submit command buffer"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_209"><a class="anchor" href="#_version_history_209"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-09-26 (Carsten Rohde)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_present_barrier"><a class="anchor" href="#VK_NV_present_barrier"></a>VK_NV_present_barrier</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_present_barrier</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>293</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_surface">VK_KHR_surface</a><br>
and<br>
<a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br>
and<br>
<a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Liya Li <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_present_barrier] @liyli%0A*Here describe the issue or question you have about the VK_NV_present_barrier extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>liyli</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_210"><a class="anchor" href="#_other_extension_metadata_210"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-05-16</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Liya Li, Nvidia</p>
</li>
<li>
<p>Martin Schwarzer, Nvidia</p>
</li>
<li>
<p>Andy Wolf, Nvidia</p>
</li>
<li>
<p>Ian Williams, Nvidia</p>
</li>
<li>
<p>Ben Morris, Nvidia</p>
</li>
<li>
<p>James Jones, Nvidia</p>
</li>
<li>
<p>Jeff Juliano, Nvidia</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_210"><a class="anchor" href="#_description_210"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for synchronizing corresponding presentation
requests across multiple swapchains using the <em>present barrier</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_181"><a class="anchor" href="#_new_structures_181"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePresentBarrierFeaturesNV" class="xref page">VkPhysicalDevicePresentBarrierFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilities2KHR" class="xref page">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceCapabilitiesPresentBarrierNV" class="xref page">VkSurfaceCapabilitiesPresentBarrierNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainPresentBarrierCreateInfoNV" class="xref page">VkSwapchainPresentBarrierCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_210"><a class="anchor" href="#_new_enum_constants_210"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_PRESENT_BARRIER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_PRESENT_BARRIER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENT_BARRIER_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_PRESENT_BARRIER_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_PRESENT_BARRIER_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_95"><a class="anchor" href="#_issues_95"></a>Issues</h3>
<div class="paragraph">
<p>1) Is there a query interface to check if a swapchain is using the present
barrier?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
There is no such query interface.
When creating a swapchain, an application can specify to use the <em>present
barrier</em>, and if the swapchain is created successfully, this swapchain will
be using the present barrier.</p>
</div>
<div class="paragraph">
<p>2) Do we need an extra interface to set up the present barrier across
distributed systems?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
If the required hardware is presented in the system, and all settings for
the physical synchronization with other systems are set up, an
implementation manages the configuration automatically when creating a
swapchain, without any extra calls from the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_210"><a class="anchor" href="#_version_history_210"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-20</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_ray_tracing"><a class="anchor" href="#VK_NV_ray_tracing"></a>VK_NV_ray_tracing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_ray_tracing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>166</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_ray_tracing] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NV_ray_tracing extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_211"><a class="anchor" href="#_other_extension_metadata_211"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_ray_tracing.html"><code>SPV_NV_ray_tracing</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_ray_tracing.txt"><code>GL_NV_ray_tracing</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Henrik Rydgard, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_211"><a class="anchor" href="#_description_211"></a>Description</h3>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>To enable ray tracing, this extension adds a few different categories of new
functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acceleration structure objects and build commands</p>
</li>
<li>
<p>A new pipeline type with new shader domains</p>
</li>
<li>
<p>An indirection table to link shader groups with acceleration structure
items</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_NV_ray_tracing</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_15"><a class="anchor" href="#_new_object_types_15"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureNV" class="xref page">VkAccelerationStructureNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_99"><a class="anchor" href="#_new_commands_99"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkBindAccelerationStructureMemoryNV" class="xref page">vkBindAccelerationStructureMemoryNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdBuildAccelerationStructureNV" class="xref page">vkCmdBuildAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdCopyAccelerationStructureNV" class="xref page">vkCmdCopyAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="../chapters/raytracing.html#vkCmdTraceRaysNV" class="xref page">vkCmdTraceRaysNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#vkCmdWriteAccelerationStructuresPropertiesNV" class="xref page">vkCmdWriteAccelerationStructuresPropertiesNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCompileDeferredNV" class="xref page">vkCompileDeferredNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkCreateAccelerationStructureNV" class="xref page">vkCreateAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkCreateRayTracingPipelinesNV" class="xref page">vkCreateRayTracingPipelinesNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkDestroyAccelerationStructureNV" class="xref page">vkDestroyAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureHandleNV" class="xref page">vkGetAccelerationStructureHandleNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetAccelerationStructureMemoryRequirementsNV" class="xref page">vkGetAccelerationStructureMemoryRequirementsNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#vkGetRayTracingShaderGroupHandlesNV" class="xref page">vkGetRayTracingShaderGroupHandlesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_182"><a class="anchor" href="#_new_structures_182"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAabbPositionsNV" class="xref page">VkAabbPositionsNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureCreateInfoNV" class="xref page">VkAccelerationStructureCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureInfoNV" class="xref page">VkAccelerationStructureInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureInstanceNV" class="xref page">VkAccelerationStructureInstanceNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMemoryRequirementsInfoNV" class="xref page">VkAccelerationStructureMemoryRequirementsInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBindAccelerationStructureMemoryInfoNV" class="xref page">VkBindAccelerationStructureMemoryInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryAABBNV" class="xref page">VkGeometryAABBNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryDataNV" class="xref page">VkGeometryDataNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryNV" class="xref page">VkGeometryNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryTrianglesNV" class="xref page">VkGeometryTrianglesNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoNV" class="xref page">VkRayTracingPipelineCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupCreateInfoNV" class="xref page">VkRayTracingShaderGroupCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkTransformMatrixNV" class="xref page">VkTransformMatrixNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRayTracingPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkWriteDescriptorSet" class="xref page">VkWriteDescriptorSet</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkWriteDescriptorSetAccelerationStructureNV" class="xref page">VkWriteDescriptorSetAccelerationStructureNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkMemoryRequirements2KHR" class="xref page">VkMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_60"><a class="anchor" href="#_new_enums_60"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMemoryRequirementsTypeNV" class="xref page">VkAccelerationStructureMemoryRequirementsTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureTypeNV" class="xref page">VkAccelerationStructureTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsNV" class="xref page">VkBuildAccelerationStructureFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeNV" class="xref page">VkCopyAccelerationStructureModeNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagBitsNV" class="xref page">VkGeometryFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsNV" class="xref page">VkGeometryInstanceFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryTypeNV" class="xref page">VkGeometryTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/pipelines.html#VkRayTracingShaderGroupTypeNV" class="xref page">VkRayTracingShaderGroupTypeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_51"><a class="anchor" href="#_new_bitmasks_51"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBuildAccelerationStructureFlagsNV" class="xref page">VkBuildAccelerationStructureFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkGeometryFlagsNV" class="xref page">VkGeometryFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkGeometryInstanceFlagsNV" class="xref page">VkGeometryInstanceFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_211"><a class="anchor" href="#_new_enum_constants_211"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_RAY_TRACING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_RAY_TRACING_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_SHADER_UNUSED_NV</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkAccelerationStructureTypeKHR" class="xref page">VkAccelerationStructureTypeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCELERATION_STRUCTURE_TYPE_BOTTOM_LEVEL_NV</code></p>
</li>
<li>
<p><code>VK_ACCELERATION_STRUCTURE_TYPE_TOP_LEVEL_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_COMPACTION_BIT_NV</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_UPDATE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_LOW_MEMORY_BIT_NV</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_PREFER_FAST_BUILD_BIT_NV</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_PREFER_FAST_TRACE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkCopyAccelerationStructureModeKHR" class="xref page">VkCopyAccelerationStructureModeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_COPY_ACCELERATION_STRUCTURE_MODE_CLONE_NV</code></p>
</li>
<li>
<p><code>VK_COPY_ACCELERATION_STRUCTURE_MODE_COMPACT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkGeometryFlagBitsKHR" class="xref page">VkGeometryFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_NO_DUPLICATE_ANY_HIT_INVOCATION_BIT_NV</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_OPAQUE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkGeometryInstanceFlagBitsKHR" class="xref page">VkGeometryInstanceFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_INSTANCE_FORCE_NO_OPAQUE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_INSTANCE_FORCE_OPAQUE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_INSTANCE_TRIANGLE_CULL_DISABLE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_INSTANCE_TRIANGLE_FRONT_COUNTERCLOCKWISE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkGeometryTypeKHR" class="xref page">VkGeometryTypeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_TYPE_AABBS_NV</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_TYPE_TRIANGLES_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/drawing.html#VkIndexType" class="xref page">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_NONE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_ACCELERATION_STRUCTURE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_COMPACTED_SIZE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkRayTracingShaderGroupTypeKHR" class="xref page">VkRayTracingShaderGroupTypeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_GENERAL_NV</code></p>
</li>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_PROCEDURAL_HIT_GROUP_NV</code></p>
</li>
<li>
<p><code>VK_RAY_TRACING_SHADER_GROUP_TYPE_TRIANGLES_HIT_GROUP_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkShaderStageFlagBits" class="xref page">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_MEMORY_REQUIREMENTS_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_ACCELERATION_STRUCTURE_MEMORY_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_AABB_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_TRIANGLES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_ACCELERATION_STRUCTURE_NV_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_7"><a class="anchor" href="#_new_or_modified_built_in_variables_7"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-launchid" class="xref page"><code>LaunchIdNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-launchsize" class="xref page"><code>LaunchSizeNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldrayorigin" class="xref page"><code>WorldRayOriginNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldraydirection" class="xref page"><code>WorldRayDirectionNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objectrayorigin" class="xref page"><code>ObjectRayOriginNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objectraydirection" class="xref page"><code>ObjectRayDirectionNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-raytmin" class="xref page"><code>RayTminNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-raytmax" class="xref page"><code>RayTmaxNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-instancecustomindex" class="xref page"><code>InstanceCustomIndexNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-instanceid" class="xref page"><code>InstanceId</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-objecttoworld" class="xref page"><code>ObjectToWorldNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-worldtoobject" class="xref page"><code>WorldToObjectNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-hitt" class="xref page"><code>HitTNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-hitkind" class="xref page"><code>HitKindNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-incomingrayflags" class="xref page"><code>IncomingRayFlagsNV</code></a></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_21"><a class="anchor" href="#_new_spir_v_capabilities_21"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RayTracingNV" class="xref page"><code>RayTracingNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_96"><a class="anchor" href="#_issues_96"></a>Issues</h3>
<div class="paragraph">
<p>1) Are there issues?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sample_code_6"><a class="anchor" href="#_sample_code_6"></a>Sample Code</h3>
<div class="paragraph">
<p>Example ray generation GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#version 450 core
#extension GL_NV_ray_tracing : require
layout(set = 0, binding = 0, rgba8) uniform image2D image;
layout(set = 0, binding = 1) uniform accelerationStructureNV as;
layout(location = 0) rayPayloadNV float payload;

void main()
{
   vec4 col = vec4(0, 0, 0, 1);

   vec3 origin = vec3(float(gl_LaunchIDNV.x)/float(gl_LaunchSizeNV.x), float(gl_LaunchIDNV.y)/float(gl_LaunchSizeNV.y), 1.0);
   vec3 dir = vec3(0.0, 0.0, -1.0);

   traceNV(as, 0, 0xff, 0, 1, 0, origin, 0.0, dir, 1000.0, 0);

   col.y = payload;

   imageStore(image, ivec2(gl_LaunchIDNV.xy), col);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_211"><a class="anchor" href="#_version_history_211"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-11 (Robert Stepinski, Nuno Subtil, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-10-19 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>rename to VK_NV_ray_tracing, add support for callables.</p>
</li>
<li>
<p>too many updates to list</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-11-20 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>update to use InstanceId instead of InstanceIndex as implemented.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_ray_tracing_invocation_reorder"><a class="anchor" href="#VK_NV_ray_tracing_invocation_reorder"></a>VK_NV_ray_tracing_invocation_reorder</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_ray_tracing_invocation_reorder</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>491</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_ray_tracing_invocation_reorder] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NV_ray_tracing_invocation_reorder extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_212"><a class="anchor" href="#_other_extension_metadata_212"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_invocation_reorder.html"><code>SPV_NV_shader_invocation_reorder</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_shader_invocation_reorder.txt"><code>GL_NV_shader_invocation_reorder</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_212"><a class="anchor" href="#_description_212"></a>Description</h3>
<div class="paragraph">
<p>The ray tracing pipeline API provides some ability to reorder for locality,
but it is useful to have more control over how the reordering happens and
what information is included in the reordering.
The shader API provides a hit object to contain result information from the
hit which can be used as part of the explicit sorting plus options that
contain an integer for hint bits to use to add more locality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_183"><a class="anchor" href="#_new_structures_183"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingInvocationReorderFeaturesNV" class="xref page">VkPhysicalDeviceRayTracingInvocationReorderFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceRayTracingInvocationReorderPropertiesNV" class="xref page">VkPhysicalDeviceRayTracingInvocationReorderPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_61"><a class="anchor" href="#_new_enums_61"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkRayTracingInvocationReorderModeNV" class="xref page">VkRayTracingInvocationReorderModeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_212"><a class="anchor" href="#_new_enum_constants_212"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_RAY_TRACING_INVOCATION_REORDER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_RAY_TRACING_INVOCATION_REORDER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_INVOCATION_REORDER_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_INVOCATION_REORDER_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_hlsl_mapping"><a class="anchor" href="#_hlsl_mapping"></a>HLSL Mapping</h3>
<div class="paragraph">
<p>HLSL does not provide this functionality natively yet.</p>
</div>
<div class="paragraph">
<p>However, it is possible to use this functionality via
<a href="https://github.com/microsoft/DirectXShaderCompiler/wiki/GL_EXT_spirv_intrinsics-for-SPIR-V-code-gen">SPIR-V
Intrinsics</a>.</p>
</div>
<div class="paragraph">
<p>The codes for shader invocation reorder are obtained from
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_invocation_reorder.html">this
page</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#define ShaderInvocationReorderNV 5383
#define HitObjectAttributeNV 5385

#define OpHitObjectRecordHitMotionNV 5249
#define OpHitObjectRecordHitWithIndexMotionNV 5250
#define OpHitObjectRecordMissMotionNV 5251
#define OpHitObjectGetWorldToObjectNV 5252
#define OpHitObjectGetObjectToWorldNV 5253
#define OpHitObjectGetObjectRayDirectionNV 5254
#define OpHitObjectGetObjectRayOriginNV 5255
#define OpHitObjectTraceRayMotionNV 5256
#define OpHitObjectGetShaderRecordBufferHandleNV 5257
#define OpHitObjectGetShaderBindingTableRecordIndexNV 5258
#define OpHitObjectRecordEmptyNV 5259
#define OpHitObjectTraceRayNV 5260
#define OpHitObjectRecordHitNV 5261
#define OpHitObjectRecordHitWithIndexNV 5262
#define OpHitObjectRecordMissNV 5263
#define OpHitObjectExecuteShaderNV 5264
#define OpHitObjectGetCurrentTimeNV 5265
#define OpHitObjectGetAttributesNV 5266
#define OpHitObjectGetHitKindNV 5267
#define OpHitObjectGetPrimitiveIndexNV 5268
#define OpHitObjectGetGeometryIndexNV 5269
#define OpHitObjectGetInstanceIdNV 5270
#define OpHitObjectGetInstanceCustomIndexNV 5271
#define OpHitObjectGetWorldRayDirectionNV 5272
#define OpHitObjectGetWorldRayOriginNV 5273
#define OpHitObjectGetRayTMaxNV 5274
#define OpHitObjectGetRayTMinNV 5275
#define OpHitObjectIsEmptyNV 5276
#define OpHitObjectIsHitNV 5277
#define OpHitObjectIsMissNV 5278
#define OpReorderThreadWithHitObjectNV 5279
#define OpReorderThreadWithHintNV 5280
#define OpTypeHitObjectNV 5281</code></pre>
</div>
</div>
<div class="paragraph">
<p>The capability and extension need to be added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">[[vk::ext_capability(ShaderInvocationReorderNV)]]
[[vk::ext_extension("SPV_NV_shader_invocation_reorder")]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The creation of the <code>HitObject</code> type can be done like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">[[vk::ext_type_def(HitObjectAttributeNV, OpTypeHitObjectNV)]]
void createHitObjectNV();
#define HitObjectNV vk::ext_type&lt;HitObjectAttributeNV&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The payload:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>must be global</p>
</li>
<li>
<p>needs the <code>RayPayloadKHR</code> attribute as an extra storage class</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">struct [raypayload] HitPayload
{
  float hitT : write(closesthit, miss) : read(caller);
  int instanceIndex : write(closesthit) : read(caller);
  float3 pos : write(closesthit) : read(caller);
  float3 nrm : write(closesthit) : read(caller);
};

#define RayPayloadKHR 5338
[[vk::ext_storage_class(RayPayloadKHR)]] static HitPayload payload;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is the declaration of a few invocation reordering functions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">[[vk::ext_instruction(OpHitObjectRecordEmptyNV)]]
void hitObjectRecordEmptyNV([[vk::ext_reference]] HitObjectNV hitObject);

[[vk::ext_instruction(OpHitObjectTraceRayNV)]]
void hitObjectTraceRayNV(
    [[vk::ext_reference]] HitObjectNV hitObject,
    RaytracingAccelerationStructure as,
    uint RayFlags,
    uint CullMask,
    uint SBTOffset,
    uint SBTStride,
    uint MissIndex,
    float3 RayOrigin,
    float RayTmin,
    float3 RayDirection,
    float RayTMax,
    [[vk::ext_reference]] [[vk::ext_storage_class(RayPayloadKHR)]] HitPayload payload
  );

[[vk::ext_instruction(OpReorderThreadWithHintNV)]]
void reorderThreadWithHintNV(int Hint, int Bits);

[[vk::ext_instruction(OpReorderThreadWithHitObjectNV)]]
void reorderThreadWithHitObjectNV([[vk::ext_reference]] HitObjectNV hitObject);

[[vk::ext_instruction(OpHitObjectExecuteShaderNV)]]
void hitObjectExecuteShaderNV([[vk::ext_reference]] HitObjectNV hitObject, [[vk::ext_reference]] [[vk::ext_storage_class(RayPayloadKHR)]] HitPayload payload);

[[vk::ext_instruction(OpHitObjectIsHitNV)]]
bool hitObjectIsHitNV([[vk::ext_reference]] HitObjectNV hitObject);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the function in the code, can be done like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">  if (USE_SER == 1)
  {
    createHitObjectNV();
    HitObjectNV hObj; //  hitObjectNV hObj;
    hitObjectRecordEmptyNV(hObj); //Initialize to an empty hit object
    hitObjectTraceRayNV(hObj, topLevelAS, rayFlags, 0xFF, 0, 0, 0, r.Origin, 0.0, r.Direction, INFINITE, payload);
    reorderThreadWithHitObjectNV(hObj);
    hitObjectExecuteShaderNV(hObj, payload);
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>createHitObjectNV() needs to be call at least once.
This can be also done in the main entry of the shader.</p>
</li>
<li>
<p>Function with a payload parameter, needs to have the payload struct
defined before.
There are no templated declaration of the function.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_212"><a class="anchor" href="#_version_history_212"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-09-12 (Eric Werness, Ashwin Lele)</p>
<div class="ulist">
<ul>
<li>
<p>Initial external release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_ray_tracing_motion_blur"><a class="anchor" href="#VK_NV_ray_tracing_motion_blur"></a>VK_NV_ray_tracing_motion_blur</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_ray_tracing_motion_blur</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>328</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_213"><a class="anchor" href="#_other_extension_metadata_213"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_ray_tracing_motion_blur.html"><code>SPV_NV_ray_tracing_motion_blur</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_ray_tracing_motion_blur.txt"><code>GL_NV_ray_tracing_motion_blur</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_213"><a class="anchor" href="#_description_213"></a>Description</h3>
<div class="paragraph">
<p>Ray tracing support in the API provides an efficient mechanism to intersect
rays against static geometry, but rendering algorithms often want to support
motion, which is more efficiently supported with motion-specific algorithms.
This extension adds a set of mechanisms to support fast tracing of moving
geometry:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A ray pipeline trace call which takes a time parameter</p>
</li>
<li>
<p>Flags to enable motion support in an acceleration structure</p>
</li>
<li>
<p>Support for time-varying vertex positions in a geometry</p>
</li>
<li>
<p>Motion instances to move existing instances over time</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The motion represented here is parameterized across a normalized timestep
between 0.0 and 1.0.
A motion trace using <code>OpTraceRayMotionNV</code> provides a time within that
normalized range to be used when intersecting that ray with geometry.
The geometry can be provided with motion by a combination of adding a second
vertex position for time of 1.0 using
<code>VkAccelerationStructureGeometryMotionTrianglesDataNV</code> and providing
multiple transforms in the instance using
<code>VkAccelerationStructureMotionInstanceNV</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_184"><a class="anchor" href="#_new_structures_184"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureMatrixMotionInstanceNV" class="xref page">VkAccelerationStructureMatrixMotionInstanceNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureMotionInstanceNV" class="xref page">VkAccelerationStructureMotionInstanceNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureSRTMotionInstanceNV" class="xref page">VkAccelerationStructureSRTMotionInstanceNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkSRTDataNV" class="xref page">VkSRTDataNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkAccelerationStructureCreateInfoKHR" class="xref page">VkAccelerationStructureCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMotionInfoNV" class="xref page">VkAccelerationStructureMotionInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryMotionTrianglesDataNV" class="xref page">VkAccelerationStructureGeometryMotionTrianglesDataNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRayTracingMotionBlurFeaturesNV" class="xref page">VkPhysicalDeviceRayTracingMotionBlurFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_6"><a class="anchor" href="#_new_unions_6"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureMotionInstanceDataNV" class="xref page">VkAccelerationStructureMotionInstanceDataNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_62"><a class="anchor" href="#_new_enums_62"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureMotionInstanceTypeNV" class="xref page">VkAccelerationStructureMotionInstanceTypeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_52"><a class="anchor" href="#_new_bitmasks_52"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkAccelerationStructureMotionInfoFlagsNV" class="xref page">VkAccelerationStructureMotionInfoFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureMotionInstanceFlagsNV" class="xref page">VkAccelerationStructureMotionInstanceFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_213"><a class="anchor" href="#_new_enum_constants_213"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_RAY_TRACING_MOTION_BLUR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_RAY_TRACING_MOTION_BLUR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkAccelerationStructureCreateFlagBitsKHR" class="xref page">VkAccelerationStructureCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCELERATION_STRUCTURE_CREATE_MOTION_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_MOTION_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_ALLOW_MOTION_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_MOTION_TRIANGLES_DATA_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_MOTION_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_MOTION_BLUR_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_97"><a class="anchor" href="#_issues_97"></a>Issues</h3>
<div class="paragraph">
<p>(1) What size is VkAccelerationStructureMotionInstanceNV?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Added a note on the structure size and made the stride explicit in the
language.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Allow arrayOfPointers for motion TLAS?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Yes, with a packed encoding to minimize the amount of data sent for
metadata.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_213"><a class="anchor" href="#_version_history_213"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-16 (Eric Werness, Ashwin Lele)</p>
<div class="ulist">
<ul>
<li>
<p>Initial external release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_representative_fragment_test"><a class="anchor" href="#VK_NV_representative_fragment_test"></a>VK_NV_representative_fragment_test</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_representative_fragment_test</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>167</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_representative_fragment_test] @kthangudu%0A*Here describe the issue or question you have about the VK_NV_representative_fragment_test extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kthangudu</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_214"><a class="anchor" href="#_other_extension_metadata_214"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_214"><a class="anchor" href="#_description_214"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new representative fragment test that allows
implementations to reduce the amount of rasterization and fragment
processing work performed for each point, line, or triangle primitive.
For any primitive that produces one or more fragments that pass all other
early fragment tests, the implementation is permitted to choose one or more
&#8220;representative&#8221; fragments for processing and discard all other fragments.
For draw calls rendering multiple points, lines, or triangles arranged in
lists, strips, or fans, the representative fragment test is performed
independently for each of those primitives.</p>
</div>
<div class="paragraph">
<p>This extension is useful for applications that use an early render pass to
determine the full set of primitives that would be visible in the final
scene.
In this render pass, such applications would set up a fragment shader that
enables early fragment tests and writes to an image or shader storage buffer
to record the ID of the primitive that generated the fragment.
Without this extension, the shader would record the ID separately for each
visible fragment of each primitive.
With this extension, fewer stores will be performed, particularly for large
primitives.</p>
</div>
<div class="paragraph">
<p>The representative fragment test has no effect if early fragment tests are
not enabled via the fragment shader.
The set of fragments discarded by the representative fragment test is
implementation-dependent and may vary from frame to frame.
In some cases, the representative fragment test may not discard any
fragments for a given primitive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_185"><a class="anchor" href="#_new_structures_185"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineRepresentativeFragmentTestStateCreateInfoNV" class="xref page">VkPipelineRepresentativeFragmentTestStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRepresentativeFragmentTestFeaturesNV" class="xref page">VkPhysicalDeviceRepresentativeFragmentTestFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_214"><a class="anchor" href="#_new_enum_constants_214"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_REPRESENTATIVE_FRAGMENT_TEST_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_REPRESENTATIVE_FRAGMENT_TEST_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_REPRESENTATIVE_FRAGMENT_TEST_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_REPRESENTATIVE_FRAGMENT_TEST_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_98"><a class="anchor" href="#_issues_98"></a>Issues</h3>
<div class="paragraph">
<p>(1) Is the representative fragment test guaranteed to have any effect?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
As specified, we only guarantee that each primitive with at least one
fragment that passes prior tests will have one fragment passing the
representative fragment tests.
We do not guarantee that any particular fragment will fail the test.</p>
</div>
<div class="paragraph">
<p>In the initial implementation of this extension, the representative fragment
test is treated as an optimization that may be completely disabled for some
pipeline states.
This feature was designed for a use case where the fragment shader records
information on individual primitives using shader storage buffers or storage
images, with no writes to color or depth buffers.</p>
</div>
<div class="paragraph">
<p>(2) Will the set of fragments that pass the representative fragment test be
repeatable if you draw the same scene over and over again?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The set of fragments that pass the representative fragment test is
implementation-dependent and may vary due to the timing of operations
performed by the GPU.</p>
</div>
<div class="paragraph">
<p>(3) What happens if you enable the representative fragment test with writes
to color and/or depth render targets enabled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If writes to the color or depth buffer are enabled, they will be
performed for any fragments that survive the relevant tests.
Any fragments that fail the representative fragment test will not update
color buffers.
For the use cases intended for this feature, we do not expect color or depth
writes to be enabled.</p>
</div>
<div class="paragraph">
<p>(4) How do derivatives and automatic texture LOD computations work with the
representative fragment test enabled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If a fragment shader uses derivative functions or texture
lookups using automatic LOD computation, derivatives will be computed
identically whether or not the representative fragment test is enabled.
For the use cases intended for this feature, we do not expect the use of
derivatives in the fragment shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_214"><a class="anchor" href="#_version_history_214"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-09-13 (pbrown)</p>
<div class="ulist">
<ul>
<li>
<p>Add issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-22 (Kedarnath Thangudu)</p>
<div class="ulist">
<ul>
<li>
<p>Internal Revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_sample_mask_override_coverage"><a class="anchor" href="#VK_NV_sample_mask_override_coverage"></a>VK_NV_sample_mask_override_coverage</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_sample_mask_override_coverage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>95</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_sample_mask_override_coverage] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_NV_sample_mask_override_coverage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_215"><a class="anchor" href="#_other_extension_metadata_215"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_sample_mask_override_coverage.html"><code>SPV_NV_sample_mask_override_coverage</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_sample_mask_override_coverage.txt"><code>GL_NV_sample_mask_override_coverage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_215"><a class="anchor" href="#_description_215"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_NV_sample_mask_override_coverage</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to the <code>OverrideCoverageNV</code> decoration
under the <code>SampleMaskOverrideCoverageNV</code> capability.
Adding this decoration to a variable with the <code>SampleMask</code> builtin
decoration allows the shader to modify the coverage mask and affect which
samples are used to process the fragment.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the <code>override_coverage</code>
layout qualifier from <code>GL_NV_sample_mask_override_coverage</code> maps to the
<code>OverrideCoverageNV</code> decoration.
To use the <code>override_coverage</code> layout qualifier in GLSL the
<code>GL_NV_sample_mask_override_coverage</code> extension must be enabled.
Behavior is described in the <code>GL_NV_sample_mask_override_coverage</code> extension
spec.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_215"><a class="anchor" href="#_new_enum_constants_215"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SAMPLE_MASK_OVERRIDE_COVERAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SAMPLE_MASK_OVERRIDE_COVERAGE_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_variable_decoration_2"><a class="anchor" href="#_new_variable_decoration_2"></a>New Variable Decoration</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-samplemask" class="xref page">OverrideCoverageNV in    SampleMask</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_22"><a class="anchor" href="#_new_spir_v_capabilities_22"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-SampleMaskOverrideCoverageNV" class="xref page">    <code>SampleMaskOverrideCoverageNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_215"><a class="anchor" href="#_version_history_215"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-08 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_scissor_exclusive"><a class="anchor" href="#VK_NV_scissor_exclusive"></a>VK_NV_scissor_exclusive</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_scissor_exclusive</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>206</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_scissor_exclusive] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_scissor_exclusive extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_216"><a class="anchor" href="#_other_extension_metadata_216"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_216"><a class="anchor" href="#_description_216"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for an exclusive scissor test to Vulkan.
The exclusive scissor test behaves like the scissor test, except that the
exclusive scissor test fails for pixels inside the corresponding rectangle
and passes for pixels outside the rectangle.
If the same rectangle is used for both the scissor and exclusive scissor
tests, the exclusive scissor test will pass if and only if the scissor test
fails.</p>
</div>
<div class="paragraph">
<p>Version 2 of this extension introduces
<code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV</code> and
<a href="../chapters/fragops.html#vkCmdSetExclusiveScissorEnableNV" class="xref page">vkCmdSetExclusiveScissorEnableNV</a>.
Applications that use this dynamic state must ensure the implementation
advertises at least <code>specVersion</code> <code>2</code> of this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_100"><a class="anchor" href="#_new_commands_100"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetExclusiveScissorEnableNV" class="xref page">vkCmdSetExclusiveScissorEnableNV</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetExclusiveScissorNV" class="xref page">vkCmdSetExclusiveScissorNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_186"><a class="anchor" href="#_new_structures_186"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExclusiveScissorFeaturesNV" class="xref page">VkPhysicalDeviceExclusiveScissorFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV" class="xref page">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_216"><a class="anchor" href="#_new_enum_constants_216"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SCISSOR_EXCLUSIVE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SCISSOR_EXCLUSIVE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXCLUSIVE_SCISSOR_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_EXCLUSIVE_SCISSOR_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_99"><a class="anchor" href="#_issues_99"></a>Issues</h3>
<div class="paragraph">
<p>1) For the scissor test, the viewport state must be created with a matching
number of scissor and viewport rectangles.
Should we have the same requirement for exclusive scissors?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For exclusive scissors, we relax this requirement and allow an
exclusive scissor rectangle count that is either zero or equal to the number
of viewport rectangles.
If you pass in an exclusive scissor count of zero, the exclusive scissor
test is treated as disabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_216"><a class="anchor" href="#_version_history_216"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-01-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Add dynamic state for explicit exclusive scissor enables</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-07-31 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_shader_image_footprint"><a class="anchor" href="#VK_NV_shader_image_footprint"></a>VK_NV_shader_image_footprint</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shader_image_footprint</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>205</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_shader_image_footprint] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_shader_image_footprint extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_217"><a class="anchor" href="#_other_extension_metadata_217"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_image_footprint.html"><code>SPV_NV_shader_image_footprint</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_shader_texture_footprint.txt"><code>GL_NV_shader_texture_footprint</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Chris Lentini, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_217"><a class="anchor" href="#_description_217"></a>Description</h3>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_image_footprint.html"><code>SPV_NV_shader_image_footprint</code></a>
SPIR-V extension.
That SPIR-V extension provides a new instruction
<code>OpImageSampleFootprintNV</code> allowing shaders to determine the set of
texels that would be accessed by an equivalent filtered texture lookup.</p>
</div>
<div class="paragraph">
<p>Instead of returning a filtered texture value, the instruction returns a
structure that can be interpreted by shader code to determine the footprint
of a filtered texture lookup.
This structure includes integer values that identify a small neighborhood of
texels in the image being accessed and a bitfield that indicates which
texels in that neighborhood would be used.
The structure also includes a bitfield where each bit identifies whether any
texel in a small aligned block of texels would be fetched by the texture
lookup.
The size of each block is specified by an access <em>granularity</em> provided by
the shader.
The minimum granularity supported by this extension is 2x2 (for 2D textures)
and 2x2x2 (for 3D textures); the maximum granularity is 256x256 (for 2D
textures) or 64x32x32 (for 3D textures).
Each footprint query returns the footprint from a single texture level.
When using minification filters that combine accesses from multiple mipmap
levels, shaders must perform separate queries for the two levels accessed
(&#8220;fine&#8221; and &#8220;coarse&#8221;).
The footprint query also returns a flag indicating if the texture lookup
would access texels from only one mipmap level or from two neighboring
levels.</p>
</div>
<div class="paragraph">
<p>This extension should be useful for multi-pass rendering operations that do
an initial expensive rendering pass to produce a first image that is then
used as a texture for a second pass.
If the second pass ends up accessing only portions of the first image (e.g.,
due to visibility), the work spent rendering the non-accessed portion of the
first image was wasted.
With this feature, an application can limit this waste using an initial pass
over the geometry in the second image that performs a footprint query for
each visible pixel to determine the set of pixels that it needs from the
first image.
This pass would accumulate an aggregate footprint of all visible pixels into
a separate &#8220;footprint image&#8221; using shader atomics.
Then, when rendering the first image, the application can kill all shading
work for pixels not in this aggregate footprint.</p>
</div>
<div class="paragraph">
<p>This extension has a number of limitations.
The <code>OpImageSampleFootprintNV</code> instruction only supports for two- and
three-dimensional textures.
Footprint evaluation only supports the CLAMP_TO_EDGE wrap mode; results are
<strong>undefined</strong> for all other wrap modes.
Only a limited set of granularity values and that set does not support
separate coverage information for each texel in the original image.</p>
</div>
<div class="paragraph">
<p>When using SPIR-V generated from the OpenGL Shading Language, the new
instruction will be generated from code using the new
<code>textureFootprint*NV</code> built-in functions from the
<code>GL_NV_shader_texture_footprint</code> shading language extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_187"><a class="anchor" href="#_new_structures_187"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderImageFootprintFeaturesNV" class="xref page">VkPhysicalDeviceShaderImageFootprintFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_217"><a class="anchor" href="#_new_enum_constants_217"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SHADER_IMAGE_FOOTPRINT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SHADER_IMAGE_FOOTPRINT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_IMAGE_FOOTPRINT_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability_5"><a class="anchor" href="#_new_spir_v_capability_5"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ImageFootprintNV" class="xref page"><code>ImageFootprintNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_100"><a class="anchor" href="#_issues_100"></a>Issues</h3>
<div class="paragraph">
<p>(1) The footprint returned by the SPIR-V instruction is a structure that
    includes an anchor, an offset, and a mask that represents a 8x8 or 4x4x4
    neighborhood of texel groups.
    But the bits of the mask are not stored in simple pitch order.
    Why is the footprint built this way?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We expect that applications using this feature will want to use
a fixed granularity and accumulate coverage information from the returned
footprints into an aggregate &#8220;footprint image&#8221; that tracks the portions of
an image that would be needed by regular texture filtering.
If an application is using a two-dimensional image with 4x4 pixel
granularity, we expect that the footprint image will use 64-bit texels where
each bit in an 8x8 array of bits corresponds to coverage for a 4x4 block in
the original image.
Texel (0,0) in the footprint image would correspond to texels (0,0) through
(31,31) in the original image.</p>
</div>
<div class="paragraph">
<p>In the usual case, the footprint for a single access will fully contained in
a 32x32 aligned region of the original texture, which corresponds to a
single 64-bit texel in the footprint image.
In that case, the implementation will return an anchor coordinate pointing
at the single footprint image texel, an offset vector of (0,0), and a mask
whose bits are aligned with the bits in the footprint texel.
For this case, the shader can simply atomically OR the mask bits into the
contents of the footprint texel to accumulate footprint coverage.</p>
</div>
<div class="paragraph">
<p>In the worst case, the footprint for a single access spans multiple 32x32
aligned regions and may require updates to four separate footprint image
texels.
In this case, the implementation will return an anchor coordinate pointing
at the lower right footprint image texel and an offset will identify how
many &#8220;columns&#8221; and &#8220;rows&#8221; of the returned 8x8 mask correspond to
footprint texels to the left and above the anchor texel.
If the anchor is (2,3), the 64 bits of the returned mask are arranged
spatially as follows, where each 4x4 block is assigned a bit number that
matches its bit number in the footprint image texels:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    +-------------------------+-------------------------+
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- 46 47 | 40 41 42 43 44 45 -- -- |
    | -- -- -- -- -- -- 54 55 | 48 49 50 51 52 53 -- -- |
    | -- -- -- -- -- -- 62 63 | 56 57 58 59 60 61 -- -- |
    +-------------------------+-------------------------+
    | -- -- -- -- -- -- 06 07 | 00 01 02 03 04 05 -- -- |
    | -- -- -- -- -- -- 14 15 | 08 09 10 11 12 13 -- -- |
    | -- -- -- -- -- -- 22 23 | 16 17 18 19 20 21 -- -- |
    | -- -- -- -- -- -- 30 31 | 24 25 26 27 28 29 -- -- |
    | -- -- -- -- -- -- 38 39 | 32 33 34 35 36 37 -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    +-------------------------+-------------------------+</pre>
</div>
</div>
<div class="paragraph">
<p>To accumulate coverage for each of the four footprint image texels, a shader
can AND the returned mask with simple masks derived from the x and y offset
values and then atomically OR the updated mask bits into the contents of the
corresponding footprint texel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    uint64_t returnedMask = (uint64_t(footprint.mask.x) | (uint64_t(footprint.mask.y) &lt;&lt; 32));
    uint64_t rightMask    = ((0xFF &gt;&gt; footprint.offset.x) * 0x0101010101010101UL);
    uint64_t bottomMask   = 0xFFFFFFFFFFFFFFFFUL &gt;&gt; (8 * footprint.offset.y);
    uint64_t bottomRight  = returnedMask &amp; bottomMask &amp; rightMask;
    uint64_t bottomLeft   = returnedMask &amp; bottomMask &amp; (~rightMask);
    uint64_t topRight     = returnedMask &amp; (~bottomMask) &amp; rightMask;
    uint64_t topLeft      = returnedMask &amp; (~bottomMask) &amp; (~rightMask);</code></pre>
</div>
</div>
<div class="paragraph">
<p>(2) What should an application do to ensure maximum performance when
accumulating footprints into an aggregate footprint image?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We expect that the most common usage of this feature will be to
accumulate aggregate footprint coverage, as described in the previous issue.
Even if you ignore the anisotropic filtering case where the implementation
may return a granularity larger than that requested by the caller, each
shader invocation will need to use atomic functions to update up to four
footprint image texels for each LOD accessed.
Having each active shader invocation perform multiple atomic operations can
be expensive, particularly when neighboring invocations will want to update
the same footprint image texels.</p>
</div>
<div class="paragraph">
<p>Techniques can be used to reduce the number of atomic operations performed
when accumulating coverage include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Have logic that detects returned footprints where all components of the
returned offset vector are zero.
In that case, the mask returned by the footprint function is guaranteed
to be aligned with the footprint image texels and affects only a single
footprint image texel.</p>
</li>
<li>
<p>Have fragment shaders communicate using built-in functions from the
<code>VK_NV_shader_subgroup_partitioned</code> extension or other shader subgroup
extensions.
If you have multiple invocations in a subgroup that need to update the
same texel (x,y) in the footprint image, compute an aggregate footprint
mask across all invocations in the subgroup updating that texel and have
a single invocation perform an atomic operation using that aggregate
mask.</p>
</li>
<li>
<p>When the returned footprint spans multiple texels in the footprint
image, each invocation need to perform four atomic operations.
In the previous issue, we had an example that computed separate masks
for &#8220;topLeft&#8221;, &#8220;topRight&#8221;, &#8220;bottomLeft&#8221;, and &#8220;bottomRight&#8221;.
When the invocations in a subgroup have good locality, it might be the
case the &#8220;top left&#8221; for some invocations might refer to footprint
image texel (10,10), while neighbors might have their &#8220;top left&#8221;
texels at (11,10), (10,11), and (11,11).
If you compute separate masks for even/odd x and y values instead of
left/right or top/bottom, the &#8220;odd/odd&#8221; mask for all invocations in
the subgroup hold coverage for footprint image texel (11,11), which can
be updated by a single atomic operation for the entire subgroup.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_31"><a class="anchor" href="#_examples_31"></a>Examples</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_217"><a class="anchor" href="#_version_history_217"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-09-13 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue (2) with performance tips.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-12 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_shader_sm_builtins"><a class="anchor" href="#VK_NV_shader_sm_builtins"></a>VK_NV_shader_sm_builtins</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shader_sm_builtins</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>155</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_shader_sm_builtins] @dgkoch%0A*Here describe the issue or question you have about the VK_NV_shader_sm_builtins extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_218"><a class="anchor" href="#_other_extension_metadata_218"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-28</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_sm_builtins.html"><code>SPV_NV_shader_sm_builtins</code></a>.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_shader_sm_builtins.txt"><code>GL_NV_shader_sm_builtins</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_218"><a class="anchor" href="#_description_218"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the ability to determine device-specific properties
on NVIDIA GPUs.
It provides the number of streaming multiprocessors (SMs), the maximum
number of warps (subgroups) that can run on an SM, and shader builtins to
enable invocations to identify which SM and warp a shader invocation is
executing on.</p>
</div>
<div class="paragraph">
<p>This extension enables support for the SPIR-V <code>ShaderSMBuiltinsNV</code>
capability.</p>
</div>
<div class="paragraph">
<p>These properties and built-ins <strong>should</strong> typically only be used for debugging
purposes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_188"><a class="anchor" href="#_new_structures_188"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderSMBuiltinsFeaturesNV" class="xref page">VkPhysicalDeviceShaderSMBuiltinsFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderSMBuiltinsPropertiesNV" class="xref page">VkPhysicalDeviceShaderSMBuiltinsPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_218"><a class="anchor" href="#_new_enum_constants_218"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SHADER_SM_BUILTINS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SHADER_SM_BUILTINS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SM_BUILTINS_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SM_BUILTINS_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_8"><a class="anchor" href="#_new_or_modified_built_in_variables_8"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-warpspersmnv" class="xref page"><code>WarpsPerSMNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-smcountnv" class="xref page"><code>SMCountNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-warpidnv" class="xref page"><code>WarpIDNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-smidnv" class="xref page"><code>SMIDNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_23"><a class="anchor" href="#_new_spir_v_capabilities_23"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ShaderSMBuiltinsNV" class="xref page">    <code>ShaderSMBuiltinsNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_101"><a class="anchor" href="#_issues_101"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What should we call this extension?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>NV_shader_sm_builtins</code>.
Other options considered included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NV_shader_smid</code> - but SMID is really easy to typo/confuse as SIMD.</p>
</li>
<li>
<p><code>NV_shader_sm_info</code> - but <strong>Info</strong> is typically reserved for input
structures</p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_218"><a class="anchor" href="#_version_history_218"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-28 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_shader_subgroup_partitioned"><a class="anchor" href="#VK_NV_shader_subgroup_partitioned"></a>VK_NV_shader_subgroup_partitioned</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shader_subgroup_partitioned</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>199</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_shader_subgroup_partitioned] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_shader_subgroup_partitioned extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_219"><a class="anchor" href="#_other_extension_metadata_219"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_subgroup_partitioned.html"><code>SPV_NV_shader_subgroup_partitioned</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GL_NV_shader_subgroup_partitioned.txt"><code>GL_NV_shader_subgroup_partitioned</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_219"><a class="anchor" href="#_description_219"></a>Description</h3>
<div class="paragraph">
<p>This extension enables support for a new class of
<a href="../chapters/shaders.html#shaders-group-operations" class="xref page">group operations</a> on <a href="../chapters/shaders.html#shaders-scope-subgroup" class="xref page">subgroups</a> via the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GL_NV_shader_subgroup_partitioned.txt"><code>GL_NV_shader_subgroup_partitioned</code></a>
GLSL extension and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_subgroup_partitioned.html"><code>SPV_NV_shader_subgroup_partitioned</code></a>
SPIR-V extension.
Support for these new operations is advertised via the
<code>VK_SUBGROUP_FEATURE_PARTITIONED_BIT_NV</code> bit.</p>
</div>
<div class="paragraph">
<p>This extension requires Vulkan 1.1, for general subgroup support.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_219"><a class="anchor" href="#_new_enum_constants_219"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SHADER_SUBGROUP_PARTITIONED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SHADER_SUBGROUP_PARTITIONED_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/limits.html#VkSubgroupFeatureFlagBits" class="xref page">VkSubgroupFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBGROUP_FEATURE_PARTITIONED_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_219"><a class="anchor" href="#_version_history_219"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-17 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_shading_rate_image"><a class="anchor" href="#VK_NV_shading_rate_image"></a>VK_NV_shading_rate_image</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shading_rate_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>165</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_shading_rate_image] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_shading_rate_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_220"><a class="anchor" href="#_other_extension_metadata_220"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-07-18</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shading_rate.html"><code>SPV_NV_shading_rate</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_shading_rate_image.txt"><code>GL_NV_shading_rate_image</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Mathias Schott, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_220"><a class="anchor" href="#_description_220"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to use a variable shading rate when
processing fragments of rasterized primitives.
By default, Vulkan will spawn one fragment shader for each pixel covered by
a primitive.
In this extension, applications can bind a <em>shading rate image</em> that can be
used to vary the number of fragment shader invocations across the
framebuffer.
Some portions of the screen may be configured to spawn up to 16 fragment
shaders for each pixel, while other portions may use a single fragment
shader invocation for a 4x4 block of pixels.
This can be useful for use cases like eye tracking, where the portion of the
framebuffer that the user is looking at directly can be processed at high
frequency, while distant corners of the image can be processed at lower
frequency.
Each texel in the shading rate image represents a fixed-size rectangle in
the framebuffer, covering 16x16 pixels in the initial implementation of this
extension.
When rasterizing a primitive covering one of these rectangles, the Vulkan
implementation reads a texel in the bound shading rate image and looks up
the fetched value in a palette to determine a base shading rate.</p>
</div>
<div class="paragraph">
<p>In addition to the API support controlling rasterization, this extension
also adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shading_rate.html"><code>SPV_NV_shading_rate</code></a> extension to
SPIR-V.
That extension provides two fragment shader variable decorations that allow
fragment shaders to determine the shading rate used for processing the
fragment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FragmentSizeNV</code>, which indicates the width and height of the set of
pixels processed by the fragment shader.</p>
</li>
<li>
<p><code>InvocationsPerPixel</code>, which indicates the maximum number of fragment
shader invocations that could be spawned for the pixel(s) covered by the
fragment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using SPIR-V in conjunction with the OpenGL Shading Language (GLSL),
the fragment shader capabilities are provided by the
<code>GL_NV_shading_rate_image</code> language extension and correspond to the built-in
variables <code>gl_FragmentSizeNV</code> and <code>gl_InvocationsPerPixelNV</code>,
respectively.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_101"><a class="anchor" href="#_new_commands_101"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdBindShadingRateImageNV" class="xref page">vkCmdBindShadingRateImageNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetCoarseSampleOrderNV" class="xref page">vkCmdSetCoarseSampleOrderNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetViewportShadingRatePaletteNV" class="xref page">vkCmdSetViewportShadingRatePaletteNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_189"><a class="anchor" href="#_new_structures_189"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkCoarseSampleLocationNV" class="xref page">VkCoarseSampleLocationNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkCoarseSampleOrderCustomNV" class="xref page">VkCoarseSampleOrderCustomNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkShadingRatePaletteNV" class="xref page">VkShadingRatePaletteNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShadingRateImageFeaturesNV" class="xref page">VkPhysicalDeviceShadingRateImageFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShadingRateImagePropertiesNV" class="xref page">VkPhysicalDeviceShadingRateImagePropertiesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineViewportCoarseSampleOrderStateCreateInfoNV" class="xref page">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV" class="xref page">VkPipelineViewportShadingRateImageStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_63"><a class="anchor" href="#_new_enums_63"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#VkCoarseSampleOrderTypeNV" class="xref page">VkCoarseSampleOrderTypeNV</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#VkShadingRatePaletteEntryNV" class="xref page">VkShadingRatePaletteEntryNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_220"><a class="anchor" href="#_new_enum_constants_220"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_SHADING_RATE_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_SHADING_RATE_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_SHADING_RATE_IMAGE_READ_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADING_RATE_OPTIMAL_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADING_RATE_IMAGE_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADING_RATE_IMAGE_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_COARSE_SAMPLE_ORDER_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SHADING_RATE_IMAGE_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_102"><a class="anchor" href="#_issues_102"></a>Issues</h3>
<div class="paragraph">
<p>(1) When using shading rates specifying &#8220;coarse&#8221; fragments covering
    multiple pixels, we will generate a combined coverage mask that combines
    the coverage masks of all pixels covered by the fragment.
    By default, these masks are combined in an implementation-dependent
    order.
    Should we provide a mechanism allowing applications to query or specify
    an exact order?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this feature is useful for cases where most of the fragment
shader can be evaluated once for an entire coarse fragment, but where some
per-pixel computations are also required.
For example, a per-pixel alpha test may want to kill all the samples for
some pixels in a coarse fragment.
This sort of test can be implemented using an output sample mask, but such a
shader would need to know which bit in the mask corresponds to each sample
in the coarse fragment.
We are including a mechanism to allow applications to specify the orders of
coverage samples for each shading rate and sample count, either as static
pipeline state or dynamically via a command buffer.
This portion of the extension has its own feature bit.</p>
</div>
<div class="paragraph">
<p>We will not be providing a query to determine the implementation-dependent
default ordering.
The thinking here is that if an application cares enough about the coarse
fragment sample ordering to perform such a query, it could instead just set
its own order, also using custom per-pixel sample locations if required.</p>
</div>
<div class="paragraph">
<p>(2) For the pipeline stage
<code>VK_PIPELINE_STAGE_SHADING_RATE_IMAGE_BIT_NV</code>, should we specify a
precise location in the pipeline the shading rate image is accessed (after
geometry shading, but before the early fragment tests) or leave it
under-specified in case there are other implementations that access the
image in a different pipeline location?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> We are specifying the pipeline stage to be between the final
<a href="../chapters/pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shaderstage</a> (<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>) and before the first
stage used for fragment processing
(<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>), which seems to be the
natural place to access the shading rate image.</p>
</div>
<div class="paragraph">
<p>(3) How do centroid-sampled variables work with fragments larger than one
pixel?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> For single-pixel fragments, fragment shader inputs decorated with
<code>Centroid</code> are sampled at an implementation-dependent location in the
intersection of the area of the primitive being rasterized and the area of
the pixel that corresponds to the fragment.
With multi-pixel fragments, we follow a similar pattern, using the
intersection of the primitive and the <strong>set</strong> of pixels corresponding to the
fragment.</p>
</div>
<div class="paragraph">
<p>One important thing to keep in mind when using such &#8220;coarse&#8221; shading rates
is that fragment attributes are sampled at the center of the fragment by
default, regardless of the set of pixels/samples covered by the fragment.
For fragments with a size of 4x4 pixels, this center location will be more
than two pixels (1.5 * sqrt(2)) away from the center of the pixels at the
corners of the fragment.
When rendering a primitive that covers only a small part of a coarse
fragment, sampling a color outside the primitive can produce overly bright
or dark color values if the color values have a large gradient.
To deal with this, an application can use centroid sampling on attributes
where &#8220;extrapolation&#8221; artifacts can lead to overly bright or dark pixels.
Note that this same problem also exists for multisampling with single-pixel
fragments, but is less severe because it only affects certain samples of a
pixel and such bright/dark samples may be averaged with other samples that
do not have a similar problem.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_220"><a class="anchor" href="#_version_history_220"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 3, 2019-07-18 (Mathias Schott)</p>
<div class="ulist">
<ul>
<li>
<p>Fully list extension interfaces in this appendix.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-09-13 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Miscellaneous edits preparing the specification for publication.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-08 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_viewport_array2"><a class="anchor" href="#VK_NV_viewport_array2"></a>VK_NV_viewport_array2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_viewport_array2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>97</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_viewport_array2] @dgkoch%0A*Here describe the issue or question you have about the VK_NV_viewport_array2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_221"><a class="anchor" href="#_other_extension_metadata_221"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_viewport_array2.html"><code>SPV_NV_viewport_array2</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_viewport_array2.txt"><code>GL_NV_viewport_array2</code></a></p>
</li>
<li>
<p>This extension requires the <code>geometryShader</code> and <code>multiViewport</code>
features.</p>
</li>
<li>
<p>This extension interacts with the <code>tessellationShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_221"><a class="anchor" href="#_description_221"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_NV_viewport_array2</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>which allows a single primitive to be broadcast to multiple viewports and/or
multiple layers.
A new shader built-in output <code>ViewportMaskNV</code> is provided, which allows a
single primitive to be output to multiple viewports simultaneously.
Also, a new SPIR-V decoration is added to control whether the effective
viewport index is added into the variable decorated with the <code>Layer</code>
built-in decoration.
These capabilities allow a single primitive to be output to multiple layers
simultaneously.</p>
</div>
<div class="paragraph">
<p>This extension allows variables decorated with the <code>Layer</code> and
<code>ViewportIndex</code> built-ins to be exported from vertex or tessellation
shaders, using the <code>ShaderViewportIndexLayerNV</code> capability.</p>
</div>
<div class="paragraph">
<p>This extension adds a new <code>ViewportMaskNV</code> built-in decoration that is
available for output variables in vertex, tessellation evaluation, and
geometry shaders, and a new <code>ViewportRelativeNV</code> decoration that can be
added on variables decorated with <code>Layer</code> when using the
<code>ShaderViewportMaskNV</code> capability.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>gl_ViewportMask</code>[]
built-in output variable and <code>viewport_relative</code> layout qualifier from
<code>GL_NV_viewport_array2</code> map to the <code>ViewportMaskNV</code> and
<code>ViewportRelativeNV</code> decorations, respectively.
Behaviour is described in the <code>GL_NV_viewport_array2</code> extension
specification.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>ShaderViewportIndexLayerNV</code> capability is equivalent to the
<code>ShaderViewportIndexLayerEXT</code> capability added by
<code><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_221"><a class="anchor" href="#_new_enum_constants_221"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_VIEWPORT_ARRAY2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_VIEWPORT_ARRAY2_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_NV_VIEWPORT_ARRAY_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_VIEWPORT_ARRAY_2_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_9"><a class="anchor" href="#_new_or_modified_built_in_variables_9"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p>(modified) <a href="../chapters/interfaces.html#interfaces-builtin-variables-layer" class="xref page"><code>Layer</code></a></p>
</li>
<li>
<p>(modified)
<a href="../chapters/interfaces.html#interfaces-builtin-variables-viewportindex" class="xref page"><code>ViewportIndex</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-viewportmask" class="xref page"><code>ViewportMaskNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_variable_decoration_3"><a class="anchor" href="#_new_variable_decoration_3"></a>New Variable Decoration</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-layer" class="xref page"><code>ViewportRelativeNV</code> in    <code>Layer</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_24"><a class="anchor" href="#_new_spir_v_capabilities_24"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ShaderViewportIndexLayerNV" class="xref page">    <code>ShaderViewportIndexLayerNV</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ShaderViewportMaskNV" class="xref page">    <code>ShaderViewportMaskNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_221"><a class="anchor" href="#_version_history_221"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_viewport_swizzle"><a class="anchor" href="#VK_NV_viewport_swizzle"></a>VK_NV_viewport_swizzle</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_viewport_swizzle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>99</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_viewport_swizzle] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_NV_viewport_swizzle extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_222"><a class="anchor" href="#_other_extension_metadata_222"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-22</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code>multiViewport</code> and <code>geometryShader</code>
features to be useful.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_222"><a class="anchor" href="#_description_222"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new per-viewport swizzle that can modify the
position of primitives sent to each viewport.
New viewport swizzle state is added for each viewport, and a new position
vector is computed for each vertex by selecting from and optionally negating
any of the four components of the original position vector.</p>
</div>
<div class="paragraph">
<p>This new viewport swizzle is useful for a number of algorithms, including
single-pass cube map rendering (broadcasting a primitive to multiple faces
and reorienting the vertex position for each face) and voxel rasterization.
The per-viewport component remapping and negation provided by the swizzle
allows application code to re-orient three-dimensional geometry with a view
along any of the <strong>X</strong>, <strong>Y</strong>, or <strong>Z</strong> axes.
If a perspective projection and depth buffering is required, <span class="eq">1/W</span>
buffering should be used, as described in the single-pass cube map rendering
example in the &#8220;Issues&#8221; section below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_190"><a class="anchor" href="#_new_structures_190"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkViewportSwizzleNV" class="xref page">VkViewportSwizzleNV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPipelineViewportStateCreateInfo" class="xref page">VkPipelineViewportStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV" class="xref page">VkPipelineViewportSwizzleStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_64"><a class="anchor" href="#_new_enums_64"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkViewportCoordinateSwizzleNV" class="xref page">VkViewportCoordinateSwizzleNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_53"><a class="anchor" href="#_new_bitmasks_53"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPipelineViewportSwizzleStateCreateFlagsNV" class="xref page">VkPipelineViewportSwizzleStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_222"><a class="anchor" href="#_new_enum_constants_222"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_VIEWPORT_SWIZZLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_VIEWPORT_SWIZZLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SWIZZLE_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_103"><a class="anchor" href="#_issues_103"></a>Issues</h3>
<div class="paragraph">
<p>1) Where does viewport swizzling occur in the pipeline?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Despite being associated with the viewport, viewport swizzling
must happen prior to the viewport transform.
In particular, it needs to be performed before clipping and perspective
division.</p>
</div>
<div class="paragraph">
<p>The viewport mask expansion (<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>) and the
viewport swizzle could potentially be performed before or after transform
feedback, but feeding back several viewports worth of primitives with
different swizzles does not seem particularly useful.
This specification applies the viewport mask and swizzle after transform
feedback, and makes primitive queries only count each primitive once.</p>
</div>
<div class="paragraph">
<p>2) Any interesting examples of how this extension,
<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>, and
<code><a href="#VK_NV_geometry_shader_passthrough">VK_NV_geometry_shader_passthrough</a></code> can be used together in practice?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: One interesting use case for this extension is for single-pass
rendering to a cube map.
In this example, the application would attach a cube map texture to a
layered FBO where the six cube faces are treated as layers.
Vertices are sent through the vertex shader without applying a projection
matrix, where the <code>gl_Position</code> output is <span class="eq">(x,y,z,1)</span> and the center
of the cube map is at <span class="eq">(0,0,0)</span>.
With unextended Vulkan, one could have a conventional instanced geometry
shader that looks something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">layout(invocations = 6) in;     // separate invocation per face
layout(triangles) in;
layout(triangle_strip) out;
layout(max_vertices = 3) out;

in Inputs {
vec2 texcoord;
vec3 normal;
vec4 baseColor;
} v[];

    out Outputs {
    vec2 texcoord;
    vec3 normal;
    vec4 baseColor;
    };

    void main()
    {
    int face = gl_InvocationID;  // which face am I?

    // Project gl_Position for each vertex onto the cube map face.
    vec4 positions[3];
    for (int i = 0; i &lt; 3; i++) {
        positions[i] = rotate(gl_in[i].gl_Position, face);
    }

    // If the primitive does not project onto this face, we are done.
    if (shouldCull(positions)) {
        return;
    }

    // Otherwise, emit a copy of the input primitive to the
    // appropriate face (using gl_Layer).
    for (int i = 0; i &lt; 3; i++) {
        gl_Layer = face;
        gl_Position = positions[i];
        texcoord = v[i].texcoord;
        normal = v[i].normal;
        baseColor = v[i].baseColor;
        EmitVertex();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With passthrough geometry shaders, this can be done using a much simpler
shader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">layout(triangles) in;
layout(passthrough) in Inputs {
    vec2 texcoord;
    vec3 normal;
    vec4 baseColor;
}
layout(passthrough) in gl_PerVertex {
    vec4 gl_Position;
} gl_in[];
layout(viewport_relative) out int gl_Layer;

void main()
{
    // Figure out which faces the primitive projects onto and
    // generate a corresponding viewport mask.
    uint mask = 0;
    for (int i = 0; i &lt; 6; i++) {
        if (!shouldCull(face)) {
        mask |= 1U &lt;&lt; i;
        }
    }
    gl_ViewportMask = mask;
    gl_Layer = 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The application code is set up so that each of the six cube faces has a
separate viewport (numbered 0 to 5).
Each face also has a separate swizzle, programmed via the
<a href="../chapters/vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV" class="xref page">VkPipelineViewportSwizzleStateCreateInfoNV</a> pipeline state.
The viewport swizzle feature performs the coordinate transformation handled
by the <code>rotate</code>() function in the original shader.
The <code>viewport_relative</code> layout qualifier says that the viewport number (0
to 5) is added to the base <code>gl_Layer</code> value of 0 to determine which layer
(cube face) the primitive should be sent to.</p>
</div>
<div class="paragraph">
<p>Note that the use of the passed through input <code>normal</code> in this example
suggests that the fragment shader in this example would perform an operation
like per-fragment lighting.
The viewport swizzle would transform the position to be face-relative, but
<code>normal</code> would remain in the original coordinate system.
It seems likely that the fragment shader in either version of the example
would want to perform lighting in the original coordinate system.
It would likely do this by reconstructing the position of the fragment in
the original coordinate system using <code>gl_FragCoord</code>, a constant or
uniform holding the size of the cube face, and the input
<code>gl_ViewportIndex</code> (or <code>gl_Layer</code>), which identifies the cube face.
Since the value of <code>normal</code> is in the original coordinate system, it
would not need to be modified as part of this coordinate transformation.</p>
</div>
<div class="paragraph">
<p>Note that while the <code>rotate</code>() operation in the regular geometry shader
above could include an arbitrary post-rotation projection matrix, the
viewport swizzle does not support arbitrary math.
To get proper projection, <span class="eq">1/W</span> buffering should be used.
To do this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Program the viewport swizzles to move the pre-projection <span class="eq">W</span> eye
coordinate (typically 1.0) into the <span class="eq">Z</span> coordinate of the swizzle
output and the eye coordinate component used for depth into the <span class="eq">W</span>
coordinate.
For example, the viewport corresponding to the <span class="eq">+Z</span> face might use a
swizzle of <span class="eq">(+X, -Y, +W, +Z)</span>.
The <span class="eq">Z</span> normalized device coordinate computed after swizzling would
then be <span class="eq">z'/w' = 1/Z<sub>eye</sub></span>.</p>
</li>
<li>
<p>On NVIDIA implementations supporting floating-point depth buffers with
values outside <span class="eq">[0,1]</span>, prevent unwanted near plane clipping by
enabling <code>depthClampEnable</code>.
Ensure that the depth clamp does not mess up depth testing by
programming the depth range to very large values, such as
<span class="eq"><code>minDepthBounds</code>=-z</span>, <span class="eq"><code>maxDepthBounds</code>=+z</span>, where
<span class="eq">z = 2<sup>127</sup></span>.
It should be possible to use IEEE infinity encodings also (<code>0xFF800000</code>
for <code>-INF</code>, <code>0x7F800000</code> for <code>+INF</code>).
Even when near/far clipping is disabled, primitives extending behind the
eye will still be clipped because one or more vertices will have a
negative <span class="eq">W</span> coordinate and fail <span class="eq">X</span>/<span class="eq">Y</span> clipping tests.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>On other implementations, scale <span class="eq">X</span>, <span class="eq">Y</span>, and <span class="eq">Z</span> eye
coordinates so that vertices on the near plane have a post-swizzle <span class="eq">W</span>
coordinate of 1.0.
For example, if the near plane is at <span class="eq">Z<sub>eye</sub> = 1/256</span>, scale <span class="eq">X</span>,
<span class="eq">Y</span>, and <span class="eq">Z</span> by 256.</p>
</div>
</div>
</div>
</li>
<li>
<p>Adjust depth testing to reflect the fact that <span class="eq">1/W</span> values are large
near the eye and small away from the eye.
Clear the depth buffer to zero (infinitely far away) and use a depth
test of <code>VK_COMPARE_OP_GREATER</code> instead of <code>VK_COMPARE_OP_LESS</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_222"><a class="anchor" href="#_version_history_222"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NVX_binary_import"><a class="anchor" href="#VK_NVX_binary_import"></a>VK_NVX_binary_import</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NVX_binary_import</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>30</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NVX_binary_import] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NVX_binary_import extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
<li>
<p>Liam Middlebrook <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NVX_binary_import] @liam-middlebrook%0A*Here describe the issue or question you have about the VK_NVX_binary_import extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>liam-middlebrook</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_223"><a class="anchor" href="#_other_extension_metadata_223"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-04-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_223"><a class="anchor" href="#_description_223"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to import CuBIN binaries and execute
them.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is currently no specification language written for this extension.
The links to APIs defined by the extension are to stubs that only include
generated content such as API declarations and implicit valid usage
statements.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_16"><a class="anchor" href="#_new_object_types_16"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VkCuFunctionNVX">VkCuFunctionNVX</a></p>
</li>
<li>
<p><a href="#VkCuModuleNVX">VkCuModuleNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_102"><a class="anchor" href="#_new_commands_102"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#vkCmdCuLaunchKernelNVX">vkCmdCuLaunchKernelNVX</a></p>
</li>
<li>
<p><a href="#vkCreateCuFunctionNVX">vkCreateCuFunctionNVX</a></p>
</li>
<li>
<p><a href="#vkCreateCuModuleNVX">vkCreateCuModuleNVX</a></p>
</li>
<li>
<p><a href="#vkDestroyCuFunctionNVX">vkDestroyCuFunctionNVX</a></p>
</li>
<li>
<p><a href="#vkDestroyCuModuleNVX">vkDestroyCuModuleNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_191"><a class="anchor" href="#_new_structures_191"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VkCuFunctionCreateInfoNVX">VkCuFunctionCreateInfoNVX</a></p>
</li>
<li>
<p><a href="#VkCuLaunchInfoNVX">VkCuLaunchInfoNVX</a></p>
</li>
<li>
<p><a href="#VkCuModuleCreateInfoNVX">VkCuModuleCreateInfoNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_223"><a class="anchor" href="#_new_enum_constants_223"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NVX_BINARY_IMPORT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NVX_BINARY_IMPORT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_CU_FUNCTION_NVX</code></p>
</li>
<li>
<p><code>VK_OBJECT_TYPE_CU_MODULE_NVX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CU_FUNCTION_CREATE_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CU_LAUNCH_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CU_MODULE_CREATE_INFO_NVX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_CU_FUNCTION_NVX_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_CU_MODULE_NVX_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_stub_api_references"><a class="anchor" href="#_stub_api_references"></a>Stub API References</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkCuFunctionNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkCuFunctionNVX)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkCuModuleNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkCuModuleNVX)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkCreateCuFunctionNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
VkResult vkCreateCuFunctionNVX(
    VkDevice                                    device,
    const VkCuFunctionCreateInfoNVX*            pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkCuFunctionNVX*                            pFunction);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateCuFunctionNVX-device-parameter" href="#VUID-vkCreateCuFunctionNVX-device-parameter"></a> <span class="vuid">VUID-vkCreateCuFunctionNVX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateCuFunctionNVX-pCreateInfo-parameter" href="#VUID-vkCreateCuFunctionNVX-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateCuFunctionNVX-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkCuFunctionCreateInfoNVX">VkCuFunctionCreateInfoNVX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCuFunctionNVX-pAllocator-parameter" href="#VUID-vkCreateCuFunctionNVX-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateCuFunctionNVX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCuFunctionNVX-pFunction-parameter" href="#VUID-vkCreateCuFunctionNVX-pFunction-parameter"></a> <span class="vuid">VUID-vkCreateCuFunctionNVX-pFunction-parameter</span><br>
 <code>pFunction</code> <strong>must</strong> be a valid pointer to a <a href="#VkCuFunctionNVX">VkCuFunctionNVX</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../chapters/fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../chapters/fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkCuFunctionCreateInfoNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
typedef struct VkCuFunctionCreateInfoNVX {
    VkStructureType    sType;
    const void*        pNext;
    VkCuModuleNVX      module;
    const char*        pName;
} VkCuFunctionCreateInfoNVX;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCuFunctionCreateInfoNVX-sType-sType" href="#VUID-VkCuFunctionCreateInfoNVX-sType-sType"></a> <span class="vuid">VUID-VkCuFunctionCreateInfoNVX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_CU_FUNCTION_CREATE_INFO_NVX</code></p>
</li>
<li>
<p><a id="VUID-VkCuFunctionCreateInfoNVX-pNext-pNext" href="#VUID-VkCuFunctionCreateInfoNVX-pNext-pNext"></a> <span class="vuid">VUID-VkCuFunctionCreateInfoNVX-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCuFunctionCreateInfoNVX-module-parameter" href="#VUID-VkCuFunctionCreateInfoNVX-module-parameter"></a> <span class="vuid">VUID-VkCuFunctionCreateInfoNVX-module-parameter</span><br>
 <code>module</code> <strong>must</strong> be a valid <a href="#VkCuModuleNVX">VkCuModuleNVX</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCuFunctionCreateInfoNVX-pName-parameter" href="#VUID-VkCuFunctionCreateInfoNVX-pName-parameter"></a> <span class="vuid">VUID-VkCuFunctionCreateInfoNVX-pName-parameter</span><br>
 <code>pName</code> <strong>must</strong> be a null-terminated UTF-8 string</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkDestroyCuFunctionNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
void vkDestroyCuFunctionNVX(
    VkDevice                                    device,
    VkCuFunctionNVX                             function,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyCuFunctionNVX-device-parameter" href="#VUID-vkDestroyCuFunctionNVX-device-parameter"></a> <span class="vuid">VUID-vkDestroyCuFunctionNVX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuFunctionNVX-function-parameter" href="#VUID-vkDestroyCuFunctionNVX-function-parameter"></a> <span class="vuid">VUID-vkDestroyCuFunctionNVX-function-parameter</span><br>
 <code>function</code> <strong>must</strong> be a valid <a href="#VkCuFunctionNVX">VkCuFunctionNVX</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuFunctionNVX-pAllocator-parameter" href="#VUID-vkDestroyCuFunctionNVX-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyCuFunctionNVX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuFunctionNVX-function-parent" href="#VUID-vkDestroyCuFunctionNVX-function-parent"></a> <span class="vuid">VUID-vkDestroyCuFunctionNVX-function-parent</span><br>
 <code>function</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkCreateCuModuleNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
VkResult vkCreateCuModuleNVX(
    VkDevice                                    device,
    const VkCuModuleCreateInfoNVX*              pCreateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkCuModuleNVX*                              pModule);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateCuModuleNVX-device-parameter" href="#VUID-vkCreateCuModuleNVX-device-parameter"></a> <span class="vuid">VUID-vkCreateCuModuleNVX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateCuModuleNVX-pCreateInfo-parameter" href="#VUID-vkCreateCuModuleNVX-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateCuModuleNVX-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkCuModuleCreateInfoNVX">VkCuModuleCreateInfoNVX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCuModuleNVX-pAllocator-parameter" href="#VUID-vkCreateCuModuleNVX-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateCuModuleNVX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCuModuleNVX-pModule-parameter" href="#VUID-vkCreateCuModuleNVX-pModule-parameter"></a> <span class="vuid">VUID-vkCreateCuModuleNVX-pModule-parameter</span><br>
 <code>pModule</code> <strong>must</strong> be a valid pointer to a <a href="#VkCuModuleNVX">VkCuModuleNVX</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="../chapters/fundamentals.html#fundamentals-successcodes" class="xref page">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="../chapters/fundamentals.html#fundamentals-errorcodes" class="xref page">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkCuModuleCreateInfoNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
typedef struct VkCuModuleCreateInfoNVX {
    VkStructureType    sType;
    const void*        pNext;
    size_t             dataSize;
    const void*        pData;
} VkCuModuleCreateInfoNVX;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCuModuleCreateInfoNVX-sType-sType" href="#VUID-VkCuModuleCreateInfoNVX-sType-sType"></a> <span class="vuid">VUID-VkCuModuleCreateInfoNVX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_CU_MODULE_CREATE_INFO_NVX</code></p>
</li>
<li>
<p><a id="VUID-VkCuModuleCreateInfoNVX-pNext-pNext" href="#VUID-VkCuModuleCreateInfoNVX-pNext-pNext"></a> <span class="vuid">VUID-VkCuModuleCreateInfoNVX-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCuModuleCreateInfoNVX-pData-parameter" href="#VUID-VkCuModuleCreateInfoNVX-pData-parameter"></a> <span class="vuid">VUID-VkCuModuleCreateInfoNVX-pData-parameter</span><br>
 <code>pData</code> <strong>must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkCuModuleCreateInfoNVX-dataSize-arraylength" href="#VUID-VkCuModuleCreateInfoNVX-dataSize-arraylength"></a> <span class="vuid">VUID-VkCuModuleCreateInfoNVX-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong>must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkDestroyCuModuleNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
void vkDestroyCuModuleNVX(
    VkDevice                                    device,
    VkCuModuleNVX                               module,
    const VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyCuModuleNVX-device-parameter" href="#VUID-vkDestroyCuModuleNVX-device-parameter"></a> <span class="vuid">VUID-vkDestroyCuModuleNVX-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuModuleNVX-module-parameter" href="#VUID-vkDestroyCuModuleNVX-module-parameter"></a> <span class="vuid">VUID-vkDestroyCuModuleNVX-module-parameter</span><br>
 <code>module</code> <strong>must</strong> be a valid <a href="#VkCuModuleNVX">VkCuModuleNVX</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuModuleNVX-pAllocator-parameter" href="#VUID-vkDestroyCuModuleNVX-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyCuModuleNVX-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong>must</strong> be a valid pointer to a valid <a href="../chapters/memory.html#VkAllocationCallbacks" class="xref page">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyCuModuleNVX-module-parent" href="#VUID-vkDestroyCuModuleNVX-module-parent"></a> <span class="vuid">VUID-vkDestroyCuModuleNVX-module-parent</span><br>
 <code>module</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkCmdCuLaunchKernelNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
void vkCmdCuLaunchKernelNVX(
    VkCommandBuffer                             commandBuffer,
    const VkCuLaunchInfoNVX*                    pLaunchInfo);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCuLaunchKernelNVX-commandBuffer-parameter" href="#VUID-vkCmdCuLaunchKernelNVX-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdCuLaunchKernelNVX-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong>must</strong> be a valid <a href="../chapters/cmdbuffers.html#VkCommandBuffer" class="xref page">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCuLaunchKernelNVX-pLaunchInfo-parameter" href="#VUID-vkCmdCuLaunchKernelNVX-pLaunchInfo-parameter"></a> <span class="vuid">VUID-vkCmdCuLaunchKernelNVX-pLaunchInfo-parameter</span><br>
 <code>pLaunchInfo</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkCuLaunchInfoNVX">VkCuLaunchInfoNVX</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdCuLaunchKernelNVX-commandBuffer-recording" href="#VUID-vkCmdCuLaunchKernelNVX-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdCuLaunchKernelNVX-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong>must</strong> be in the <a href="../chapters/cmdbuffers.html#commandbuffers-lifecycle" class="xref page">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCuLaunchKernelNVX-commandBuffer-cmdpool" href="#VUID-vkCmdCuLaunchKernelNVX-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdCuLaunchKernelNVX-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCuLaunchKernelNVX-videocoding" href="#VUID-vkCmdCuLaunchKernelNVX-videocoding"></a> <span class="vuid">VUID-vkCmdCuLaunchKernelNVX-videocoding</span><br>
 This command <strong>must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong>must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="../chapters/cmdbuffers.html#VkCommandBufferLevel" class="xref page">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="../chapters/renderpass.html#vkCmdBeginRenderPass" class="xref page">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../chapters/video_extensions.html#vkCmdBeginVideoCodingKHR" class="xref page">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="../chapters/devsandqueues.html#VkQueueFlagBits" class="xref page">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="../chapters/fundamentals.html#fundamentals-queueoperation-command-types" class="xref page">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkCuLaunchInfoNVX" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_NVX_binary_import
typedef struct VkCuLaunchInfoNVX {
    VkStructureType        sType;
    const void*            pNext;
    VkCuFunctionNVX        function;
    uint32_t               gridDimX;
    uint32_t               gridDimY;
    uint32_t               gridDimZ;
    uint32_t               blockDimX;
    uint32_t               blockDimY;
    uint32_t               blockDimZ;
    uint32_t               sharedMemBytes;
    size_t                 paramCount;
    const void* const *    pParams;
    size_t                 extraCount;
    const void* const *    pExtras;
} VkCuLaunchInfoNVX;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCuLaunchInfoNVX-sType-sType" href="#VUID-VkCuLaunchInfoNVX-sType-sType"></a> <span class="vuid">VUID-VkCuLaunchInfoNVX-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_CU_LAUNCH_INFO_NVX</code></p>
</li>
<li>
<p><a id="VUID-VkCuLaunchInfoNVX-pNext-pNext" href="#VUID-VkCuLaunchInfoNVX-pNext-pNext"></a> <span class="vuid">VUID-VkCuLaunchInfoNVX-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCuLaunchInfoNVX-function-parameter" href="#VUID-VkCuLaunchInfoNVX-function-parameter"></a> <span class="vuid">VUID-VkCuLaunchInfoNVX-function-parameter</span><br>
 <code>function</code> <strong>must</strong> be a valid <a href="#VkCuFunctionNVX">VkCuFunctionNVX</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCuLaunchInfoNVX-pParams-parameter" href="#VUID-VkCuLaunchInfoNVX-pParams-parameter"></a> <span class="vuid">VUID-VkCuLaunchInfoNVX-pParams-parameter</span><br>
 If <code>paramCount</code> is not <code>0</code>, <code>pParams</code> <strong>must</strong> be a valid pointer to an array of <code>paramCount</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkCuLaunchInfoNVX-pExtras-parameter" href="#VUID-VkCuLaunchInfoNVX-pExtras-parameter"></a> <span class="vuid">VUID-VkCuLaunchInfoNVX-pExtras-parameter</span><br>
 If <code>extraCount</code> is not <code>0</code>, <code>pExtras</code> <strong>must</strong> be a valid pointer to an array of <code>extraCount</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_223"><a class="anchor" href="#_version_history_223"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-04-09 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NVX_image_view_handle"><a class="anchor" href="#VK_NVX_image_view_handle"></a>VK_NVX_image_view_handle</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NVX_image_view_handle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>31</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NVX_image_view_handle] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NVX_image_view_handle extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_224"><a class="anchor" href="#_other_extension_metadata_224"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-04-03</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_224"><a class="anchor" href="#_description_224"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to query an opaque handle from an image
view for use as a sampled image or storage image.
This provides no direct functionality itself.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_103"><a class="anchor" href="#_new_commands_103"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkGetImageViewAddressNVX" class="xref page">vkGetImageViewAddressNVX</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetImageViewHandleNVX" class="xref page">vkGetImageViewHandleNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_192"><a class="anchor" href="#_new_structures_192"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewAddressPropertiesNVX" class="xref page">VkImageViewAddressPropertiesNVX</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageViewHandleInfoNVX" class="xref page">VkImageViewHandleInfoNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_224"><a class="anchor" href="#_new_enum_constants_224"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NVX_IMAGE_VIEW_HANDLE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NVX_IMAGE_VIEW_HANDLE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_ADDRESS_PROPERTIES_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_HANDLE_INFO_NVX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_224"><a class="anchor" href="#_version_history_224"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2020-04-03 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Add <a href="../chapters/resources.html#vkGetImageViewAddressNVX" class="xref page">vkGetImageViewAddressNVX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-12-07 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NVX_multiview_per_view_attributes"><a class="anchor" href="#VK_NVX_multiview_per_view_attributes"></a>VK_NVX_multiview_per_view_attributes</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NVX_multiview_per_view_attributes</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>98</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_multiview">VK_KHR_multiview</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NVX_multiview_per_view_attributes] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NVX_multiview_per_view_attributes extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_225"><a class="anchor" href="#_other_extension_metadata_225"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-01-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NVX_multiview_per_view_attributes.html"><code>SPV_NVX_multiview_per_view_attributes</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nvx/GL_NVX_multiview_per_view_attributes.txt"><code>GL_NVX_multiview_per_view_attributes</code></a></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_225"><a class="anchor" href="#_description_225"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new way to write shaders to be used with multiview
subpasses, where the attributes for all views are written out by a single
invocation of the
<a href="../chapters/pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shaderstages</a>.
Related SPIR-V and GLSL extensions <code>SPV_NVX_multiview_per_view_attributes</code>
and <code>GL_NVX_multiview_per_view_attributes</code> introduce per-view position and
viewport mask attributes arrays, and this extension defines how those
per-view attribute arrays are interpreted by Vulkan.
Pipelines using per-view attributes <strong>may</strong> only execute the
<a href="../chapters/pipelines.html#pipelines-graphics-subsets-pre-rasterization" class="xref page">pre-rasterization shaderstages</a> once for all views rather than once per-view, which reduces
redundant shading work.</p>
</div>
<div class="paragraph">
<p>A subpass creation flag controls whether the subpass uses this extension.
A subpass <strong>must</strong> either exclusively use this extension or not use it at all.</p>
</div>
<div class="paragraph">
<p>Some Vulkan implementations only support the position attribute varying
between views in the X component.
A subpass can declare via a second creation flag whether all pipelines
compiled for this subpass will obey this restriction.</p>
</div>
<div class="paragraph">
<p>Shaders that use the new per-view outputs (e.g. <code>gl_PositionPerViewNV</code>)
<strong>must</strong> also write the non-per-view output (<code>gl_Position</code>), and the values
written <strong>must</strong> be such that <code>gl_Position =
gl_PositionPerViewNV[gl_ViewIndex]</code> for all views in the subpass.
Implementations are free to either use the per-view outputs or the
non-per-view outputs, whichever would be more efficient.</p>
</div>
<div class="paragraph">
<p>If <code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code> is not also supported and enabled, the
per-view viewport mask <strong>must</strong> not be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_193"><a class="anchor" href="#_new_structures_193"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMultiviewPerViewAttributesPropertiesNVX" class="xref page">VkPhysicalDeviceMultiviewPerViewAttributesPropertiesNVX</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_225"><a class="anchor" href="#_new_enum_constants_225"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NVX_MULTIVIEW_PER_VIEW_ATTRIBUTES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NVX_MULTIVIEW_PER_VIEW_ATTRIBUTES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PER_VIEW_ATTRIBUTES_PROPERTIES_NVX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescriptionFlagBits" class="xref page">VkSubpassDescriptionFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_PER_VIEW_ATTRIBUTES_BIT_NVX</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_PER_VIEW_POSITION_X_ONLY_BIT_NVX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_6"><a class="anchor" href="#_new_built_in_variables_6"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-positionperview" class="xref page"><code>PositionPerViewNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-viewportmaskperview" class="xref page"><code>ViewportMaskPerViewNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_25"><a class="anchor" href="#_new_spir_v_capabilities_25"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-PerViewAttributesNV" class="xref page">    <code>PerViewAttributesNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_32"><a class="anchor" href="#_examples_32"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#version 450 core

#extension GL_KHX_multiview : enable
#extension GL_NVX_multiview_per_view_attributes : enable

layout(location = 0) in vec4 position;
layout(set = 0, binding = 0) uniform Block { mat4 mvpPerView[2]; } buf;

void main()
{
    // Output both per-view positions and gl_Position as a function
    // of gl_ViewIndex
    gl_PositionPerViewNV[0] = buf.mvpPerView[0] * position;
    gl_PositionPerViewNV[1] = buf.mvpPerView[1] * position;
    gl_Position = buf.mvpPerView[gl_ViewIndex] * position;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_225"><a class="anchor" href="#_version_history_225"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-13 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_filter_cubic_clamp"><a class="anchor" href="#VK_QCOM_filter_cubic_clamp"></a>VK_QCOM_filter_cubic_clamp</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_filter_cubic_clamp</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>522</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_filter_cubic">VK_EXT_filter_cubic</a><br>
and<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.2" class="xref page">Version 1.2</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="#VK_EXT_sampler_filter_minmax">VK_EXT_sampler_filter_minmax</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_filter_cubic_clamp] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_filter_cubic_clamp extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_226"><a class="anchor" href="#_other_extension_metadata_226"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-08-02</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_226"><a class="anchor" href="#_description_226"></a>Description</h3>
<div class="paragraph">
<p>This extension extends cubic filtering by adding the ability to enable an
anti-ringing clamp.
Cubic filtering samples from a 4x4 region of texels and computes a cubic
weighted average of the region.
In some cases, the resulting value is outside the range of any of the texels
in the 4x4 region.
This is sometimes referred to as &#8220;filter overshoot&#8221; or &#8220;filter ringing&#8221;
and can occur when there is a sharp discontinuity in the 4x4 region being
filtered.
For some use cases this &#8220;ringing&#8221; can produces unacceptable artifacts.</p>
</div>
<div class="paragraph">
<p>The solution to the ringing problem is to clamp the post-cubic-filtered
value to be within the max and min of texel values in the 4x4 region.
While such &#8220;range clamping&#8221; can be performed in shader code, the
additional texture fetches and clamping ALU operations can be costly.</p>
</div>
<div class="paragraph">
<p>Certain Adreno GPUs are able to perform the range clamp in the texture unit
during cubic filtering at significant performance/power savings versus a
shader-based clamping approach.
This extension exposes such hardware functionality.</p>
</div>
<div class="paragraph">
<p>This extension extends <a href="../chapters/samplers.html#VkSamplerReductionMode" class="xref page">VkSamplerReductionMode</a>, adding
<code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code> which
enables the range clamp operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_194"><a class="anchor" href="#_new_structures_194"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCubicClampFeaturesQCOM" class="xref page">VkPhysicalDeviceCubicClampFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_226"><a class="anchor" href="#_new_enum_constants_226"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_FILTER_CUBIC_CLAMP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_FILTER_CUBIC_CLAMP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerReductionMode" class="xref page">VkSamplerReductionMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CUBIC_CLAMP_FEATURES_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_226"><a class="anchor" href="#_version_history_226"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-08-02 (jleger)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_filter_cubic_weights"><a class="anchor" href="#VK_QCOM_filter_cubic_weights"></a>VK_QCOM_filter_cubic_weights</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_filter_cubic_weights</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>520</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_filter_cubic">VK_EXT_filter_cubic</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_filter_cubic_weights] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_filter_cubic_weights extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_227"><a class="anchor" href="#_other_extension_metadata_227"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-23</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_227"><a class="anchor" href="#_description_227"></a>Description</h3>
<div class="paragraph">
<p>This extension extends cubic filtering by adding the ability to select a set
of weights.
Without this extension, the weights used in cubic filtering are limited to
those corresponding to a Catmull-Rom spline.
This extension adds support for 3 additional spline weights.</p>
</div>
<div class="paragraph">
<p>This extension adds a new structure that <strong>can</strong> be added to the <code>pNext</code>
chain of <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a> that <strong>can</strong> be used to specify which set of
cubic weights are used in cubic filtering.
A similar structure can be added to the <code>pNext</code> chain of
<a href="../chapters/copies.html#VkBlitImageInfo2" class="xref page">VkBlitImageInfo2</a> to specify cubic weights used in a blit operation.</p>
</div>
<div class="paragraph">
<p>With this extension weights corresponding to the following additional
splines can be selected for cubic filtered sampling and blits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Zero Tangent Cardinal</p>
</li>
<li>
<p>B-Spline</p>
</li>
<li>
<p>Mitchell-Netravali</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_195"><a class="anchor" href="#_new_structures_195"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/copies.html#VkBlitImageInfo2" class="xref page">VkBlitImageInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkBlitImageCubicWeightsInfoQCOM" class="xref page">VkBlitImageCubicWeightsInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceCubicWeightsFeaturesQCOM" class="xref page">VkPhysicalDeviceCubicWeightsFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerCubicWeightsCreateInfoQCOM" class="xref page">VkSamplerCubicWeightsCreateInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_65"><a class="anchor" href="#_new_enums_65"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkCubicFilterWeightsQCOM" class="xref page">VkCubicFilterWeightsQCOM</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_227"><a class="anchor" href="#_new_enum_constants_227"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_FILTER_CUBIC_WEIGHTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_FILTER_CUBIC_WEIGHTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BLIT_IMAGE_CUBIC_WEIGHTS_INFO_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CUBIC_WEIGHTS_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_CUBIC_WEIGHTS_CREATE_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_227"><a class="anchor" href="#_version_history_227"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-06-23 (jleger)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_fragment_density_map_offset"><a class="anchor" href="#VK_QCOM_fragment_density_map_offset"></a>VK_QCOM_fragment_density_map_offset</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_fragment_density_map_offset</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>426</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_fragment_density_map_offset] @mnetsch%0A*Here describe the issue or question you have about the VK_QCOM_fragment_density_map_offset extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mnetsch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_228"><a class="anchor" href="#_other_extension_metadata_228"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-03</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Tinkham, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_228"><a class="anchor" href="#_description_228"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to specify offsets to a fragment
density map attachment, changing the framebuffer location where density
values are applied to without having to regenerate the fragment density map.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_196"><a class="anchor" href="#_new_structures_196"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentDensityMapOffsetFeaturesQCOM" class="xref page">VkPhysicalDeviceFragmentDensityMapOffsetFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFragmentDensityMapOffsetPropertiesQCOM" class="xref page">VkPhysicalDeviceFragmentDensityMapOffsetPropertiesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassEndInfo" class="xref page">VkSubpassEndInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassFragmentDensityMapOffsetEndInfoQCOM" class="xref page">VkSubpassFragmentDensityMapOffsetEndInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_228"><a class="anchor" href="#_new_enum_constants_228"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_FRAGMENT_DENSITY_MAP_OFFSET_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_FRAGMENT_DENSITY_MAP_OFFSET_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_FRAGMENT_DENSITY_MAP_OFFSET_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_OFFSET_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_OFFSET_PROPERTIES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_FRAGMENT_DENSITY_MAP_OFFSET_END_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_228"><a class="anchor" href="#_version_history_228"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-09-03 (Matthew Netsch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_image_processing"><a class="anchor" href="#VK_QCOM_image_processing"></a>VK_QCOM_image_processing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_image_processing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>441</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_image_processing] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_image_processing extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_QCOM_image_processing.adoc">VK_QCOM_image_processing</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_229"><a class="anchor" href="#_other_extension_metadata_229"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-08</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/QCOM/SPV_QCOM_image_processing.html"><code>SPV_QCOM_image_processing</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/qcom/GLSL_QCOM_image_processing.txt"><code>GL_QCOM_image_processing</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_229"><a class="anchor" href="#_description_229"></a>Description</h3>
<div class="paragraph">
<p>GPUs are commonly used to process images for various applications from 3D
graphics to UI and from composition to compute applications.
Simple scaling and filtering can be done with bilinear filtering, which
comes for free during texture sampling.
However, as screen sizes get larger and more use cases rely on GPU such as
camera and video post-processing needs, there is increasing demand for GPU
to support higher order filtering and other advanced image processing.</p>
</div>
<div class="paragraph">
<p>This extension introduces a new set of SPIR-V built-in functions for image
processing.
It exposes the following new imaging operations</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>OpImageSampleWeightedQCOM</code> instruction takes 3 operands: <em>sampled
  image</em>, <em>weight image</em>, and texture coordinates.
  The instruction computes a weighted average of an MxN region of texels
in the <em>sampled image</em>, using a set of MxN weights in the <em>weight image</em>.</p>
</li>
<li>
<p>The <code>OpImageBoxFilterQCOM</code> instruction takes 3 operands: <em>sampled
image</em>, <em>box size</em>, and texture coordinates.
Note that <em>box size</em> specifies a floating point width and height in
texels.
The instruction computes a weighted average of all texels in the
<em>sampled image</em> that are covered (either partially or fully) by a box
with the specified size and centered at the specified texture
coordinates.</p>
</li>
<li>
<p>The <code>OpImageBlockMatchSADQCOM</code> and <code>OpImageBlockMatchSSDQCOM</code>
instructions each takes 5 operands: <em>target image</em>, <em>target
coordinates</em>, <em>reference image</em>, <em>reference coordinates</em>, and <em>block
size</em>.
Each instruction computes an error metric, that describes whether a
block of texels in the <em>target image</em> matches a corresponding block of
texels in the <em>reference image</em>.
The error metric is computed per-component.
<code>OpImageBlockMatchSADQCOM</code> computes "Sum Of Absolute Difference" and
<code>OpImageBlockMatchSSDQCOM</code> computes "Sum of Squared Difference".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the image processing instructions operate only on 2D images.
The instructions do not-support sampling of mipmap, multi-plane,
multi-layer, multi-sampled, or depth/stencil images.
The instructions can be used in any shader stage.</p>
</div>
<div class="paragraph">
<p>Implementations of this this extension should support these operations
natively at the HW instruction level, offering potential performance gains
as well as ease of development.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_197"><a class="anchor" href="#_new_structures_197"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewSampleWeightCreateInfoQCOM" class="xref page">VkImageViewSampleWeightCreateInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageProcessingFeaturesQCOM" class="xref page">VkPhysicalDeviceImageProcessingFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceImageProcessingPropertiesQCOM" class="xref page">VkPhysicalDeviceImageProcessingPropertiesQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_229"><a class="anchor" href="#_new_enum_constants_229"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_IMAGE_PROCESSING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_IMAGE_PROCESSING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_SAMPLE_BLOCK_MATCH_BIT_QCOM</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_SAMPLE_WEIGHT_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateFlagBits" class="xref page">VkSamplerCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_SAMPLE_WEIGHT_CREATE_INFO_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_PROCESSING_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_PROCESSING_PROPERTIES_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_229"><a class="anchor" href="#_version_history_229"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-08 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_image_processing2"><a class="anchor" href="#VK_QCOM_image_processing2"></a>VK_QCOM_image_processing2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_image_processing2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>519</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_QCOM_image_processing">VK_QCOM_image_processing</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_image_processing2] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_image_processing2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_230"><a class="anchor" href="#_other_extension_metadata_230"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-10</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/QCOM/SPV_QCOM_image_processing.html"><code>SPV_QCOM_image_processing2</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/qcom/GLSL_QCOM_image_processing2.txt"><code>GL_QCOM_image_processing2</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_230"><a class="anchor" href="#_description_230"></a>Description</h3>
<div class="paragraph">
<p>This extension enables support for the SPIR-V <code>TextureBlockMatch2QCOM</code>
capability.
It builds on the functionality of QCOM_image_processing with the addition of
4 new image processing operations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>opImageBlockMatchWindowSADQCOM</code>` SPIR-V instruction builds upon
the functionality of <code>opImageBlockMatchSADQCOM</code>` by repeatedly
performing block match operations across a 2D window.
The &#8220;2D windowExtent&#8221; and &#8220;compareMode&#8221; are are specified by
<a href="../chapters/samplers.html#VkSamplerBlockMatchWindowCreateInfoQCOM" class="xref page">VkSamplerBlockMatchWindowCreateInfoQCOM</a> in the sampler used to
create the <em>target image</em>.
Like <code>OpImageBlockMatchSADQCOM</code>, <code>opImageBlockMatchWindowSADQCOM</code>
computes an error metric, that describes whether a block of texels in
the <em>target image</em> matches a corresponding block of texels in the
<em>reference image</em>.
Unlike <code>OpImageBlockMatchSADQCOM</code>, this instruction computes an error
metric at each (X,Y) location within the 2D window and returns either
the minimum or maximum error.
The instruction only supports single-component formats.
Refer to the pseudocode below for details.</p>
</li>
<li>
<p>The <code>opImageBlockMatchWindowSSDQCOM</code> follows the same pattern,
computing the SSD error metric at each location within the 2D window.</p>
</li>
<li>
<p>The <code>opImageBlockMatchGatherSADQCOM</code> builds upon
<code>OpImageBlockMatchSADQCOM</code>.
This instruction computes an error metric, that describes whether a
block of texels in the <em>target image</em> matches a corresponding block of
texels in the <em>reference image</em>.
The instruction computes the SAD error metric at 4 texel offsets and
returns the error metric for each offset in the X,Y,Z,and W components.
The instruction only supports single-component texture formats.
Refer to the pseudocode below for details.</p>
</li>
<li>
<p>The <code>opImageBlockMatchGatherSSDQCOM</code> follows the same pattern,
computing the SSD error metric for 4 offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the above 4 image processing instructions are limited to
single-component formats.</p>
</div>
<div class="paragraph">
<p>Below is the pseudocode for GLSL built-in function
<code>textureWindowBlockMatchSADQCOM</code>.
The pseudocode for <code>textureWindowBlockMatchSSD</code> is identical other than
replacing all instances of <code>"SAD"</code> with <code>"SSD"</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">vec4 textureBlockMatchWindowSAD( sampler2D target,
                                 uvec2 targetCoord,
                                 samler2D reference,
                                 uvec2 refCoord,
                                 uvec2 blocksize) {
    // compareMode (MIN or MAX) comes from the vkSampler associated with `target`
    // uvec2 window  comes from the vkSampler associated with `target`
    minSAD = INF;
    maxSAD = -INF;
    uvec2 minCoord;
    uvec2 maxCoord;

    for (uint x=0, x &lt; window.width; x++) {
        for (uint y=0; y &lt; window.height; y++) {
            float SAD = textureBlockMatchSAD(target,
                                            targetCoord + uvec2(x, y),
                                            reference,
                                            refCoord,
                                            blocksize).x;
            // Note: the below comparison operator will produce undefined results
            // if SAD is a denorm value.
            if (SAD &lt; minSAD) {
                minSAD = SAD;
                minCoord = uvec2(x,y);
            }
            if (SAD &gt; maxSAD) {
                maxSAD = SAD;
                maxCoord = uvec2(x,y);
            }
        }
    }
    if (compareMode=MIN) {
        return vec4(minSAD, minCoord.x, minCoord.y, 0.0);
    } else {
        return vec4(maxSAD, maxCoord.x, maxCoord.y, 0.0);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is the pseudocode for <code>textureBlockMatchGatherSADQCOM</code>.
The pseudocode for <code>textureBlockMatchGatherSSD</code> follows an identical
pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">vec4 textureBlockMatchGatherSAD( sampler2D target,
                                 uvec2 targetCoord,
                                 samler2D reference,
                                 uvec2 refCoord,
                                 uvec2 blocksize) {
    vec4 out;
    for (uint x=0, x&lt;4; x++) {
            float SAD = textureBlockMatchSAD(target,
                                            targetCoord + uvec2(x, 0),
                                            reference,
                                            refCoord,
                                            blocksize).x;
            out[x] = SAD;
    }
    return out;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_198"><a class="anchor" href="#_new_structures_198"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageProcessing2FeaturesQCOM" class="xref page">VkPhysicalDeviceImageProcessing2FeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceImageProcessing2PropertiesQCOM" class="xref page">VkPhysicalDeviceImageProcessing2PropertiesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerBlockMatchWindowCreateInfoQCOM" class="xref page">VkSamplerBlockMatchWindowCreateInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_66"><a class="anchor" href="#_new_enums_66"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkBlockMatchWindowCompareModeQCOM" class="xref page">VkBlockMatchWindowCompareModeQCOM</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_230"><a class="anchor" href="#_new_enum_constants_230"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_IMAGE_PROCESSING_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_IMAGE_PROCESSING_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_PROCESSING_2_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_PROCESSING_2_PROPERTIES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_BLOCK_MATCH_WINDOW_CREATE_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_104"><a class="anchor" href="#_issues_104"></a>Issues</h3>
<div class="paragraph">
<p>1) What is the precision of the min/max comparison checks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Intermediate computations for the new operations are performed
at 16-bit floating point precision.
If the value of <code>"float SAD"</code> in the above code sample is a 16-bit denorm
value, then behavior of the MIN/MAX comparison is undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_230"><a class="anchor" href="#_version_history_230"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-10 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_multiview_per_view_render_areas"><a class="anchor" href="#VK_QCOM_multiview_per_view_render_areas"></a>VK_QCOM_multiview_per_view_render_areas</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_multiview_per_view_render_areas</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>511</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_multiview_per_view_render_areas] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_multiview_per_view_render_areas extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_231"><a class="anchor" href="#_other_extension_metadata_231"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_QCOM_render_pass_transform">VK_QCOM_render_pass_transform</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jonathan Tinkham, Qualcomm</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_231"><a class="anchor" href="#_description_231"></a>Description</h3>
<div class="paragraph">
<p>Certain use cases (e.g., side-by-side VR rendering) use multiview and render
to distinct regions of the framebuffer for each view.
On some implementations, there may be a performance benefit for providing
per-view render areas to the implementation.
Such per-view render areas can be used by the implementation to reduce the
pixels that are affected by attachment load, store, and multisample resolve
operations.</p>
</div>
<div class="paragraph">
<p>The extension enables a multiview render pass instance to define per-view
render areas.
For each view of a multiview render pass instance, only those pixels in the
per-view render area are affected by load, store and resolve operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_199"><a class="anchor" href="#_new_structures_199"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMultiviewPerViewRenderAreasFeaturesQCOM" class="xref page">VkPhysicalDeviceMultiviewPerViewRenderAreasFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>, <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkMultiviewPerViewRenderAreasRenderPassBeginInfoQCOM" class="xref page">VkMultiviewPerViewRenderAreasRenderPassBeginInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_231"><a class="anchor" href="#_new_enum_constants_231"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_MULTIVIEW_PER_VIEW_RENDER_AREAS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_MULTIVIEW_PER_VIEW_RENDER_AREAS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MULTIVIEW_PER_VIEW_RENDER_AREAS_RENDER_PASS_BEGIN_INFO_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PER_VIEW_RENDER_AREAS_FEATURES_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_105"><a class="anchor" href="#_issues_105"></a>Issues</h3>
<div class="paragraph">
<p>1) Do the per-view <code>renderAreas</code> interact with
<a href="../chapters/renderpass.html#vkGetRenderAreaGranularity" class="xref page">vkGetRenderAreaGranularity</a> ?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is no change.
The granularity returned by <a href="../chapters/renderpass.html#vkGetRenderAreaGranularity" class="xref page">vkGetRenderAreaGranularity</a> also applies to
the per-view <code>renderAreas</code>.</p>
</div>
<div class="paragraph">
<p>2) How does this extension interact with
<code><a href="#VK_QCOM_render_pass_transform">VK_QCOM_render_pass_transform</a></code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When <code><a href="#VK_QCOM_render_pass_transform">VK_QCOM_render_pass_transform</a></code> is enabled, the
application provides render area in non-rotated coordinates which is rotated
by the implementation to the rotated coordinate system.
When this extension is used in combination with
<code><a href="#VK_QCOM_render_pass_transform">VK_QCOM_render_pass_transform</a></code>, then the <code>renderArea</code> provided
in <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>::<code>renderArea</code>,
<a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>::<code>renderArea</code>, or
<a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceRenderPassTransformInfoQCOM" class="xref page">VkCommandBufferInheritanceRenderPassTransformInfoQCOM</a>::<code>renderArea</code>
is rotated by the implementation.
The per-view render areas are not rotated.</p>
</div>
<div class="paragraph">
<p>3) How does this extension interact with
<code><a href="#VK_QCOM_multiview_per_view_viewports">VK_QCOM_multiview_per_view_viewports</a></code></p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is no direct interaction.
The per-view viewports and the per-view renderAreas are orthogonal features.</p>
</div>
<div class="paragraph">
<p>4) When a per-view <code>renderArea</code> is specified, must multiview rendering
for each view of a multiview render pass be contained within the per-view
<code>renderArea</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, and the <code><a href="#VK_QCOM_multiview_per_view_viewports">VK_QCOM_multiview_per_view_viewports</a></code> may
help here since it provides per-view scissors.</p>
</div>
<div class="paragraph">
<p>5) When per-view render areas are specified, what purpose if any do
<a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>::<code>renderArea</code> and
<a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>::<code>renderArea</code> serve?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The per-view <code>renderArea</code> effectively overrides the
per-renderpass <code>renderArea</code>.
The per-view <code>renderArea</code> defines the regions of the attachments that
are effected by load, store, and multisample resolve operations.
A valid implementation could ignore the per-renderpass <code>renderArea</code>.
However, as an aid to the implementation, the application must set the
per-renderpass <code>renderArea</code> to an area that is at least as large as the
union of all the per-view render areas.
Pixels that are within the per-renderpass <code>renderArea</code> but not within
any per-view render area must not be affected by load, store, or multisample
resolve operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_231"><a class="anchor" href="#_version_history_231"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-01-10 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_multiview_per_view_viewports"><a class="anchor" href="#VK_QCOM_multiview_per_view_viewports"></a>VK_QCOM_multiview_per_view_viewports</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_multiview_per_view_viewports</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>489</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_multiview_per_view_viewports] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_multiview_per_view_viewports extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_232"><a class="anchor" href="#_other_extension_metadata_232"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-11-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_EXT_extended_dynamic_state">VK_EXT_extended_dynamic_state</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jonathan Tinkham, Qualcomm</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_232"><a class="anchor" href="#_description_232"></a>Description</h3>
<div class="paragraph">
<p>Certain use cases for multiview have a need for specifying a separate
viewport and scissor for each view, without using shader-based viewport
indexing as introduced with <code><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></code>.</p>
</div>
<div class="paragraph">
<p>This extension adds a new way to control ViewportIndex with multiview.
When the <a href="../chapters/features.html#features-multiview-per-view-viewports" class="xref page"><code>multiviewPerViewViewports</code></a> feature is enabled and if the last
pre-rasterization shader entry point&#8217;s interface does not use the
<code>ViewportIndex</code> built-in decoration, then each view of a multiview render
pass instance will use a viewport and scissor index equal to the
<code>ViewIndex</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_200"><a class="anchor" href="#_new_structures_200"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMultiviewPerViewViewportsFeaturesQCOM" class="xref page">VkPhysicalDeviceMultiviewPerViewViewportsFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_232"><a class="anchor" href="#_new_enum_constants_232"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_MULTIVIEW_PER_VIEW_VIEWPORTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_MULTIVIEW_PER_VIEW_VIEWPORTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PER_VIEW_VIEWPORTS_FEATURES_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_106"><a class="anchor" href="#_issues_106"></a>Issues</h3>
<div class="paragraph">
<p>1) Is is possible to enable/disable the
<a href="../chapters/features.html#features-multiview-per-view-viewports" class="xref page"><code>multiviewPerViewViewports</code></a>
feature for individual render pass instances?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, when the multiviewPerViewViewports feature is enabled during
vkCreateDevice, then all created render pass instances (including dynamic
render passes from <code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code>) and all created
VkPipelines will have the feature enabled.
This approach was chosen because it simplifies application code and there is
no known use case enable/disable the feature for individual render passes or
pipelines.</p>
</div>
<div class="paragraph">
<p>2) When this extension is used, is the value of <code>ViewportIndex</code>
implicitly written by the last pre-rasterization shader stage and can the
value of <code>ViewportIndex</code> be read in the fragment shader?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, use of the extension extension does not add an implicit
write to <code>ViewportIndex</code> in any shader stage, and additionally, the value
of <code>ViewportIndex</code> in the fragment shader is undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_232"><a class="anchor" href="#_version_history_232"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-11-22 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_render_pass_shader_resolve"><a class="anchor" href="#VK_QCOM_render_pass_shader_resolve"></a>VK_QCOM_render_pass_shader_resolve</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_render_pass_shader_resolve</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>172</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Licea-Kane <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_render_pass_shader_resolve] @wwlk%0A*Here describe the issue or question you have about the VK_QCOM_render_pass_shader_resolve extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>wwlk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_233"><a class="anchor" href="#_other_extension_metadata_233"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-11-07</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<p>None.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Srihari Babu Alla, Qualcomm</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_233"><a class="anchor" href="#_description_233"></a>Description</h3>
<div class="paragraph">
<p>This extension allows a shader resolve to replace fixed-function resolve.</p>
</div>
<div class="paragraph">
<p>Fixed-function resolve is limited in function to simple filters of
multisample buffers to a single sample buffer.</p>
</div>
<div class="paragraph">
<p>Fixed-function resolve is more performance efficient and/or power efficient
than shader resolve for such simple filters.</p>
</div>
<div class="paragraph">
<p>Shader resolve allows a shader writer to create complex, non-linear
filtering of a multisample buffer in the last subpass of a subpass
dependency chain.</p>
</div>
<div class="paragraph">
<p>This extension also provides a bit which <strong>can</strong> be used to enlarge a sample
region dependency to a fragment region dependency, so that a
framebuffer-region dependency <strong>can</strong> replace a framebuffer-global dependency
in some cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_233"><a class="anchor" href="#_new_enum_constants_233"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_RENDER_PASS_SHADER_RESOLVE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_RENDER_PASS_SHADER_RESOLVE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescriptionFlagBits" class="xref page">VkSubpassDescriptionFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_FRAGMENT_REGION_BIT_QCOM</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_SHADER_RESOLVE_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_107"><a class="anchor" href="#_issues_107"></a>Issues</h3>
<div class="paragraph">
<p>1) Should this extension be named render_pass_shader_resolve?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>This is part of suite of small extensions to render pass.</p>
</div>
<div class="paragraph">
<p>Following the style guide, instead of following VK_KHR_create_renderpass2.</p>
</div>
<div class="paragraph">
<p>2) Should the VK_SAMPLE_COUNT_1_BIT be required for each pColorAttachment
and the DepthStencilAttachent?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No.</p>
</div>
<div class="paragraph">
<p>While this may not be a common use case, and while most fixed-function
resolve hardware has this limitation, there is little reason to require a
shader resolve to resolve to a single sample buffer.</p>
</div>
<div class="paragraph">
<p>3) Should a shader resolve subpass be the last subpass in a render pass?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>To be more specific, it should be the last subpass in a subpass dependency
chain.</p>
</div>
<div class="paragraph">
<p>4) Do we need the <code>VK_SUBPASS_DESCRIPTION_FRAGMENT_REGION_BIT_QCOM</code> bit?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>This applies when an input attachment&#8217;s sample count is equal to
<code>rasterizationSamples</code>.
Further, if <code>sampleShading</code> is enabled (explicitly or implicitly) then
<code>minSampleShading</code> <strong>must</strong> equal 0.0.</p>
</div>
<div class="paragraph">
<p>However, this bit may be set on any subpass, it is not restricted to a
shader resolve subpass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_233"><a class="anchor" href="#_version_history_233"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-28 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-11-06 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>General clean-up/spec updates</p>
</li>
<li>
<p>Added issues</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-11-07 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Typos</p>
</li>
<li>
<p>Additional issues</p>
</li>
<li>
<p>Clarified that a shader resolve subpass is the last subpass in a
subpass dependency chain</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-01-06 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Change resolution of Issue 1 (<em>render_pass</em>, not <em>renderpass</em>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_render_pass_store_ops"><a class="anchor" href="#VK_QCOM_render_pass_store_ops"></a>VK_QCOM_render_pass_store_ops</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_render_pass_store_ops</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>302</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Licea-Kane <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_render_pass_store_ops] @wwlk%0A*Here describe the issue or question you have about the VK_QCOM_render_pass_store_ops extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>wwlk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_234"><a class="anchor" href="#_other_extension_metadata_234"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-03-25</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_234"><a class="anchor" href="#_description_234"></a>Description</h3>
<div class="paragraph">
<p>Render pass attachments <strong>can</strong> be read-only for the duration of a render pass.</p>
</div>
<div class="paragraph">
<p>Examples include input attachments and depth attachments where depth tests
are enabled but depth writes are not enabled.</p>
</div>
<div class="paragraph">
<p>In such cases, there <strong>can</strong> be no contents generated for an attachment within
the render area.</p>
</div>
<div class="paragraph">
<p>This extension adds a new <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a>
<code>VK_ATTACHMENT_STORE_OP_NONE_QCOM</code> specifying that the contents within
the render area <strong>may</strong> not be written to memory, but that the prior contents
of the attachment in memory are preserved.
However, if any contents were generated within the render area during
rendering, the contents of the attachment will be <strong>undefined</strong> inside the
render area.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a> <code>VK_ATTACHMENT_STORE_OP_STORE</code> <strong>may</strong> force
an implementation to assume that the attachment was written and force an
implementation to flush data to memory or to a higher level cache.
The <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a> <code>VK_ATTACHMENT_STORE_OP_NONE_QCOM</code> <strong>may</strong>
allow an implementation to assume that the attachment was not written and
allow an implementation to avoid such a flush.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_234"><a class="anchor" href="#_new_enum_constants_234"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_RENDER_PASS_STORE_OPS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_RENDER_PASS_STORE_OPS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_234"><a class="anchor" href="#_version_history_234"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-20 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-03-25 (wwlk)</p>
<div class="ulist">
<ul>
<li>
<p>Minor renaming</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_render_pass_transform"><a class="anchor" href="#VK_QCOM_render_pass_transform"></a>VK_QCOM_render_pass_transform</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_render_pass_transform</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>283</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_render_pass_transform] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_render_pass_transform extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_235"><a class="anchor" href="#_other_extension_metadata_235"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-21</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_QCOM_tile_properties">VK_QCOM_tile_properties</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Brandon Light, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_235"><a class="anchor" href="#_description_235"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a mechanism for applications to enable driver
support for <a href="../chapters/vertexpostproc.html#vertexpostproc-renderpass-transform" class="xref page">render pass transform</a>.</p>
</div>
<div class="paragraph">
<p>Mobile devices can be rotated and mobile applications need to render
properly when a device is held in a landscape or portrait orientation.
When the current orientation differs from the device&#8217;s native orientation, a
rotation is required so that the &#8220;up&#8221; direction of the rendered scene
matches the current orientation.</p>
</div>
<div class="paragraph">
<p>If the Display Processing Unit (DPU) does not natively support rotation, the
Vulkan presentation engine can handle this rotation in a separate
composition pass.
Alternatively, the application can render frames &#8220;pre-rotated&#8221; to avoid
this extra pass.
The latter is preferred to reduce power consumption and achieve the best
performance because it avoids tasking the GPU with extra work to perform the
copy/rotate operation.</p>
</div>
<div class="paragraph">
<p>Unlike OpenGL ES, the burden of pre-rotation in Vulkan falls on the
application.
To implement pre-rotation, applications render into swapchain images
matching the device native aspect ratio of the display and &#8220;pre-rotate&#8221;
the rendering content to match the device&#8217;s current orientation.
The burden is more than adjusting the Model View Projection (MVP) matrix in
the vertex shader to account for rotation and aspect ratio.
The coordinate systems of scissors, viewports, derivatives and several
shader built-ins may need to be adapted to produce the correct result.</p>
</div>
<div class="paragraph">
<p>It is difficult for some game engines to manage this burden; many chose to
simply accept the performance/power overhead of performing rotation in the
presentation engine.</p>
</div>
<div class="paragraph">
<p>This extension allows applications to achieve the performance benefits of
pre-rotated rendering by moving much of the above-mentioned burden to the
graphics driver.
The following is unchanged with this extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Applications create a swapchain matching the native orientation of the
display.
Applications must also set the
<a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>::<code>preTransform</code> equal to the
<code>currentTransform</code> as returned by
<a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR" class="xref page">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following is changed with this extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At <a href="../chapters/renderpass.html#vkCmdBeginRenderPass" class="xref page">vkCmdBeginRenderPass</a>, the application provides extension struct
<a href="../chapters/renderpass.html#VkRenderPassTransformBeginInfoQCOM" class="xref page">VkRenderPassTransformBeginInfoQCOM</a> specifying the render pass
transform parameters.</p>
</li>
<li>
<p>At <a href="../chapters/cmdbuffers.html#vkBeginCommandBuffer" class="xref page">vkBeginCommandBuffer</a> for secondary command buffers, the
application provides extension struct
<a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceRenderPassTransformInfoQCOM" class="xref page">VkCommandBufferInheritanceRenderPassTransformInfoQCOM</a> specifying
the render pass transform parameters.</p>
</li>
<li>
<p>The <code>renderArea</code>, viewports, scissors, and <code>fragmentSize</code> are
all provided in the current (non-rotated) coordinate system.
The implementation will transform those into the native (rotated)
coordinate system.</p>
</li>
<li>
<p>The implementation is responsible for transforming shader built-ins
(<code>FragCoord</code>, <code>PointCoord</code>, <code>SamplePosition</code>,
<code>PrimitiveShadingRateKHR</code>, interpolateAt(), dFdx, dFdy, fWidth) into
the rotated coordinate system.</p>
</li>
<li>
<p>The implementation is responsible for transforming <code>position</code> to the
rotated coordinate system.</p>
</li>
<li>
<p>If this extension is used with <code><a href="#VK_QCOM_tile_properties">VK_QCOM_tile_properties</a></code>, then
<a href="../chapters/framebuffer.html#vkGetFramebufferTilePropertiesQCOM" class="xref page">vkGetFramebufferTilePropertiesQCOM</a> and
<a href="../chapters/renderpass.html#vkGetDynamicRenderingTilePropertiesQCOM" class="xref page">vkGetDynamicRenderingTilePropertiesQCOM</a> return tile properties in
the rotated coordinate space.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_201"><a class="anchor" href="#_new_structures_201"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceRenderPassTransformInfoQCOM" class="xref page">VkCommandBufferInheritanceRenderPassTransformInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassTransformBeginInfoQCOM" class="xref page">VkRenderPassTransformBeginInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_235"><a class="anchor" href="#_new_enum_constants_235"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_RENDER_PASS_TRANSFORM_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_RENDER_PASS_TRANSFORM_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateFlagBits" class="xref page">VkRenderPassCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RENDER_PASS_CREATE_TRANSFORM_BIT_QCOM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_RENDER_PASS_TRANSFORM_INFO_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_TRANSFORM_BEGIN_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_108"><a class="anchor" href="#_issues_108"></a>Issues</h3>
<div class="paragraph">
<p>1) Some early Adreno drivers (October 2019 through March 2020) advertised
support for this extension but expected VK_STRUCTURE_TYPE values different
from those in the vukan headers.
To cover all Adreno devices on the market, applications need to detect the
driver version and use the appropriate VK_STRUCTURE_TYPE values from the
table below.</p>
</div>
<div class="paragraph">
<p>The driver version reported in VkPhysicalDeviceProperties.driverVersion is a
<code>uint32_t</code> type.
You can decode the <code>uint32_t</code> value into a major.minor.patch version as
shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">uint32_t  major = ((driverVersion) &gt;&gt; 22);
uint32_t  minor = ((driverVersion) &gt;&gt; 12) &amp; 0x3ff);
uint32_t  patch = ((driverVersion) &amp; 0xfff);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the Adreno major.minor.patch version is greater than or equal to to
512.469.0, then simply use the VK_STRUCTURE_TYPE values as defined in
vulkan_core.h.
If the version is less than or equal to to 512.468.0, then use the alternate
values for the two VK_STRUCTURE_TYPEs in the table below.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 1. <code>Adreno</code> Driver Requirements</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top" colspan="2">Adreno Driver Version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512.468.0 and earlier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512.469.0 and later</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VK_STRUCTURE_TYPE_ RENDER_PASS_TRANSFORM_BEGIN_INFO_QCOM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000282000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000282001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VK_STRUCTURE_TYPE_ COMMAND_BUFFER_INHERITANCE_RENDER_PASS_TRANSFORM_INFO_QCOM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000282001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000282000</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>2) Should the extension support only rotations (e.g. 90, 180, 270-degrees),
or also mirror transforms (e.g. vertical flips)? Mobile use cases only
require rotation.
Other display systems such as projectors might require a flipped transform.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In this version of the extension, the functionality is
restricted to 90, 180, and 270-degree rotations to address mobile use cases.</p>
</div>
<div class="paragraph">
<p>3) How does this extension interact with VK_EXT_fragment_density_map?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Some implementations may not be able to support a render pass
that enables both render pass transform and fragment density maps.
For simplicity, this extension disallows enabling both features within a
single render pass.</p>
</div>
<div class="paragraph">
<p>4) What should this extension be named?</p>
</div>
<div class="paragraph">
<p>We considered names such as &#8220;rotated_rendering&#8221;, &#8220;pre_rotation&#8221; and
others.
Since the functionality is limited to a render pass, it seemed the name
should include &#8220;render_pass&#8221;.
While the current extension is limited to rotations, it could be extended to
other transforms (like mirror) in the future.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> The name &#8220;render_pass_transform&#8221; seems like the most accurate
description of the introduced functionality.</p>
</div>
<div class="paragraph">
<p>5) How does this extension interact with VK_KHR_fragment_shading_rate?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For the same reasons as issue 3, this extension disallows
enabling both <code>pFragmentShadingRateAttachment</code> and render pass transform
within a single render pass.</p>
</div>
<div class="paragraph">
<p>However, pipeline shading rate and primitive shading rate are supported, and
their respective <code>fragmentSize</code> and <code>PrimitiveShadingRateKHR</code> are
provided in the current (non-rotated) coordinate system.
The implementation is responsible for transforming them to the rotated
coordinate system.</p>
</div>
<div class="paragraph">
<p>The <a href="../chapters/primsrast.html#primsrast-fragment-shading-rate" class="xref page">set of supported shading rates</a> <strong>may</strong>
be different per transform.
Supported rates queried from
<a href="../chapters/primsrast.html#vkGetPhysicalDeviceFragmentShadingRatesKHR" class="xref page">vkGetPhysicalDeviceFragmentShadingRatesKHR</a> are in the native (rotated)
coordinate system.
This means that the application <strong>must</strong> swap the x/y of the reported rates to
get the set of rates supported for 90 and 270 degree rotation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_235"><a class="anchor" href="#_version_history_235"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-02-05 (Jeff Leger)</p>
</li>
<li>
<p>Revision 2, 2021-03-09 (Matthew Netsch)</p>
<div class="ulist">
<ul>
<li>
<p>Adds interactions with VK_KHR_fragment_shading_rate</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-07-11 (Arpit Agarwal)</p>
<div class="ulist">
<ul>
<li>
<p>Adds interactions with VK_QCOM_tile_properties</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_rotated_copy_commands"><a class="anchor" href="#VK_QCOM_rotated_copy_commands"></a>VK_QCOM_rotated_copy_commands</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_rotated_copy_commands</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>334</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="#VK_KHR_copy_commands2">VK_KHR_copy_commands2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_rotated_copy_commands] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_rotated_copy_commands extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_236"><a class="anchor" href="#_other_extension_metadata_236"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-09-18</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_236"><a class="anchor" href="#_description_236"></a>Description</h3>
<div class="paragraph">
<p>This extension extends adds an optional rotation transform to copy commands
<a href="../chapters/copies.html#vkCmdBlitImage2KHR" class="xref page">vkCmdBlitImage2KHR</a>, <a href="../chapters/copies.html#vkCmdCopyImageToBuffer2KHR" class="xref page">vkCmdCopyImageToBuffer2KHR</a> and
<a href="../chapters/copies.html#vkCmdCopyBufferToImage2KHR" class="xref page">vkCmdCopyBufferToImage2KHR</a>.
When copying between two resources, where one resource contains rotated
content and the other does not, a rotated copy may be desired.
This extension may be used in combination with VK_QCOM_render_pass_transform
which adds rotated render passes.</p>
</div>
<div class="paragraph">
<p>This extension adds an extension structure to the following commands:
vkCmdBlitImage2KHR, vkCmdCopyImageToBuffer2KHR and
vkCmdCopyBufferToImage2KHR</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_109"><a class="anchor" href="#_issues_109"></a>Issues</h3>
<div class="paragraph">
<p>1) What is an appropriate name for the added extension structure? The style
guide says &#8220;Structures which extend other structures through the
<code>pNext</code> chain should reflect the name of the base structure they
extend.&#8221;, but in this case a single extension structure is used to extend
three base structures (vkCmdBlitImage2KHR, vkCmdCopyImageToBuffer2KHR and
vkCmdCopyBufferToImage2KHR).
Creating three identical structures with unique names seemed undesirable.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Deviate from the style guide for extension structure naming.</p>
</div>
<div class="paragraph">
<p>2) Should this extension add a rotation capability to vkCmdCopyImage2KHR?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Use of rotated vkCmdBlitImage2KHR can fully address this use case.</p>
</div>
<div class="paragraph">
<p>3) Should this extension add a rotation capability to vkCmdResolveImage2KHR?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No.
Use of vkCmdResolveImage2KHR is very slow and extremely bandwidth intensive
on Qualcomm&#8217;s GPU architecture and use of pResolveAttachments in
vkRenderPass is the strongly preferred approach.
Therefore, we choose not to introduce a rotation capability to
vkCmdResolveImage2KHR.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_202"><a class="anchor" href="#_new_structures_202"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/copies.html#VkBufferImageCopy2" class="xref page">VkBufferImageCopy2</a>, <a href="../chapters/copies.html#VkImageBlit2" class="xref page">VkImageBlit2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkCopyCommandTransformInfoQCOM" class="xref page">VkCopyCommandTransformInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_236"><a class="anchor" href="#_new_enum_constants_236"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_ROTATED_COPY_COMMANDS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_ROTATED_COPY_COMMANDS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_COMMAND_TRANSFORM_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_236"><a class="anchor" href="#_version_history_236"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-09-19 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_tile_properties"><a class="anchor" href="#VK_QCOM_tile_properties"></a>VK_QCOM_tile_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_tile_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>485</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_tile_properties] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_tile_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_QCOM_tile_properties.adoc">VK_QCOM_tile_properties</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_237"><a class="anchor" href="#_other_extension_metadata_237"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="#VK_EXT_subpass_merge_feedback">VK_EXT_subpass_merge_feedback</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Tinkham, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Arpit Agarwal, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_237"><a class="anchor" href="#_description_237"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to query the tile properties.
This extension supports both renderpasses and dynamic rendering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_104"><a class="anchor" href="#_new_commands_104"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#vkGetDynamicRenderingTilePropertiesQCOM" class="xref page">vkGetDynamicRenderingTilePropertiesQCOM</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkGetFramebufferTilePropertiesQCOM" class="xref page">vkGetFramebufferTilePropertiesQCOM</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_203"><a class="anchor" href="#_new_structures_203"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkTilePropertiesQCOM" class="xref page">VkTilePropertiesQCOM</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceTilePropertiesFeaturesQCOM" class="xref page">VkPhysicalDeviceTilePropertiesFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingInfoKHR" class="xref page">VkRenderingInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_237"><a class="anchor" href="#_new_enum_constants_237"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_TILE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_TILE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TILE_PROPERTIES_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_TILE_PROPERTIES_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_237"><a class="anchor" href="#_version_history_237"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-11 (Arpit Agarwal)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QCOM_ycbcr_degamma"><a class="anchor" href="#VK_QCOM_ycbcr_degamma"></a>VK_QCOM_ycbcr_degamma</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QCOM_ycbcr_degamma</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>521</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QCOM_ycbcr_degamma] @jackohound%0A*Here describe the issue or question you have about the VK_QCOM_ycbcr_degamma extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_238"><a class="anchor" href="#_other_extension_metadata_238"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_238"><a class="anchor" href="#_description_238"></a>Description</h3>
<div class="paragraph">
<p>This extension allows implementations to expose support for &#8220;sRGB EOTF&#8221;
also known as &#8220;sRGB degamma&#8221;, used in combination with images using 8-bit
Y′C<sub>B</sub>C<sub>R</sub> formats.
In addition, the degamma can be selectively applied to the Y (luma) or CrCb
(chroma).</p>
</div>
<div class="paragraph">
<p><code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code> adds support for Y′C<sub>B</sub>C<sub>R</sub>
conversion, but allows texture sampling in a non-linear space which can
cause artifacts.
This extension allows implementations to expose sRGB degamma for Y′C<sub>B</sub>C<sub>R</sub>
formats, which is performed during texture filtering, allowing texture
filtering to operate in a linear space.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_204"><a class="anchor" href="#_new_structures_204"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceYcbcrDegammaFeaturesQCOM" class="xref page">VkPhysicalDeviceYcbcrDegammaFeaturesQCOM</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfo" class="xref page">VkSamplerYcbcrConversionCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrConversionYcbcrDegammaCreateInfoQCOM" class="xref page">VkSamplerYcbcrConversionYcbcrDegammaCreateInfoQCOM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_238"><a class="anchor" href="#_new_enum_constants_238"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QCOM_YCBCR_DEGAMMA_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QCOM_YCBCR_DEGAMMA_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_YCBCR_DEGAMMA_FEATURES_QCOM</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_YCBCR_DEGAMMA_CREATE_INFO_QCOM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_110"><a class="anchor" href="#_issues_110"></a>Issues</h3>
<div class="paragraph">
<p>1) Which Y′C<sub>B</sub>C<sub>R</sub> formats support the degamma feature?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For implementations that support the extension, each format that
contains 8-bit R, G, and B components and supports either
<code>VK_FORMAT_FEATURE_MIDPOINT_CHROMA_SAMPLES_BIT</code> or
<code>VK_FORMAT_FEATURE_COSITED_CHROMA_SAMPLES_BIT</code> must support degamma.</p>
</div>
<div class="paragraph">
<p>Since non-compressed Vulkan sRGB formats are already limited to 8-bit
components, and since Adreno supports degamma for all 8bit Y′C<sub>B</sub>C<sub>R</sub> formats,
this extension does not introduce a new VK_FORMAT_FEATURE* bit for the
degamma feature.</p>
</div>
<div class="paragraph">
<p>2) On which Y′C<sub>B</sub>C<sub>R</sub> components is the degamma applied?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While degamma is expected to be applied to only the Y (luma)
component, the extension provides the ability to selectively enable degamma
for both the Y (luma) and/or CbCr (chroma) components.</p>
</div>
<div class="paragraph">
<p>3) Should degamma be enabled for the sampler object or for the image view
object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both.
This extension extends <a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfo" class="xref page">VkSamplerYcbcrConversionCreateInfo</a> and the
specification already requires that both sampler and view objects must be
created with an <em>identical</em> <a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfo" class="xref page">VkSamplerYcbcrConversionCreateInfo</a> in
their pNext chains.</p>
</div>
<div class="paragraph">
<p>4) Why apply the &#8220;sRGB&#8221; transfer function directly to Y′C<sub>B</sub>C<sub>R</sub> data when it
would be more correct to use the &#8220;ITU transfer function&#8221;, and do so only
after the values have been converted into non-linear R&#8217;G&#8217;B'?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Y′C<sub>B</sub>C<sub>R</sub> is frequently stored according to standards (e.g. BT.601
and BT.709) that specify that the conversion between linear and non-linear
should use the ITU Transfer function.
The ITU transfer function is mathematically different from the sRGB transfer
function and while sRGB and ITU define similar curves, the difference is
significant.
Performing the &#8220;sRGB degamma&#8221; prior to range expansion can introduce
artifacts if the content uses <code>VK_SAMPLER_YCBCR_RANGE_ITU_NARROW</code>
encoding.
Nevertheless, using sRGB can make sense for certain use-cases where camera
YCbCr images are known to be encoded with sRGB (or a pure gamma 2.2)
transfer function and are known to use full-range encoding.</p>
</div>
<div class="paragraph">
<p>For those use-cases, this extension leverages the GPU ability to enable sRGB
degamma at little cost, and can improve quality because texture filtering is
able to occur in linear space.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_238"><a class="anchor" href="#_version_history_238"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-07-31 (Jeff Leger)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QNX_external_memory_screen_buffer"><a class="anchor" href="#VK_QNX_external_memory_screen_buffer"></a>VK_QNX_external_memory_screen_buffer</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QNX_external_memory_screen_buffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>530</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; and<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; and<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a><br>
&#160;&#160;&#160;&#160; or<br>
&#160;&#160;&#160;&#160; <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Gorchak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QNX_external_memory_screen_buffer] @mgorchak-blackberry%0A*Here describe the issue or question you have about the VK_QNX_external_memory_screen_buffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mgorchak-blackberry</a></p>
</li>
<li>
<p>Aaron Ruby <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QNX_external_memory_screen_buffer] @aruby-blackberry%0A*Here describe the issue or question you have about the VK_QNX_external_memory_screen_buffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aruby-blackberry</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_239"><a class="anchor" href="#_other_extension_metadata_239"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-17</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Gorchak, QNX / Blackberry Limited</p>
</li>
<li>
<p>Aaron Ruby, QNX / Blackberry Limited</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_239"><a class="anchor" href="#_description_239"></a>Description</h3>
<div class="paragraph">
<p>This extension enables an application to import QNX Screen
<code>_screen_buffer</code> objects created outside of the Vulkan device into Vulkan
memory objects, where they can be bound to images and buffers.</p>
</div>
<div class="paragraph">
<p>Some <code>_screen_buffer</code> images have implementation-defined <em>external
formats</em> that <strong>may</strong> not correspond to Vulkan formats.
Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion <strong>can</strong> be used to sample from these images and
convert them to a known color space.</p>
</div>
<div class="paragraph">
<p><code>_screen_buffer</code> is strongly typed, so naming the handle type is
redundant.
The internal layout and therefore size of a <code>_screen_buffer</code> image may
depend on native usage flags that do not have corresponding Vulkan
counterparts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_105"><a class="anchor" href="#_new_commands_105"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetScreenBufferPropertiesQNX" class="xref page">vkGetScreenBufferPropertiesQNX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_205"><a class="anchor" href="#_new_structures_205"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkScreenBufferPropertiesQNX" class="xref page">VkScreenBufferPropertiesQNX</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfo" class="xref page">VkSamplerYcbcrConversionCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkExternalFormatQNX" class="xref page">VkExternalFormatQNX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkImportScreenBufferInfoQNX" class="xref page">VkImportScreenBufferInfoQNX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExternalMemoryScreenBufferFeaturesQNX" class="xref page">VkPhysicalDeviceExternalMemoryScreenBufferFeaturesQNX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkScreenBufferPropertiesQNX" class="xref page">VkScreenBufferPropertiesQNX</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkScreenBufferFormatPropertiesQNX" class="xref page">VkScreenBufferFormatPropertiesQNX</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_239"><a class="anchor" href="#_new_enum_constants_239"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QNX_EXTERNAL_MEMORY_SCREEN_BUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QNX_EXTERNAL_MEMORY_SCREEN_BUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_SCREEN_BUFFER_BIT_QNX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FORMAT_QNX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SCREEN_BUFFER_INFO_QNX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_MEMORY_SCREEN_BUFFER_FEATURES_QNX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SCREEN_BUFFER_FORMAT_PROPERTIES_QNX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SCREEN_BUFFER_PROPERTIES_QNX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_111"><a class="anchor" href="#_issues_111"></a>Issues</h3>

</div>
<div class="sect2">
<h3 id="_version_history_239"><a class="anchor" href="#_version_history_239"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-05-17 (Mike Gorchak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_QNX_screen_surface"><a class="anchor" href="#VK_QNX_screen_surface"></a>VK_QNX_screen_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_QNX_screen_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>379</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Gorchak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_QNX_screen_surface] @mgorchak-blackberry%0A*Here describe the issue or question you have about the VK_QNX_screen_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mgorchak-blackberry</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_240"><a class="anchor" href="#_other_extension_metadata_240"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-01-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Gorchak, BlackBerry Limited</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_240"><a class="anchor" href="#_description_240"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_QNX_screen_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a QNX Screen
<code>window</code>, as well as a query to determine support for rendering to a QNX
Screen compositor.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_106"><a class="anchor" href="#_new_commands_106"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateScreenSurfaceQNX" class="xref page">vkCreateScreenSurfaceQNX</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDeviceScreenPresentationSupportQNX" class="xref page">vkGetPhysicalDeviceScreenPresentationSupportQNX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_206"><a class="anchor" href="#_new_structures_206"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkScreenSurfaceCreateInfoQNX" class="xref page">VkScreenSurfaceCreateInfoQNX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_54"><a class="anchor" href="#_new_bitmasks_54"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkScreenSurfaceCreateFlagsQNX" class="xref page">VkScreenSurfaceCreateFlagsQNX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_240"><a class="anchor" href="#_new_enum_constants_240"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_QNX_SCREEN_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_QNX_SCREEN_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SCREEN_SURFACE_CREATE_INFO_QNX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_240"><a class="anchor" href="#_version_history_240"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-01-11 (Mike Gorchak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_SEC_amigo_profiling"><a class="anchor" href="#VK_SEC_amigo_profiling"></a>VK_SEC_amigo_profiling</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_SEC_amigo_profiling</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>486</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter <span class="icon red"><i class="fa fa-gitlab"></i></span>r_potter</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_241"><a class="anchor" href="#_other_extension_metadata_241"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-07-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Sangrak Oh, Samsung</p>
</li>
<li>
<p>Jinku Kang, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_241"><a class="anchor" href="#_description_241"></a>Description</h3>
<div class="paragraph">
<p>This extension is intended to communicate information from layered API
implementations such as ANGLE to internal proprietary system schedulers.
It has no behavioural implications beyond enabling more intelligent
behaviour from the system scheduler.</p>
</div>
<div class="paragraph">
<p>Application developers should avoid using this extension.
It is documented solely for the benefit of tools and layer developers, who
may need to manipulate <code>pNext</code> chains that include these structures.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is currently no specification language written for this extension.
The links to APIs defined by the extension are to stubs that only include
generated content such as API declarations and implicit valid usage
statements.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension is only intended for use in specific embedded environments
with known implementation details, and is therefore undocumented.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_207"><a class="anchor" href="#_new_structures_207"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPhysicalDeviceAmigoProfilingFeaturesSEC">VkPhysicalDeviceAmigoProfilingFeaturesSEC</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkAmigoProfilingSubmitInfoSEC">VkAmigoProfilingSubmitInfoSEC</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_241"><a class="anchor" href="#_new_enum_constants_241"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEC_AMIGO_PROFILING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_SEC_AMIGO_PROFILING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_AMIGO_PROFILING_SUBMIT_INFO_SEC</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_AMIGO_PROFILING_FEATURES_SEC</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_stub_api_references_2"><a class="anchor" href="#_stub_api_references_2"></a>Stub API References</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkPhysicalDeviceAmigoProfilingFeaturesSEC" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_SEC_amigo_profiling
typedef struct VkPhysicalDeviceAmigoProfilingFeaturesSEC {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           amigoProfiling;
} VkPhysicalDeviceAmigoProfilingFeaturesSEC;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceAmigoProfilingFeaturesSEC-sType-sType" href="#VUID-VkPhysicalDeviceAmigoProfilingFeaturesSEC-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceAmigoProfilingFeaturesSEC-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_AMIGO_PROFILING_FEATURES_SEC</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkAmigoProfilingSubmitInfoSEC" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_SEC_amigo_profiling
typedef struct VkAmigoProfilingSubmitInfoSEC {
    VkStructureType    sType;
    const void*        pNext;
    uint64_t           firstDrawTimestamp;
    uint64_t           swapBufferTimestamp;
} VkAmigoProfilingSubmitInfoSEC;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAmigoProfilingSubmitInfoSEC-sType-sType" href="#VUID-VkAmigoProfilingSubmitInfoSEC-sType-sType"></a> <span class="vuid">VUID-VkAmigoProfilingSubmitInfoSEC-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_AMIGO_PROFILING_SUBMIT_INFO_SEC</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_241"><a class="anchor" href="#_version_history_241"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-07-29 (Ralph Potter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial specification</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_VALVE_descriptor_set_host_mapping"><a class="anchor" href="#VK_VALVE_descriptor_set_host_mapping"></a>VK_VALVE_descriptor_set_host_mapping</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_VALVE_descriptor_set_host_mapping</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>421</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_VALVE_descriptor_set_host_mapping] @HansKristian-Work%0A*Here describe the issue or question you have about the VK_VALVE_descriptor_set_host_mapping extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>HansKristian-Work</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_242"><a class="anchor" href="#_other_extension_metadata_242"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-02-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_242"><a class="anchor" href="#_description_242"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to directly query a host pointer for a
<a href="../chapters/descriptorsets.html#VkDescriptorSet" class="xref page">VkDescriptorSet</a> which <strong>can</strong> be used to copy descriptors between
descriptor sets without the use of an API command.
Memory offsets and sizes for descriptors <strong>can</strong> be queried from a
<a href="../chapters/descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> as well.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is currently no specification language written for this extension.
The links to APIs defined by the extension are to stubs that only include
generated content such as API declarations and implicit valid usage
statements.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension is only intended for use in specific embedded environments
with known implementation details, and is therefore undocumented.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_107"><a class="anchor" href="#_new_commands_107"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#vkGetDescriptorSetHostMappingVALVE">vkGetDescriptorSetHostMappingVALVE</a></p>
</li>
<li>
<p><a href="#vkGetDescriptorSetLayoutHostMappingInfoVALVE">vkGetDescriptorSetLayoutHostMappingInfoVALVE</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_208"><a class="anchor" href="#_new_structures_208"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VkDescriptorSetBindingReferenceVALVE">VkDescriptorSetBindingReferenceVALVE</a></p>
</li>
<li>
<p><a href="#VkDescriptorSetLayoutHostMappingInfoVALVE">VkDescriptorSetLayoutHostMappingInfoVALVE</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE">VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_242"><a class="anchor" href="#_new_enum_constants_242"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_VALVE_DESCRIPTOR_SET_HOST_MAPPING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_VALVE_DESCRIPTOR_SET_HOST_MAPPING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_BINDING_REFERENCE_VALVE</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_HOST_MAPPING_INFO_VALVE</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_SET_HOST_MAPPING_FEATURES_VALVE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_stub_api_references_3"><a class="anchor" href="#_stub_api_references_3"></a>Stub API References</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkGetDescriptorSetLayoutHostMappingInfoVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_descriptor_set_host_mapping
void vkGetDescriptorSetLayoutHostMappingInfoVALVE(
    VkDevice                                    device,
    const VkDescriptorSetBindingReferenceVALVE* pBindingReference,
    VkDescriptorSetLayoutHostMappingInfoVALVE*  pHostMapping);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-device-parameter" href="#VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pBindingReference-parameter" href="#VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pBindingReference-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pBindingReference-parameter</span><br>
 <code>pBindingReference</code> <strong>must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetBindingReferenceVALVE">VkDescriptorSetBindingReferenceVALVE</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pHostMapping-parameter" href="#VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pHostMapping-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutHostMappingInfoVALVE-pHostMapping-parameter</span><br>
 <code>pHostMapping</code> <strong>must</strong> be a valid pointer to a <a href="#VkDescriptorSetLayoutHostMappingInfoVALVE">VkDescriptorSetLayoutHostMappingInfoVALVE</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this command.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="vkGetDescriptorSetHostMappingVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_descriptor_set_host_mapping
void vkGetDescriptorSetHostMappingVALVE(
    VkDevice                                    device,
    VkDescriptorSet                             descriptorSet,
    void**                                      ppData);</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetHostMappingVALVE-device-parameter" href="#VUID-vkGetDescriptorSetHostMappingVALVE-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetHostMappingVALVE-device-parameter</span><br>
 <code>device</code> <strong>must</strong> be a valid <a href="../chapters/devsandqueues.html#VkDevice" class="xref page">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parameter" href="#VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parameter</span><br>
 <code>descriptorSet</code> <strong>must</strong> be a valid <a href="../chapters/descriptorsets.html#VkDescriptorSet" class="xref page">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetHostMappingVALVE-ppData-parameter" href="#VUID-vkGetDescriptorSetHostMappingVALVE-ppData-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetHostMappingVALVE-ppData-parameter</span><br>
 <code>ppData</code> <strong>must</strong> be a valid pointer to a pointer value</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parent" href="#VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parent"></a> <span class="vuid">VUID-vkGetDescriptorSetHostMappingVALVE-descriptorSet-parent</span><br>
 <code>descriptorSet</code> <strong>must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_descriptor_set_host_mapping
typedef struct VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           descriptorSetHostMapping;
} VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE-sType-sType" href="#VUID-VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceDescriptorSetHostMappingFeaturesVALVE-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_SET_HOST_MAPPING_FEATURES_VALVE</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkDescriptorSetBindingReferenceVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_descriptor_set_host_mapping
typedef struct VkDescriptorSetBindingReferenceVALVE {
    VkStructureType          sType;
    const void*              pNext;
    VkDescriptorSetLayout    descriptorSetLayout;
    uint32_t                 binding;
} VkDescriptorSetBindingReferenceVALVE;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetBindingReferenceVALVE-sType-sType" href="#VUID-VkDescriptorSetBindingReferenceVALVE-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetBindingReferenceVALVE-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_BINDING_REFERENCE_VALVE</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetBindingReferenceVALVE-pNext-pNext" href="#VUID-VkDescriptorSetBindingReferenceVALVE-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetBindingReferenceVALVE-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetBindingReferenceVALVE-descriptorSetLayout-parameter" href="#VUID-VkDescriptorSetBindingReferenceVALVE-descriptorSetLayout-parameter"></a> <span class="vuid">VUID-VkDescriptorSetBindingReferenceVALVE-descriptorSetLayout-parameter</span><br>
 <code>descriptorSetLayout</code> <strong>must</strong> be a valid <a href="../chapters/descriptorsets.html#VkDescriptorSetLayout" class="xref page">VkDescriptorSetLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is currently no specification language written for this type.
This section acts only as placeholder and to avoid dead links in the
specification and reference pages.</p>
</div>
<div id="VkDescriptorSetLayoutHostMappingInfoVALVE" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">// Provided by VK_VALVE_descriptor_set_host_mapping
typedef struct VkDescriptorSetLayoutHostMappingInfoVALVE {
    VkStructureType    sType;
    void*              pNext;
    size_t             descriptorOffset;
    uint32_t           descriptorSize;
} VkDescriptorSetLayoutHostMappingInfoVALVE;</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-sType-sType" href="#VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-sType-sType</span><br>
 <code>sType</code> <strong>must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_HOST_MAPPING_INFO_VALVE</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-pNext-pNext" href="#VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetLayoutHostMappingInfoVALVE-pNext-pNext</span><br>
 <code>pNext</code> <strong>must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_242"><a class="anchor" href="#_version_history_242"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-02-22 (Hans-Kristian Arntzen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial specification</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provisional-extension-appendices-list"><a class="anchor" href="#provisional-extension-appendices-list"></a>List of Provisional Extensions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_video_encode_h264">VK_EXT_video_encode_h264</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_video_encode_h265">VK_EXT_video_encode_h265</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMDX_shader_enqueue">VK_AMDX_shader_enqueue</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_displacement_micromap">VK_NV_displacement_micromap</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="VK_KHR_portability_subset"><a class="anchor" href="#VK_KHR_portability_subset"></a>VK_KHR_portability_subset</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_portability_subset</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>164</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_portability_subset] @billhollings%0A*Here describe the issue or question you have about the VK_KHR_portability_subset extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_243"><a class="anchor" href="#_other_extension_metadata_243"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Dzmitry Malyshau, Mozilla</p>
</li>
<li>
<p>Chip Davis, CodeWeavers</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Mike Weiblen, LunarG</p>
</li>
<li>
<p>Neil Trevett, NVIDIA</p>
</li>
<li>
<p>Alexey Knyazev, Independent</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_243"><a class="anchor" href="#_description_243"></a>Description</h3>
<div class="paragraph">
<p>The <code><a href="#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension allows a non-conformant
Vulkan implementation to be built on top of another non-Vulkan graphics API,
and identifies differences between that implementation and a
fully-conformant native Vulkan implementation.</p>
</div>
<div class="paragraph">
<p>This extension provides Vulkan implementations with the ability to mark
otherwise-required capabilities as unsupported, or to establish additional
properties and limits that the application should adhere to in order to
guarantee portable behaviour and operation across platforms, including
platforms where Vulkan is not natively supported.</p>
</div>
<div class="paragraph">
<p>The goal of this specification is to document, and make queryable,
capabilities which are required to be supported by a fully-conformant Vulkan
1.0 implementation, but may be optional for an implementation of the Vulkan
1.0 Portability Subset.</p>
</div>
<div class="paragraph">
<p>The intent is that this extension will be advertised only on implementations
of the Vulkan 1.0 Portability Subset, and not on conformant implementations
of Vulkan 1.0.
Fully-conformant Vulkan implementations provide all the required
capabilities, and so will not provide this extension.
Therefore, the existence of this extension can be used to determine that an
implementation is likely not fully conformant with the Vulkan spec.</p>
</div>
<div class="paragraph">
<p>If this extension is supported by the Vulkan implementation, the application
must enable this extension.</p>
</div>
<div class="paragraph">
<p>This extension defines several new structures that can be chained to the
existing structures used by certain standard Vulkan calls, in order to query
for non-conformant portable behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_209"><a class="anchor" href="#_new_structures_209"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR" class="xref page">VkPhysicalDevicePortabilitySubsetFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDevicePortabilitySubsetPropertiesKHR" class="xref page">VkPhysicalDevicePortabilitySubsetPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_243"><a class="anchor" href="#_new_enum_constants_243"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PORTABILITY_SUBSET_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PORTABILITY_SUBSET_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PORTABILITY_SUBSET_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PORTABILITY_SUBSET_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_112"><a class="anchor" href="#_issues_112"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_243"><a class="anchor" href="#_version_history_243"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-21 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_video_encode_queue"><a class="anchor" href="#VK_KHR_video_encode_queue"></a>VK_KHR_video_encode_queue</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_encode_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>300</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_queue">VK_KHR_video_queue</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_encode_queue] @aabdelkh%0A*Here describe the issue or question you have about the VK_KHR_video_encode_queue extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_244"><a class="anchor" href="#_other_extension_metadata_244"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Damien Kessler, NVIDIA</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Thomas J. Meier, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Yang Liu, AMD</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_244"><a class="anchor" href="#_description_244"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_queue">VK_KHR_video_queue</a></code> extension by
adding common APIs specific to video encoding and thus enabling
implementations to expose queue families supporting video encode operations.</p>
</div>
<div class="paragraph">
<p>More specifically, it adds video encode specific capabilities and a new
command buffer command that allows recording video encode operations against
a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other codec specific video
encode extensions that enable encoding video sequences of specific video
compression standards.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_108"><a class="anchor" href="#_new_commands_108"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#vkCmdEncodeVideoKHR" class="xref page">vkCmdEncodeVideoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkGetEncodedVideoSessionParametersKHR" class="xref page">vkGetEncodedVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR" class="xref page">vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_210"><a class="anchor" href="#_new_structures_210"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkPhysicalDeviceVideoEncodeQualityLevelInfoKHR" class="xref page">VkPhysicalDeviceVideoEncodeQualityLevelInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeInfoKHR" class="xref page">VkVideoEncodeInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeQualityLevelPropertiesKHR" class="xref page">VkVideoEncodeQualityLevelPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeRateControlLayerInfoKHR" class="xref page">VkVideoEncodeRateControlLayerInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersFeedbackInfoKHR" class="xref page">VkVideoEncodeSessionParametersFeedbackInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersGetInfoKHR" class="xref page">VkVideoEncodeSessionParametersGetInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#VkQueryPoolVideoEncodeFeedbackCreateInfoKHR" class="xref page">VkQueryPoolVideoEncodeFeedbackCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeCapabilitiesKHR" class="xref page">VkVideoEncodeCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodingControlInfoKHR" class="xref page">VkVideoCodingControlInfoKHR</a>, <a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeRateControlInfoKHR" class="xref page">VkVideoEncodeRateControlInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodingControlInfoKHR" class="xref page">VkVideoCodingControlInfoKHR</a>, <a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeQualityLevelInfoKHR" class="xref page">VkVideoEncodeQualityLevelInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeUsageInfoKHR" class="xref page">VkVideoEncodeUsageInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_67"><a class="anchor" href="#_new_enums_67"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeCapabilityFlagBitsKHR" class="xref page">VkVideoEncodeCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeContentFlagBitsKHR" class="xref page">VkVideoEncodeContentFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkVideoEncodeFeedbackFlagBitsKHR" class="xref page">VkVideoEncodeFeedbackFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeRateControlModeFlagBitsKHR" class="xref page">VkVideoEncodeRateControlModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeTuningModeKHR" class="xref page">VkVideoEncodeTuningModeKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeUsageFlagBitsKHR" class="xref page">VkVideoEncodeUsageFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_55"><a class="anchor" href="#_new_bitmasks_55"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeCapabilityFlagsKHR" class="xref page">VkVideoEncodeCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeContentFlagsKHR" class="xref page">VkVideoEncodeContentFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#VkVideoEncodeFeedbackFlagsKHR" class="xref page">VkVideoEncodeFeedbackFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeFlagsKHR" class="xref page">VkVideoEncodeFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeRateControlFlagsKHR" class="xref page">VkVideoEncodeRateControlFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeRateControlModeFlagsKHR" class="xref page">VkVideoEncodeRateControlModeFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeUsageFlagsKHR" class="xref page">VkVideoEncodeUsageFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_244"><a class="anchor" href="#_new_enum_constants_244"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_VIDEO_ENCODE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_VIDEO_ENCODE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_ENCODE_INPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_DPB_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_DST_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageUsageFlagBits" class="xref page">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_VIDEO_ENCODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryResultStatusKHR" class="xref page">VkQueryResultStatusKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_RESULT_STATUS_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/queries.html#VkQueryType" class="xref page">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_VIDEO_ENCODE_FEEDBACK_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFlagBits" class="xref page">VkQueueFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_VIDEO_ENCODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_VIDEO_STD_PARAMETERS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VIDEO_ENCODE_QUALITY_LEVEL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_VIDEO_ENCODE_FEEDBACK_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_QUALITY_LEVEL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_QUALITY_LEVEL_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_RATE_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_RATE_CONTROL_LAYER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_SESSION_PARAMETERS_FEEDBACK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_SESSION_PARAMETERS_GET_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_USAGE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodingControlFlagBitsKHR" class="xref page">VkVideoCodingControlFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODING_CONTROL_ENCODE_QUALITY_LEVEL_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionCreateFlagBitsKHR" class="xref page">VkVideoSessionCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_SESSION_CREATE_ALLOW_ENCODE_PARAMETER_OPTIMIZATIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits2" class="xref page">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_ENCODE_INPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_113"><a class="anchor" href="#_issues_113"></a>Issues</h3>
<div class="paragraph">
<p>1) Why is there no <code>VK_PIPELINE_STAGE_VIDEO_ENCODE_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This extension requires <code>VK_KHR_synchronization2</code> because the
new access flags introduced did not fit in the 32-bit enum
<code>VkAccessFlagBits</code>.
Accordingly, all new pipeline stage and access flags have been added to the
corresponding 64-bit enum and no new flags have been added to the legacy
32-bit enums.
While the new pipeline stage flag introduced uses bit #27 which would also
fit in the legacy <code>VkPipelineStageFlagBits</code> enum, there is no real benefit
to include it.
Instead the bit is marked reserved.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_244"><a class="anchor" href="#_version_history_244"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-23 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.1, 10/29/2019 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the reserved spec tokens and renamed VkVideoEncoderKHR to
VkVideoSessionKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, Jan 08 2020 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API unify with the video_decode_queue spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Remove redundant VkVideoEncodeInfoKHR.codedExtent</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Remove <code>VkVideoEncodeRateControlFlagBitsKHR</code> and
<code>VkVideoEncodeFlagBitsKHR</code> as they contain no defined flags for now</p>
</li>
<li>
<p>Add <code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_BIT_KHR</code> and
<code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_LAYER_BIT_KHR</code> to indicate
rate control and rate control layer change requests, respectively, in
video coding control operations</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-08-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoEncodeUsageInfoKHR structure and related flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VK_QUERY_TYPE_VIDEO_ENCODE_BITSTREAM_BUFFER_RANGE_KHR</code> queries
with more generic <code>VK_QUERY_TYPE_VIDEO_ENCODE_FEEDBACK_KHR</code> queries
that can be extended in the future with more feedback values</p>
</li>
<li>
<p>Rename <code>dstBitstreamBuffer</code>, <code>dstBitstreamBufferOffset</code>, and
<code>dstBitstreamBufferMaxRange</code> in <code>VkVideoEncodeInfoKHR</code> to <code>dstBuffer</code>,
<code>dstBufferOffset</code>, and <code>dstBufferRange</code>, respectively, for consistency
with the naming convention in the video decode extensions</p>
</li>
<li>
<p>Change the type of <code>rateControlLayerCount</code> and <code>qualityLevelCount</code> in
<code>VkVideoEncodeCapabilitiesKHR</code> from <code>uint8_t</code> to <code>uint32_t</code> and rename
them to <code>maxRateControlLayers</code> and <code>maxQualityLevels</code>, respectively</p>
</li>
<li>
<p>Change the type of <code>averageBitrate</code> and <code>maxBitrate</code> in
<code>VkVideoEncodeRateControlLayerInfoKHR`</code> from <code>uint32_t</code> to <code>uint64_t</code></p>
</li>
<li>
<p>Fixed the definition of rate control flag bits and added the new
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DEFAULT_KHR</code> constant to indicate
implementation-specific automatic rate control</p>
</li>
<li>
<p>Change the type of <code>VkVideoEncodeRateControlInfoKHR::layerCount</code> from
<code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Rename <code>pLayerConfigs</code> to <code>pLayers</code> in
<code>VkVideoEncodeRateControlInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2023-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_LAYER_BIT_KHR</code> and
the ability to change the state of individual rate control layers</p>
</li>
<li>
<p>Added new <code>VK_VIDEO_ENCODE_FEEDBACK_BITSTREAM_HAS_OVERRIDES_BIT_KHR</code>
flag to video encode feedback queries</p>
</li>
<li>
<p>Added new video session create flag
<code>VK_VIDEO_SESSION_CREATE_ALLOW_ENCODE_PARAMETER_OPTIMIZATIONS_BIT_KHR</code>
to opt-in to video session and encoding parameter optimizations</p>
</li>
<li>
<p>Added the <code>vkGetEncodedVideoSessionParametersKHR</code> command to enable
retrieving encoded video session parameter data</p>
</li>
<li>
<p>Moved <code>virtualBufferSizeInMs</code> and <code>initialVirtualBufferSizeInMs</code> from
<code>VkVideoEncodeRateControlLayerInfoKHR</code> to
<code>VkVideoEncodeRateControlInfoKHR</code></p>
</li>
<li>
<p>Added <code>maxBitrate</code> capability</p>
</li>
<li>
<p>Renamed <code>inputImageDataFillAlignment</code> capability to
<code>encodeInputPictureGranularity</code> to better reflect its purpose</p>
</li>
<li>
<p>Added new <code>vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR</code>
command and related structures to enable querying recommended settings
for video encode quality levels</p>
</li>
<li>
<p>Added <code>VK_VIDEO_CODING_CONTROL_ENCODE_QUALITY_LEVEL_BIT_KHR</code> flag and
<code>VkVideoEncodeQualityLevelInfoKHR</code> structure to allow controlling video
encode quality level and removed <code>qualityLevel</code> from the encode
operation parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added <code>VK_QUERY_RESULT_STATUS_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_KHR</code>
query result status code and the related capability flag
<code>VK_VIDEO_ENCODE_CAPABILITY_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_DETECTION_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_video_encode_h264"><a class="anchor" href="#VK_EXT_video_encode_h264"></a>VK_EXT_video_encode_h264</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_video_encode_h264</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>39</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_video_encode_h264] @aabdelkh%0A*Here describe the issue or question you have about the VK_EXT_video_encode_h264 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_245"><a class="anchor" href="#_other_extension_metadata_245"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Yang Liu, AMD</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_245"><a class="anchor" href="#_description_245"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></code> extension
by adding support for encoding elementary video stream sequences compliant
with the H.264/AVC video compression standard.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_211"><a class="anchor" href="#_new_structures_211"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264FrameSizeEXT" class="xref page">VkVideoEncodeH264FrameSizeEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264NaluSliceInfoEXT" class="xref page">VkVideoEncodeH264NaluSliceInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264QpEXT" class="xref page">VkVideoEncodeH264QpEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264GopRemainingFrameInfoEXT" class="xref page">VkVideoEncodeH264GopRemainingFrameInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264CapabilitiesEXT" class="xref page">VkVideoEncodeH264CapabilitiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodingControlInfoKHR" class="xref page">VkVideoCodingControlInfoKHR</a>, <a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264RateControlInfoEXT" class="xref page">VkVideoEncodeH264RateControlInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeInfoKHR" class="xref page">VkVideoEncodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264PictureInfoEXT" class="xref page">VkVideoEncodeH264PictureInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeQualityLevelPropertiesKHR" class="xref page">VkVideoEncodeQualityLevelPropertiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264QualityLevelPropertiesEXT" class="xref page">VkVideoEncodeH264QualityLevelPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeRateControlLayerInfoKHR" class="xref page">VkVideoEncodeRateControlLayerInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264RateControlLayerInfoEXT" class="xref page">VkVideoEncodeH264RateControlLayerInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersFeedbackInfoKHR" class="xref page">VkVideoEncodeSessionParametersFeedbackInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264SessionParametersFeedbackInfoEXT" class="xref page">VkVideoEncodeH264SessionParametersFeedbackInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersGetInfoKHR" class="xref page">VkVideoEncodeSessionParametersGetInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264SessionParametersGetInfoEXT" class="xref page">VkVideoEncodeH264SessionParametersGetInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264ProfileInfoEXT" class="xref page">VkVideoEncodeH264ProfileInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoReferenceSlotInfoKHR" class="xref page">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264DpbSlotInfoEXT" class="xref page">VkVideoEncodeH264DpbSlotInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionCreateInfoKHR" class="xref page">VkVideoSessionCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264SessionCreateInfoEXT" class="xref page">VkVideoEncodeH264SessionCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264SessionParametersCreateInfoEXT" class="xref page">VkVideoEncodeH264SessionParametersCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersUpdateInfoKHR" class="xref page">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264SessionParametersAddInfoEXT" class="xref page">VkVideoEncodeH264SessionParametersAddInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_68"><a class="anchor" href="#_new_enums_68"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264CapabilityFlagBitsEXT" class="xref page">VkVideoEncodeH264CapabilityFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264RateControlFlagBitsEXT" class="xref page">VkVideoEncodeH264RateControlFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264StdFlagBitsEXT" class="xref page">VkVideoEncodeH264StdFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_56"><a class="anchor" href="#_new_bitmasks_56"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264CapabilityFlagsEXT" class="xref page">VkVideoEncodeH264CapabilityFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264RateControlFlagsEXT" class="xref page">VkVideoEncodeH264RateControlFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH264StdFlagsEXT" class="xref page">VkVideoEncodeH264StdFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_245"><a class="anchor" href="#_new_enum_constants_245"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VIDEO_ENCODE_H264_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VIDEO_ENCODE_H264_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_CAPABILITIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_DPB_SLOT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_GOP_REMAINING_FRAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_NALU_SLICE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_PICTURE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_PROFILE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_QUALITY_LEVEL_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_RATE_CONTROL_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_RATE_CONTROL_LAYER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_ADD_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_FEEDBACK_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_GET_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagBitsKHR" class="xref page">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_ENCODE_H264_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_245"><a class="anchor" href="#_version_history_245"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2018-7-23 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.5, 2020-02-13 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>General Spec cleanup</p>
</li>
<li>
<p>Added DPB structures</p>
</li>
<li>
<p>Change the VCL frame encode structure</p>
</li>
<li>
<p>Added a common Non-VCL Picture Paramarameters structure</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-03-29 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoEncodeH264CapabilitiesFlagsEXT</code> to
<code>VkVideoEncodeH264CapabilityFlagsEXT</code> and
<code>VkVideoEncodeH264CapabilitiesFlagsEXT</code> to
<code>VkVideoEncodeH264CapabilityFlagsEXT</code>, following Vulkan naming
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-12-08 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Rate control updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-02-04 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Align VkVideoEncodeH264VclFrameInfoEXT structure to similar one in
VK_EXT_video_encode_h265 extension</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove redundant maxPictureSizeInMbs from
VkVideoEncodeH264SessionCreateInfoEXT.</p>
</li>
<li>
<p>Remove the now empty VkVideoEncodeH264SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-04-06 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add capability flag to report support to use B frame in L1 reference
list.</p>
</li>
<li>
<p>Add capability flag to report support for disabling SPS
direct_8x8_inference_flag.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VkVideoEncodeH264RateControlStructureFlagBitsEXT</code> bit enum
with <code>VkVideoEncodeH264RateControlStructureEXT</code> enum</p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264ProfileEXT</code> to
<code>VkVideoEncodeH264ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264ReferenceListsEXT</code> to
<code>VkVideoEncodeH264ReferenceListsInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264EmitPictureParametersEXT</code> to
<code>VkVideoEncodeH264EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264NaluSliceEXT</code> to
<code>VkVideoEncodeH264NaluSliceInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>spsStdCount</code>, <code>pSpsStd</code>, <code>ppsStdCount</code>, and <code>pPpsStd</code> to
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoEncodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxSpsStdCount</code> and <code>maxPpsStdCount</code> to <code>maxStdSPSCount</code> and
<code>maxStdPPSCount</code>, respectively, in
<code>VkVideoEncodeH264SessionParametersCreateInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VkVideoEncodeH264EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Changed member types in <code>VkVideoEncodeH264CapabilitiesEXT</code> and
<code>VkVideoEncodeH264ReferenceListsInfoEXT</code> from <code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Changed the type of
<code>VkVideoEncodeH264RateControlInfoEXT::temporalLayerCount</code> and
<code>VkVideoEncodeH264RateControlLayerInfoEXT::temporalLayerId</code> from
<code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264InputModeFlagsEXT</code> and
<code>VkVideoEncodeH264OutputModeFlagsEXT</code> as we only support
frame-in-frame-out mode for now</p>
</li>
<li>
<p>Rename <code>pCurrentPictureInfo</code> in <code>VkVideoEncodeH264VclFrameInfoEXT</code> to
<code>pStdPictureInfo</code></p>
</li>
<li>
<p>Rename <code>pSliceHeaderStd</code> in <code>VkVideoEncodeH264NaluSliceInfoEXT</code> to
<code>pStdSliceHeader</code></p>
</li>
<li>
<p>Rename <code>pReferenceFinalLists</code> in <code>VkVideoEncodeH264VclFrameInfoEXT</code> and
<code>VkVideoEncodeH264NaluSliceInfoEXT</code> to <code>pStdReferenceFinalLists</code></p>
</li>
<li>
<p>Removed the <code>slotIndex</code> member of <code>VkVideoEncodeH264DpbSlotInfoEXT</code> and
changed it to be chained to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH264ReferenceListsInfoEXT</code> with the new Video
Std header structure <code>StdVideoEncodeH264ReferenceLists</code> that also
includes data previously part of the now removed
<code>StdVideoEncodeH264RefMemMgmtCtrlOperations</code> structure</p>
</li>
<li>
<p>Added new capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2023-05-22 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed <code>VkVideoEncodeH264VclFrameInfoEXT</code> to
<code>VkVideoEncodeH264PictureInfoEXT</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264PictureInfoEXT::generatePrefixNalu</code> and
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_GENERATE_PREFIX_NALU_BIT_EXT</code> to
enable the generation of H.264 prefix NALUs when supported by the
implementation</p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264RateControlLayerInfoEXT::temporalLayerId</code></p>
</li>
<li>
<p>Added <code>expectDyadicTemporalLayerPattern</code> capability</p>
</li>
<li>
<p>Added the <code>VkVideoEncodeH264SessionParametersGetInfoEXT</code> structure to
identify the H.264 parameter sets to retrieve encoded parameter data
for, and the <code>VkVideoEncodeH264SessionParametersFeedbackInfoEXT</code>
structure to retrieve H.264 parameter set override information when
using the new <code>vkGetEncodedVideoSessionParametersKHR</code> command</p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264NaluSliceInfoEXT::constantQp</code> to specify
per-slice constant QP when rate control mode is
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DISABLED_BIT_KHR</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264QualityLevelPropertiesEXT</code> for retrieving H.264
specific quality level recommendations</p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH264RateControlStructureEXT</code> enum with the flags
type <code>VkVideoEncodeH264RateControlFlagsEXT</code> and bits defined in
<code>VkVideoEncodeH264RateControlFlagBitsEXT</code> and added HRD compliance flag</p>
</li>
<li>
<p>Removed <code>useInitialRcQp</code> and <code>initialRcQp</code> members of
<code>VkVideoEncodeH264RateControlLayerInfoEXT</code></p>
</li>
<li>
<p>Added <code>prefersGopRemainingFrames</code> and <code>requiresGopRemainingFrames</code>, and
the new <code>VkVideoEncodeH264GopRemainingFrameInfoEXT</code> structure to allow
specifying remaining frames of each type in the rate control GOP</p>
</li>
<li>
<p>Added <code>maxTemporalLayers</code>, <code>maxQp</code>, and <code>minQp</code> capabilities</p>
</li>
<li>
<p>Added <code>maxLevelIdc</code> capability and new
<code>VkVideoEncodeH264SessionCreateInfoEXT</code> structure to specify upper
bounds on the H.264 level of the produced video bitstream</p>
</li>
<li>
<p>Moved capability flags specific to codec syntax restrictions from
<code>VkVideoEncodeH264CapabilityFlagsEXT</code> to the new
<code>VkVideoEncodeH264StdFlagsEXT</code> which is now included as a separate
<code>stdSyntaxFlags</code> member in <code>VkVideoEncodeH264CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed codec syntax override values from
<code>VkVideoEncodeH264CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264NaluSliceInfoEXT::mbCount</code> and
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_SLICE_MB_COUNT_BIT_EXT</code></p>
</li>
<li>
<p>Replaced
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_MULTIPLE_SLICES_PER_FRAME_BIT_EXT</code>
with the new <code>maxSliceCount</code> capability</p>
</li>
<li>
<p>Removed capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code>
and removed <code>pStdReferenceFinalLists</code> members from the
<code>VkVideoEncodeH264PictureInfoEXT</code> and
<code>VkVideoEncodeH264NaluSliceInfoEXT</code> structures as reference lists info
is now included in <code>pStdPictureInfo</code></p>
</li>
<li>
<p>Added capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_B_FRAME_IN_L0_LIST_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added video std capability flags
<code>VK_VIDEO_ENCODE_H264_STD_SLICE_QP_DELTA_BIT_EXT</code> and
<code>VK_VIDEO_ENCODE_H264_STD_DIFFERENT_SLICE_QP_DELTA_BIT_EXT</code></p>
</li>
<li>
<p>Fixed optionality of the array members of
<code>VkVideoEncodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Fixed optionality of <code>VkVideoEncodeH264RateControlInfoEXT::flags</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_video_encode_h265"><a class="anchor" href="#VK_EXT_video_encode_h265"></a>VK_EXT_video_encode_h265</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_video_encode_h265</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>40</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_video_encode_h265] @aabdelkh%0A*Here describe the issue or question you have about the VK_EXT_video_encode_h265 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_246"><a class="anchor" href="#_other_extension_metadata_246"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Chunbo Chen, Intel</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_246"><a class="anchor" href="#_description_246"></a>Description</h3>
<div class="paragraph">
<p>This extension builds upon the <code><a href="#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></code> extension
by adding support for encoding elementary video stream sequences compliant
with the H.265/HEVC video compression standard.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_212"><a class="anchor" href="#_new_structures_212"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265FrameSizeEXT" class="xref page">VkVideoEncodeH265FrameSizeEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265NaluSliceSegmentInfoEXT" class="xref page">VkVideoEncodeH265NaluSliceSegmentInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265QpEXT" class="xref page">VkVideoEncodeH265QpEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265GopRemainingFrameInfoEXT" class="xref page">VkVideoEncodeH265GopRemainingFrameInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCapabilitiesKHR" class="xref page">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265CapabilitiesEXT" class="xref page">VkVideoEncodeH265CapabilitiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodingControlInfoKHR" class="xref page">VkVideoCodingControlInfoKHR</a>, <a href="../chapters/video_extensions.html#VkVideoBeginCodingInfoKHR" class="xref page">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265RateControlInfoEXT" class="xref page">VkVideoEncodeH265RateControlInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeInfoKHR" class="xref page">VkVideoEncodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265PictureInfoEXT" class="xref page">VkVideoEncodeH265PictureInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeQualityLevelPropertiesKHR" class="xref page">VkVideoEncodeQualityLevelPropertiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265QualityLevelPropertiesEXT" class="xref page">VkVideoEncodeH265QualityLevelPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeRateControlLayerInfoKHR" class="xref page">VkVideoEncodeRateControlLayerInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265RateControlLayerInfoEXT" class="xref page">VkVideoEncodeH265RateControlLayerInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersFeedbackInfoKHR" class="xref page">VkVideoEncodeSessionParametersFeedbackInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265SessionParametersFeedbackInfoEXT" class="xref page">VkVideoEncodeH265SessionParametersFeedbackInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoEncodeSessionParametersGetInfoKHR" class="xref page">VkVideoEncodeSessionParametersGetInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265SessionParametersGetInfoEXT" class="xref page">VkVideoEncodeH265SessionParametersGetInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoProfileInfoKHR" class="xref page">VkVideoProfileInfoKHR</a>, <a href="../chapters/queries.html#VkQueryPoolCreateInfo" class="xref page">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265ProfileInfoEXT" class="xref page">VkVideoEncodeH265ProfileInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoReferenceSlotInfoKHR" class="xref page">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265DpbSlotInfoEXT" class="xref page">VkVideoEncodeH265DpbSlotInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionCreateInfoKHR" class="xref page">VkVideoSessionCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265SessionCreateInfoEXT" class="xref page">VkVideoEncodeH265SessionCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersCreateInfoKHR" class="xref page">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265SessionParametersCreateInfoEXT" class="xref page">VkVideoEncodeH265SessionParametersCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoSessionParametersUpdateInfoKHR" class="xref page">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265SessionParametersAddInfoEXT" class="xref page">VkVideoEncodeH265SessionParametersAddInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_69"><a class="anchor" href="#_new_enums_69"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265CapabilityFlagBitsEXT" class="xref page">VkVideoEncodeH265CapabilityFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265CtbSizeFlagBitsEXT" class="xref page">VkVideoEncodeH265CtbSizeFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265RateControlFlagBitsEXT" class="xref page">VkVideoEncodeH265RateControlFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265StdFlagBitsEXT" class="xref page">VkVideoEncodeH265StdFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265TransformBlockSizeFlagBitsEXT" class="xref page">VkVideoEncodeH265TransformBlockSizeFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_57"><a class="anchor" href="#_new_bitmasks_57"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265CapabilityFlagsEXT" class="xref page">VkVideoEncodeH265CapabilityFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265CtbSizeFlagsEXT" class="xref page">VkVideoEncodeH265CtbSizeFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265RateControlFlagsEXT" class="xref page">VkVideoEncodeH265RateControlFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265StdFlagsEXT" class="xref page">VkVideoEncodeH265StdFlagsEXT</a></p>
</li>
<li>
<p><a href="../chapters/video_extensions.html#VkVideoEncodeH265TransformBlockSizeFlagsEXT" class="xref page">VkVideoEncodeH265TransformBlockSizeFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_246"><a class="anchor" href="#_new_enum_constants_246"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VIDEO_ENCODE_H265_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VIDEO_ENCODE_H265_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_CAPABILITIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_DPB_SLOT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_GOP_REMAINING_FRAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_NALU_SLICE_SEGMENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_PICTURE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_PROFILE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_QUALITY_LEVEL_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_RATE_CONTROL_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_RATE_CONTROL_LAYER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_ADD_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_FEEDBACK_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_GET_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/video_extensions.html#VkVideoCodecOperationFlagBitsKHR" class="xref page">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_ENCODE_H265_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_246"><a class="anchor" href="#_version_history_246"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2019-11-14 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.5, 2020-02-13 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>General Spec cleanup</p>
</li>
<li>
<p>Added DPB structures</p>
</li>
<li>
<p>Change the VCL frame encode structure</p>
</li>
<li>
<p>Added a common Non-VCL Picture Paramarameters structure</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, Oct 10 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Vulkan Video Encode h.265 update and spec edits</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-12-08 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Rate control updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-01-11 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Replace occurrences of &#8220;slice&#8221; by &#8220;slice segment&#8221; and rename
structures/enums to reflect this.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoEncodeH265SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-03-24 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add capability flags to report support to disable transform skip and
support to use B frame in L1 reference list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VkVideoEncodeH265RateControlStructureFlagBitsEXT</code> bit enum
with <code>VkVideoEncodeH265RateControlStructureEXT</code> enum</p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265ProfileEXT</code> to
<code>VkVideoEncodeH265ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265ReferenceListsEXT</code> to
<code>VkVideoEncodeH265ReferenceListsInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265EmitPictureParametersEXT</code> to
<code>VkVideoEncodeH265EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265NaluSliceSegmentEXT</code> to
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>vpsStdCount</code>, <code>pVpsStd</code>, <code>spsStdCount</code>, <code>pSpsStd</code>,
<code>ppsStdCount</code>, and <code>pPpsStd</code> to <code>stdVPSCount</code>, <code>pStdVPSs</code>,
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoEncodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxVpsStdCount</code>, <code>maxSpsStdCount</code>, and <code>maxPpsStdCount</code> to
<code>maxStdVPSCount</code>, <code>maxStdSPSCount</code> and <code>maxStdPPSCount</code>, respectively,
in <code>VkVideoEncodeH265SessionParametersCreateInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VkVideoEncodeH265EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Changed member types in <code>VkVideoEncodeH265CapabilitiesEXT</code> and
<code>VkVideoEncodeH265ReferenceListsInfoEXT</code> from <code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Changed the type of
<code>VkVideoEncodeH265RateControlInfoEXT::subLayerCount</code> and
<code>VkVideoEncodeH264RateControlLayerInfoEXT::temporalId</code> from <code>uint8_t</code>
to <code>uint32_t</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265InputModeFlagsEXT</code> and
<code>VkVideoEncodeH265OutputModeFlagsEXT</code> as we only support
frame-in-frame-out mode for now</p>
</li>
<li>
<p>Rename <code>pCurrentPictureInfo</code> in <code>VkVideoEncodeH265VclFrameInfoEXT</code> to
<code>pStdPictureInfo</code></p>
</li>
<li>
<p>Rename <code>pSliceSegmentHeaderStd</code> in
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code> to <code>pStdSliceSegmentHeader</code></p>
</li>
<li>
<p>Rename <code>pReferenceFinalLists</code> in <code>VkVideoEncodeH264VclFrameInfoEXT</code> and
<code>VkVideoEncodeH264NaluSliceInfoEXT</code> to <code>pStdReferenceFinalLists</code></p>
</li>
<li>
<p>Removed the <code>slotIndex</code> member of <code>VkVideoEncodeH265DpbSlotInfoEXT</code> and
changed it to be chained to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH265ReferenceListsInfoEXT</code> with the new Video
Std header structure <code>StdVideoEncodeH265ReferenceLists</code></p>
</li>
<li>
<p>Added new capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2023-05-26 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed <code>VkVideoEncodeH265VclFrameInfoEXT</code> to
<code>VkVideoEncodeH265PictureInfoEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265RateControlLayerInfoEXT::temporalId</code></p>
</li>
<li>
<p>Added <code>expectDyadicTemporalSubLayerPattern</code> capability</p>
</li>
<li>
<p>Added the <code>VkVideoEncodeH265SessionParametersGetInfoEXT</code> structure to
identify the H.265 parameter sets to retrieve encoded parameter data
for, and the <code>VkVideoEncodeH265SessionParametersFeedbackInfoEXT</code>
structure to retrieve H.265 parameter set override information when
using the new <code>vkGetEncodedVideoSessionParametersKHR</code> command</p>
</li>
<li>
<p>Added <code>VkVideoEncodeH265NaluSliceSegmentInfoEXT::constantQp</code> to specify
per-slice segment constant QP when rate control mode is
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DISABLED_BIT_KHR</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH265QualityLevelPropertiesEXT</code> for retrieving H.265
specific quality level recommendations</p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH265RateControlStructureEXT</code> enum with the flags
type <code>VkVideoEncodeH265RateControlFlagsEXT</code> and bits defined in
<code>VkVideoEncodeH265RateControlFlagBitsEXT</code> and added HRD compliance flag</p>
</li>
<li>
<p>Removed <code>useInitialRcQp</code> and <code>initialRcQp</code> members of
<code>VkVideoEncodeH265RateControlLayerInfoEXT</code></p>
</li>
<li>
<p>Added <code>prefersGopRemainingFrames</code> and <code>requiresGopRemainingFrames</code>, and
the new <code>VkVideoEncodeH265GopRemainingFrameInfoEXT</code> structure to allow
specifying remaining frames of each type in the rate control GOP</p>
</li>
<li>
<p>Renamed <code>maxSubLayersCount</code> capability to <code>maxSubLayerCount</code></p>
</li>
<li>
<p>Added <code>maxQp</code>, and <code>minQp</code> capabilities</p>
</li>
<li>
<p>Added <code>maxLevelIdc</code> capability and new
<code>VkVideoEncodeH265SessionCreateInfoEXT</code> structure to specify upper
bounds on the H.265 level of the produced video bitstream</p>
</li>
<li>
<p>Moved capability flags specific to codec syntax restrictions from
<code>VkVideoEncodeH265CapabilityFlagsEXT</code> to the new
<code>VkVideoEncodeH265StdFlagsEXT</code> which is now included as a separate
<code>stdSyntaxFlags</code> member in <code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Added <code>std</code> prefix to codec syntax capabilities in
<code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265NaluSliceSegmentInfoEXT::ctbCount</code> and
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_SLICE_SEGMENT_CTB_COUNT_BIT_EXT</code></p>
</li>
<li>
<p>Replaced
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_MULTIPLE_SLICE_SEGMENTS_PER_FRAME_BIT_EXT</code>
with the new <code>maxSliceSegmentCount</code> capability</p>
</li>
<li>
<p>Added <code>maxTiles</code> capability</p>
</li>
<li>
<p>Removed codec syntax min/max capabilities from
<code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code>
and removed <code>pStdReferenceFinalLists</code> members from the
<code>VkVideoEncodeH265PictureInfoEXT</code> and
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code> structures as reference
lists info is now included in <code>pStdPictureInfo</code></p>
</li>
<li>
<p>Added capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_B_FRAME_IN_L0_LIST_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added video std capability flags
<code>VK_VIDEO_ENCODE_H265_STD_SLICE_QP_DELTA_BIT_EXT</code> and
<code>VK_VIDEO_ENCODE_H265_STD_DIFFERENT_SLICE_QP_DELTA_BIT_EXT</code></p>
</li>
<li>
<p>Fixed optionality of the array members of
<code>VkVideoEncodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Fixed optionality of <code>VkVideoEncodeH265RateControlInfoEXT::flags</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMDX_shader_enqueue"><a class="anchor" href="#VK_AMDX_shader_enqueue"></a>VK_AMDX_shader_enqueue</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMDX_shader_enqueue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>135</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br>
and<br>
<a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a><br>
and<br>
<a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMDX_shader_enqueue] @tobski%0A*Here describe the issue or question you have about the VK_AMDX_shader_enqueue extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_AMDX_shader_enqueue.adoc">VK_AMDX_shader_enqueue</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_247"><a class="anchor" href="#_other_extension_metadata_247"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-07-22</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMDX_shader_enqueue.html"><code>SPV_AMDX_shader_enqueue</code></a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Provisional</strong></dt>
<dd>
<p><strong>This extension is <em>provisional</em> and <strong>should</strong> not be used in production
applications.
The functionality <strong>may</strong> change in ways that break backwards compatibility
between revisions, and before final release.</strong></p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Robert Martin, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Karthik Srinivasan, AMD</p>
</li>
<li>
<p>Nicolai Haehnle, AMD</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_247"><a class="anchor" href="#_description_247"></a>Description</h3>
<div class="paragraph">
<p>This extension adds the ability for developers to enqueue compute shader
workgroups from other compute shaders.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_109"><a class="anchor" href="#_new_commands_109"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/executiongraphs.html#vkCmdDispatchGraphAMDX" class="xref page">vkCmdDispatchGraphAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkCmdDispatchGraphIndirectAMDX" class="xref page">vkCmdDispatchGraphIndirectAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkCmdDispatchGraphIndirectCountAMDX" class="xref page">vkCmdDispatchGraphIndirectCountAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkCmdInitializeGraphScratchMemoryAMDX" class="xref page">vkCmdInitializeGraphScratchMemoryAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkCreateExecutionGraphPipelinesAMDX" class="xref page">vkCreateExecutionGraphPipelinesAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkGetExecutionGraphPipelineNodeIndexAMDX" class="xref page">vkGetExecutionGraphPipelineNodeIndexAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#vkGetExecutionGraphPipelineScratchSizeAMDX" class="xref page">vkGetExecutionGraphPipelineScratchSizeAMDX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_213"><a class="anchor" href="#_new_structures_213"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/executiongraphs.html#VkDispatchGraphCountInfoAMDX" class="xref page">VkDispatchGraphCountInfoAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#VkDispatchGraphInfoAMDX" class="xref page">VkDispatchGraphInfoAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#VkExecutionGraphPipelineCreateInfoAMDX" class="xref page">VkExecutionGraphPipelineCreateInfoAMDX</a></p>
</li>
<li>
<p><a href="../chapters/executiongraphs.html#VkExecutionGraphPipelineScratchSizeAMDX" class="xref page">VkExecutionGraphPipelineScratchSizeAMDX</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderEnqueueFeaturesAMDX" class="xref page">VkPhysicalDeviceShaderEnqueueFeaturesAMDX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceShaderEnqueuePropertiesAMDX" class="xref page">VkPhysicalDeviceShaderEnqueuePropertiesAMDX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/executiongraphs.html#VkPipelineShaderStageNodeCreateInfoAMDX" class="xref page">VkPipelineShaderStageNodeCreateInfoAMDX</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_unions_7"><a class="anchor" href="#_new_unions_7"></a>New Unions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/executiongraphs.html#VkDeviceOrHostAddressConstAMDX" class="xref page">VkDeviceOrHostAddressConstAMDX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_247"><a class="anchor" href="#_new_enum_constants_247"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMDX_SHADER_ENQUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMDX_SHADER_ENQUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_SHADER_INDEX_UNUSED_AMDX</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineBindPoint" class="xref page">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_EXECUTION_GRAPH_AMDX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXECUTION_GRAPH_PIPELINE_CREATE_INFO_AMDX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXECUTION_GRAPH_PIPELINE_SCRATCH_SIZE_AMDX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ENQUEUE_FEATURES_AMDX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ENQUEUE_PROPERTIES_AMDX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_NODE_CREATE_INFO_AMDX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_maintenance5">VK_KHR_maintenance5</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits2KHR" class="xref page">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_EXECUTION_GRAPH_SCRATCH_BIT_AMDX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_247"><a class="anchor" href="#_version_history_247"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-07-22 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_displacement_micromap"><a class="anchor" href="#VK_NV_displacement_micromap"></a>VK_NV_displacement_micromap</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_displacement_micromap</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>398</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_opacity_micromap">VK_EXT_opacity_micromap</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong>must</strong> be used with caution.
See the <a href="boilerplate.html#boilerplate-provisional-header" class="xref page">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_displacement_micromap] @pixeljetstream%0A*Here describe the issue or question you have about the VK_NV_displacement_micromap extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_displacement_micromap] @ewerness-nv%0A*Here describe the issue or question you have about the VK_NV_displacement_micromap extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_248"><a class="anchor" href="#_other_extension_metadata_248"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<p>TBD</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_248"><a class="anchor" href="#_description_248"></a>Description</h3>
<div class="paragraph">
<p>Ray tracing can very efficiently render from geometry which has very fine
detail, but when using only a basic triangle representation, memory
consumption can be an issue.
This extension adds the ability to add a <em>displacement map</em> to add more
detail to triangles in an acceleration structure with an efficient in-memory
format.
The format is externally visible to allow the application to compress its
internal geometry representations into the compressed format ahead of time.
This format adds displacements along a defined vector to subtriangle
vertices which are subdivided from the main triangles.</p>
</div>
<div class="paragraph">
<p>This extension provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a new <a href="../chapters/resources.html#VkMicromapTypeEXT" class="xref page">VkMicromapTypeEXT</a> format for the displacement micromap,</p>
</li>
<li>
<p>a structure to extend
<a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a> to attach a
displacement micromap to the geometry of the acceleration structure,</p>
</li>
<li>
<p>enums extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a> to allow
for updates.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_214"><a class="anchor" href="#_new_structures_214"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/accelstructures.html#VkAccelerationStructureGeometryTrianglesDataKHR" class="xref page">VkAccelerationStructureGeometryTrianglesDataKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/accelstructures.html#VkAccelerationStructureTrianglesDisplacementMicromapNV" class="xref page">VkAccelerationStructureTrianglesDisplacementMicromapNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDisplacementMicromapFeaturesNV" class="xref page">VkPhysicalDeviceDisplacementMicromapFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDisplacementMicromapPropertiesNV" class="xref page">VkPhysicalDeviceDisplacementMicromapPropertiesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_70"><a class="anchor" href="#_new_enums_70"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_opacity_micromap/micromaps.html#VkDisplacementMicromapFormatNV" class="xref page">VkDisplacementMicromapFormatNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_248"><a class="anchor" href="#_new_enum_constants_248"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DISPLACEMENT_MICROMAP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DISPLACEMENT_MICROMAP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBuildAccelerationStructureFlagBitsKHR" class="xref page">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DISPLACEMENT_MICROMAP_UPDATE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkMicromapTypeEXT" class="xref page">VkMicromapTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MICROMAP_TYPE_DISPLACEMENT_MICROMAP_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_DISPLACEMENT_MICROMAP_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_TRIANGLES_DISPLACEMENT_MICROMAP_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DISPLACEMENT_MICROMAP_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DISPLACEMENT_MICROMAP_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_114"><a class="anchor" href="#_issues_114"></a>Issues</h3>
<div class="paragraph">
<p>(1) What is the status of this extension?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Provisional and expected to change.
The broad structure and encoding format are stable, but there will
likely be changes to the structures, enumerant values, and shader
interface.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_248"><a class="anchor" href="#_version_history_248"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-17 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Initial public revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2023-07-07 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Add shader support for decode intrinsics</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deprecated-extension-appendices-list"><a class="anchor" href="#deprecated-extension-appendices-list"></a>List of Deprecated Extensions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_copy_commands2">VK_KHR_copy_commands2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_driver_properties">VK_KHR_driver_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_imageless_framebuffer">VK_KHR_imageless_framebuffer</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance4">VK_KHR_maintenance4</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_relaxed_block_layout">VK_KHR_relaxed_block_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_separate_depth_stencil_layouts">VK_KHR_separate_depth_stencil_layouts</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_atomic_int64">VK_KHR_shader_atomic_int64</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_integer_dot_product">VK_KHR_shader_integer_dot_product</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_non_semantic_info">VK_KHR_shader_non_semantic_info</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_subgroup_extended_types">VK_KHR_shader_subgroup_extended_types</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_terminate_invocation">VK_KHR_shader_terminate_invocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_timeline_semaphore">VK_KHR_timeline_semaphore</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_uniform_buffer_standard_layout">VK_KHR_uniform_buffer_standard_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_variable_pointers">VK_KHR_variable_pointers</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_zero_initialize_workgroup_memory">VK_KHR_zero_initialize_workgroup_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_4444_formats">VK_EXT_4444_formats</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_buffer_device_address">VK_EXT_buffer_device_address</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_extended_dynamic_state">VK_EXT_extended_dynamic_state</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_extended_dynamic_state2">VK_EXT_extended_dynamic_state2</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_global_priority">VK_EXT_global_priority</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_global_priority_query">VK_EXT_global_priority_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_host_query_reset">VK_EXT_host_query_reset</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_image_robustness">VK_EXT_image_robustness</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_inline_uniform_block">VK_EXT_inline_uniform_block</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_creation_cache_control">VK_EXT_pipeline_creation_cache_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_pipeline_creation_feedback">VK_EXT_pipeline_creation_feedback</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_private_data">VK_EXT_private_data</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_sampler_filter_minmax">VK_EXT_sampler_filter_minmax</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_scalar_block_layout">VK_EXT_scalar_block_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_separate_stencil_usage">VK_EXT_separate_stencil_usage</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_demote_to_helper_invocation">VK_EXT_shader_demote_to_helper_invocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_subgroup_ballot">VK_EXT_shader_subgroup_ballot</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_subgroup_vote">VK_EXT_shader_subgroup_vote</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_subgroup_size_control">VK_EXT_subgroup_size_control</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_texel_buffer_alignment">VK_EXT_texel_buffer_alignment</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_texture_compression_astc_hdr">VK_EXT_texture_compression_astc_hdr</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_tooling_info">VK_EXT_tooling_info</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_validation_flags">VK_EXT_validation_flags</a></code></p>
</li>
<li>
<p><code><a href="#VK_EXT_ycbcr_2plane_444_formats">VK_EXT_ycbcr_2plane_444_formats</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_draw_indirect_count">VK_AMD_draw_indirect_count</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_gpu_shader_half_float">VK_AMD_gpu_shader_half_float</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_gpu_shader_int16">VK_AMD_gpu_shader_int16</a></code></p>
</li>
<li>
<p><code><a href="#VK_AMD_negative_viewport_height">VK_AMD_negative_viewport_height</a></code></p>
</li>
<li>
<p><code><a href="#VK_ARM_rasterization_order_attachment_access">VK_ARM_rasterization_order_attachment_access</a></code></p>
</li>
<li>
<p><code><a href="#VK_IMG_format_pvrtc">VK_IMG_format_pvrtc</a></code></p>
</li>
<li>
<p><code><a href="#VK_MVK_ios_surface">VK_MVK_ios_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_MVK_macos_surface">VK_MVK_macos_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_external_memory">VK_NV_external_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_external_memory_capabilities">VK_NV_external_memory_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_external_memory_win32">VK_NV_external_memory_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_fragment_shader_barycentric">VK_NV_fragment_shader_barycentric</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_glsl_shader">VK_NV_glsl_shader</a></code></p>
</li>
<li>
<p><code><a href="#VK_NV_win32_keyed_mutex">VK_NV_win32_keyed_mutex</a></code></p>
</li>
<li>
<p><code><a href="#VK_VALVE_mutable_descriptor_type">VK_VALVE_mutable_descriptor_type</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="VK_KHR_16bit_storage"><a class="anchor" href="#VK_KHR_16bit_storage"></a>VK_KHR_16bit_storage</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_16bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>84</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_16bit_storage] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_KHR_16bit_storage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_249"><a class="anchor" href="#_other_extension_metadata_249"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_16bit_storage.html"><code>SPV_KHR_16bit_storage</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_16bit_storage.txt"><code>GL_EXT_shader_16bit_storage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Joerg Wagner, ARM</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_249"><a class="anchor" href="#_description_249"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_16bit_storage</code> extension allows use of 16-bit types in shader
input and output interfaces, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 16-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.
This extension allows 16-bit variables to be declared and used as
user-defined shader inputs and outputs but does not change location
assignment and component assignment rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1"><a class="anchor" href="#_promotion_to_vulkan_1_1"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
However, if Vulkan 1.1 is supported and this extension is not, the
<code>storageBuffer16BitAccess</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_215"><a class="anchor" href="#_new_structures_215"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevice16BitStorageFeaturesKHR" class="xref page">VkPhysicalDevice16BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_249"><a class="anchor" href="#_new_enum_constants_249"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_16BIT_STORAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_16BIT_STORAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_16BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_26"><a class="anchor" href="#_new_spir_v_capabilities_26"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-StorageBuffer16BitAccess" class="xref page">    <code>StorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-UniformAndStorageBuffer16BitAccess" class="xref page">    <code>UniformAndStorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-StoragePushConstant16" class="xref page">    <code>StoragePushConstant16</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-StorageInputOutput16" class="xref page">    <code>StorageInputOutput16</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_249"><a class="anchor" href="#_version_history_249"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_8bit_storage"><a class="anchor" href="#VK_KHR_8bit_storage"></a>VK_KHR_8bit_storage</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_8bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>178</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_8bit_storage] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_8bit_storage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_250"><a class="anchor" href="#_other_extension_metadata_250"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_8bit_storage.html"><code>SPV_KHR_8bit_storage</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_16bit_storage.txt"><code>GL_EXT_shader_16bit_storage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_250"><a class="anchor" href="#_description_250"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_8bit_storage</code> extension allows use of 8-bit types in uniform and
storage buffers, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 8-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>StorageBuffer8BitAccess</code> capability <strong>must</strong> be supported by all
implementations of this extension.
The other capabilities are optional.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2"><a class="anchor" href="#_promotion_to_vulkan_1_2"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.2, with the KHR
suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>StorageBuffer8BitAccess</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_216"><a class="anchor" href="#_new_structures_216"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevice8BitStorageFeaturesKHR" class="xref page">VkPhysicalDevice8BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_250"><a class="anchor" href="#_new_enum_constants_250"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_8BIT_STORAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_8BIT_STORAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_8BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_27"><a class="anchor" href="#_new_spir_v_capabilities_27"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-StorageBuffer8BitAccess" class="xref page">    <code>StorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-UniformAndStorageBuffer8BitAccess" class="xref page">    <code>UniformAndStorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-StoragePushConstant8" class="xref page">    <code>StoragePushConstant8</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_250"><a class="anchor" href="#_version_history_250"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-05 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_bind_memory2"><a class="anchor" href="#VK_KHR_bind_memory2"></a>VK_KHR_bind_memory2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_bind_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>158</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_bind_memory2] @tobski%0A*Here describe the issue or question you have about the VK_KHR_bind_memory2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_251"><a class="anchor" href="#_other_extension_metadata_251"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_251"><a class="anchor" href="#_description_251"></a>Description</h3>
<div class="paragraph">
<p>This extension provides versions of <a href="../chapters/resources.html#vkBindBufferMemory" class="xref page">vkBindBufferMemory</a> and
<a href="../chapters/resources.html#vkBindImageMemory" class="xref page">vkBindImageMemory</a> that allow multiple bindings to be performed at
once, and are extensible.</p>
</div>
<div class="paragraph">
<p>This extension also introduces <code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code>, which
allows &#8220;identical&#8221; images that alias the same memory to interpret the
contents consistently, even across image layout changes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_2"><a class="anchor" href="#_promotion_to_vulkan_1_1_2"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_110"><a class="anchor" href="#_new_commands_110"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkBindBufferMemory2KHR" class="xref page">vkBindBufferMemory2KHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkBindImageMemory2KHR" class="xref page">vkBindImageMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_217"><a class="anchor" href="#_new_structures_217"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindBufferMemoryInfoKHR" class="xref page">VkBindBufferMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBindImageMemoryInfoKHR" class="xref page">VkBindImageMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_251"><a class="anchor" href="#_new_enum_constants_251"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_BIND_MEMORY_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_BIND_MEMORY_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_251"><a class="anchor" href="#_version_history_251"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Pulled bind memory functions into their own extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_buffer_device_address"><a class="anchor" href="#VK_KHR_buffer_device_address"></a>VK_KHR_buffer_device_address</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_buffer_device_address</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>258</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160; <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&#160;&#160;&#160;&#160; and<br>
&#160;&#160;&#160;&#160; <a href="#VK_KHR_device_group">VK_KHR_device_group</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_buffer_device_address] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_buffer_device_address extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_252"><a class="anchor" href="#_other_extension_metadata_252"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_physical_storage_buffer.html"><code>SPV_KHR_physical_storage_buffer</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference2.txt"><code>GL_EXT_buffer_reference2</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference_uvec2.txt"><code>GL_EXT_buffer_reference_uvec2</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_252"><a class="anchor" href="#_description_252"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the application to query a 64-bit buffer device
address value for a buffer, which can be used to access the buffer memory
via the <code>PhysicalStorageBuffer</code> storage class in the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
GLSL extension and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_physical_storage_buffer.html"><code>SPV_KHR_physical_storage_buffer</code></a>
SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>Another way to describe this extension is that it adds &#8220;pointers to buffer
memory in shaders&#8221;.
By calling <a href="../chapters/descriptorsets.html#vkGetBufferDeviceAddress" class="xref page">vkGetBufferDeviceAddress</a> with a <code>VkBuffer</code>, it will
return a <code>VkDeviceAddress</code> value which represents the address of the
start of the buffer.</p>
</div>
<div class="paragraph">
<p><a href="../chapters/descriptorsets.html#vkGetBufferOpaqueCaptureAddress" class="xref page">vkGetBufferOpaqueCaptureAddress</a> and
<a href="../chapters/memory.html#vkGetDeviceMemoryOpaqueCaptureAddress" class="xref page">vkGetDeviceMemoryOpaqueCaptureAddress</a> allow opaque addresses for
buffers and memory objects to be queried for the current process.
A trace capture and replay tool can then supply these addresses to be used
at replay time to match the addresses used when the trace was captured.
To enable tools to insert these queries, new memory allocation flags must be
specified for memory objects that will be bound to buffers accessed via the
<code>PhysicalStorageBuffer</code> storage class.
Note that this mechanism is intended only to support capture/replay tools,
and is not recommended for use in other applications.</p>
</div>
<div class="paragraph">
<p>There are various use cases this extension is designed for.
It is required for ray tracing, useful for DX12 portability, and by allowing
buffer addresses to be stored in memory it enables more complex data
structures to be created.</p>
</div>
<div class="paragraph">
<p>This extension can also be used to hardcode a dedicated debug channel into
all shaders by querying a pointer at startup and pushing that into shaders
as a run-time constant (e.g. specialization constant) that avoids impacting
other descriptor limits.</p>
</div>
<div class="paragraph">
<p>There are examples of usage in the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
spec for how to use this in a high-level shading language such as GLSL.
The
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference2.txt"><code>GL_EXT_buffer_reference2</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference_uvec2.txt"><code>GL_EXT_buffer_reference_uvec2</code></a>
extensions were also added to help cover a few additional edge cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_2"><a class="anchor" href="#_promotion_to_vulkan_1_2_2"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>bufferDeviceAddress</code> feature is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3"><a class="anchor" href="#_promotion_to_vulkan_1_3"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Support for the <code>bufferDeviceAddress</code> feature is mandatory in Vulkan 1.3,
regardless of whether this extension is supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_111"><a class="anchor" href="#_new_commands_111"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetBufferDeviceAddressKHR" class="xref page">vkGetBufferDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetBufferOpaqueCaptureAddressKHR" class="xref page">vkGetBufferOpaqueCaptureAddressKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetDeviceMemoryOpaqueCaptureAddressKHR" class="xref page">vkGetDeviceMemoryOpaqueCaptureAddressKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_218"><a class="anchor" href="#_new_structures_218"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkBufferDeviceAddressInfoKHR" class="xref page">VkBufferDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkDeviceMemoryOpaqueCaptureAddressInfoKHR" class="xref page">VkDeviceMemoryOpaqueCaptureAddressInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferOpaqueCaptureAddressCreateInfoKHR" class="xref page">VkBufferOpaqueCaptureAddressCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryOpaqueCaptureAddressAllocateInfoKHR" class="xref page">VkMemoryOpaqueCaptureAddressAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceBufferDeviceAddressFeaturesKHR" class="xref page">VkPhysicalDeviceBufferDeviceAddressFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_252"><a class="anchor" href="#_new_enum_constants_252"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_BUFFER_DEVICE_ADDRESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_BUFFER_DEVICE_ADDRESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateFlagBits" class="xref page">VkMemoryAllocateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_OPAQUE_CAPTURE_ADDRESS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_OPAQUE_CAPTURE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_OPAQUE_CAPTURE_ADDRESS_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_28"><a class="anchor" href="#_new_spir_v_capabilities_28"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-PhysicalStorageBufferAddresses" class="xref page">    <code>PhysicalStorageBufferAddresses</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_252"><a class="anchor" href="#_version_history_252"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-24 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions based on VK_EXT_buffer_device_address</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_copy_commands2"><a class="anchor" href="#VK_KHR_copy_commands2"></a>VK_KHR_copy_commands2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_copy_commands2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>338</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_copy_commands2] @jackohound%0A*Here describe the issue or question you have about the VK_KHR_copy_commands2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_253"><a class="anchor" href="#_other_extension_metadata_253"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-06</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_253"><a class="anchor" href="#_description_253"></a>Description</h3>
<div class="paragraph">
<p>This extension provides extensible versions of the Vulkan buffer and image
copy commands.
The new commands are functionally identical to the core commands, except
that their copy parameters are specified using extensible structures that
can be used to pass extension-specific information.</p>
</div>
<div class="paragraph">
<p>The following extensible copy commands are introduced with this extension:
<a href="../chapters/copies.html#vkCmdCopyBuffer2KHR" class="xref page">vkCmdCopyBuffer2KHR</a>, <a href="../chapters/copies.html#vkCmdCopyImage2KHR" class="xref page">vkCmdCopyImage2KHR</a>,
<a href="../chapters/copies.html#vkCmdCopyBufferToImage2KHR" class="xref page">vkCmdCopyBufferToImage2KHR</a>, <a href="../chapters/copies.html#vkCmdCopyImageToBuffer2KHR" class="xref page">vkCmdCopyImageToBuffer2KHR</a>,
<a href="../chapters/copies.html#vkCmdBlitImage2KHR" class="xref page">vkCmdBlitImage2KHR</a>, and <a href="../chapters/copies.html#vkCmdResolveImage2KHR" class="xref page">vkCmdResolveImage2KHR</a>.
Each command contains an <code>*Info2KHR</code> structure parameter that includes
<code>sType</code>/<code>pNext</code> members.
Lower level structures describing each region to be copied are also extended
with <code>sType</code>/<code>pNext</code> members.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_112"><a class="anchor" href="#_new_commands_112"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#vkCmdBlitImage2KHR" class="xref page">vkCmdBlitImage2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyBuffer2KHR" class="xref page">vkCmdCopyBuffer2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyBufferToImage2KHR" class="xref page">vkCmdCopyBufferToImage2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyImage2KHR" class="xref page">vkCmdCopyImage2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdCopyImageToBuffer2KHR" class="xref page">vkCmdCopyImageToBuffer2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#vkCmdResolveImage2KHR" class="xref page">vkCmdResolveImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_219"><a class="anchor" href="#_new_structures_219"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#VkBlitImageInfo2KHR" class="xref page">VkBlitImageInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkBufferCopy2KHR" class="xref page">VkBufferCopy2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkBufferImageCopy2KHR" class="xref page">VkBufferImageCopy2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyBufferInfo2KHR" class="xref page">VkCopyBufferInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyBufferToImageInfo2KHR" class="xref page">VkCopyBufferToImageInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyImageInfo2KHR" class="xref page">VkCopyImageInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkCopyImageToBufferInfo2KHR" class="xref page">VkCopyImageToBufferInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkImageBlit2KHR" class="xref page">VkImageBlit2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkImageCopy2KHR" class="xref page">VkImageCopy2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkImageResolve2KHR" class="xref page">VkImageResolve2KHR</a></p>
</li>
<li>
<p><a href="../chapters/copies.html#VkResolveImageInfo2KHR" class="xref page">VkResolveImageInfo2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_253"><a class="anchor" href="#_new_enum_constants_253"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_COPY_COMMANDS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_COPY_COMMANDS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BLIT_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_IMAGE_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_BUFFER_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_BUFFER_TO_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_BUFFER_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_BLIT_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_RESOLVE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RESOLVE_IMAGE_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_2"><a class="anchor" href="#_promotion_to_vulkan_1_3_2"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_253"><a class="anchor" href="#_version_history_253"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-06 (Jeff Leger)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_create_renderpass2"><a class="anchor" href="#VK_KHR_create_renderpass2"></a>VK_KHR_create_renderpass2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_create_renderpass2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>110</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_multiview">VK_KHR_multiview</a><br>
and<br>
<a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_create_renderpass2] @tobias%0A*Here describe the issue or question you have about the VK_KHR_create_renderpass2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_254"><a class="anchor" href="#_other_extension_metadata_254"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-07</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Jeff Bolz</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_254"><a class="anchor" href="#_description_254"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new entry point to create render passes in a way
that can be easily extended by other extensions through the substructures of
render pass creation.
The Vulkan 1.0 render pass creation sub-structures do not include
<code>sType</code>/<code>pNext</code> members.
Additionally, the render pass begin/next/end commands have been augmented
with new extensible structures for passing additional subpass information.</p>
</div>
<div class="paragraph">
<p>The <a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a> and
<a href="../chapters/renderpass.html#VkInputAttachmentAspectReference" class="xref page">VkInputAttachmentAspectReference</a> structures that extended the original
<a href="../chapters/renderpass.html#VkRenderPassCreateInfo" class="xref page">VkRenderPassCreateInfo</a> are not accepted into the new creation
functions, and instead their parameters are folded into this extension as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elements of <a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> are
now specified in <a href="../chapters/renderpass.html#VkSubpassDescription2KHR" class="xref page">VkSubpassDescription2KHR</a>::<code>viewMask</code>.</p>
</li>
<li>
<p>Elements of <a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>pViewOffsets</code>
are now specified in <a href="../chapters/renderpass.html#VkSubpassDependency2KHR" class="xref page">VkSubpassDependency2KHR</a>::<code>viewOffset</code>.</p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>correlationMaskCount</code> and
<a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a>::<code>pCorrelationMasks</code> are
directly specified in <a href="../chapters/renderpass.html#VkRenderPassCreateInfo2KHR" class="xref page">VkRenderPassCreateInfo2KHR</a>.</p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkInputAttachmentAspectReference" class="xref page">VkInputAttachmentAspectReference</a>::<code>aspectMask</code> is now
specified in the relevant input attachment reference in
<a href="../chapters/renderpass.html#VkAttachmentReference2KHR" class="xref page">VkAttachmentReference2KHR</a>::<code>aspectMask</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The details of these mappings are explained fully in the new structures.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_3"><a class="anchor" href="#_promotion_to_vulkan_1_2_3"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_113"><a class="anchor" href="#_new_commands_113"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#vkCmdBeginRenderPass2KHR" class="xref page">vkCmdBeginRenderPass2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#vkCmdEndRenderPass2KHR" class="xref page">vkCmdEndRenderPass2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#vkCmdNextSubpass2KHR" class="xref page">vkCmdNextSubpass2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#vkCreateRenderPass2KHR" class="xref page">vkCreateRenderPass2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_220"><a class="anchor" href="#_new_structures_220"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkAttachmentDescription2KHR" class="xref page">VkAttachmentDescription2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkAttachmentReference2KHR" class="xref page">VkAttachmentReference2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassCreateInfo2KHR" class="xref page">VkRenderPassCreateInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassBeginInfoKHR" class="xref page">VkSubpassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassDependency2KHR" class="xref page">VkSubpassDependency2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassDescription2KHR" class="xref page">VkSubpassDescription2KHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassEndInfoKHR" class="xref page">VkSubpassEndInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_254"><a class="anchor" href="#_new_enum_constants_254"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_CREATE_RENDERPASS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_CREATE_RENDERPASS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_END_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_254"><a class="anchor" href="#_version_history_254"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_dedicated_allocation"><a class="anchor" href="#VK_KHR_dedicated_allocation"></a>VK_KHR_dedicated_allocation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>128</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_dedicated_allocation] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_dedicated_allocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_255"><a class="anchor" href="#_other_extension_metadata_255"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_255"><a class="anchor" href="#_description_255"></a>Description</h3>
<div class="paragraph">
<p>This extension enables resources to be bound to a dedicated allocation,
rather than suballocated.
For any particular resource, applications <strong>can</strong> query whether a dedicated
allocation is recommended, in which case using a dedicated allocation <strong>may</strong>
improve the performance of access to that resource.
Normal device memory allocations must support multiple resources per
allocation, memory aliasing and sparse binding, which could interfere with
some optimizations.
Applications should query the implementation for when a dedicated allocation
<strong>may</strong> be beneficial by adding a <code>VkMemoryDedicatedRequirementsKHR</code>
structure to the <code>pNext</code> chain of the <code>VkMemoryRequirements2</code>
structure passed as the <code>pMemoryRequirements</code> parameter of a call to
<code>vkGetBufferMemoryRequirements2</code> or <code>vkGetImageMemoryRequirements2</code>.
Certain external handle types and external images or buffers <strong>may</strong> also
depend on dedicated allocations on implementations that associate image or
buffer metadata with OS-level memory objects.</p>
</div>
<div class="paragraph">
<p>This extension adds a two small structures to memory requirements querying
and memory allocation: a new structure that flags whether an image/buffer
should have a dedicated allocation, and a structure indicating the image or
buffer that an allocation will be bound to.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_3"><a class="anchor" href="#_promotion_to_vulkan_1_1_3"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_221"><a class="anchor" href="#_new_structures_221"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryDedicatedAllocateInfoKHR" class="xref page">VkMemoryDedicatedAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkMemoryRequirements2" class="xref page">VkMemoryRequirements2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkMemoryDedicatedRequirementsKHR" class="xref page">VkMemoryDedicatedRequirementsKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_255"><a class="anchor" href="#_new_enum_constants_255"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEDICATED_ALLOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEDICATED_ALLOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_33"><a class="anchor" href="#_examples_33"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    // Create an image with a dedicated allocation based on the
    // implementation's preference

    VkImageCreateInfo imageCreateInfo =
    {
        // Image creation parameters
    };

    VkImage image;
    VkResult result = vkCreateImage(
        device,
        &amp;imageCreateInfo,
        NULL,               // pAllocator
        &amp;image);

    VkMemoryDedicatedRequirementsKHR dedicatedRequirements =
    {
        .sType = VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR,
        .pNext = NULL,
    };

    VkMemoryRequirements2 memoryRequirements =
    {
        .sType = VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2,
        .pNext = &amp;dedicatedRequirements,
    };

    const VkImageMemoryRequirementsInfo2 imageRequirementsInfo =
    {
        .sType = VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2,
        .pNext = NULL,
        .image = image
    };

    vkGetImageMemoryRequirements2(
        device,
        &amp;imageRequirementsInfo,
        &amp;memoryRequirements);

    if (dedicatedRequirements.prefersDedicatedAllocation) {
        // Allocate memory with VkMemoryDedicatedAllocateInfoKHR::image
        // pointing to the image we are allocating the memory for

        VkMemoryDedicatedAllocateInfoKHR dedicatedInfo =
        {
            .sType = VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR,
            .pNext = NULL,
            .image = image,
            .buffer = VK_NULL_HANDLE,
        };

        VkMemoryAllocateInfo memoryAllocateInfo =
        {
            .sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO,
            .pNext = &amp;dedicatedInfo,
            .allocationSize = memoryRequirements.size,
            .memoryTypeIndex = FindMemoryTypeIndex(memoryRequirements.memoryTypeBits),
        };

        VkDeviceMemory memory;
        vkAllocateMemory(
            device,
            &amp;memoryAllocateInfo,
            NULL,               // pAllocator
            &amp;memory);

        // Bind the image to the memory

        vkBindImageMemory(
            device,
            image,
            memory,
            0);
    } else {
        // Take the normal memory sub-allocation path
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_255"><a class="anchor" href="#_version_history_255"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Copy content from VK_NV_dedicated_allocation</p>
</li>
<li>
<p>Add some references to external object interactions to the overview.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-03-27 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Rework the extension to be query-based</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-07-31 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that memory objects allocated with
VkMemoryDedicatedAllocateInfoKHR can only have the specified resource
bound and no others.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_depth_stencil_resolve"><a class="anchor" href="#VK_KHR_depth_stencil_resolve"></a>VK_KHR_depth_stencil_resolve</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_depth_stencil_resolve</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>200</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_depth_stencil_resolve] @janharald%0A*Here describe the issue or question you have about the VK_KHR_depth_stencil_resolve extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharald</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_256"><a class="anchor" href="#_other_extension_metadata_256"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-09</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Soowan Park, Samsung Electronics</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_256"><a class="anchor" href="#_description_256"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for automatically resolving multisampled
depth/stencil attachments in a subpass in a similar manner as for color
attachments.</p>
</div>
<div class="paragraph">
<p>Multisampled color attachments can be resolved at the end of a subpass by
specifying <code>pResolveAttachments</code> entries corresponding to the
<code>pColorAttachments</code> array entries.
This does not allow for a way to map the resolve attachments to the
depth/stencil attachment.
The <a href="../chapters/copies.html#vkCmdResolveImage" class="xref page">vkCmdResolveImage</a> command does not allow for depth/stencil images.
While there are other ways to resolve the depth/stencil attachment, they can
give sub-optimal performance.
Extending the <code>VkSubpassDescription2</code> in this extension allows an
application to add a <code>pDepthStencilResolveAttachment</code>, that is similar
to the color <code>pResolveAttachments</code>, that the
<code>pDepthStencilAttachment</code> can be resolved into.</p>
</div>
<div class="paragraph">
<p>Depth and stencil samples are resolved to a single value based on the
resolve mode.
The set of possible resolve modes is defined in the
<a href="../chapters/renderpass.html#VkResolveModeFlagBits" class="xref page">VkResolveModeFlagBits</a> enum.
The <code>VK_RESOLVE_MODE_SAMPLE_ZERO_BIT</code> mode is the only mode that is
required of all implementations (that support the extension or support
Vulkan 1.2 or higher).
Some implementations may also support averaging (the same as color sample
resolve) or taking the minimum or maximum sample, which may be more suitable
for depth/stencil resolve.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_4"><a class="anchor" href="#_promotion_to_vulkan_1_2_4"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_222"><a class="anchor" href="#_new_structures_222"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDepthStencilResolvePropertiesKHR" class="xref page">VkPhysicalDeviceDepthStencilResolvePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescription2" class="xref page">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkSubpassDescriptionDepthStencilResolveKHR" class="xref page">VkSubpassDescriptionDepthStencilResolveKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_71"><a class="anchor" href="#_new_enums_71"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkResolveModeFlagBitsKHR" class="xref page">VkResolveModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_58"><a class="anchor" href="#_new_bitmasks_58"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkResolveModeFlagsKHR" class="xref page">VkResolveModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_256"><a class="anchor" href="#_new_enum_constants_256"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEPTH_STENCIL_RESOLVE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEPTH_STENCIL_RESOLVE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkResolveModeFlagBits" class="xref page">VkResolveModeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RESOLVE_MODE_AVERAGE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_MAX_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_MIN_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_NONE_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_SAMPLE_ZERO_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_STENCIL_RESOLVE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_DEPTH_STENCIL_RESOLVE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_256"><a class="anchor" href="#_version_history_256"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-09 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_descriptor_update_template"><a class="anchor" href="#VK_KHR_descriptor_update_template"></a>VK_KHR_descriptor_update_template</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_descriptor_update_template</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>86</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Markus Tavenrath <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_descriptor_update_template] @mtavenrath%0A*Here describe the issue or question you have about the VK_KHR_descriptor_update_template extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mtavenrath</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_257"><a class="anchor" href="#_other_extension_metadata_257"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_257"><a class="anchor" href="#_description_257"></a>Description</h3>
<div class="paragraph">
<p>Applications may wish to update a fixed set of descriptors in a large number
of descriptor sets very frequently, i.e. during initialization phase or if
it is required to rebuild descriptor sets for each frame.
For those cases it is also not unlikely that all information required to
update a single descriptor set is stored in a single struct.
This extension provides a way to update a fixed set of descriptors in a
single <a href="../chapters/descriptorsets.html#VkDescriptorSet" class="xref page">VkDescriptorSet</a> with a pointer to a user defined data structure
describing the new descriptors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_4"><a class="anchor" href="#_promotion_to_vulkan_1_1_4"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p><a href="../chapters/descriptorsets.html#vkCmdPushDescriptorSetWithTemplateKHR" class="xref page">vkCmdPushDescriptorSetWithTemplateKHR</a> is included as an interaction
with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.
If Vulkan 1.1 and <code>VK_KHR_push_descriptor</code> are supported, this is included
by <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_17"><a class="anchor" href="#_new_object_types_17"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateKHR" class="xref page">VkDescriptorUpdateTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_114"><a class="anchor" href="#_new_commands_114"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCreateDescriptorUpdateTemplateKHR" class="xref page">vkCreateDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkDestroyDescriptorUpdateTemplateKHR" class="xref page">vkDestroyDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#vkUpdateDescriptorSetWithTemplateKHR" class="xref page">vkUpdateDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkCmdPushDescriptorSetWithTemplateKHR" class="xref page">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_223"><a class="anchor" href="#_new_structures_223"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateCreateInfoKHR" class="xref page">VkDescriptorUpdateTemplateCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateEntryKHR" class="xref page">VkDescriptorUpdateTemplateEntryKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_72"><a class="anchor" href="#_new_enums_72"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateTypeKHR" class="xref page">VkDescriptorUpdateTemplateTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_59"><a class="anchor" href="#_new_bitmasks_59"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateCreateFlagsKHR" class="xref page">VkDescriptorUpdateTemplateCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_257"><a class="anchor" href="#_new_enum_constants_257"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DESCRIPTOR_UPDATE_TEMPLATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DESCRIPTOR_UPDATE_TEMPLATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateType" class="xref page">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_KHR_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorUpdateTemplateType" class="xref page">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_257"><a class="anchor" href="#_version_history_257"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-01-11 (Markus Tavenrath)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_device_group"><a class="anchor" href="#VK_KHR_device_group"></a>VK_KHR_device_group</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>61</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_device_group] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_device_group extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_258"><a class="anchor" href="#_other_extension_metadata_258"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_device_group.html"><code>SPV_KHR_device_group</code></a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_258"><a class="anchor" href="#_description_258"></a>Description</h3>
<div class="paragraph">
<p>This extension provides functionality to use a logical device that consists
of multiple physical devices, as created with the
<code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code> extension.
A device group can allocate memory across the subdevices, bind memory from
one subdevice to a resource on another subdevice, record command buffers
where some work executes on an arbitrary subset of the subdevices, and
potentially present a swapchain image from one or more subdevices.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_5"><a class="anchor" href="#_promotion_to_vulkan_1_1_5"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>The following enums, types and commands are included as interactions with
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentModeFlagBitsKHR" class="xref page">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentCapabilitiesKHR" class="xref page">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageSwapchainCreateInfoKHR" class="xref page">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkBindImageMemorySwapchainInfoKHR" class="xref page">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkAcquireNextImageInfoKHR" class="xref page">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentInfoKHR" class="xref page">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupSwapchainCreateInfoKHR" class="xref page">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupPresentCapabilitiesKHR" class="xref page">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupSurfacePresentModesKHR" class="xref page">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDevicePresentRectanglesKHR" class="xref page">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImage2KHR" class="xref page">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If Vulkan 1.1 and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> are supported, these are
included by <code>VK_KHR_swapchain</code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_115"><a class="anchor" href="#_new_commands_115"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/dispatch.html#vkCmdDispatchBaseKHR" class="xref page">vkCmdDispatchBaseKHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#vkCmdSetDeviceMaskKHR" class="xref page">vkCmdSetDeviceMaskKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetDeviceGroupPeerMemoryFeaturesKHR" class="xref page">vkGetDeviceGroupPeerMemoryFeaturesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupPresentCapabilitiesKHR" class="xref page">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetDeviceGroupSurfacePresentModesKHR" class="xref page">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkGetPhysicalDevicePresentRectanglesKHR" class="xref page">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkAcquireNextImage2KHR" class="xref page">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_224"><a class="anchor" href="#_new_structures_224"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/sparsemem.html#VkBindSparseInfo" class="xref page">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/sparsemem.html#VkDeviceGroupBindSparseInfoKHR" class="xref page">VkDeviceGroupBindSparseInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferBeginInfo" class="xref page">VkCommandBufferBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkDeviceGroupCommandBufferBeginInfoKHR" class="xref page">VkDeviceGroupCommandBufferBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryAllocateFlagsInfoKHR" class="xref page">VkMemoryAllocateFlagsInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>, <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkDeviceGroupRenderPassBeginInfoKHR" class="xref page">VkDeviceGroupRenderPassBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkDeviceGroupSubmitInfoKHR" class="xref page">VkDeviceGroupSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBindBufferMemoryInfo" class="xref page">VkBindBufferMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindBufferMemoryDeviceGroupInfoKHR" class="xref page">VkBindBufferMemoryDeviceGroupInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBindImageMemoryInfo" class="xref page">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindImageMemoryDeviceGroupInfoKHR" class="xref page">VkBindImageMemoryDeviceGroupInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentCapabilitiesKHR" class="xref page">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkAcquireNextImageInfoKHR" class="xref page">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBindImageMemoryInfo" class="xref page">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindImageMemorySwapchainInfoKHR" class="xref page">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageSwapchainCreateInfoKHR" class="xref page">VkImageSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkPresentInfoKHR" class="xref page">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentInfoKHR" class="xref page">VkDeviceGroupPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupSwapchainCreateInfoKHR" class="xref page">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_73"><a class="anchor" href="#_new_enums_73"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryAllocateFlagBitsKHR" class="xref page">VkMemoryAllocateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkPeerMemoryFeatureFlagBitsKHR" class="xref page">VkPeerMemoryFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentModeFlagBitsKHR" class="xref page">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_60"><a class="anchor" href="#_new_bitmasks_60"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkMemoryAllocateFlagsKHR" class="xref page">VkMemoryAllocateFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkPeerMemoryFeatureFlagsKHR" class="xref page">VkPeerMemoryFeatureFlagsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkDeviceGroupPresentModeFlagsKHR" class="xref page">VkDeviceGroupPresentModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_258"><a class="anchor" href="#_new_enum_constants_258"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEVICE_GROUP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEVICE_GROUP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkDependencyFlagBits" class="xref page">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_DEVICE_GROUP_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateFlagBits" class="xref page">VkMemoryAllocateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_MASK_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkPeerMemoryFeatureFlagBits" class="xref page">VkPeerMemoryFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_COPY_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_COPY_SRC_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_GENERIC_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_GENERIC_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_BIND_SPARSE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_COMMAND_BUFFER_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_RENDER_PASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_FLAGS_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateFlagBitsKHR" class="xref page">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_7"><a class="anchor" href="#_new_built_in_variables_7"></a>New Built-in Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-deviceindex" class="xref page"><code>DeviceIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_29"><a class="anchor" href="#_new_spir_v_capabilities_29"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DeviceGroup" class="xref page"><code>DeviceGroup</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_258"><a class="anchor" href="#_version_history_258"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Removed extended memory bind functions to VK_KHR_bind_memory2, added
dependency on that extension, and device-group-specific structs for
those functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected Vulkan 1.1 interactions with the WSI extensions.
All Vulkan 1.1 WSI interactions are with the VK_KHR_swapchain
extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-10-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Rename &#8220;SFR&#8221; bits and structure members to use the phrase &#8220;split
instance bind regions&#8221;.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_device_group_creation"><a class="anchor" href="#VK_KHR_device_group_creation"></a>VK_KHR_device_group_creation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group_creation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>71</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_device_group_creation] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_device_group_creation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_259"><a class="anchor" href="#_other_extension_metadata_259"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_259"><a class="anchor" href="#_description_259"></a>Description</h3>
<div class="paragraph">
<p>This extension provides instance-level commands to enumerate groups of
physical devices, and to create a logical device from a subset of one of
those groups.
Such a logical device can then be used with new features in the
<code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_6"><a class="anchor" href="#_promotion_to_vulkan_1_1_6"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_116"><a class="anchor" href="#_new_commands_116"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#vkEnumeratePhysicalDeviceGroupsKHR" class="xref page">vkEnumeratePhysicalDeviceGroupsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_225"><a class="anchor" href="#_new_structures_225"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceGroupPropertiesKHR" class="xref page">VkPhysicalDeviceGroupPropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceGroupDeviceCreateInfoKHR" class="xref page">VkDeviceGroupDeviceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_259"><a class="anchor" href="#_new_enum_constants_259"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEVICE_GROUP_CREATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEVICE_GROUP_CREATION_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_DEVICE_GROUP_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryHeapFlagBits" class="xref page">VkMemoryHeapFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_34"><a class="anchor" href="#_examples_34"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkDeviceCreateInfo devCreateInfo = { VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO };
    // (not shown) fill out devCreateInfo as usual.
    uint32_t deviceGroupCount = 0;
    VkPhysicalDeviceGroupPropertiesKHR *props = NULL;

    // Query the number of device groups
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, NULL);

    // Allocate and initialize structures to query the device groups
    props = (VkPhysicalDeviceGroupPropertiesKHR *)malloc(deviceGroupCount*sizeof(VkPhysicalDeviceGroupPropertiesKHR));
    for (i = 0; i &lt; deviceGroupCount; ++i) {
        props[i].sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR;
        props[i].pNext = NULL;
    }
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, props);

    // If the first device group has more than one physical device. create
    // a logical device using all of the physical devices.
    VkDeviceGroupDeviceCreateInfoKHR deviceGroupInfo = { VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR };
    if (props[0].physicalDeviceCount &gt; 1) {
        deviceGroupInfo.physicalDeviceCount = props[0].physicalDeviceCount;
        deviceGroupInfo.pPhysicalDevices = props[0].physicalDevices;
        devCreateInfo.pNext = &amp;deviceGroupInfo;
    }

    vkCreateDevice(props[0].physicalDevices[0], &amp;devCreateInfo, NULL, &amp;g_vkDevice);
    free(props);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_259"><a class="anchor" href="#_version_history_259"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_draw_indirect_count"><a class="anchor" href="#VK_KHR_draw_indirect_count"></a>VK_KHR_draw_indirect_count</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>170</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_draw_indirect_count] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_draw_indirect_count extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_260"><a class="anchor" href="#_other_extension_metadata_260"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_260"><a class="anchor" href="#_description_260"></a>Description</h3>
<div class="paragraph">
<p>This extension is based off the <code><a href="#VK_AMD_draw_indirect_count">VK_AMD_draw_indirect_count</a></code>
extension.
This extension allows an application to source the number of draws for
indirect drawing calls from a buffer.</p>
</div>
<div class="paragraph">
<p>Applications might want to do culling on the GPU via a compute shader prior
to drawing.
This enables the application to generate an arbitrary number of drawing
commands and execute them without host intervention.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_5"><a class="anchor" href="#_promotion_to_vulkan_1_2_5"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the entry
points <a href="../chapters/drawing.html#vkCmdDrawIndirectCount" class="xref page">vkCmdDrawIndirectCount</a> and <a href="../chapters/drawing.html#vkCmdDrawIndexedIndirectCount" class="xref page">vkCmdDrawIndexedIndirectCount</a>
are optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_117"><a class="anchor" href="#_new_commands_117"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawIndexedIndirectCountKHR" class="xref page">vkCmdDrawIndexedIndirectCountKHR</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawIndirectCountKHR" class="xref page">vkCmdDrawIndirectCountKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_260"><a class="anchor" href="#_new_enum_constants_260"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DRAW_INDIRECT_COUNT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DRAW_INDIRECT_COUNT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_260"><a class="anchor" href="#_version_history_260"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft based off VK_AMD_draw_indirect_count</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_driver_properties"><a class="anchor" href="#VK_KHR_driver_properties"></a>VK_KHR_driver_properties</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_driver_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>197</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_driver_properties] @drakos-amd%0A*Here describe the issue or question you have about the VK_KHR_driver_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_261"><a class="anchor" href="#_other_extension_metadata_261"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_261"><a class="anchor" href="#_description_261"></a>Description</h3>
<div class="paragraph">
<p>This extension provides a new physical device query which allows retrieving
information about the driver implementation, allowing applications to
determine which physical device corresponds to which particular vendor&#8217;s
driver, and which conformance test suite version the driver implementation
is compliant with.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_6"><a class="anchor" href="#_promotion_to_vulkan_1_2_6"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_226"><a class="anchor" href="#_new_structures_226"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkConformanceVersionKHR" class="xref page">VkConformanceVersionKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceDriverPropertiesKHR" class="xref page">VkPhysicalDeviceDriverPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_74"><a class="anchor" href="#_new_enums_74"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDriverIdKHR" class="xref page">VkDriverIdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_261"><a class="anchor" href="#_new_enum_constants_261"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DRIVER_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DRIVER_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_INFO_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_NAME_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDriverId" class="xref page">VkDriverId</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DRIVER_ID_AMD_OPEN_SOURCE_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_AMD_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_ARM_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_BROADCOM_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_GGP_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_GOOGLE_SWIFTSHADER_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_IMAGINATION_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_INTEL_OPEN_SOURCE_MESA_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_INTEL_PROPRIETARY_WINDOWS_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_MESA_RADV_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_NVIDIA_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_QUALCOMM_PROPRIETARY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DRIVER_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_261"><a class="anchor" href="#_version_history_261"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_dynamic_rendering"><a class="anchor" href="#VK_KHR_dynamic_rendering"></a>VK_KHR_dynamic_rendering</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dynamic_rendering</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>45</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_dynamic_rendering] @tobski%0A*Here describe the issue or question you have about the VK_KHR_dynamic_rendering extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_dynamic_rendering.adoc">VK_KHR_dynamic_rendering</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_262"><a class="anchor" href="#_other_extension_metadata_262"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-06</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>François Duranleau, Gameloft</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Jean-François Roy, Google</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Piers Daniell, Nvidia</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Piotr Byszewski, Mobica</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_262"><a class="anchor" href="#_description_262"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to create single-pass render pass
instances without needing to create render pass objects or framebuffers.
Dynamic render passes can also span across multiple primary command buffers,
rather than relying on secondary command buffers.</p>
</div>
<div class="paragraph">
<p>This extension also incorporates <code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code> from
<code><a href="#VK_QCOM_render_pass_store_ops">VK_QCOM_render_pass_store_ops</a></code>, enabling applications to avoid
unnecessary synchronization when an attachment is not written during a
render pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_118"><a class="anchor" href="#_new_commands_118"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#vkCmdBeginRenderingKHR" class="xref page">vkCmdBeginRenderingKHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#vkCmdEndRenderingKHR" class="xref page">vkCmdEndRenderingKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_227"><a class="anchor" href="#_new_structures_227"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingAttachmentInfoKHR" class="xref page">VkRenderingAttachmentInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingInfoKHR" class="xref page">VkRenderingInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceRenderingInfoKHR" class="xref page">VkCommandBufferInheritanceRenderingInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineRenderingCreateInfoKHR" class="xref page">VkPipelineRenderingCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDynamicRenderingFeaturesKHR" class="xref page">VkPhysicalDeviceDynamicRenderingFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>, <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkAttachmentSampleCountInfoAMD" class="xref page">VkAttachmentSampleCountInfoAMD</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT" class="xref page">VkRenderingFragmentDensityMapAttachmentInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR" class="xref page">VkRenderingFragmentShadingRateAttachmentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>, <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkAttachmentSampleCountInfoNV" class="xref page">VkAttachmentSampleCountInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkCommandBufferInheritanceInfo" class="xref page">VkCommandBufferInheritanceInfo</a>, <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>, <a href="../chapters/renderpass.html#VkRenderingInfo" class="xref page">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkMultiviewPerViewAttributesInfoNVX" class="xref page">VkMultiviewPerViewAttributesInfoNVX</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_75"><a class="anchor" href="#_new_enums_75"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingFlagBitsKHR" class="xref page">VkRenderingFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_61"><a class="anchor" href="#_new_bitmasks_61"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderingFlagsKHR" class="xref page">VkRenderingFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_262"><a class="anchor" href="#_new_enum_constants_262"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentStoreOp" class="xref page">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_RENDERING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DYNAMIC_RENDERING_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RENDERING_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_SAMPLE_COUNT_INFO_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_SAMPLE_COUNT_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MULTIVIEW_PER_VIEW_ATTRIBUTES_INFO_NVX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_3"><a class="anchor" href="#_promotion_to_vulkan_1_3_3"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_262"><a class="anchor" href="#_version_history_262"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-10-06 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_fence"><a class="anchor" href="#VK_KHR_external_fence"></a>VK_KHR_external_fence</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>114</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_263"><a class="anchor" href="#_other_extension_metadata_263"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_263"><a class="anchor" href="#_description_263"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to create fences from which non-Vulkan
handles that reference the underlying synchronization primitive can be
exported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_7"><a class="anchor" href="#_promotion_to_vulkan_1_1_7"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_228"><a class="anchor" href="#_new_structures_228"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkFenceCreateInfo" class="xref page">VkFenceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkExportFenceCreateInfoKHR" class="xref page">VkExportFenceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_76"><a class="anchor" href="#_new_enums_76"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkFenceImportFlagBitsKHR" class="xref page">VkFenceImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_62"><a class="anchor" href="#_new_bitmasks_62"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkFenceImportFlagsKHR" class="xref page">VkFenceImportFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_263"><a class="anchor" href="#_new_enum_constants_263"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkFenceImportFlagBits" class="xref page">VkFenceImportFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FENCE_IMPORT_TEMPORARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_115"><a class="anchor" href="#_issues_115"></a>Issues</h3>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code>.
That extension&#8217;s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_263"><a class="anchor" href="#_version_history_263"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_fence_capabilities"><a class="anchor" href="#VK_KHR_external_fence_capabilities"></a>VK_KHR_external_fence_capabilities</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>113</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_capabilities] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_264"><a class="anchor" href="#_other_extension_metadata_264"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_264"><a class="anchor" href="#_description_264"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device fences in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of &#8220;external&#8221; fence
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_8"><a class="anchor" href="#_promotion_to_vulkan_1_1_8"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_119"><a class="anchor" href="#_new_commands_119"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalFencePropertiesKHR" class="xref page">vkGetPhysicalDeviceExternalFencePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_229"><a class="anchor" href="#_new_structures_229"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalFencePropertiesKHR" class="xref page">VkExternalFencePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceExternalFenceInfoKHR" class="xref page">VkPhysicalDeviceExternalFenceInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceIDPropertiesKHR" class="xref page">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_77"><a class="anchor" href="#_new_enums_77"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalFenceFeatureFlagBitsKHR" class="xref page">VkExternalFenceFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalFenceHandleTypeFlagBitsKHR" class="xref page">VkExternalFenceHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_63"><a class="anchor" href="#_new_bitmasks_63"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalFenceFeatureFlagsKHR" class="xref page">VkExternalFenceFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalFenceHandleTypeFlagsKHR" class="xref page">VkExternalFenceHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_264"><a class="anchor" href="#_new_enum_constants_264"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalFenceFeatureFlagBits" class="xref page">VkExternalFenceFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalFenceHandleTypeFlagBits" class="xref page">VkExternalFenceHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_264"><a class="anchor" href="#_version_history_264"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_memory"><a class="anchor" href="#VK_KHR_external_memory"></a>VK_KHR_external_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>73</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_265"><a class="anchor" href="#_other_extension_metadata_265"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_265"><a class="anchor" href="#_description_265"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export non-Vulkan handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the scope of the Vulkan logical device that created them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_9"><a class="anchor" href="#_promotion_to_vulkan_1_1_9"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_230"><a class="anchor" href="#_new_structures_230"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkExternalMemoryBufferCreateInfoKHR" class="xref page">VkExternalMemoryBufferCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkExternalMemoryImageCreateInfoKHR" class="xref page">VkExternalMemoryImageCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMemoryAllocateInfoKHR" class="xref page">VkExportMemoryAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_265"><a class="anchor" href="#_new_enum_constants_265"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_BUFFER_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_116"><a class="anchor" href="#_issues_116"></a>Issues</h3>
<div class="paragraph">
<p>1) How do applications correlate two physical devices across process or
Vulkan instance boundaries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: New device ID fields have been introduced by
<code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code>.
These fields, combined with the existing
<a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties" class="xref page">VkPhysicalDeviceProperties</a>::<code>driverVersion</code> field can be used to
identify compatible devices across processes, drivers, and APIs.
<a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties" class="xref page">VkPhysicalDeviceProperties</a>::<code>pipelineCacheUUID</code> is not sufficient
for this purpose because despite its description in the specification, it
need only identify a unique pipeline cache format in practice.
Multiple devices may be able to use the same pipeline cache data, and hence
it would be desirable for all of them to have the same pipeline cache UUID.
However, only the same concrete physical device can be used when sharing
memory, so an actual unique device ID was introduced.
Further, the pipeline cache UUID was specific to Vulkan, but correlation
with other, non-extensible APIs is required to enable interoperation with
those APIs.</p>
</div>
<div class="paragraph">
<p>2) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="../chapters/resources.html#resources-memory-aliasing" class="xref page">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications must take care to obey all restrictions imposed on aliased
resources when using memory across multiple Vulkan instances or other APIs.</p>
</div>
<div class="paragraph">
<p>3) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Separate instances of the same Vulkan driver running on the same
GPU should have identical internal layout semantics, so applications have
the tools they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan- compatible,
and those that are Vulkan-incompatible.
Vulkan-incompatible APIs will require the image to be in the GENERAL layout
whenever they are accessing them.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>4) Is a new barrier flag or operation of some type needed to prepare
external memory for handoff to another Vulkan instance or API and/or receive
it from another instance or API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Some implementations need to perform additional cache management when
transitioning memory between address spaces and other APIs, instances, or
processes which may operate in a separate address space.
Options for defining this transition include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new structure that can be added to the <code>pNext</code> list in
<a href="../chapters/synchronization.html#VkMemoryBarrier" class="xref page">VkMemoryBarrier</a>, <a href="../chapters/synchronization.html#VkBufferMemoryBarrier" class="xref page">VkBufferMemoryBarrier</a>, and
<a href="../chapters/synchronization.html#VkImageMemoryBarrier" class="xref page">VkImageMemoryBarrier</a>.</p>
</li>
<li>
<p>A new bit in <a href="../chapters/synchronization.html#VkAccessFlags" class="xref page">VkAccessFlags</a> that can be set to indicate an
&#8220;external&#8221; access.</p>
</li>
<li>
<p>A new bit in <a href="../chapters/synchronization.html#VkDependencyFlags" class="xref page">VkDependencyFlags</a></p>
</li>
<li>
<p>A new special queue family that represents an &#8220;external&#8221; queue.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A new structure has the advantage that the type of external transition can
be described in as much detail as necessary.
However, there is not currently a known need for anything beyond
differentiating between external and internal accesses, so this is likely an
over-engineered solution.
The access flag bit has the advantage that it can be applied at buffer,
image, or global granularity, and semantically it maps pretty well to the
operation being described.
Additionally, the API already includes <code>VK_ACCESS_MEMORY_READ_BIT</code> and
<code>VK_ACCESS_MEMORY_WRITE_BIT</code> which appear to be intended for this
purpose.
However, there is no obvious pipeline stage that would correspond to an
external access, and therefore no clear way to use
<code>VK_ACCESS_MEMORY_READ_BIT</code> or <code>VK_ACCESS_MEMORY_WRITE_BIT</code>.
<a href="../chapters/synchronization.html#VkDependencyFlags" class="xref page">VkDependencyFlags</a> and <a href="../chapters/synchronization.html#VkPipelineStageFlags" class="xref page">VkPipelineStageFlags</a> operate at command
granularity rather than image or buffer granularity, which would make an
entire pipeline barrier an internal&#8594;external or external&#8594;internal barrier.
This may not be a problem in practice, but seems like the wrong scope.
Another downside of <a href="../chapters/synchronization.html#VkDependencyFlags" class="xref page">VkDependencyFlags</a> is that it lacks inherent
directionality: there are no <code>src</code> and <code>dst</code> variants of it in the
barrier or dependency description semantics, so two bits might need to be
added to describe both internal&#8594;external and external&#8594;internal
transitions.
Transitioning a resource to a special queue family corresponds well with the
operation of transitioning to a separate Vulkan instance, in that both
operations ideally include scheduling a barrier on both sides of the
transition: Both the releasing and the acquiring queue or process.
Using a special queue family requires adding an additional reserved queue
family index.
Re-using <code>VK_QUEUE_FAMILY_IGNORED</code> would have left it unclear how to
transition a concurrent usage resource from one process to another, since
the semantics would have likely been equivalent to the currently-ignored
transition of
<code>VK_QUEUE_FAMILY_IGNORED</code>&#160;&#8594;&#160;<code>VK_QUEUE_FAMILY_IGNORED</code>.
Fortunately, creating a new reserved queue family index is not invasive.</p>
</div>
<div class="paragraph">
<p>Based on the above analysis, the approach of transitioning to a special
&#8220;external&#8221; queue family was chosen.</p>
</div>
<div class="paragraph">
<p>5) Do internal driver memory arrangements and/or other internal driver image
properties need to be exported and imported when sharing images across
processes or APIs.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some vendors claim this is necessary on their implementations,
but it was determined that the security risks of allowing opaque metadata to
be passed from applications to the driver were too high.
Therefore, implementations which require metadata will need to associate it
with the objects represented by the external handles, and rely on the
dedicated allocation mechanism to associate the exported and imported memory
objects with a single image or buffer.</p>
</div>
<div class="paragraph">
<p>6) Most prior interoperation and cross-process sharing APIs have been based
on image-level sharing.
Should Vulkan sharing be based on memory-object sharing or image sharing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These extensions have assumed memory-level sharing is the
correct granularity.
Vulkan is a lower-level API than most prior APIs, and as such attempts to
closely align with to the underlying primitives of the hardware and
system-level drivers it abstracts.
In general, the resource that holds the backing store for both images and
buffers of various types is memory.
Images and buffers are merely metadata containing brief descriptions of the
layout of bits within that memory.</p>
</div>
<div class="paragraph">
<p>Because memory object-based sharing is aligned with the overall Vulkan API
design, it enables the full range of Vulkan capabilities with external
objects.
External memory can be used as backing for sparse images, for example,
whereas such usage would be awkward at best with a sharing mechanism based
on higher-level primitives such as images.
Further, aligning the mechanism with the API in this way provides some hope
of trivial compatibility with future API enhancements.
If new objects backed by memory objects are added to the API, they too can
be used across processes with minimal additions to the base external memory
APIs.</p>
</div>
<div class="paragraph">
<p>Earlier APIs implemented interop at a higher level, and this necessitated
entirely separate sharing APIs for images and buffers.
To co-exist and interoperate with those APIs, the Vulkan external sharing
mechanism must accommodate their model.
However, if it can be agreed that memory-based sharing is the more desirable
and forward-looking design, legacy interoperation constraints can be
considered another reason to favor memory-based sharing: while native and
legacy driver primitives that may be used to implement sharing may not be as
low-level as the API here suggests, raw memory is still the least common
denominator among the types.
Image-based sharing can be cleanly derived from a set of base memory- object
sharing APIs with minimal effort, whereas image-based sharing does not
generalize well to buffer or raw-memory sharing.
Therefore, following the general Vulkan design principle of minimalism, it
is better to expose interopability with image-based native and external
primitives via the memory sharing API, and place sufficient limits on their
usage to ensure they can be used only as backing for equivalent Vulkan
images.
This provides a consistent API for applications regardless of which platform
or external API they are targeting, which makes development of multi-API and
multi-platform applications simpler.</p>
</div>
<div class="paragraph">
<p>7) Should Vulkan define a common external handle type and provide Vulkan
functions to facilitate cross-process sharing of such handles rather than
relying on native handles to define the external objects?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Cross-process sharing of resources is best left to native platforms.
There are myriad security and extensibility issues with such a mechanism,
and attempting to re-solve all those issues within Vulkan does not align
with Vulkan&#8217;s purpose as a graphics API.
If desired, such a mechanism could be built as a layer or helper library on
top of the opaque native handle defined in this family of extensions.</p>
</div>
<div class="paragraph">
<p>8) Must implementations provide additional guarantees about state implicitly
included in memory objects for those memory objects that may be exported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must ensure that sharing memory objects does not
transfer any information between the exporting and importing instances and
APIs other than that required to share the data contained in the memory
objects explicitly shared.
As specific examples, data from previously freed memory objects that used
the same underlying physical memory, and data from memory obects using
adjacent physical memory must not be visible to applications importing an
exported memory object.</p>
</div>
<div class="paragraph">
<p>9) Must implementations validate external handles the application provides
as inputs to memory import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided memory handle cannot be used to complete the requested import
operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_265"><a class="anchor" href="#_version_history_265"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_memory_capabilities"><a class="anchor" href="#VK_KHR_external_memory_capabilities"></a>VK_KHR_external_memory_capabilities</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>72</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_capabilities] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_266"><a class="anchor" href="#_other_extension_metadata_266"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-17</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_266"><a class="anchor" href="#_description_266"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of &#8220;external&#8221; memory
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_10"><a class="anchor" href="#_promotion_to_vulkan_1_1_10"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_120"><a class="anchor" href="#_new_commands_120"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalBufferPropertiesKHR" class="xref page">vkGetPhysicalDeviceExternalBufferPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_231"><a class="anchor" href="#_new_structures_231"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalBufferPropertiesKHR" class="xref page">VkExternalBufferPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryPropertiesKHR" class="xref page">VkExternalMemoryPropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceExternalBufferInfoKHR" class="xref page">VkPhysicalDeviceExternalBufferInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalImageFormatPropertiesKHR" class="xref page">VkExternalImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceExternalImageFormatInfoKHR" class="xref page">VkPhysicalDeviceExternalImageFormatInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceIDPropertiesKHR" class="xref page">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_78"><a class="anchor" href="#_new_enums_78"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryFeatureFlagBitsKHR" class="xref page">VkExternalMemoryFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBitsKHR" class="xref page">VkExternalMemoryHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_64"><a class="anchor" href="#_new_bitmasks_64"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryFeatureFlagsKHR" class="xref page">VkExternalMemoryFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagsKHR" class="xref page">VkExternalMemoryHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_266"><a class="anchor" href="#_new_enum_constants_266"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryFeatureFlagBits" class="xref page">VkExternalMemoryFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalMemoryHandleTypeFlagBits" class="xref page">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_117"><a class="anchor" href="#_issues_117"></a>Issues</h3>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This is because some handle types are based on
OS-native objects that have far more limited capabilities than the very
generic Vulkan memory objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Do the <a href="../chapters/capabilities.html#VkExternalImageFormatPropertiesKHR" class="xref page">VkExternalImageFormatPropertiesKHR</a> and
<a href="../chapters/capabilities.html#VkExternalBufferPropertiesKHR" class="xref page">VkExternalBufferPropertiesKHR</a> structs need to include a list of memory
type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
The memory types that do not support the handle types will simply be
filtered out of the results returned by <a href="../chapters/resources.html#vkGetImageMemoryRequirements" class="xref page">vkGetImageMemoryRequirements</a>
and <a href="../chapters/resources.html#vkGetBufferMemoryRequirements" class="xref page">vkGetBufferMemoryRequirements</a> when a set of handle types was
specified at image or buffer creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it is easier to maintain the
bitfield values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
<div class="paragraph">
<p>4) Do we need a <code>D3D11_TILEPOOL</code> type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
This is technically possible, but the synchronization is awkward.
D3D11 surfaces must be synchronized using shared mutexes, and these
synchronization primitives are shared by the entire memory object, so D3D11
shared allocations divided among multiple buffer and image bindings may be
difficult to synchronize.</p>
</div>
<div class="paragraph">
<p>5) Should the Windows 7-compatible handle types be named &#8220;KMT&#8221; handles or
&#8220;GLOBAL_SHARE&#8221; handles?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: KMT, simply because it is more concise.</p>
</div>
<div class="paragraph">
<p>6) How do applications identify compatible devices and drivers across
instance, process, and API boundaries when sharing memory?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: New device properties are exposed that allow
applications to correctly correlate devices and drivers.
A device and driver UUID that must both match to ensure sharing
compatibility between two Vulkan instances, or a Vulkan instance and an
extensible external API are added.
To allow correlating with Direct3D devices, a device LUID is added that
corresponds to a DXGI adapter LUID.
A driver ID is not needed for Direct3D because mismatched driver component
versions are not currently supported on the Windows OS.
Should support for such configurations be introduced at the OS level,
further Vulkan extensions would be needed to correlate userspace component
builds.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_266"><a class="anchor" href="#_version_history_266"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_semaphore"><a class="anchor" href="#VK_KHR_external_semaphore"></a>VK_KHR_external_semaphore</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>78</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_267"><a class="anchor" href="#_other_extension_metadata_267"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_267"><a class="anchor" href="#_description_267"></a>Description</h3>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to create semaphores from which
non-Vulkan handles that reference the underlying synchronization primitive
can be exported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_11"><a class="anchor" href="#_promotion_to_vulkan_1_1_11"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_232"><a class="anchor" href="#_new_structures_232"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkExportSemaphoreCreateInfoKHR" class="xref page">VkExportSemaphoreCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_79"><a class="anchor" href="#_new_enums_79"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreImportFlagBitsKHR" class="xref page">VkSemaphoreImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_65"><a class="anchor" href="#_new_bitmasks_65"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreImportFlagsKHR" class="xref page">VkSemaphoreImportFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_267"><a class="anchor" href="#_new_enum_constants_267"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreImportFlagBits" class="xref page">VkSemaphoreImportFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_IMPORT_TEMPORARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_118"><a class="anchor" href="#_issues_118"></a>Issues</h3>
<div class="paragraph">
<p>1) Should there be restrictions on what side effects can occur when waiting
on imported semaphores that are in an invalid state?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Normally, validating such state would be the responsibility of the
application, and the implementation would be free to enter an <strong>undefined</strong>
state if valid usage rules were violated.
However, this could cause security concerns when using imported semaphores,
as it would require the importing application to trust the exporting
application to ensure the state is valid.
Requiring this level of trust is undesirable for many potential use cases.</p>
</div>
<div class="paragraph">
<p>2) Must implementations validate external handles the application provides
as input to semaphore state import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided semaphore state handle cannot be used to complete the requested
import operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_267"><a class="anchor" href="#_version_history_267"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_external_semaphore_capabilities"><a class="anchor" href="#VK_KHR_external_semaphore_capabilities"></a>VK_KHR_external_semaphore_capabilities</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>77</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_capabilities] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_268"><a class="anchor" href="#_other_extension_metadata_268"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_268"><a class="anchor" href="#_description_268"></a>Description</h3>
<div class="paragraph">
<p>An application may wish to reference device semaphores in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of &#8220;external&#8221; semaphore
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_12"><a class="anchor" href="#_promotion_to_vulkan_1_1_12"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_121"><a class="anchor" href="#_new_commands_121"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalSemaphorePropertiesKHR" class="xref page">vkGetPhysicalDeviceExternalSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_233"><a class="anchor" href="#_new_structures_233"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalSemaphorePropertiesKHR" class="xref page">VkExternalSemaphorePropertiesKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceExternalSemaphoreInfoKHR" class="xref page">VkPhysicalDeviceExternalSemaphoreInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceIDPropertiesKHR" class="xref page">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_80"><a class="anchor" href="#_new_enums_80"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalSemaphoreFeatureFlagBitsKHR" class="xref page">VkExternalSemaphoreFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalSemaphoreHandleTypeFlagBitsKHR" class="xref page">VkExternalSemaphoreHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_66"><a class="anchor" href="#_new_bitmasks_66"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalSemaphoreFeatureFlagsKHR" class="xref page">VkExternalSemaphoreFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkExternalSemaphoreHandleTypeFlagsKHR" class="xref page">VkExternalSemaphoreHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_268"><a class="anchor" href="#_new_enum_constants_268"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalSemaphoreFeatureFlagBits" class="xref page">VkExternalSemaphoreFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkExternalSemaphoreHandleTypeFlagBits" class="xref page">VkExternalSemaphoreHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_268"><a class="anchor" href="#_version_history_268"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_format_feature_flags2"><a class="anchor" href="#VK_KHR_format_feature_flags2"></a>VK_KHR_format_feature_flags2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_format_feature_flags2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>361</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_format_feature_flags2] @llandwerlin%0A*Here describe the issue or question you have about the VK_KHR_format_feature_flags2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>llandwerlin</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_269"><a class="anchor" href="#_other_extension_metadata_269"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-07-01</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Spencer Fricke, Samsung Electronics</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_269"><a class="anchor" href="#_description_269"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new <a href="../chapters/formats.html#VkFormatFeatureFlagBits2KHR" class="xref page">VkFormatFeatureFlagBits2KHR</a> 64bits format
feature flag type to extend the existing <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a> which
is limited to 31 flags.
At the time of this writing 29 bits of <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a> are
already used.</p>
</div>
<div class="paragraph">
<p>Because <a href="../chapters/formats.html#VkFormatProperties2" class="xref page">VkFormatProperties2</a> is already defined to extend the Vulkan
1.0 <a href="../chapters/formats.html#vkGetPhysicalDeviceFormatProperties" class="xref page">vkGetPhysicalDeviceFormatProperties</a> entry point, this extension
defines a new <a href="../chapters/formats.html#VkFormatProperties3KHR" class="xref page">VkFormatProperties3KHR</a> to extend the
<a href="../chapters/formats.html#VkFormatProperties" class="xref page">VkFormatProperties</a>.</p>
</div>
<div class="paragraph">
<p>On top of replicating all the bits from <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>,
<a href="../chapters/formats.html#VkFormatFeatureFlagBits2KHR" class="xref page">VkFormatFeatureFlagBits2KHR</a> adds the following bits :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT_KHR</code> indicate
that an implementation supports respectively reading and writing a given
<a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a> through storage operations without specifying the format
in the shader.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT_KHR</code>
indicates that an implementation supports depth comparison performed by
<code>OpImage*Dref*</code> instructions on a given <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>.
Previously the result of executing a <code>OpImage*Dref*</code> instruction on
an image view, where the <code>format</code> was not one of the depth/stencil
formats with a depth component, was undefined.
This bit clarifies on which formats such instructions can be used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prior to version 2 of this extension, implementations exposing the
<a href="../chapters/features.html#features-shaderStorageImageReadWithoutFormat" class="xref page"><code>shaderStorageImageReadWithoutFormat</code></a> and
<a href="../chapters/features.html#features-shaderStorageImageWriteWithoutFormat" class="xref page"><code>shaderStorageImageWriteWithoutFormat</code></a> features may not report
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT_KHR</code> in
<a href="../chapters/formats.html#VkFormatProperties3KHR" class="xref page">VkFormatProperties3KHR</a>::<code>bufferFeatures</code>.
Despite this, buffer reads/writes are supported as intended by the original
features.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_234"><a class="anchor" href="#_new_structures_234"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatProperties2" class="xref page">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkFormatProperties3KHR" class="xref page">VkFormatProperties3KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_81"><a class="anchor" href="#_new_enums_81"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkFormatFeatureFlagBits2KHR" class="xref page">VkFormatFeatureFlagBits2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_67"><a class="anchor" href="#_new_bitmasks_67"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkFormatFeatureFlags2KHR" class="xref page">VkFormatFeatureFlags2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_269"><a class="anchor" href="#_new_enum_constants_269"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FORMAT_FEATURE_FLAGS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FORMAT_FEATURE_FLAGS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_3_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_4"><a class="anchor" href="#_promotion_to_vulkan_1_3_4"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_269"><a class="anchor" href="#_version_history_269"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-07-20 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that
VK_FORMAT_FEATURE_2_STORAGE_(READ|WRITE)_WITHOUT_FORMAT_BIT also apply
to buffer views.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-07-21 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_get_memory_requirements2"><a class="anchor" href="#VK_KHR_get_memory_requirements2"></a>VK_KHR_get_memory_requirements2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_memory_requirements2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>147</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_memory_requirements2] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_get_memory_requirements2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_270"><a class="anchor" href="#_other_extension_metadata_270"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_270"><a class="anchor" href="#_description_270"></a>Description</h3>
<div class="paragraph">
<p>This extension provides new queries for memory requirements of images and
buffers that can be easily extended by other extensions, without introducing
any further entry points.
The Vulkan 1.0 <a href="../chapters/resources.html#VkMemoryRequirements" class="xref page">VkMemoryRequirements</a> and
<a href="../chapters/sparsemem.html#VkSparseImageMemoryRequirements" class="xref page">VkSparseImageMemoryRequirements</a> structures do not include <code>sType</code>
and <code>pNext</code> members.
This extension wraps them in new structures with these members, so an
application can query a chain of memory requirements structures by
constructing the chain and letting the implementation fill them in.
A new command is added for each <code>vkGet*MemoryRequrements</code> command in
core Vulkan 1.0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_13"><a class="anchor" href="#_promotion_to_vulkan_1_1_13"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_122"><a class="anchor" href="#_new_commands_122"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkGetBufferMemoryRequirements2KHR" class="xref page">vkGetBufferMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetImageMemoryRequirements2KHR" class="xref page">vkGetImageMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#vkGetImageSparseMemoryRequirements2KHR" class="xref page">vkGetImageSparseMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_235"><a class="anchor" href="#_new_structures_235"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferMemoryRequirementsInfo2KHR" class="xref page">VkBufferMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkImageMemoryRequirementsInfo2KHR" class="xref page">VkImageMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#VkImageSparseMemoryRequirementsInfo2KHR" class="xref page">VkImageSparseMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkMemoryRequirements2KHR" class="xref page">VkMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#VkSparseImageMemoryRequirements2KHR" class="xref page">VkSparseImageMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_270"><a class="anchor" href="#_new_enum_constants_270"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_MEMORY_REQUIREMENTS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_MEMORY_REQUIREMENTS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SPARSE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_270"><a class="anchor" href="#_version_history_270"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_get_physical_device_properties2"><a class="anchor" href="#VK_KHR_get_physical_device_properties2"></a>VK_KHR_get_physical_device_properties2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_physical_device_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>60</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_physical_device_properties2] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_get_physical_device_properties2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_271"><a class="anchor" href="#_other_extension_metadata_271"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_271"><a class="anchor" href="#_description_271"></a>Description</h3>
<div class="paragraph">
<p>This extension provides new queries for device features, device properties,
and format properties that can be easily extended by other extensions,
without introducing any further queries.
The Vulkan 1.0 feature/limit/formatproperty structures do not include
<code>sType</code>/<code>pNext</code> members.
This extension wraps them in new structures with <code>sType</code>/<code>pNext</code>
members, so an application can query a chain of feature/limit/formatproperty
structures by constructing the chain and letting the implementation fill
them in.
A new command is added for each <code>vkGetPhysicalDevice*</code> command in core
Vulkan 1.0.
The new feature structure (and a <code>pNext</code> chain of extending structures)
can also be passed in to device creation to enable features.</p>
</div>
<div class="paragraph">
<p>This extension also allows applications to use the physical-device
components of device extensions before <a href="../chapters/devsandqueues.html#vkCreateDevice" class="xref page">vkCreateDevice</a> is called.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_14"><a class="anchor" href="#_promotion_to_vulkan_1_1_14"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_123"><a class="anchor" href="#_new_commands_123"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#vkGetPhysicalDeviceFeatures2KHR" class="xref page">vkGetPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="../chapters/formats.html#vkGetPhysicalDeviceFormatProperties2KHR" class="xref page">vkGetPhysicalDeviceFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceImageFormatProperties2KHR" class="xref page">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#vkGetPhysicalDeviceMemoryProperties2KHR" class="xref page">vkGetPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#vkGetPhysicalDeviceProperties2KHR" class="xref page">vkGetPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#vkGetPhysicalDeviceQueueFamilyProperties2KHR" class="xref page">vkGetPhysicalDeviceQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#vkGetPhysicalDeviceSparseImageFormatProperties2KHR" class="xref page">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_236"><a class="anchor" href="#_new_structures_236"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/formats.html#VkFormatProperties2KHR" class="xref page">VkFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkImageFormatProperties2KHR" class="xref page">VkImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2KHR" class="xref page">VkPhysicalDeviceImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkPhysicalDeviceMemoryProperties2KHR" class="xref page">VkPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2KHR" class="xref page">VkPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#VkPhysicalDeviceSparseImageFormatInfo2KHR" class="xref page">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2KHR" class="xref page">VkQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#VkSparseImageFormatProperties2KHR" class="xref page">VkSparseImageFormatProperties2KHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFeatures2KHR" class="xref page">VkPhysicalDeviceFeatures2KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_271"><a class="anchor" href="#_new_enum_constants_271"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_35"><a class="anchor" href="#_examples_35"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    // Get features with a hypothetical future extension.
    VkHypotheticalExtensionFeaturesKHR hypotheticalFeatures =
    {
        .sType = VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,
        .pNext = NULL,
    };

    VkPhysicalDeviceFeatures2KHR features =
    {
        .sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,
        .pNext = &amp;hypotheticalFeatures,
    };

    // After this call, features and hypotheticalFeatures have been filled out.
    vkGetPhysicalDeviceFeatures2KHR(physicalDevice, &amp;features);

    // Properties/limits can be chained and queried similarly.

    // Enable some features:
    VkHypotheticalExtensionFeaturesKHR enabledHypotheticalFeatures =
    {
        .sType = VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,
        .pNext = NULL,
    };

    VkPhysicalDeviceFeatures2KHR enabledFeatures =
    {
        .sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,
        .pNext = &amp;enabledHypotheticalFeatures,
    };

    enabledFeatures.features.xyz = VK_TRUE;
    enabledHypotheticalFeatures.abc = VK_TRUE;

    VkDeviceCreateInfo deviceCreateInfo =
    {
        .sType = VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO,
        .pNext = &amp;enabledFeatures,
        ...
        .pEnabledFeatures = NULL,
    };

    VkDevice device;
    vkCreateDevice(physicalDevice, &amp;deviceCreateInfo, NULL, &amp;device);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_271"><a class="anchor" href="#_version_history_271"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added ability for applications to use the physical-device components of
device extensions before vkCreateDevice is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_image_format_list"><a class="anchor" href="#VK_KHR_image_format_list"></a>VK_KHR_image_format_list</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_image_format_list</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>148</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_image_format_list] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_image_format_list extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_272"><a class="anchor" href="#_other_extension_metadata_272"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_272"><a class="anchor" href="#_description_272"></a>Description</h3>
<div class="paragraph">
<p>On some implementations, setting the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> on image creation can cause access
to that image to perform worse than an equivalent image created without
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> because the implementation does not
know what view formats will be paired with the image.</p>
</div>
<div class="paragraph">
<p>This extension allows an application to provide the list of all formats that
<strong>can</strong> be used with an image when it is created.
The implementation may then be able to create a more efficient image that
supports the subset of formats required by the application without having to
support all formats in the format compatibility class of the image format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_7"><a class="anchor" href="#_promotion_to_vulkan_1_2_7"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_237"><a class="anchor" href="#_new_structures_237"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/VK_KHR_surface/wsi.html#VkSwapchainCreateInfoKHR" class="xref page">VkSwapchainCreateInfoKHR</a>, <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageFormatListCreateInfoKHR" class="xref page">VkImageFormatListCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_272"><a class="anchor" href="#_new_enum_constants_272"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_IMAGE_FORMAT_LIST_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_IMAGE_FORMAT_LIST_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_LIST_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_272"><a class="anchor" href="#_version_history_272"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_imageless_framebuffer"><a class="anchor" href="#VK_KHR_imageless_framebuffer"></a>VK_KHR_imageless_framebuffer</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_imageless_framebuffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>109</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br>
and<br>
<a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_imageless_framebuffer] @tobias%0A*Here describe the issue or question you have about the VK_KHR_imageless_framebuffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_273"><a class="anchor" href="#_other_extension_metadata_273"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Graham Wihlidal</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_273"><a class="anchor" href="#_description_273"></a>Description</h3>
<div class="paragraph">
<p>This extension allows framebuffers to be created without the need for
creating images first, allowing more flexibility in how they are used, and
avoiding the need for many of the confusing compatibility rules.</p>
</div>
<div class="paragraph">
<p>Framebuffers are now created with a small amount of additional metadata
about the image views that will be used in
<a href="../chapters/renderpass.html#VkFramebufferAttachmentsCreateInfoKHR" class="xref page">VkFramebufferAttachmentsCreateInfoKHR</a>, and the actual image views are
provided at render pass begin time via
<a href="../chapters/renderpass.html#VkRenderPassAttachmentBeginInfoKHR" class="xref page">VkRenderPassAttachmentBeginInfoKHR</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_8"><a class="anchor" href="#_promotion_to_vulkan_1_2_8"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_238"><a class="anchor" href="#_new_structures_238"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkFramebufferAttachmentImageInfoKHR" class="xref page">VkFramebufferAttachmentImageInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkFramebufferCreateInfo" class="xref page">VkFramebufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkFramebufferAttachmentsCreateInfoKHR" class="xref page">VkFramebufferAttachmentsCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImagelessFramebufferFeaturesKHR" class="xref page">VkPhysicalDeviceImagelessFramebufferFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassBeginInfo" class="xref page">VkRenderPassBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassAttachmentBeginInfoKHR" class="xref page">VkRenderPassAttachmentBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_273"><a class="anchor" href="#_new_enum_constants_273"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_IMAGELESS_FRAMEBUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_IMAGELESS_FRAMEBUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkFramebufferCreateFlagBits" class="xref page">VkFramebufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENTS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGELESS_FRAMEBUFFER_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_ATTACHMENT_BEGIN_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_273"><a class="anchor" href="#_version_history_273"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance1"><a class="anchor" href="#VK_KHR_maintenance1"></a>VK_KHR_maintenance1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance1] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_274"><a class="anchor" href="#_other_extension_metadata_274"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-13</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Neil Henning, Codeplay Software Ltd.</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_274"><a class="anchor" href="#_description_274"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_maintenance1</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow 2D and 2D array image views to be created from 3D images, which
can then be used as color framebuffer attachments.
This allows applications to render to slices of a 3D image.</p>
</li>
<li>
<p>Support <a href="../chapters/copies.html#vkCmdCopyImage" class="xref page">vkCmdCopyImage</a> between 2D array layers and 3D slices.
This extension allows copying from layers of a 2D array image to slices
of a 3D image and vice versa.</p>
</li>
<li>
<p>Allow negative height to be specified in the
<a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
<li>
<p>Allow implementations to express support for doing just transfers and
clears of image formats that they otherwise support no other format
features for.
This is done by adding new format feature flags
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.</p>
</li>
<li>
<p>Support <a href="../chapters/clears.html#vkCmdFillBuffer" class="xref page">vkCmdFillBuffer</a> on transfer-only queues.
Previously <a href="../chapters/clears.html#vkCmdFillBuffer" class="xref page">vkCmdFillBuffer</a> was defined to only work on command
buffers allocated from command pools which support graphics or compute
queues.
It is now allowed on queues that just support transfer operations.</p>
</li>
<li>
<p>Fix the inconsistency of how error conditions are returned between the
<a href="../chapters/pipelines.html#vkCreateGraphicsPipelines" class="xref page">vkCreateGraphicsPipelines</a> and <a href="../chapters/pipelines.html#vkCreateComputePipelines" class="xref page">vkCreateComputePipelines</a>
functions and the <a href="../chapters/descriptorsets.html#vkAllocateDescriptorSets" class="xref page">vkAllocateDescriptorSets</a> and
<a href="../chapters/cmdbuffers.html#vkAllocateCommandBuffers" class="xref page">vkAllocateCommandBuffers</a> functions.</p>
</li>
<li>
<p>Add new <code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> error so implementations
can give a more precise reason for <a href="../chapters/descriptorsets.html#vkAllocateDescriptorSets" class="xref page">vkAllocateDescriptorSets</a>
failures.</p>
</li>
<li>
<p>Add a new command <a href="../chapters/cmdbuffers.html#vkTrimCommandPoolKHR" class="xref page">vkTrimCommandPoolKHR</a> which gives the
implementation an opportunity to release any unused command pool memory
back to the system.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_15"><a class="anchor" href="#_promotion_to_vulkan_1_1_15"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_124"><a class="anchor" href="#_new_commands_124"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#vkTrimCommandPoolKHR" class="xref page">vkTrimCommandPoolKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_68"><a class="anchor" href="#_new_bitmasks_68"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandPoolTrimFlagsKHR" class="xref page">VkCommandPoolTrimFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_274"><a class="anchor" href="#_new_enum_constants_274"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE1_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_119"><a class="anchor" href="#_issues_119"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Are viewports with zero height allowed?</p>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, although they have low utility.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_274"><a class="anchor" href="#_version_history_274"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-26 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-03-13 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue for zero-height viewports</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance2"><a class="anchor" href="#VK_KHR_maintenance2"></a>VK_KHR_maintenance2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>118</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance2] @michaelworcester%0A*Here describe the issue or question you have about the VK_KHR_maintenance2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>michaelworcester</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_275"><a class="anchor" href="#_other_extension_metadata_275"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_275"><a class="anchor" href="#_description_275"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_maintenance2</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to specify which aspect of an input attachment
might be read for a given subpass.</p>
</li>
<li>
<p>Allow implementations to express the clipping behavior of points.</p>
</li>
<li>
<p>Allow creating images with usage flags that may not be supported for the
base image&#8217;s format, but are supported for image views of the image that
have a different but compatible format.</p>
</li>
<li>
<p>Allow creating uncompressed image views of compressed images.</p>
</li>
<li>
<p>Allow the application to select between an upper-left and lower-left
origin for the tessellation domain space.</p>
</li>
<li>
<p>Adds two new image layouts for depth stencil images to allow either the
depth or stencil aspect to be read-only while the other aspect is
writable.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_input_attachment_specification"><a class="anchor" href="#_input_attachment_specification"></a>Input Attachment Specification</h3>
<div class="paragraph">
<p>Input attachment specification allows an application to specify which aspect
of a multi-aspect image (e.g. a depth/stencil format) will be accessed via a
<code>subpassLoad</code> operation.</p>
</div>
<div class="paragraph">
<p>On some implementations there <strong>may</strong> be a performance penalty if the
implementation does not know (at <a href="../chapters/renderpass.html#vkCreateRenderPass" class="xref page">vkCreateRenderPass</a> time) which
aspect(s) of multi-aspect images <strong>can</strong> be accessed as input attachments.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_16"><a class="anchor" href="#_promotion_to_vulkan_1_1_16"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_239"><a class="anchor" href="#_new_structures_239"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkInputAttachmentAspectReferenceKHR" class="xref page">VkInputAttachmentAspectReferenceKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageViewUsageCreateInfoKHR" class="xref page">VkImageViewUsageCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDevicePointClippingPropertiesKHR" class="xref page">VkPhysicalDevicePointClippingPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/tessellation.html#VkPipelineTessellationStateCreateInfo" class="xref page">VkPipelineTessellationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/tessellation.html#VkPipelineTessellationDomainOriginStateCreateInfoKHR" class="xref page">VkPipelineTessellationDomainOriginStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateInfo" class="xref page">VkRenderPassCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassInputAttachmentAspectCreateInfoKHR" class="xref page">VkRenderPassInputAttachmentAspectCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_82"><a class="anchor" href="#_new_enums_82"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/vertexpostproc.html#VkPointClippingBehaviorKHR" class="xref page">VkPointClippingBehaviorKHR</a></p>
</li>
<li>
<p><a href="../chapters/tessellation.html#VkTessellationDomainOriginKHR" class="xref page">VkTessellationDomainOriginKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_275"><a class="anchor" href="#_new_enum_constants_275"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE2_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/vertexpostproc.html#VkPointClippingBehavior" class="xref page">VkPointClippingBehavior</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES_KHR</code></p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_USAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_POINT_CLIPPING_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_DOMAIN_ORIGIN_STATE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/tessellation.html#VkTessellationDomainOrigin" class="xref page">VkTessellationDomainOrigin</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_TESSELLATION_DOMAIN_ORIGIN_LOWER_LEFT_KHR</code></p>
</li>
<li>
<p><code>VK_TESSELLATION_DOMAIN_ORIGIN_UPPER_LEFT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_input_attachment_specification_example"><a class="anchor" href="#_input_attachment_specification_example"></a>Input Attachment Specification Example</h3>
<div class="paragraph">
<p>Consider the case where a render pass has two subpasses and two attachments.</p>
</div>
<div class="paragraph">
<p>Attachment 0 has the format <code>VK_FORMAT_D24_UNORM_S8_UINT</code>, attachment 1
has some color format.</p>
</div>
<div class="paragraph">
<p>Subpass 0 writes to attachment 0, subpass 1 reads only the depth information
from attachment 0 (using inputAttachmentRead) and writes to attachment 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkInputAttachmentAspectReferenceKHR references[] = {
        {
            .subpass = 1,
            .inputAttachmentIndex = 0,
            .aspectMask = VK_IMAGE_ASPECT_DEPTH_BIT
        }
    };

    VkRenderPassInputAttachmentAspectCreateInfoKHR specifyAspects = {
        .sType = VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR,
        .pNext = NULL,
        .aspectReferenceCount = 1,
        .pAspectReferences = references
    };


    VkRenderPassCreateInfo createInfo = {
        ...
        .pNext = &amp;specifyAspects,
        ...
    };

    vkCreateRenderPass(...);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_120"><a class="anchor" href="#_issues_120"></a>Issues</h3>
<div class="paragraph">
<p>1) What is the default tessellation domain origin?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vulkan 1.0 originally inadvertently documented a lower-left
origin, but the conformance tests and all implementations implemented an
upper-left origin.
This extension adds a control to select between lower-left (for
compatibility with OpenGL) and upper-left, and we retroactively fix
unextended Vulkan to have a default of an upper-left origin.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_275"><a class="anchor" href="#_version_history_275"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-04-28</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance3"><a class="anchor" href="#VK_KHR_maintenance3"></a>VK_KHR_maintenance3</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>169</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance3] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_maintenance3 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_276"><a class="anchor" href="#_other_extension_metadata_276"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_276"><a class="anchor" href="#_description_276"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_maintenance3</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A limit on the maximum number of descriptors that are supported in a
single descriptor set layout.
Some implementations have a limit on the total size of descriptors in a
set, which cannot be expressed in terms of the limits in Vulkan 1.0.</p>
</li>
<li>
<p>A limit on the maximum size of a single memory allocation.
Some platforms have kernel interfaces that limit the maximum size of an
allocation.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_17"><a class="anchor" href="#_promotion_to_vulkan_1_1_17"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_125"><a class="anchor" href="#_new_commands_125"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetDescriptorSetLayoutSupportKHR" class="xref page">vkGetDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_240"><a class="anchor" href="#_new_structures_240"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutSupportKHR" class="xref page">VkDescriptorSetLayoutSupportKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMaintenance3PropertiesKHR" class="xref page">VkPhysicalDeviceMaintenance3PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_276"><a class="anchor" href="#_new_enum_constants_276"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE3_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_3_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_3_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_276"><a class="anchor" href="#_version_history_276"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-22</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_maintenance4"><a class="anchor" href="#VK_KHR_maintenance4"></a>VK_KHR_maintenance4</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance4</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>414</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance4] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_maintenance4 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_277"><a class="anchor" href="#_other_extension_metadata_277"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
<li>
<p>Requires SPIR-V 1.2 for <code>LocalSizeId</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Duc, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Yiwei Zhang, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_277"><a class="anchor" href="#_description_277"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_maintenance4</code> adds a collection of minor features, none of which
would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to destroy their <a href="../chapters/descriptorsets.html#VkPipelineLayout" class="xref page">VkPipelineLayout</a> object
immediately after it was used to create another object.
It is no longer necessary to keep its handle valid while the created
object is in use.</p>
</li>
<li>
<p>Add a new <a href="../chapters/devsandqueues.html#limits-maxBufferSize" class="xref page"><code>maxBufferSize</code></a>
implementation-defined limit for the maximum size <code>VkBuffer</code> that
<strong>can</strong> be created.</p>
</li>
<li>
<p>Add support for the SPIR-V 1.2 <code>LocalSizeId</code> execution mode, which
can be used as an alternative to <code>LocalSize</code> to specify the local
workgroup size with specialization constants.</p>
</li>
<li>
<p>Add a guarantee that images created with identical creation parameters
will always have the same alignment requirements.</p>
</li>
<li>
<p>Add new <a href="../chapters/resources.html#vkGetDeviceBufferMemoryRequirementsKHR" class="xref page">vkGetDeviceBufferMemoryRequirementsKHR</a>,
<a href="../chapters/resources.html#vkGetDeviceImageMemoryRequirementsKHR" class="xref page">vkGetDeviceImageMemoryRequirementsKHR</a>, and
<a href="../chapters/sparsemem.html#vkGetDeviceImageSparseMemoryRequirementsKHR" class="xref page">vkGetDeviceImageSparseMemoryRequirementsKHR</a> to allow the
application to query the image memory requirements without having to
create an image object and query it.</p>
</li>
<li>
<p>Relax the requirement that push constants must be initialized before
they are dynamically accessed.</p>
</li>
<li>
<p>Relax the interface matching rules to allow a larger output vector to
match with a smaller input vector, with additional values being
discarded.</p>
</li>
<li>
<p>Add a guarantee for buffer memory requirement that the size memory
requirement is never greater than the result of aligning create size
with the alignment memory requirement.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_126"><a class="anchor" href="#_new_commands_126"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#vkGetDeviceBufferMemoryRequirementsKHR" class="xref page">vkGetDeviceBufferMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#vkGetDeviceImageMemoryRequirementsKHR" class="xref page">vkGetDeviceImageMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="../chapters/sparsemem.html#vkGetDeviceImageSparseMemoryRequirementsKHR" class="xref page">vkGetDeviceImageSparseMemoryRequirementsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_241"><a class="anchor" href="#_new_structures_241"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkDeviceBufferMemoryRequirementsKHR" class="xref page">VkDeviceBufferMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="../chapters/resources.html#VkDeviceImageMemoryRequirementsKHR" class="xref page">VkDeviceImageMemoryRequirementsKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMaintenance4FeaturesKHR" class="xref page">VkPhysicalDeviceMaintenance4FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMaintenance4PropertiesKHR" class="xref page">VkPhysicalDeviceMaintenance4PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_277"><a class="anchor" href="#_new_enum_constants_277"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE_4_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_4_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageAspectFlagBits" class="xref page">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_BUFFER_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_IMAGE_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_4_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_4_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_5"><a class="anchor" href="#_promotion_to_vulkan_1_3_5"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_121"><a class="anchor" href="#_issues_121"></a>Issues</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_277"><a class="anchor" href="#_version_history_277"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-08-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-10-25 (Yiwei Zhang)</p>
<div class="ulist">
<ul>
<li>
<p>More guarantees on buffer memory requirements</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_multiview"><a class="anchor" href="#VK_KHR_multiview"></a>VK_KHR_multiview</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_multiview</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>54</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_multiview] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_multiview extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_278"><a class="anchor" href="#_other_extension_metadata_278"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_multiview.html"><code>SPV_KHR_multiview</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_multiview.txt"><code>GL_EXT_multiview</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_278"><a class="anchor" href="#_description_278"></a>Description</h3>
<div class="paragraph">
<p>This extension has the same goal as the OpenGL ES <code>GL_OVR_multiview</code>
extension.
Multiview is a rendering technique originally designed for VR where it is
more efficient to record a single set of commands to be executed with
slightly different behavior for each &#8220;view&#8221;.</p>
</div>
<div class="paragraph">
<p>It includes a concise way to declare a render pass with multiple views, and
gives implementations freedom to render the views in the most efficient way
possible.
This is done with a multiview configuration specified during <a href="../chapters/renderpass.html#renderpass" class="xref page">render pass</a> creation with the <a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfo" class="xref page">VkRenderPassMultiviewCreateInfo</a> passed
into <a href="../chapters/renderpass.html#VkRenderPassCreateInfo" class="xref page">VkRenderPassCreateInfo</a>::<code>pNext</code>.</p>
</div>
<div class="paragraph">
<p>This extension enables the use of the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_multiview.html"><code>SPV_KHR_multiview</code></a> shader extension,
which adds a new <code>ViewIndex</code> built-in type that allows shaders to control
what to do for each view.
If using GLSL there is also the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_multiview.txt"><code>GL_EXT_multiview</code></a> extension that
introduces a <code>highp int gl_ViewIndex;</code> built-in variable for vertex,
tessellation, geometry, and fragment shaders.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_18"><a class="anchor" href="#_promotion_to_vulkan_1_1_18"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_242"><a class="anchor" href="#_new_structures_242"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMultiviewFeaturesKHR" class="xref page">VkPhysicalDeviceMultiviewFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceMultiviewPropertiesKHR" class="xref page">VkPhysicalDeviceMultiviewPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkRenderPassCreateInfo" class="xref page">VkRenderPassCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkRenderPassMultiviewCreateInfoKHR" class="xref page">VkRenderPassMultiviewCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_278"><a class="anchor" href="#_new_enum_constants_278"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MULTIVIEW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MULTIVIEW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkDependencyFlagBits" class="xref page">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_VIEW_LOCAL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_MULTIVIEW_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_8"><a class="anchor" href="#_new_built_in_variables_8"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-viewindex" class="xref page"><code>ViewIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_30"><a class="anchor" href="#_new_spir_v_capabilities_30"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-MultiView" class="xref page"><code>MultiView</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_278"><a class="anchor" href="#_version_history_278"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-28 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_relaxed_block_layout"><a class="anchor" href="#VK_KHR_relaxed_block_layout"></a>VK_KHR_relaxed_block_layout</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_relaxed_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>145</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_relaxed_block_layout] @johnkslang%0A*Here describe the issue or question you have about the VK_KHR_relaxed_block_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>johnkslang</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_279"><a class="anchor" href="#_other_extension_metadata_279"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_279"><a class="anchor" href="#_description_279"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_relaxed_block_layout</code> extension allows implementations to
indicate they can support more variation in block <code>Offset</code> decorations.
For example, placing a vector of three floats at an offset of
<span class="eq">16×N +  4</span>.</p>
</div>
<div class="paragraph">
<p>See <a href="../chapters/interfaces.html#interfaces-resources-layout" class="xref page">Offset and Stride Assignment</a> for
details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_19"><a class="anchor" href="#_promotion_to_vulkan_1_1_19"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_279"><a class="anchor" href="#_new_enum_constants_279"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RELAXED_BLOCK_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RELAXED_BLOCK_LAYOUT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_279"><a class="anchor" href="#_version_history_279"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-26 (JohnK)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_sampler_mirror_clamp_to_edge"><a class="anchor" href="#VK_KHR_sampler_mirror_clamp_to_edge"></a>VK_KHR_sampler_mirror_clamp_to_edge</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>15</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_sampler_mirror_clamp_to_edge] @tobski%0A*Here describe the issue or question you have about the VK_KHR_sampler_mirror_clamp_to_edge extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_280"><a class="anchor" href="#_other_extension_metadata_280"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-08-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_280"><a class="anchor" href="#_description_280"></a>Description</h3>
<div class="paragraph">
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code> extends the set of sampler address
modes to include an additional mode
(<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p>
</div>
<div class="paragraph">
<p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching &#8220;mirror image&#8221;.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_9"><a class="anchor" href="#_promotion_to_vulkan_1_2_9"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2.
However, if Vulkan 1.2 is supported and this extension is not, the
<a href="../chapters/samplers.html#VkSamplerAddressMode" class="xref page">VkSamplerAddressMode</a>
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> is optional.
Since the original extension did not use an author suffix on the enum
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>, it is used by both core
and extension implementations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_280"><a class="anchor" href="#_new_enum_constants_280"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SAMPLER_MIRROR_CLAMP_TO_EDGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SAMPLER_MIRROR_CLAMP_TO_EDGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerAddressMode" class="xref page">VkSamplerAddressMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code></p>
</li>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_example_3"><a class="anchor" href="#_example_3"></a>Example</h3>
<div class="paragraph">
<p>Creating a sampler with the new address mode in each dimension</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkSamplerCreateInfo createInfo =
    {
        .sType = VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO,
        // Other members set to application-desired values
    };

    createInfo.addressModeU = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeV = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeW = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_122"><a class="anchor" href="#_issues_122"></a>Issues</h3>
<div class="paragraph">
<p>1) Why are both KHR and core versions of the
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> token present?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This functionality was intended to be required in Vulkan 1.0.
We realized shortly before public release that not all implementations could
support it, and moved the functionality into an optional extension, but did
not apply the KHR extension suffix.
Adding a KHR-suffixed alias of the non-suffixed enum has been done to comply
with our own naming rules.</p>
</div>
<div class="paragraph">
<p>In a related change, before spec revision 1.1.121 this extension was
hardwiring into the spec Makefile so it was always included with the
Specification, even in the core-only versions.
This has now been reverted, and it is treated as any other extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_280"><a class="anchor" href="#_version_history_280"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-16 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-08-14 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add KHR-suffixed alias of non-suffixed enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-08-17 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add an issue explaining the reason for the extension API not being
suffixed with KHR.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_sampler_ycbcr_conversion"><a class="anchor" href="#VK_KHR_sampler_ycbcr_conversion"></a>VK_KHR_sampler_ycbcr_conversion</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_ycbcr_conversion</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>157</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a><br>
and<br>
<a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a><br>
and<br>
<a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_sampler_ycbcr_conversion] @fluppeteer%0A*Here describe the issue or question you have about the VK_KHR_sampler_ycbcr_conversion extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>fluppeteer</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_281"><a class="anchor" href="#_other_extension_metadata_281"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Romain Guy, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tom Cooksey, ARM Ltd</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM Ltd</p>
</li>
<li>
<p>Jan Outters, Samsung Electronics</p>
</li>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_281"><a class="anchor" href="#_description_281"></a>Description</h3>
<div class="paragraph">
<p>The use of Y′C<sub>B</sub>C<sub>R</sub> sampler conversion is an area in 3D graphics not used by
most Vulkan developers.
It is mainly used for processing inputs from video decoders and cameras.
The use of the extension assumes basic knowledge of Y′C<sub>B</sub>C<sub>R</sub> concepts.</p>
</div>
<div class="paragraph">
<p>This extension provides the ability to perform specified color space
conversions during texture sampling operations for the Y′C<sub>B</sub>C<sub>R</sub> color space
natively.
It also adds a selection of multi-planar formats, image aspect plane, and
the ability to bind memory to the planes of an image collectively or
separately.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_20"><a class="anchor" href="#_promotion_to_vulkan_1_1_20"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
However, if Vulkan 1.1 is supported and this extension is not, the
<code>samplerYcbcrConversion</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_18"><a class="anchor" href="#_new_object_types_18"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrConversionKHR" class="xref page">VkSamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_127"><a class="anchor" href="#_new_commands_127"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#vkCreateSamplerYcbcrConversionKHR" class="xref page">vkCreateSamplerYcbcrConversionKHR</a></p>
</li>
<li>
<p><a href="../chapters/samplers.html#vkDestroySamplerYcbcrConversionKHR" class="xref page">vkDestroySamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_243"><a class="anchor" href="#_new_structures_243"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrConversionCreateInfoKHR" class="xref page">VkSamplerYcbcrConversionCreateInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBindImageMemoryInfo" class="xref page">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBindImagePlaneMemoryInfoKHR" class="xref page">VkBindImagePlaneMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/capabilities.html#VkImageFormatProperties2" class="xref page">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkSamplerYcbcrConversionImageFormatPropertiesKHR" class="xref page">VkSamplerYcbcrConversionImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageMemoryRequirementsInfo2" class="xref page">VkImageMemoryRequirementsInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImagePlaneMemoryRequirementsInfoKHR" class="xref page">VkImagePlaneMemoryRequirementsInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR" class="xref page">VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>, <a href="../chapters/resources.html#VkImageViewCreateInfo" class="xref page">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrConversionInfoKHR" class="xref page">VkSamplerYcbcrConversionInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_83"><a class="anchor" href="#_new_enums_83"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkChromaLocationKHR" class="xref page">VkChromaLocationKHR</a></p>
</li>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrModelConversionKHR" class="xref page">VkSamplerYcbcrModelConversionKHR</a></p>
</li>
<li>
<p><a href="../chapters/samplers.html#VkSamplerYcbcrRangeKHR" class="xref page">VkSamplerYcbcrRangeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_281"><a class="anchor" href="#_new_enum_constants_281"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SAMPLER_YCBCR_CONVERSION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SAMPLER_YCBCR_CONVERSION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkChromaLocation" class="xref page">VkChromaLocation</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_CHROMA_LOCATION_COSITED_EVEN_KHR</code></p>
</li>
<li>
<p><code>VK_CHROMA_LOCATION_MIDPOINT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B16G16R16G16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8G8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16B16G16R16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8B8G8R8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4_UNORM_PACK16_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_COSITED_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_DISJOINT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_MIDPOINT_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_FORCEABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_LINEAR_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_SEPARATE_RECONSTRUCTION_FILTER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageAspectFlagBits" class="xref page">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_0_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_1_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_2_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateFlagBits" class="xref page">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SAMPLER_YCBCR_CONVERSION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerYcbcrModelConversion" class="xref page">VkSamplerYcbcrModelConversion</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_RGB_IDENTITY_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_2020_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_601_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_709_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_IDENTITY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerYcbcrRange" class="xref page">VkSamplerYcbcrRange</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_YCBCR_RANGE_ITU_FULL_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_RANGE_ITU_NARROW_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_PLANE_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_PLANE_MEMORY_REQUIREMENTS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_YCBCR_CONVERSION_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_SAMPLER_YCBCR_CONVERSION_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_SAMPLER_YCBCR_CONVERSION_KHR_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_281"><a class="anchor" href="#_version_history_281"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>After initial feedback</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-01-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Higher bit depth formats, renaming, swizzle</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-02-22 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added query function, formats as RGB, clarifications</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-04-?? (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified query and removed output conversions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Tidying, incorporated new image query, restored transfer functions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added cosited option/midpoint requirement for formats,
&#8220;bypassConversion&#8221;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified further</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2017-04-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Disjoint no more</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-04-28 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Restored disjoint</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2017-04-29 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Now Ycbcr conversion, and KHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2017-06-06 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added conversion to image view creation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2017-07-13 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Allowed cosited-only chroma samples for formats</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2017-08-11 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Reflected quantization changes in BT.2100-1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_separate_depth_stencil_layouts"><a class="anchor" href="#VK_KHR_separate_depth_stencil_layouts"></a>VK_KHR_separate_depth_stencil_layouts</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_separate_depth_stencil_layouts</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>242</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_separate_depth_stencil_layouts] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_separate_depth_stencil_layouts extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_282"><a class="anchor" href="#_other_extension_metadata_282"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_282"><a class="anchor" href="#_description_282"></a>Description</h3>
<div class="paragraph">
<p>This extension allows image memory barriers for depth/stencil images to have
just one of the <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code> aspect bits set, rather than require both.
This allows their layouts to be set independently.
To support depth/stencil images with different layouts for the depth and
stencil aspects, the depth/stencil attachment interface has been updated to
support a separate layout for stencil.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_10"><a class="anchor" href="#_promotion_to_vulkan_1_2_10"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_244"><a class="anchor" href="#_new_structures_244"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentDescription2" class="xref page">VkAttachmentDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkAttachmentDescriptionStencilLayoutKHR" class="xref page">VkAttachmentDescriptionStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkAttachmentReference2" class="xref page">VkAttachmentReference2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/renderpass.html#VkAttachmentReferenceStencilLayoutKHR" class="xref page">VkAttachmentReferenceStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR" class="xref page">VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_282"><a class="anchor" href="#_new_enum_constants_282"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SEPARATE_DEPTH_STENCIL_LAYOUTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SEPARATE_DEPTH_STENCIL_LAYOUTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_STENCIL_LAYOUT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_STENCIL_LAYOUT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SEPARATE_DEPTH_STENCIL_LAYOUTS_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_282"><a class="anchor" href="#_version_history_282"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_atomic_int64"><a class="anchor" href="#VK_KHR_shader_atomic_int64"></a>VK_KHR_shader_atomic_int64</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_atomic_int64</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>181</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_atomic_int64] @ahagan%0A*Here describe the issue or question you have about the VK_KHR_shader_atomic_int64 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_283"><a class="anchor" href="#_other_extension_metadata_283"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_gpu_shader_int64.txt"><code>GL_ARB_gpu_shader_int64</code></a> and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_atomic_int64.txt"><code>GL_EXT_shader_atomic_int64</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_283"><a class="anchor" href="#_description_283"></a>Description</h3>
<div class="paragraph">
<p>This extension advertises the SPIR-V <strong>Int64Atomics</strong> capability for Vulkan,
which allows a shader to contain 64-bit atomic operations on signed and
unsigned integers.
The supported operations include OpAtomicMin, OpAtomicMax, OpAtomicAnd,
OpAtomicOr, OpAtomicXor, OpAtomicAdd, OpAtomicExchange, and
OpAtomicCompareExchange.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_11"><a class="anchor" href="#_promotion_to_vulkan_1_2_11"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>shaderBufferInt64Atomics</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_245"><a class="anchor" href="#_new_structures_245"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderAtomicInt64FeaturesKHR" class="xref page">VkPhysicalDeviceShaderAtomicInt64FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_283"><a class="anchor" href="#_new_enum_constants_283"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_ATOMIC_INT64_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_ATOMIC_INT64_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_INT64_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_31"><a class="anchor" href="#_new_spir_v_capabilities_31"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-Int64Atomics" class="xref page"><code>Int64Atomics</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_283"><a class="anchor" href="#_version_history_283"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-05 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_draw_parameters"><a class="anchor" href="#VK_KHR_shader_draw_parameters"></a>VK_KHR_shader_draw_parameters</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_draw_parameters</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>64</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_draw_parameters] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_shader_draw_parameters extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_284"><a class="anchor" href="#_other_extension_metadata_284"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_draw_parameters.html"><code>SPV_KHR_shader_draw_parameters</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_draw_parameters.txt"><code>GL_ARB_shader_draw_parameters</code></a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Stuart Smith, IMG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_284"><a class="anchor" href="#_description_284"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_shader_draw_parameters</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional built-in shader variables
in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BaseInstance</code>, containing the <code>firstInstance</code> parameter passed
to drawing commands,</p>
</li>
<li>
<p><code>BaseVertex</code>, containing the <code>firstVertex</code> or <code>vertexOffset</code>
parameter passed to drawing commands, and</p>
</li>
<li>
<p><code>DrawIndex</code>, containing the index of the draw call currently being
processed from an indirect drawing call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_ARB_shader_draw_parameters</code> can map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in int gl_BaseInstanceARB;</code> &#8594; <code>BaseInstance</code>,</p>
</li>
<li>
<p><code>in int gl_BaseVertexARB;</code> &#8594; <code>BaseVertex</code>, and</p>
</li>
<li>
<p><code>in int gl_DrawIDARB;</code> &#8594; <code>DrawIndex</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_21"><a class="anchor" href="#_promotion_to_vulkan_1_1_21"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.
However, the <a href="../chapters/features.html#features-shaderDrawParameters" class="xref page"><code>shaderDrawParameters</code></a>
feature bit was added to distinguish whether it is actually available or
not.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_284"><a class="anchor" href="#_new_enum_constants_284"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_DRAW_PARAMETERS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_DRAW_PARAMETERS_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_9"><a class="anchor" href="#_new_built_in_variables_9"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-baseinstance" class="xref page"><code>BaseInstance</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-basevertex" class="xref page"><code>BaseVertex</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-drawindex" class="xref page"><code>DrawIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_32"><a class="anchor" href="#_new_spir_v_capabilities_32"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DrawParameters" class="xref page"><code>DrawParameters</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_123"><a class="anchor" href="#_issues_123"></a>Issues</h3>
<div class="paragraph">
<p>1) Is this the same functionality as <code>GL_ARB_shader_draw_parameters</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is actually a superset, as it also adds in support for
arrayed drawing commands.</p>
</div>
<div class="paragraph">
<p>In GL for <code>GL_ARB_shader_draw_parameters</code>, <code>gl_BaseVertexARB</code> holds the
integer value passed to the parameter to the command that resulted in the
current shader invocation.
In the case where the command has no <code>baseVertex</code> parameter, the value of
<code>gl_BaseVertexARB</code> is zero.
This means that <code>gl_BaseVertexARB</code> = <code>baseVertex</code> (for
<code>glDrawElements</code> commands with <code>baseVertex</code>) or 0.
In particular there are no <code>glDrawArrays</code> commands that take a
<code>baseVertex</code> parameter.</p>
</div>
<div class="paragraph">
<p>Now in Vulkan, we have <code>BaseVertex</code> = <code>vertexOffset</code> (for indexed
drawing commands) or <code>firstVertex</code> (for arrayed drawing commands), and
so Vulkan&#8217;s version is really a superset of GL functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_284"><a class="anchor" href="#_version_history_284"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-05 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_float16_int8"><a class="anchor" href="#VK_KHR_shader_float16_int8"></a>VK_KHR_shader_float16_int8</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float16_int8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>83</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_float16_int8] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_shader_float16_int8 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_285"><a class="anchor" href="#_other_extension_metadata_285"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-07</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_explicit_arithmetic_types.txt"><code>GL_EXT_shader_explicit_arithmetic_types</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_285"><a class="anchor" href="#_description_285"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float16_int8</code> extension allows use of 16-bit
floating-point types and 8-bit integer types in shaders for arithmetic
operations.</p>
</div>
<div class="paragraph">
<p>It introduces two new optional features <code>shaderFloat16</code> and
<code>shaderInt8</code> which directly map to the <code>Float16</code> and the <code>Int8</code>
SPIR-V capabilities.
The <code>VK_KHR_shader_float16_int8</code> extension also specifies precision
requirements for half-precision floating-point SPIR-V operations.
This extension does not enable use of 8-bit integer types or 16-bit
floating-point types in any <a href="../chapters/interfaces.html#interfaces-iointerfaces" class="xref page">shader input andoutput interfaces</a> and therefore does not supersede the
<code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code> or <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code> extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_12"><a class="anchor" href="#_promotion_to_vulkan_1_2_12"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, both the
<code>shaderFloat16</code> and <code>shaderInt8</code> capabilities are optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_246"><a class="anchor" href="#_new_structures_246"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFloat16Int8FeaturesKHR" class="xref page">VkPhysicalDeviceFloat16Int8FeaturesKHR</a></p>
</li>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderFloat16Int8FeaturesKHR" class="xref page">VkPhysicalDeviceShaderFloat16Int8FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_285"><a class="anchor" href="#_new_enum_constants_285"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_FLOAT16_INT8_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_FLOAT16_INT8_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_285"><a class="anchor" href="#_version_history_285"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-07 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_float_controls"><a class="anchor" href="#VK_KHR_shader_float_controls"></a>VK_KHR_shader_float_controls</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float_controls</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>198</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_float_controls] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_shader_float_controls extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_286"><a class="anchor" href="#_other_extension_metadata_286"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_float_controls.html"><code>SPV_KHR_float_controls</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_286"><a class="anchor" href="#_description_286"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float_controls</code> extension enables efficient use of
floating-point computations through the ability to query and override the
implementation&#8217;s default behavior for rounding modes, denormals, signed
zero, and infinity.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_13"><a class="anchor" href="#_promotion_to_vulkan_1_2_13"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_247"><a class="anchor" href="#_new_structures_247"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceFloatControlsPropertiesKHR" class="xref page">VkPhysicalDeviceFloatControlsPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_84"><a class="anchor" href="#_new_enums_84"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkShaderFloatControlsIndependenceKHR" class="xref page">VkShaderFloatControlsIndependenceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_286"><a class="anchor" href="#_new_enum_constants_286"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/limits.html#VkShaderFloatControlsIndependence" class="xref page">VkShaderFloatControlsIndependence</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_32_BIT_ONLY_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_ALL_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT_CONTROLS_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_33"><a class="anchor" href="#_new_spir_v_capabilities_33"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DenormPreserve" class="xref page"><code>DenormPreserve</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DenormFlushToZero" class="xref page">    <code>DenormFlushToZero</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-SignedZeroInfNanPreserve" class="xref page">    <code>SignedZeroInfNanPreserve</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RoundingModeRTE" class="xref page"><code>RoundingModeRTE</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-RoundingModeRTZ" class="xref page"><code>RoundingModeRTZ</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_124"><a class="anchor" href="#_issues_124"></a>Issues</h3>
<div class="paragraph">
<p>1) Which instructions must flush denorms?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Only floating-point conversion, floating-point arithmetic,
floating-point relational (except <code>OpIsNaN</code>, <code>OpIsInf</code>), and
floating-point GLSL.std.450 extended instructions must flush denormals.</p>
</div>
<div class="paragraph">
<p>2) What is the denorm behavior for intermediate results?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When a SPIR-V instruction is implemented as a sequence of other
instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the <code>DenormFlushToZero</code> execution mode, the intermediate
instructions may flush denormals, the final result of the sequence <strong>must</strong>
not be denormal.</p>
</li>
<li>
<p>in the <code>DenormPreserve</code> execution mode, denormals must be preserved
throughout the whole sequence.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Do denorm and rounding mode controls apply to <code>OpSpecConstantOp</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, except when the opcode is <code>OpQuantizeToF16</code>.</p>
</div>
<div class="paragraph">
<p>4) The SPIR-V specification says that <code>OpConvertFToU</code> and
<code>OpConvertFToS</code> unconditionally round towards zero.
Do the rounding mode controls specified through the execution modes apply to
them?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these instructions unconditionally round towards zero.</p>
</div>
<div class="paragraph">
<p>5) Do any of the &#8220;Pack&#8221; GLSL.std.450 instructions count as conversion
instructions and have the rounding mode applied?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, only instructions listed in &#8220;section 3.32.11.
Conversion Instructions&#8221; of the SPIR-V specification count as conversion
instructions.</p>
</div>
<div class="paragraph">
<p>6) When using inf/nan-ignore mode, what is expected of <code>OpIsNan</code> and
<code>OpIsInf</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These instructions must always accurately detect inf/nan if it
is passed to them.</p>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_controls_v4_incompatibility"><a class="anchor" href="#VK_KHR_shader_controls_v4_incompatibility"></a>Version 4 API incompatibility</h3>
<div class="paragraph">
<p>The original versions of <code>VK_KHR_shader_float_controls</code> shipped with
booleans named &#8220;separateDenormSettings&#8221; and
&#8220;separateRoundingModeSettings&#8221;, which at first glance could have indicated
&#8220;they can all be set independently, or not&#8221;.
However the spec language as written indicated that the 32-bit value could
always be set independently, and only the 16- and 64-bit controls needed to
be the same if these values were <code>VK_FALSE</code>.</p>
</div>
<div class="paragraph">
<p>As a result of this slight disparity, and lack of test coverage for this
facet of the extension, we ended up with two different behaviors in the
wild, where some implementations worked as written, and others worked based
on the naming.
As these are hard limits in hardware with reasons for exposure as written,
it was not possible to standardise on a single way to make this work within
the existing API.</p>
</div>
<div class="paragraph">
<p>No known users of this part of the extension exist in the wild, and as such
the Vulkan WG took the unusual step of retroactively changing the once
boolean value into a tri-state enum, breaking source compatibility.
This was however done in such a way as to retain ABI compatibility, in case
any code using this did exist; with the numerical values 0 and 1 retaining
their original specified meaning, and a new value signifying the additional
&#8220;all need to be set together&#8221; state.
If any applications exist today, compiled binaries will continue to work as
written in most cases, but will need changes before the code can be
recompiled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_286"><a class="anchor" href="#_version_history_286"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 4, 2019-06-18 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Modified settings restrictions, see
<a href="#VK_KHR_shader_controls_v4_incompatibility">Version 4 API     incompatibility</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-09-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Minor restructuring</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-04-17 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues and resolutions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-04-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_integer_dot_product"><a class="anchor" href="#VK_KHR_shader_integer_dot_product"></a>VK_KHR_shader_integer_dot_product</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_integer_dot_product</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>281</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_integer_dot_product] @kpet%0A*Here describe the issue or question you have about the VK_KHR_shader_integer_dot_product extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_integer_dot_product.adoc">VK_KHR_shader_integer_dot_product</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_287"><a class="anchor" href="#_other_extension_metadata_287"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_integer_dot_product.html"><code>SPV_KHR_integer_dot_product</code></a>.</p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kévin Petit, Arm Ltd.</p>
</li>
<li>
<p>Jeff Bolz, NVidia</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Einar Hov, Arm Ltd.</p>
</li>
<li>
<p>Stuart Brady, Arm Ltd.</p>
</li>
<li>
<p>Pablo Cascon, Arm Ltd.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm</p>
</li>
<li>
<p>Pierre Boudier, NVidia</p>
</li>
<li>
<p>Jon Leech, The Khronos Group</p>
</li>
<li>
<p>Tom Olson, Arm Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_287"><a class="anchor" href="#_description_287"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the integer dot product SPIR-V instructions
defined in SPV_KHR_integer_dot_product.
These instructions are particularly useful for neural network inference and
training but find uses in other general-purpose compute applications as
well.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_248"><a class="anchor" href="#_new_structures_248"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderIntegerDotProductFeaturesKHR" class="xref page">VkPhysicalDeviceShaderIntegerDotProductFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkPhysicalDeviceShaderIntegerDotProductPropertiesKHR" class="xref page">VkPhysicalDeviceShaderIntegerDotProductPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_287"><a class="anchor" href="#_new_enum_constants_287"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_INTEGER_DOT_PRODUCT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_INTEGER_DOT_PRODUCT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_INTEGER_DOT_PRODUCT_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_INTEGER_DOT_PRODUCT_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_6"><a class="anchor" href="#_promotion_to_vulkan_1_3_6"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_34"><a class="anchor" href="#_new_spir_v_capabilities_34"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DotProductInputAllKHR" class="xref page">    <code>DotProductInputAllKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DotProductInput4x8BitKHR" class="xref page">    <code>DotProductInput4x8BitKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DotProductInput4x8BitPackedKHR" class="xref page">    <code>DotProductInput4x8BitPackedKHR</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DotProductKHR" class="xref page"><code>DotProductKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_287"><a class="anchor" href="#_version_history_287"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-16 (Kévin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_non_semantic_info"><a class="anchor" href="#VK_KHR_shader_non_semantic_info"></a>VK_KHR_shader_non_semantic_info</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_non_semantic_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>294</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_non_semantic_info] @baldurk%0A*Here describe the issue or question you have about the VK_KHR_shader_non_semantic_info extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>baldurk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_288"><a class="anchor" href="#_other_extension_metadata_288"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_non_semantic_info.html"><code>SPV_KHR_non_semantic_info</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_288"><a class="anchor" href="#_description_288"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_non_semantic_info</code> extension
in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_288"><a class="anchor" href="#_new_enum_constants_288"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_NON_SEMANTIC_INFO_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_NON_SEMANTIC_INFO_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_7"><a class="anchor" href="#_promotion_to_vulkan_1_3_7"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3 Because the
extension has no API controlling its functionality, this results only in a
change to the <a href="spirvenv.html#spirvenv-extensions-table" class="xref page">SPIR-V Extensions table</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_288"><a class="anchor" href="#_version_history_288"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-16 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_subgroup_extended_types"><a class="anchor" href="#VK_KHR_shader_subgroup_extended_types"></a>VK_KHR_shader_subgroup_extended_types</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_extended_types</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>176</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_subgroup_extended_types] @sheredom%0A*Here describe the issue or question you have about the VK_KHR_shader_subgroup_extended_types extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>sheredom</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_289"><a class="anchor" href="#_other_extension_metadata_289"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_shader_subgroup_extended_types.txt"><code>GLSL_EXT_shader_subgroup_extended_types</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_289"><a class="anchor" href="#_description_289"></a>Description</h3>
<div class="paragraph">
<p>This extension enables the Non Uniform Group Operations in SPIR-V to support
8-bit integer, 16-bit integer, 64-bit integer, 16-bit floating-point, and
vectors of these types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_14"><a class="anchor" href="#_promotion_to_vulkan_1_2_14"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_249"><a class="anchor" href="#_new_structures_249"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR" class="xref page">VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_289"><a class="anchor" href="#_new_enum_constants_289"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_EXTENDED_TYPES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_EXTENDED_TYPES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_EXTENDED_TYPES_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_289"><a class="anchor" href="#_version_history_289"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-08 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_shader_terminate_invocation"><a class="anchor" href="#VK_KHR_shader_terminate_invocation"></a>VK_KHR_shader_terminate_invocation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_terminate_invocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>216</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_terminate_invocation] @critsec%0A*Here describe the issue or question you have about the VK_KHR_shader_terminate_invocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_290"><a class="anchor" href="#_other_extension_metadata_290"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
<li>
<p>Requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_terminate_invocation.html"><code>SPV_KHR_terminate_invocation</code></a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_290"><a class="anchor" href="#_description_290"></a>Description</h3>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_terminate_invocation.html"><code>SPV_KHR_terminate_invocation</code></a>
SPIR-V extension.
That SPIR-V extension provides a new instruction,
<code>OpTerminateInvocation</code>, which causes a shader invocation to immediately
terminate and sets the coverage of shaded samples to <code>0</code>; only previously
executed instructions will have observable effects.
The <code>OpTerminateInvocation</code> instruction, along with the
<code>OpDemoteToHelperInvocation</code> instruction from the
<code><a href="#VK_EXT_shader_demote_to_helper_invocation">VK_EXT_shader_demote_to_helper_invocation</a></code> extension, together
replace the <code>OpKill</code> instruction, which could behave like either of these
instructions.
<code>OpTerminateInvocation</code> provides the behavior required by the GLSL
<code>discard</code> statement, and should be used when available by GLSL compilers
and applications that need the GLSL <code>discard</code> behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_250"><a class="anchor" href="#_new_structures_250"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderTerminateInvocationFeaturesKHR" class="xref page">VkPhysicalDeviceShaderTerminateInvocationFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_290"><a class="anchor" href="#_new_enum_constants_290"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_TERMINATE_INVOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_TERMINATE_INVOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TERMINATE_INVOCATION_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_8"><a class="anchor" href="#_promotion_to_vulkan_1_3_8"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_290"><a class="anchor" href="#_version_history_290"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-11 (Jesse Hall)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_spirv_1_4"><a class="anchor" href="#VK_KHR_spirv_1_4"></a>VK_KHR_spirv_1_4</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_spirv_1_4</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>237</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br>
and<br>
<a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_spirv_1_4] @critsec%0A*Here describe the issue or question you have about the VK_KHR_spirv_1_4 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_291"><a class="anchor" href="#_other_extension_metadata_291"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.4.</p>
</li>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_291"><a class="anchor" href="#_description_291"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the use of SPIR-V 1.4 shader modules.
SPIR-V 1.4&#8217;s new features primarily make it an easier target for compilers
from high-level languages, rather than exposing new hardware functionality.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 incorporates features that are also available separately as
extensions.
SPIR-V 1.4 shader modules do not need to enable those extensions with the
<code>OpExtension</code> opcode, since they are integral parts of SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 introduces new floating point execution mode capabilities, also
available via <code>SPV_KHR_float_controls</code>.
Implementations are not required to support all of these new capabilities;
support can be queried using
<a href="../chapters/limits.html#VkPhysicalDeviceFloatControlsPropertiesKHR" class="xref page">VkPhysicalDeviceFloatControlsPropertiesKHR</a> from the
<code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_15"><a class="anchor" href="#_promotion_to_vulkan_1_2_15"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_291"><a class="anchor" href="#_new_enum_constants_291"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SPIRV_1_4_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SPIRV_1_4_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_125"><a class="anchor" href="#_issues_125"></a>Issues</h3>
<div class="paragraph">
<p>1.
Should we have an extension specific to this SPIR-V version, or add a
version-generic query for SPIR-V version? SPIR-V 1.4 does not need any other
API changes.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Just expose SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>Most new SPIR-V versions introduce optionally-required capabilities or have
implementation-defined limits, and would need more API and specification
changes specific to that version to make them available in Vulkan.
For example, to support the subgroup capabilities added in SPIR-V 1.3
required introducing <a href="../chapters/limits.html#VkPhysicalDeviceSubgroupProperties" class="xref page">VkPhysicalDeviceSubgroupProperties</a> to allow
querying the supported group operation categories, maximum supported
subgroup size, etc.
While we could expose the parts of a new SPIR-V version that do not need
accompanying changes generically, we will still end up writing extensions
specific to each version for the remaining parts.
Thus the generic mechanism will not reduce future spec-writing effort.
In addition, making it clear which parts of a future version are supported
by the generic mechanism and which cannot be used without specific support
would be difficult to get right ahead of time.</p>
</div>
<div class="paragraph">
<p>2.
Can different stages of the same pipeline use shaders with different SPIR-V
versions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Mixing SPIR-V versions 1.0-1.3 in the same pipeline has not been disallowed,
so it would be inconsistent to disallow mixing 1.4 with previous versions.
SPIR-V 1.4 does not introduce anything that should cause new difficulties
here.</p>
</div>
<div class="paragraph">
<p>3.
Must Vulkan extensions corresponding to SPIR-V extensions that were promoted
to core in 1.4 be enabled in order to use that functionality in a SPIR-V 1.4
module?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, with caveats.</p>
</div>
<div class="paragraph">
<p>The SPIR-V 1.4 module does not need to declare the SPIR-V extensions, since
the functionality is now part of core, so there is no need to enable the
Vulkan extension that allows SPIR-V modules to declare the SPIR-V extension.
However, when the functionality that is now core in SPIR-V 1.4 is optionally
supported, the query for support is provided by a Vulkan extension, and that
query can only be used if the extension is enabled.</p>
</div>
<div class="paragraph">
<p>This applies to any SPIR-V version; specifically for SPIR-V 1.4 this only
applies to the functionality from <code>SPV_KHR_float_controls</code>, which was made
available in Vulkan by <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
Even though the extension was promoted in SPIR-V 1.4, the capabilities are
still optional in implementations that support <code>VK_KHR_spirv_1_4</code>.</p>
</div>
<div class="paragraph">
<p>A SPIR-V 1.4 module does not need to enable <code>SPV_KHR_float_controls</code> in
order to use the capabilities, so if the application has <em>a priori</em>
knowledge that the implementation supports the capabilities, it does not
need to enable <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
However, if it does not have this knowledge and has to query for support at
runtime, it must enable <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> in order to
use <a href="../chapters/limits.html#VkPhysicalDeviceFloatControlsPropertiesKHR" class="xref page">VkPhysicalDeviceFloatControlsPropertiesKHR</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_291"><a class="anchor" href="#_version_history_291"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-04-01 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft versions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_storage_buffer_storage_class"><a class="anchor" href="#VK_KHR_storage_buffer_storage_class"></a>VK_KHR_storage_buffer_storage_class</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_storage_buffer_storage_class</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>132</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_storage_buffer_storage_class] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_storage_buffer_storage_class extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_292"><a class="anchor" href="#_other_extension_metadata_292"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_storage_buffer_storage_class.html"><code>SPV_KHR_storage_buffer_storage_class</code></a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_292"><a class="anchor" href="#_description_292"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_storage_buffer_storage_class</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides a new SPIR-V <code>StorageBuffer</code> storage class.
A <code>Block</code>-decorated object in this class is equivalent to a
<code>BufferBlock</code>-decorated object in the <code>Uniform</code> storage class.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_22"><a class="anchor" href="#_promotion_to_vulkan_1_1_22"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_292"><a class="anchor" href="#_new_enum_constants_292"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_STORAGE_BUFFER_STORAGE_CLASS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_STORAGE_BUFFER_STORAGE_CLASS_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_292"><a class="anchor" href="#_version_history_292"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_synchronization2"><a class="anchor" href="#VK_KHR_synchronization2"></a>VK_KHR_synchronization2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_synchronization2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>315</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_synchronization2] @tobski%0A*Here describe the issue or question you have about the VK_KHR_synchronization2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_293"><a class="anchor" href="#_other_extension_metadata_293"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-12-03</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_293"><a class="anchor" href="#_description_293"></a>Description</h3>
<div class="paragraph">
<p>This extension modifies the original core synchronization APIs to simplify
the interface and improve usability of these APIs.
It also adds new pipeline stage and access flag types that extend into the
64-bit range, as we have run out within the 32-bit range.
The new flags are identical to the old values within the 32-bit range, with
new stages and bits beyond that.</p>
</div>
<div class="paragraph">
<p>Pipeline stages and access flags are now specified together in memory
barrier structures, making the connection between the two more obvious.
Additionally, scoping the pipeline stages into the barrier structs allows
the use of the <code>MEMORY_READ</code> and <code>MEMORY_WRITE</code> flags without
sacrificing precision.
The per-stage access flags should be used to disambiguate specific accesses
in a given stage or set of stages - for instance, between uniform reads and
sampling operations.</p>
</div>
<div class="paragraph">
<p>Layout transitions have been simplified as well; rather than requiring a
different set of layouts for depth/stencil/color attachments, there are
generic <code>VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR</code> and
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> layouts which are contextually
applied based on the image format.
For example, for a depth format image,
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> is equivalent to
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code>.
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> also functionally replaces
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>.</p>
</div>
<div class="paragraph">
<p>Events are now more efficient, because they include memory dependency
information when you set them on the device.
Previously, this information was only known when waiting on an event, so the
dependencies could not be satisfied until the wait occurred.
That sometimes meant stalling the pipeline when the wait occurred.
The new API provides enough information for implementations to satisfy these
dependencies in parallel with other tasks.</p>
</div>
<div class="paragraph">
<p>Queue submission has been changed to wrap command buffers and semaphores in
extensible structures, which incorporate changes from Vulkan 1.1,
<code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code>, and <code><a href="#VK_KHR_timeline_semaphore">VK_KHR_timeline_semaphore</a></code>.
This also adds a pipeline stage to the semaphore signal operation, mirroring
the existing pipeline stage specification for wait operations.</p>
</div>
<div class="paragraph">
<p>Other miscellaneous changes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Events can now be specified as interacting only with the device,
allowing more efficient access to the underlying object.</p>
</li>
<li>
<p>Image memory barriers that do not perform an image layout transition can
be specified by setting <code>oldLayout</code> equal to <code>newLayout</code>.</p>
<div class="ulist">
<ul>
<li>
<p>E.g. the old and new layout can both be set to
<code>VK_IMAGE_LAYOUT_UNDEFINED</code>, without discarding data in the image.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Queue family ownership transfer parameters are simplified in some cases.</p>
</li>
<li>
<p>Where two synchronization commands need to be matched up (queue transfer
operations, events), the dependency information specified in each place
must now match completely for consistency.</p>
</li>
<li>
<p>Extensions with commands or functions with a <a href="../chapters/synchronization.html#VkPipelineStageFlags" class="xref page">VkPipelineStageFlags</a>
or <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a> parameter have had those APIs replaced
with equivalents using <a href="../chapters/synchronization.html#VkPipelineStageFlags2KHR" class="xref page">VkPipelineStageFlags2KHR</a>.</p>
</li>
<li>
<p>The new event and barrier interfaces are now more extensible for future
changes.</p>
</li>
<li>
<p>Relevant pipeline stage masks can now be specified as empty with the new
<code>VK_PIPELINE_STAGE_NONE_KHR</code> and <code>VK_PIPELINE_STAGE_2_NONE_KHR</code>
values.</p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkMemoryBarrier2KHR" class="xref page">VkMemoryBarrier2KHR</a> can be chained to <a href="../chapters/renderpass.html#VkSubpassDependency2" class="xref page">VkSubpassDependency2</a>,
overriding the original 32-bit stage and access masks.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_types_6"><a class="anchor" href="#_new_base_types_6"></a>New Base Types</h3>
<div class="ulist">
<ul>
<li>
<p><code>VkFlags64</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_128"><a class="anchor" href="#_new_commands_128"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkCmdPipelineBarrier2KHR" class="xref page">vkCmdPipelineBarrier2KHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkCmdResetEvent2KHR" class="xref page">vkCmdResetEvent2KHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkCmdSetEvent2KHR" class="xref page">vkCmdSetEvent2KHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkCmdWaitEvents2KHR" class="xref page">vkCmdWaitEvents2KHR</a></p>
</li>
<li>
<p><a href="../chapters/queries.html#vkCmdWriteTimestamp2KHR" class="xref page">vkCmdWriteTimestamp2KHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#vkQueueSubmit2KHR" class="xref page">vkQueueSubmit2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_AMD_buffer_marker">VK_AMD_buffer_marker</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/copies.html#vkCmdWriteBufferMarker2AMD" class="xref page">vkCmdWriteBufferMarker2AMD</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkGetQueueCheckpointData2NV" class="xref page">vkGetQueueCheckpointData2NV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_251"><a class="anchor" href="#_new_structures_251"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkBufferMemoryBarrier2KHR" class="xref page">VkBufferMemoryBarrier2KHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#VkCommandBufferSubmitInfoKHR" class="xref page">VkCommandBufferSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkDependencyInfoKHR" class="xref page">VkDependencyInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkImageMemoryBarrier2KHR" class="xref page">VkImageMemoryBarrier2KHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#VkSemaphoreSubmitInfoKHR" class="xref page">VkSemaphoreSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#VkSubmitInfo2KHR" class="xref page">VkSubmitInfo2KHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSynchronization2FeaturesKHR" class="xref page">VkPhysicalDeviceSynchronization2FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDependency2" class="xref page">VkSubpassDependency2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkMemoryBarrier2KHR" class="xref page">VkMemoryBarrier2KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkCheckpointData2NV" class="xref page">VkCheckpointData2NV</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2" class="xref page">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyCheckpointProperties2NV" class="xref page">VkQueueFamilyCheckpointProperties2NV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_85"><a class="anchor" href="#_new_enums_85"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkAccessFlagBits2KHR" class="xref page">VkAccessFlagBits2KHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkPipelineStageFlagBits2KHR" class="xref page">VkPipelineStageFlagBits2KHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#VkSubmitFlagBitsKHR" class="xref page">VkSubmitFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_69"><a class="anchor" href="#_new_bitmasks_69"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkAccessFlags2KHR" class="xref page">VkAccessFlags2KHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkPipelineStageFlags2KHR" class="xref page">VkPipelineStageFlags2KHR</a></p>
</li>
<li>
<p><a href="../chapters/cmdbuffers.html#VkSubmitFlagsKHR" class="xref page">VkSubmitFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_293"><a class="anchor" href="#_new_enum_constants_293"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SYNCHRONIZATION_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SYNCHRONIZATION_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits" class="xref page">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkEventCreateFlagBits" class="xref page">VkEventCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EVENT_CREATE_DEVICE_ONLY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageLayout" class="xref page">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits" class="xref page">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPENDENCY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SYNCHRONIZATION_2_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBMIT_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_blend_operation_advanced">VK_EXT_blend_operation_advanced</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_COLOR_ATTACHMENT_READ_NONCOHERENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_conditional_rendering">VK_EXT_conditional_rendering</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_CONDITIONAL_RENDERING_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_FRAGMENT_DENSITY_MAP_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_FRAGMENT_DENSITY_PROCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_mesh_shader">VK_EXT_mesh_shader</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_MESH_SHADER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_2_TASK_SHADER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_transform_feedback">VK_EXT_transform_feedback</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_TRANSFORM_FEEDBACK_WRITE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_TRANSFORM_FEEDBACK_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_FRAGMENT_SHADING_RATE_ATTACHMENT_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_RAY_TRACING_SHADER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CHECKPOINT_DATA_2_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_CHECKPOINT_PROPERTIES_2_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_device_generated_commands">VK_NV_device_generated_commands</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_COMMAND_PREPROCESS_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_COMMAND_PREPROCESS_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_COMMAND_PREPROCESS_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_mesh_shader">VK_NV_mesh_shader</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_MESH_SHADER_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_2_TASK_SHADER_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_BUILD_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_2_RAY_TRACING_SHADER_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkAccessFlagBits2" class="xref page">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_SHADING_RATE_IMAGE_READ_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkPipelineStageFlagBits2" class="xref page">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_9"><a class="anchor" href="#_promotion_to_vulkan_1_3_9"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_36"><a class="anchor" href="#_examples_36"></a>Examples</h3>
<div class="paragraph">
<p>See
<a href="https://github.com/KhronosGroup/Vulkan-Docs/wiki/Synchronization-Examples" class="bare">https://github.com/KhronosGroup/Vulkan-Docs/wiki/Synchronization-Examples</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_293"><a class="anchor" href="#_version_history_293"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-12-03 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_timeline_semaphore"><a class="anchor" href="#VK_KHR_timeline_semaphore"></a>VK_KHR_timeline_semaphore</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_timeline_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>208</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_timeline_semaphore] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_timeline_semaphore extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_294"><a class="anchor" href="#_other_extension_metadata_294"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with
<code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Yuriy O&#8217;Donnell, Epic Games</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_294"><a class="anchor" href="#_description_294"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces a new type of semaphore that has an integer
payload identifying a point in a timeline.
Such timeline semaphores support the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Host query - A host operation that allows querying the payload of the
timeline semaphore.</p>
</li>
<li>
<p>Host wait - A host operation that allows a blocking wait for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Host signal - A host operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
<li>
<p>Device wait - A device operation that allows waiting for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Device signal - A device operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_16"><a class="anchor" href="#_promotion_to_vulkan_1_2_16"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_129"><a class="anchor" href="#_new_commands_129"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#vkGetSemaphoreCounterValueKHR" class="xref page">vkGetSemaphoreCounterValueKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkSignalSemaphoreKHR" class="xref page">vkSignalSemaphoreKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#vkWaitSemaphoresKHR" class="xref page">vkWaitSemaphoresKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_252"><a class="anchor" href="#_new_structures_252"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreSignalInfoKHR" class="xref page">VkSemaphoreSignalInfoKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreWaitInfoKHR" class="xref page">VkSemaphoreWaitInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceTimelineSemaphoreFeaturesKHR" class="xref page">VkPhysicalDeviceTimelineSemaphoreFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceTimelineSemaphorePropertiesKHR" class="xref page">VkPhysicalDeviceTimelineSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreCreateInfo" class="xref page">VkSemaphoreCreateInfo</a>, <a href="../chapters/capabilities.html#VkPhysicalDeviceExternalSemaphoreInfo" class="xref page">VkPhysicalDeviceExternalSemaphoreInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreTypeCreateInfoKHR" class="xref page">VkSemaphoreTypeCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>, <a href="../chapters/sparsemem.html#VkBindSparseInfo" class="xref page">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkTimelineSemaphoreSubmitInfoKHR" class="xref page">VkTimelineSemaphoreSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_86"><a class="anchor" href="#_new_enums_86"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreTypeKHR" class="xref page">VkSemaphoreTypeKHR</a></p>
</li>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreWaitFlagBitsKHR" class="xref page">VkSemaphoreWaitFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_70"><a class="anchor" href="#_new_bitmasks_70"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/synchronization.html#VkSemaphoreWaitFlagsKHR" class="xref page">VkSemaphoreWaitFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_294"><a class="anchor" href="#_new_enum_constants_294"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_TIMELINE_SEMAPHORE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_TIMELINE_SEMAPHORE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreType" class="xref page">VkSemaphoreType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_TYPE_BINARY_KHR</code></p>
</li>
<li>
<p><code>VK_SEMAPHORE_TYPE_TIMELINE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/synchronization.html#VkSemaphoreWaitFlagBits" class="xref page">VkSemaphoreWaitFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_WAIT_ANY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_SIGNAL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_TYPE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_WAIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_TIMELINE_SEMAPHORE_SUBMIT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_126"><a class="anchor" href="#_issues_126"></a>Issues</h3>
<div class="paragraph">
<p>1) Do we need a new object type for this?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, we just introduce a new type of semaphore object, as
<code>VK_KHR_external_semaphore_win32</code> already uses semaphores as the destination
for importing D3D12 fence objects, which are semantically close/identical to
the proposed synchronization primitive.</p>
</div>
<div class="paragraph">
<p>2) What type of payload the new synchronization primitive has?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A 64-bit unsigned integer that can only be set to strictly
increasing values by signal operations and is not changed by wait
operations.</p>
</div>
<div class="paragraph">
<p>3) Does the new synchronization primitive have the same signal-before-wait
requirement as the existing semaphores do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Timeline semaphores support signaling and waiting entirely asynchronously.
It is the responsibility of the client to avoid deadlock.</p>
</div>
<div class="paragraph">
<p>4) Does the new synchronization primitive allow resetting its payload?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, allowing the payload value to &#8220;go backwards&#8221; is
problematic.
Applications looking for reset behavior should create a new instance of the
synchronization primitive instead.</p>
</div>
<div class="paragraph">
<p>5) How do we enable host waits on the synchronization primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both a non-blocking query of the current payload value of the
synchronization primitive, and a blocking wait operation are provided.</p>
</div>
<div class="paragraph">
<p>6) How do we enable device waits and signals on the synchronization
primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Similar to <code>VK_KHR_external_semaphore_win32</code>, this extension
introduces a new structure that can be chained to <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a> to
specify the values signaled semaphores should be set to, and the values
waited semaphores need to reach.</p>
</div>
<div class="paragraph">
<p>7) Can the new synchronization primitive be used to synchronize presentation
and swapchain image acquisition operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some implementations may have problems with supporting that
directly, thus it is not allowed in this extension.</p>
</div>
<div class="paragraph">
<p>8) Do we want to support external sharing of the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Timeline semaphore specific external sharing capabilities can be queried
using <a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalSemaphoreProperties" class="xref page">vkGetPhysicalDeviceExternalSemaphoreProperties</a> by chaining the
new <a href="../chapters/synchronization.html#VkSemaphoreTypeCreateInfoKHR" class="xref page">VkSemaphoreTypeCreateInfoKHR</a> structure to its
<code>pExternalSemaphoreInfo</code> structure.
This allows having a different set of external semaphore handle types
supported for timeline semaphores vs. binary semaphores.</p>
</div>
<div class="paragraph">
<p>9) Do we need to add a host signal operation for the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This helps in situations where one host thread submits a workload but
another host thread has the information on when the workload is ready to be
executed.</p>
</div>
<div class="paragraph">
<p>10) How should the new synchronization primitive interact with the ordering
requirements of the original <code>VkSemaphore</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Prior to calling any command which <strong>may</strong> cause a wait operation
on a binary semaphore, the client <strong>must</strong> ensure that the semaphore signal
operation that has been submitted for execution and any semaphore signal
operations on which it depends (if any) <strong>must</strong> have also been submitted for
execution.</p>
</div>
<div class="paragraph">
<p>11) Should we have separate feature bits for different sub-features of
timeline semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The only feature which cannot be supported universally is timeline semaphore
import/export.
For import/export, the client is already required to query available
external handle types via
<a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalSemaphoreProperties" class="xref page">vkGetPhysicalDeviceExternalSemaphoreProperties</a> and provide the
semaphore type by adding a <a href="../chapters/synchronization.html#VkSemaphoreTypeCreateInfoKHR" class="xref page">VkSemaphoreTypeCreateInfoKHR</a> structure to
the <code>pNext</code> chain of <a href="../chapters/capabilities.html#VkPhysicalDeviceExternalSemaphoreInfo" class="xref page">VkPhysicalDeviceExternalSemaphoreInfo</a> so no
new feature bit is required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_294"><a class="anchor" href="#_version_history_294"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-05-10 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-06-12 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added an initialValue parameter to timeline semaphore creation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_uniform_buffer_standard_layout"><a class="anchor" href="#VK_KHR_uniform_buffer_standard_layout"></a>VK_KHR_uniform_buffer_standard_layout</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_uniform_buffer_standard_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>254</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_uniform_buffer_standard_layout] @gnl21%0A*Here describe the issue or question you have about the VK_KHR_uniform_buffer_standard_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_295"><a class="anchor" href="#_other_extension_metadata_295"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_295"><a class="anchor" href="#_description_295"></a>Description</h3>
<div class="paragraph">
<p>This extension enables tighter array and struct packing to be used with
uniform buffers.</p>
</div>
<div class="paragraph">
<p>It modifies the alignment rules for uniform buffers, allowing for tighter
packing of arrays and structures.
This allows, for example, the std430 layout, as defined in
<a href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.pdf">GLSL</a> to
be supported in uniform buffers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_17"><a class="anchor" href="#_promotion_to_vulkan_1_2_17"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_253"><a class="anchor" href="#_new_structures_253"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR" class="xref page">VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_295"><a class="anchor" href="#_new_enum_constants_295"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_UNIFORM_BUFFER_STANDARD_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_UNIFORM_BUFFER_STANDARD_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_UNIFORM_BUFFER_STANDARD_LAYOUT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_295"><a class="anchor" href="#_version_history_295"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-25 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_variable_pointers"><a class="anchor" href="#VK_KHR_variable_pointers"></a>VK_KHR_variable_pointers</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_variable_pointers</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>121</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_variable_pointers] @critsec%0A*Here describe the issue or question you have about the VK_KHR_variable_pointers extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_296"><a class="anchor" href="#_other_extension_metadata_296"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_variable_pointers.html"><code>SPV_KHR_variable_pointers</code></a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Weifeng Zhang, Qualcomm</p>
</li>
<li>
<p>Stephen Clarke, Imagination Technologies</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_296"><a class="anchor" href="#_description_296"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_KHR_variable_pointers</code> extension allows implementations to indicate
their level of support for the <code>SPV_KHR_variable_pointers</code> SPIR-V extension.
The SPIR-V extension allows shader modules to use invocation-private
pointers into uniform and/or storage buffers, where the pointer values can
be dynamic and non-uniform.</p>
</div>
<div class="paragraph">
<p>The <code>SPV_KHR_variable_pointers</code> extension introduces two capabilities.
The first, <code>VariablePointersStorageBuffer</code>, <strong>must</strong> be supported by all
implementations of this extension.
The second, <code>VariablePointers</code>, is optional.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_1_23"><a class="anchor" href="#_promotion_to_vulkan_1_1_23"></a>Promotion to Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted, however support for the
<a href="../chapters/features.html#features-variablePointersStorageBuffer" class="xref page"><code>variablePointersStorageBuffer</code></a> feature is made optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_254"><a class="anchor" href="#_new_structures_254"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceVariablePointerFeaturesKHR" class="xref page">VkPhysicalDeviceVariablePointerFeaturesKHR</a></p>
</li>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceVariablePointersFeaturesKHR" class="xref page">VkPhysicalDeviceVariablePointersFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_296"><a class="anchor" href="#_new_enum_constants_296"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VARIABLE_POINTERS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VARIABLE_POINTERS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTERS_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTER_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_35"><a class="anchor" href="#_new_spir_v_capabilities_35"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-VariablePointers" class="xref page"><code>VariablePointers</code></a></p>
</li>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-VariablePointersStorageBuffer" class="xref page">    <code>VariablePointersStorageBuffer</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_127"><a class="anchor" href="#_issues_127"></a>Issues</h3>
<div class="paragraph">
<p>1) Do we need an optional property for the SPIR-V
<code>VariablePointersStorageBuffer</code> capability or should it be mandatory when
this extension is advertised?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add it as a distinct feature, but make support mandatory.
Adding it as a feature makes the extension easier to include in a future
core API version.
In the extension, the feature is mandatory, so that presence of the
extension guarantees some functionality.
When included in a core API version, the feature would be optional.</p>
</div>
<div class="paragraph">
<p>2) Can support for these capabilities vary between shader stages?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, if the capability is supported in any stage it must be
supported in all stages.</p>
</div>
<div class="paragraph">
<p>3) Should the capabilities be features or limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Features, primarily for consistency with other similar
extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_296"><a class="anchor" href="#_version_history_296"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-14 (Jesse Hall and John Kessenich)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_vulkan_memory_model"><a class="anchor" href="#VK_KHR_vulkan_memory_model"></a>VK_KHR_vulkan_memory_model</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_vulkan_memory_model</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>212</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_vulkan_memory_model] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_vulkan_memory_model extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_297"><a class="anchor" href="#_other_extension_metadata_297"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_vulkan_memory_model.html"><code>SPV_KHR_vulkan_memory_model</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Robert Simpson, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Brian Sumner, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_297"><a class="anchor" href="#_description_297"></a>Description</h3>
<div class="paragraph">
<p>The <a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a> extension allows use of the features
guarded by the <code>VulkanMemoryModel</code>, <code>VulkanMemoryModelDeviceScope</code>,
and <code>VulkanMemoryModelAvailabilityVisibilityChains</code> capabilities in
shader modules.
The <a href="memorymodel.html#memory-model" class="xref page">Vulkan Memory Model</a> formally defines how to synchronize
memory accesses to the same memory locations performed by multiple shader
invocations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Version 3 of the spec added a member
(<code>vulkanMemoryModelAvailabilityVisibilityChains</code>) to
<a href="../chapters/features.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR" class="xref page">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a>, which is an incompatible
change from version 2.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_18"><a class="anchor" href="#_promotion_to_vulkan_1_2_18"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>vulkanMemoryModel</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_255"><a class="anchor" href="#_new_structures_255"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR" class="xref page">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_297"><a class="anchor" href="#_new_enum_constants_297"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VULKAN_MEMORY_MODEL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VULKAN_MEMORY_MODEL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VULKAN_MEMORY_MODEL_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_36"><a class="anchor" href="#_new_spir_v_capabilities_36"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-VulkanMemoryModel" class="xref page">    <code>VulkanMemoryModelKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_297"><a class="anchor" href="#_version_history_297"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-06-24 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-12-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Add vulkanMemoryModelAvailabilityVisibilityChains member to the
VkPhysicalDeviceVulkanMemoryModelFeaturesKHR structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_KHR_zero_initialize_workgroup_memory"><a class="anchor" href="#VK_KHR_zero_initialize_workgroup_memory"></a>VK_KHR_zero_initialize_workgroup_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_zero_initialize_workgroup_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>326</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_zero_initialize_workgroup_memory] @alan-baker%0A*Here describe the issue or question you have about the VK_KHR_zero_initialize_workgroup_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alan-baker</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_298"><a class="anchor" href="#_other_extension_metadata_298"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-18</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_298"><a class="anchor" href="#_description_298"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the use of a null constant initializer on shader
Workgroup memory variables, allowing implementations to expose any special
hardware or instructions they may have.
Zero initialization is commonly used by applications running untrusted
content (e.g. web browsers) as way of defeating memory-scraping attacks.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_256"><a class="anchor" href="#_new_structures_256"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceZeroInitializeWorkgroupMemoryFeaturesKHR" class="xref page">VkPhysicalDeviceZeroInitializeWorkgroupMemoryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_298"><a class="anchor" href="#_new_enum_constants_298"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ZERO_INITIALIZE_WORKGROUP_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ZERO_INITIALIZE_WORKGROUP_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ZERO_INITIALIZE_WORKGROUP_MEMORY_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_10"><a class="anchor" href="#_promotion_to_vulkan_1_3_10"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_298"><a class="anchor" href="#_version_history_298"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-18 (Alan Baker)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_4444_formats"><a class="anchor" href="#VK_EXT_4444_formats"></a>VK_EXT_4444_formats</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_4444_formats</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>341</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_4444_formats] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_4444_formats extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_299"><a class="anchor" href="#_other_extension_metadata_299"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-28</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_299"><a class="anchor" href="#_description_299"></a>Description</h3>
<div class="paragraph">
<p>This extension defines the <code>VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT</code> and
<code>VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT</code> formats which are defined in other
current graphics APIs.</p>
</div>
<div class="paragraph">
<p>This extension may be useful for building translation layers for those APIs
or for porting applications that use these formats without having to resort
to swizzles.</p>
</div>
<div class="paragraph">
<p>When VK_EXT_custom_border_color is used, these formats are not subject to
the same restrictions for border color without format as with
VK_FORMAT_B4G4R4A4_UNORM_PACK16.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_257"><a class="anchor" href="#_new_structures_257"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevice4444FormatsFeaturesEXT" class="xref page">VkPhysicalDevice4444FormatsFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_299"><a class="anchor" href="#_new_enum_constants_299"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_4444_FORMATS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_4444_FORMATS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_4444_FORMATS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_11"><a class="anchor" href="#_promotion_to_vulkan_1_3_11"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>This extension has been partially promoted.
The format enumerants introduced by the extension are included in core
Vulkan 1.3, with the EXT suffix omitted.
However, runtime support for these formats is optional in core Vulkan 1.3,
while if this extension is supported, runtime support is mandatory.
The feature structure is not promoted.
The original enum names are still available as aliases of the core
functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_299"><a class="anchor" href="#_version_history_299"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-04 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_buffer_device_address"><a class="anchor" href="#VK_EXT_buffer_device_address"></a>VK_EXT_buffer_device_address</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_buffer_device_address</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>245</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_buffer_device_address] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_buffer_device_address extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_300"><a class="anchor" href="#_other_extension_metadata_300"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_physical_storage_buffer.html"><code>SPV_EXT_physical_storage_buffer</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GLSL_EXT_buffer_reference</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference_uvec2.txt"><code>GLSL_EXT_buffer_reference_uvec2</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_300"><a class="anchor" href="#_description_300"></a>Description</h3>
<div class="paragraph">
<p>This extension allows the application to query a 64-bit buffer device
address value for a buffer, which can be used to access the buffer memory
via the <code>PhysicalStorageBufferEXT</code> storage class in the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
GLSL extension and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_physical_storage_buffer.html"><code>SPV_EXT_physical_storage_buffer</code></a>
SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>It also allows buffer device addresses to be provided by a trace replay
tool, so that it matches the address used when the trace was captured.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_130"><a class="anchor" href="#_new_commands_130"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#vkGetBufferDeviceAddressEXT" class="xref page">vkGetBufferDeviceAddressEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_258"><a class="anchor" href="#_new_structures_258"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkBufferDeviceAddressInfoEXT" class="xref page">VkBufferDeviceAddressInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkBufferDeviceAddressCreateInfoEXT" class="xref page">VkBufferDeviceAddressCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceBufferAddressFeaturesEXT" class="xref page">VkPhysicalDeviceBufferAddressFeaturesEXT</a></p>
</li>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceBufferDeviceAddressFeaturesEXT" class="xref page">VkPhysicalDeviceBufferDeviceAddressFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_300"><a class="anchor" href="#_new_enum_constants_300"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_BUFFER_DEVICE_ADDRESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_BUFFER_DEVICE_ADDRESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateFlagBits" class="xref page">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferUsageFlagBits" class="xref page">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_DEVICE_ADDRESS_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_ADDRESS_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_37"><a class="anchor" href="#_new_spir_v_capabilities_37"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-PhysicalStorageBufferAddresses" class="xref page">    <code>PhysicalStorageBufferAddressesEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_128"><a class="anchor" href="#_issues_128"></a>Issues</h3>
<div class="paragraph">
<p>1) Where is VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_ADDRESS_FEATURES_EXT
and VkPhysicalDeviceBufferAddressFeaturesEXT?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: They were renamed as
<code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_EXT</code>
and <a href="../chapters/features.html#VkPhysicalDeviceBufferDeviceAddressFeaturesEXT" class="xref page">VkPhysicalDeviceBufferDeviceAddressFeaturesEXT</a> accordingly for
consistency.
Even though, the old names can still be found in the generated header files
for compatibility.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_300"><a class="anchor" href="#_version_history_300"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-01 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-01-06 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Minor updates to appendix for publication</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_debug_marker"><a class="anchor" href="#VK_EXT_debug_marker"></a>VK_EXT_debug_marker</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_marker</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>23</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_debug_marker] @baldurk%0A*Here describe the issue or question you have about the VK_EXT_debug_marker extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>baldurk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_301"><a class="anchor" href="#_other_extension_metadata_301"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-01-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
<li>
<p>Kyle Spagnoli, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_301"><a class="anchor" href="#_description_301"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_EXT_debug_marker</code> extension is a device extension.
It introduces concepts of object naming and tagging, for better tracking of
Vulkan objects, as well as additional commands for recording annotations of
named sections of a workload to aid organization and offline analysis in
external tools.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_131"><a class="anchor" href="#_new_commands_131"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkCmdDebugMarkerBeginEXT" class="xref page">vkCmdDebugMarkerBeginEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkCmdDebugMarkerEndEXT" class="xref page">vkCmdDebugMarkerEndEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkCmdDebugMarkerInsertEXT" class="xref page">vkCmdDebugMarkerInsertEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkDebugMarkerSetObjectNameEXT" class="xref page">vkDebugMarkerSetObjectNameEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkDebugMarkerSetObjectTagEXT" class="xref page">vkDebugMarkerSetObjectTagEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_259"><a class="anchor" href="#_new_structures_259"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugMarkerMarkerInfoEXT" class="xref page">VkDebugMarkerMarkerInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugMarkerObjectNameInfoEXT" class="xref page">VkDebugMarkerObjectNameInfoEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugMarkerObjectTagInfoEXT" class="xref page">VkDebugMarkerObjectTagInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_87"><a class="anchor" href="#_new_enums_87"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_301"><a class="anchor" href="#_new_enum_constants_301"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEBUG_MARKER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEBUG_MARKER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_TAG_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_37"><a class="anchor" href="#_examples_37"></a>Examples</h3>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Associate a name with an image, for easier debugging in external tools or
with validation layers that can print a friendly name when referring to
objects in error messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    extern VkDevice device;
    extern VkImage image;

    // Must call extension functions through a function pointer:
    PFN_vkDebugMarkerSetObjectNameEXT pfnDebugMarkerSetObjectNameEXT = (PFN_vkDebugMarkerSetObjectNameEXT)vkGetDeviceProcAddr(device, "vkDebugMarkerSetObjectNameEXT");

    // Set a name on the image
    const VkDebugMarkerObjectNameInfoEXT imageNameInfo =
    {
        .sType = VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT,
        .pNext = NULL,
        .objectType = VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_EXT,
        .object = (uint64_t)image,
        .pObjectName = "Brick Diffuse Texture",
    };

    pfnDebugMarkerSetObjectNameEXT(device, &amp;imageNameInfo);

    // A subsequent error might print:
    //   Image 'Brick Diffuse Texture' (0xc0dec0dedeadbeef) is used in a
    //   command buffer with no memory bound to it.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Annotating regions of a workload with naming information so that offline
analysis tools can display a more usable visualisation of the commands
submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    extern VkDevice device;
    extern VkCommandBuffer commandBuffer;

    // Must call extension functions through a function pointer:
    PFN_vkCmdDebugMarkerBeginEXT pfnCmdDebugMarkerBeginEXT = (PFN_vkCmdDebugMarkerBeginEXT)vkGetDeviceProcAddr(device, "vkCmdDebugMarkerBeginEXT");
    PFN_vkCmdDebugMarkerEndEXT pfnCmdDebugMarkerEndEXT = (PFN_vkCmdDebugMarkerEndEXT)vkGetDeviceProcAddr(device, "vkCmdDebugMarkerEndEXT");
    PFN_vkCmdDebugMarkerInsertEXT pfnCmdDebugMarkerInsertEXT = (PFN_vkCmdDebugMarkerInsertEXT)vkGetDeviceProcAddr(device, "vkCmdDebugMarkerInsertEXT");

    // Describe the area being rendered
    const VkDebugMarkerMarkerInfoEXT houseMarker =
    {
        .sType = VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT,
        .pNext = NULL,
        .pMarkerName = "Brick House",
        .color = { 1.0f, 0.0f, 0.0f, 1.0f },
    };

    // Start an annotated group of calls under the 'Brick House' name
    pfnCmdDebugMarkerBeginEXT(commandBuffer, &amp;houseMarker);
    {
        // A mutable structure for each part being rendered
        VkDebugMarkerMarkerInfoEXT housePartMarker =
        {
            .sType = VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT,
            .pNext = NULL,
            .pMarkerName = NULL,
            .color = { 0.0f, 0.0f, 0.0f, 0.0f },
        };

        // Set the name and insert the marker
        housePartMarker.pMarkerName = "Walls";
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        // Insert the drawcall for the walls
        vkCmdDrawIndexed(commandBuffer, 1000, 1, 0, 0, 0);

        // Insert a recursive region for two sets of windows
        housePartMarker.pMarkerName = "Windows";
        pfnCmdDebugMarkerBeginEXT(commandBuffer, &amp;housePartMarker);
        {
            vkCmdDrawIndexed(commandBuffer, 75, 6, 1000, 0, 0);
            vkCmdDrawIndexed(commandBuffer, 100, 2, 1450, 0, 0);
        }
        pfnCmdDebugMarkerEndEXT(commandBuffer);

        housePartMarker.pMarkerName = "Front Door";
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        vkCmdDrawIndexed(commandBuffer, 350, 1, 1650, 0, 0);

        housePartMarker.pMarkerName = "Roof";
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        vkCmdDrawIndexed(commandBuffer, 500, 1, 2000, 0, 0);
    }
    // End the house annotation started above
    pfnCmdDebugMarkerEndEXT(commandBuffer);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_129"><a class="anchor" href="#_issues_129"></a>Issues</h3>
<div class="paragraph">
<p>1) Should the tag or name for an object be specified using the <code>pNext</code>
parameter in the object&#8217;s <code>Vk*CreateInfo</code> structure?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While this fits with other Vulkan patterns and would allow more type safety
and future proofing against future objects, it has notable downsides.
In particular passing the name at <code>Vk*CreateInfo</code> time does not allow
renaming, prevents late binding of naming information, and does not allow
naming of implicitly created objects such as queues and swapchain images.</p>
</div>
<div class="paragraph">
<p>2) Should the command annotation functions <a href="../chapters/debugging.html#vkCmdDebugMarkerBeginEXT" class="xref page">vkCmdDebugMarkerBeginEXT</a>
and <a href="../chapters/debugging.html#vkCmdDebugMarkerEndEXT" class="xref page">vkCmdDebugMarkerEndEXT</a> support the ability to specify a color?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The functions have been expanded to take an optional color which can be used
at will by implementations consuming the command buffer annotations in their
visualisation.</p>
</div>
<div class="paragraph">
<p>3) Should the functions added in this extension accept an extensible
structure as their parameter for a more flexible API, as opposed to direct
function parameters? If so, which functions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
All functions have been modified to take a structure type with extensible
<code>pNext</code> pointer, to allow future extensions to add additional annotation
information in the same commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_301"><a class="anchor" href="#_version_history_301"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-24 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG marker spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-02-26 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed Dbg to DebugMarker in function names</p>
</li>
<li>
<p>Allow markers in secondary command buffers under certain circumstances</p>
</li>
<li>
<p>Minor language tweaks and edits</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2016-04-23 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Reorganise spec layout to closer match desired organisation</p>
</li>
<li>
<p>Added optional color to markers (both regions and inserted labels)</p>
</li>
<li>
<p>Changed functions to take extensible structs instead of direct function
parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Added explicit dependency on VK_EXT_debug_report</p>
</li>
<li>
<p>Moved definition of <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a> to debug report
chapter.</p>
</li>
<li>
<p>Fixed typo in dates in revision history</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_debug_report"><a class="anchor" href="#VK_EXT_debug_report"></a>VK_EXT_debug_report</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_report</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_debug_report] @courtney-g%0A*Here describe the issue or question you have about the VK_EXT_debug_report extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_302"><a class="anchor" href="#_other_extension_metadata_302"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-12-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_302"><a class="anchor" href="#_description_302"></a>Description</h3>
<div class="paragraph">
<p>Due to the nature of the Vulkan interface, there is very little error
information available to the developer and application.
By enabling optional validation layers and using the <code>VK_EXT_debug_report</code>
extension, developers <strong>can</strong> obtain much more detailed feedback on the
application&#8217;s use of Vulkan.
This extension defines a way for layers and the implementation to call back
to the application for events of interest to the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_19"><a class="anchor" href="#_new_object_types_19"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportCallbackEXT" class="xref page">VkDebugReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_132"><a class="anchor" href="#_new_commands_132"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkCreateDebugReportCallbackEXT" class="xref page">vkCreateDebugReportCallbackEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkDebugReportMessageEXT" class="xref page">vkDebugReportMessageEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#vkDestroyDebugReportCallbackEXT" class="xref page">vkDestroyDebugReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_260"><a class="anchor" href="#_new_structures_260"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportCallbackCreateInfoEXT" class="xref page">VkDebugReportCallbackCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_function_pointers_4"><a class="anchor" href="#_new_function_pointers_4"></a>New Function Pointers</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#PFN_vkDebugReportCallbackEXT" class="xref page">PFN_vkDebugReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_88"><a class="anchor" href="#_new_enums_88"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportFlagBitsEXT" class="xref page">VkDebugReportFlagBitsEXT</a></p>
</li>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_71"><a class="anchor" href="#_new_bitmasks_71"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkDebugReportFlagsEXT" class="xref page">VkDebugReportFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_302"><a class="anchor" href="#_new_enum_constants_302"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEBUG_REPORT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEBUG_REPORT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DEBUG_REPORT_CALLBACK_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_VALIDATION_FAILED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="versions.html#versions-1.1" class="xref page">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_SAMPLER_YCBCR_CONVERSION_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_38"><a class="anchor" href="#_examples_38"></a>Examples</h3>
<div class="paragraph">
<p><code>VK_EXT_debug_report</code> allows an application to register multiple callbacks
with the validation layers.
Some callbacks may log the information to a file, others may cause a debug
break point or other application defined behavior.
An application <strong>can</strong> register callbacks even when no validation layers are
enabled, but they will only be called for loader and, if implemented, driver
events.</p>
</div>
<div class="paragraph">
<p>To capture events that occur while creating or destroying an instance an
application <strong>can</strong> link a <a href="../chapters/debugging.html#VkDebugReportCallbackCreateInfoEXT" class="xref page">VkDebugReportCallbackCreateInfoEXT</a> structure
to the <code>pNext</code> element of the <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a> structure given
to <a href="../chapters/initialization.html#vkCreateInstance" class="xref page">vkCreateInstance</a>.</p>
</div>
<div class="paragraph">
<p>Example uses: Create three callback objects.
One will log errors and warnings to the debug console using Windows
<code>OutputDebugString</code>.
The second will cause the debugger to break at that callback when an error
happens and the third will log warnings to stdout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    VkResult res;
    VkDebugReportCallbackEXT cb1, cb2, cb3;

    VkDebugReportCallbackCreateInfoEXT callback1 = {
        .sType = VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = VK_DEBUG_REPORT_ERROR_BIT_EXT |
                 VK_DEBUG_REPORT_WARNING_BIT_EXT,
        .pfnCallback = myOutputDebugString,
        .pUserData = NULL
    };
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback1, &amp;cb1);
    if (res != VK_SUCCESS)
       /* Do error handling for VK_ERROR_OUT_OF_MEMORY */

    callback.flags = VK_DEBUG_REPORT_ERROR_BIT_EXT;
    callback.pfnCallback = myDebugBreak;
    callback.pUserData = NULL;
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback, &amp;cb2);
    if (res != VK_SUCCESS)
       /* Do error handling for VK_ERROR_OUT_OF_MEMORY */

    VkDebugReportCallbackCreateInfoEXT callback3 = {
        .sType = VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT,
        .pNext = NULL,
        .flags = VK_DEBUG_REPORT_WARNING_BIT_EXT,
        .pfnCallback = mystdOutLogger,
        .pUserData = NULL
    };
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback3, &amp;cb3);
    if (res != VK_SUCCESS)
       /* Do error handling for VK_ERROR_OUT_OF_MEMORY */

    ...

    /* remove callbacks when cleaning up */
    vkDestroyDebugReportCallbackEXT(instance, cb1);
    vkDestroyDebugReportCallbackEXT(instance, cb2);
    vkDestroyDebugReportCallbackEXT(instance, cb3);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the initial release of the <code>VK_EXT_debug_report</code> extension, the token
<code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CREATE_INFO_EXT</code> was used.
Starting in version 2 of the extension branch,
<code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT</code> is used
instead for consistency with Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the initial release of the <code>VK_EXT_debug_report</code> extension, the token
<code>VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_EXT</code> was used.
Starting in version 8 of the extension branch,
<code>VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_CALLBACK_EXT_EXT</code> is used
instead for consistency with Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_issues_130"><a class="anchor" href="#_issues_130"></a>Issues</h3>
<div class="paragraph">
<p>1) What is the hierarchy / seriousness of the message flags? E.g.
<code>ERROR</code> &gt; <code>WARN</code> &gt; <code>PERF_WARN</code> &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is no specific hierarchy.
Each bit is independent and should be checked via bitwise AND.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    if (localFlags &amp; VK_DEBUG_REPORT_ERROR_BIT_EXT) {
        process error message
    }
    if (localFlags &amp; VK_DEBUG_REPORT_DEBUG_BIT_EXT) {
        process debug message
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The validation layers do use them in a hierarchical way (<code>ERROR</code> &gt;
<code>WARN</code> &gt; <code>PERF</code>, <code>WARN</code> &gt; <code>DEBUG</code> &gt; <code>INFO</code>) and they (at
least at the time of this writing) only set one bit at a time.
But it is not a requirement of this extension.</p>
</div>
<div class="paragraph">
<p>It is possible that a layer may intercept and change, or augment the flags
with extension values the application&#8217;s debug report handler may not be
familiar with, so it is important to treat each flag independently.</p>
</div>
<div class="paragraph">
<p>2) Should there be a VU requiring
<a href="../chapters/debugging.html#VkDebugReportCallbackCreateInfoEXT" class="xref page">VkDebugReportCallbackCreateInfoEXT</a>::<code>flags</code> to be non-zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It may not be very useful, but we do not need VU statement
requiring the <code>VkDebugReportCallbackCreateInfoEXT</code>::<code>msgFlags</code> at
create-time to be non-zero.
One can imagine that apps may prefer it as it allows them to set the mask as
desired - including nothing - at runtime without having to check.</p>
</div>
<div class="paragraph">
<p>3) What is the difference between <code>VK_DEBUG_REPORT_DEBUG_BIT_EXT</code> and
<code>VK_DEBUG_REPORT_INFORMATION_BIT_EXT</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_DEBUG_REPORT_DEBUG_BIT_EXT</code> specifies information that
could be useful debugging the Vulkan implementation itself.</p>
</div>
<div class="paragraph">
<p>4) How do you compare handles returned by the debug_report callback to the
application&#8217;s handles?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Due to the different nature of dispatchable and nondispatchable
handles there is no generic way (that we know of) that works for common
compilers with 32bit, 64bit, C and C++.
We recommend applications use the same cast that the validation layers use:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">reinterpret_cast&lt;uint64_t &amp;&gt;(dispatchableHandle)
(uint64_t)(nondispatchableHandle)</code></pre>
</div>
</div>
<div class="paragraph">
<p>+
This does require that the app treat dispatchable and nondispatchable
handles differently.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_302"><a class="anchor" href="#_version_history_302"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-02-16 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Update usage, documentation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2016-06-14 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Update VK_EXT_DEBUG_REPORT_SPEC_VERSION to indicate added support for
vkCreateInstance and vkDestroyInstance</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2016-12-08 (Mark Lobodzinski)</p>
<div class="ulist">
<ul>
<li>
<p>Added Display_KHR, DisplayModeKHR extension objects</p>
</li>
<li>
<p>Added ObjectTable_NVX, IndirectCommandsLayout_NVX extension objects</p>
</li>
<li>
<p>Bumped spec revision</p>
</li>
<li>
<p>Retroactively added version history</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Moved definition of <a href="../chapters/debugging.html#VkDebugReportObjectTypeEXT" class="xref page">VkDebugReportObjectTypeEXT</a> from debug marker
chapter</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_KHR_EXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2017-04-20 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify wording and address questions from developers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2017-04-21 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Remove unused enum VkDebugReportErrorEXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2020-12-14 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue 4 discussing matching handles returned by the extension,
based on suggestion in public issue 368.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_descriptor_indexing"><a class="anchor" href="#VK_EXT_descriptor_indexing"></a>VK_EXT_descriptor_indexing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_descriptor_indexing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>162</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_descriptor_indexing] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_descriptor_indexing extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_303"><a class="anchor" href="#_other_extension_metadata_303"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_descriptor_indexing.html"><code>SPV_EXT_descriptor_indexing</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_nonuniform_qualifier.txt"><code>GL_EXT_nonuniform_qualifier</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_303"><a class="anchor" href="#_description_303"></a>Description</h3>
<div class="paragraph">
<p>This extension adds several small features which together enable
applications to create large descriptor sets containing substantially all of
their resources, and selecting amongst those resources with dynamic
(non-uniform) indexes in the shader.
There are feature enables and SPIR-V capabilities for non-uniform descriptor
indexing in the shader, and non-uniform indexing in the shader requires use
of a new <code>NonUniformEXT</code> decoration defined in the
<code>SPV_EXT_descriptor_indexing</code> SPIR-V extension.
There are descriptor set layout binding creation flags enabling several
features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Descriptors can be updated after they are bound to a command buffer,
such that the execution of the command buffer reflects the most recent
update to the descriptors.</p>
</li>
<li>
<p>Descriptors that are not used by any pending command buffers can be
updated, which enables writing new descriptors for frame N+1 while frame
N is executing.</p>
</li>
<li>
<p>Relax the requirement that all descriptors in a binding that is
&#8220;statically used&#8221; must be valid, such that descriptors that are not
accessed by a submission need not be valid and can be updated while that
submission is executing.</p>
</li>
<li>
<p>The final binding in a descriptor set layout can have a variable size
(and unsized arrays of resources are allowed in the
<code>GL_EXT_nonuniform_qualifier</code> and <code>SPV_EXT_descriptor_indexing</code>
extensions).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that it is valid for multiple descriptor arrays in a shader to use the
same set and binding number, as long as they are all compatible with the
descriptor type in the pipeline layout.
This means a single array binding in the descriptor set can serve multiple
texture dimensionalities, or an array of buffer descriptors can be used with
multiple different block layouts.</p>
</div>
<div class="paragraph">
<p>There are new descriptor set layout and descriptor pool creation flags that
are required to opt in to the update-after-bind functionality, and there are
separate <code>maxPerStage</code>* and <code>maxDescriptorSet</code>* limits that apply to
these descriptor set layouts which <strong>may</strong> be much higher than the pre-existing
limits.
The old limits only count descriptors in non-updateAfterBind descriptor set
layouts, and the new limits count descriptors in all descriptor set layouts
in the pipeline layout.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_261"><a class="anchor" href="#_new_structures_261"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetAllocateInfo" class="xref page">VkDescriptorSetAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorSetVariableDescriptorCountAllocateInfoEXT" class="xref page">VkDescriptorSetVariableDescriptorCountAllocateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateInfo" class="xref page">VkDescriptorSetLayoutCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutBindingFlagsCreateInfoEXT" class="xref page">VkDescriptorSetLayoutBindingFlagsCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutSupport" class="xref page">VkDescriptorSetLayoutSupport</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorSetVariableDescriptorCountLayoutSupportEXT" class="xref page">VkDescriptorSetVariableDescriptorCountLayoutSupportEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceDescriptorIndexingFeaturesEXT" class="xref page">VkPhysicalDeviceDescriptorIndexingFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceDescriptorIndexingPropertiesEXT" class="xref page">VkPhysicalDeviceDescriptorIndexingPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_89"><a class="anchor" href="#_new_enums_89"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorBindingFlagBitsEXT" class="xref page">VkDescriptorBindingFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_72"><a class="anchor" href="#_new_bitmasks_72"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorBindingFlagsEXT" class="xref page">VkDescriptorBindingFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_303"><a class="anchor" href="#_new_enum_constants_303"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DESCRIPTOR_INDEXING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DESCRIPTOR_INDEXING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorBindingFlagBits" class="xref page">VkDescriptorBindingFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateFlagBits" class="xref page">VkDescriptorPoolCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_FRAGMENTATION_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_BINDING_FLAGS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_ALLOCATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_LAYOUT_SUPPORT_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_INDEXING_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_INDEXING_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_19"><a class="anchor" href="#_promotion_to_vulkan_1_2_19"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.2, with the EXT
suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>descriptorIndexing</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_303"><a class="anchor" href="#_version_history_303"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-26 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-10-02 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>???</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_extended_dynamic_state"><a class="anchor" href="#VK_EXT_extended_dynamic_state"></a>VK_EXT_extended_dynamic_state</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_extended_dynamic_state</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>268</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_extended_dynamic_state] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_extended_dynamic_state extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_304"><a class="anchor" href="#_other_extension_metadata_304"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-12-09</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dan Ginsburg, Valve Corporation</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve Corporation</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm Limited</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Philip Rebohle, Valve Corporation</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_304"><a class="anchor" href="#_description_304"></a>Description</h3>
<div class="paragraph">
<p>This extension adds some more dynamic state to support applications that
need to reduce the number of pipeline state objects they compile and bind.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_133"><a class="anchor" href="#_new_commands_133"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/fxvertex.html#vkCmdBindVertexBuffers2EXT" class="xref page">vkCmdBindVertexBuffers2EXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetCullModeEXT" class="xref page">vkCmdSetCullModeEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthBoundsTestEnableEXT" class="xref page">vkCmdSetDepthBoundsTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthCompareOpEXT" class="xref page">vkCmdSetDepthCompareOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthTestEnableEXT" class="xref page">vkCmdSetDepthTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetDepthWriteEnableEXT" class="xref page">vkCmdSetDepthWriteEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetFrontFaceEXT" class="xref page">vkCmdSetFrontFaceEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdSetPrimitiveTopologyEXT" class="xref page">vkCmdSetPrimitiveTopologyEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetScissorWithCountEXT" class="xref page">vkCmdSetScissorWithCountEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetStencilOpEXT" class="xref page">vkCmdSetStencilOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/fragops.html#vkCmdSetStencilTestEnableEXT" class="xref page">vkCmdSetStencilTestEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/vertexpostproc.html#vkCmdSetViewportWithCountEXT" class="xref page">vkCmdSetViewportWithCountEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_262"><a class="anchor" href="#_new_structures_262"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExtendedDynamicStateFeaturesEXT" class="xref page">VkPhysicalDeviceExtendedDynamicStateFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_304"><a class="anchor" href="#_new_enum_constants_304"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_CULL_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_FRONT_FACE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_OP_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_12"><a class="anchor" href="#_promotion_to_vulkan_1_3_12"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>This extension has been partially promoted.
All dynamic state enumerants and entry points in this extension are included
in core Vulkan 1.3, with the EXT suffix omitted.
The feature structure is not promoted.
Extension interfaces that were promoted remain available as aliases of the
core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_131"><a class="anchor" href="#_issues_131"></a>Issues</h3>
<div class="sect3">
<h4 id="_why_are_the_values_of_pstrides_in_vkcmdbindvertexbuffers2_limited_to_be_between_0_and_the_maximum_extent_of_the_binding_when_this_restriction_is_not_present_for_the_same_static_state"><a class="anchor" href="#_why_are_the_values_of_pstrides_in_vkcmdbindvertexbuffers2_limited_to_be_between_0_and_the_maximum_extent_of_the_binding_when_this_restriction_is_not_present_for_the_same_static_state"></a>Why are the values of <code>pStrides</code> in <a href="../chapters/fxvertex.html#vkCmdBindVertexBuffers2" class="xref page">vkCmdBindVertexBuffers2</a> limited to be between 0 and the maximum extent of the binding, when this restriction is not present for the same static state?</h4>
<div class="paragraph">
<p>Implementing these edge cases adds overhead to some implementations that
would require significant cost when calling this function, and the intention
is that this state should be more or less free to change.</p>
</div>
<div class="paragraph">
<p><a href="#VK_EXT_vertex_input_dynamic_state">VK_EXT_vertex_input_dynamic_state</a> allows the stride to be changed
freely when supported via <a href="../chapters/fxvertex.html#vkCmdSetVertexInputEXT" class="xref page">vkCmdSetVertexInputEXT</a>[].</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_304"><a class="anchor" href="#_version_history_304"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-09 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_extended_dynamic_state2"><a class="anchor" href="#VK_EXT_extended_dynamic_state2"></a>VK_EXT_extended_dynamic_state2</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_extended_dynamic_state2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>378</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_extended_dynamic_state2] @vkushwaha-nv%0A*Here describe the issue or question you have about the VK_EXT_extended_dynamic_state2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_305"><a class="anchor" href="#_other_extension_metadata_305"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-04-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_305"><a class="anchor" href="#_description_305"></a>Description</h3>
<div class="paragraph">
<p>This extension adds some more dynamic state to support applications that
need to reduce the number of pipeline state objects they compile and bind.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_134"><a class="anchor" href="#_new_commands_134"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetDepthBiasEnableEXT" class="xref page">vkCmdSetDepthBiasEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/framebuffer.html#vkCmdSetLogicOpEXT" class="xref page">vkCmdSetLogicOpEXT</a></p>
</li>
<li>
<p><a href="../chapters/shaders.html#vkCmdSetPatchControlPointsEXT" class="xref page">vkCmdSetPatchControlPointsEXT</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdSetPrimitiveRestartEnableEXT" class="xref page">vkCmdSetPrimitiveRestartEnableEXT</a></p>
</li>
<li>
<p><a href="../chapters/primsrast.html#vkCmdSetRasterizerDiscardEnableEXT" class="xref page">vkCmdSetRasterizerDiscardEnableEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_263"><a class="anchor" href="#_new_structures_263"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceExtendedDynamicState2FeaturesEXT" class="xref page">VkPhysicalDeviceExtendedDynamicState2FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_305"><a class="anchor" href="#_new_enum_constants_305"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkDynamicState" class="xref page">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LOGIC_OP_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_2_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_13"><a class="anchor" href="#_promotion_to_vulkan_1_3_13"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>This extension has been partially promoted.
The dynamic state enumerants <code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE_EXT</code>,
<code>VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE_EXT</code>, and
<code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE_EXT</code>; and the corresponding
entry points in this extension are included in core Vulkan 1.3, with the EXT
suffix omitted.
The enumerants and entry points for dynamic logic operation and patch
control points are not promoted, nor is the feature structure.
Extension interfaces that were promoted remain available as aliases of the
core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_305"><a class="anchor" href="#_version_history_305"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-04-12 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_global_priority"><a class="anchor" href="#VK_EXT_global_priority"></a>VK_EXT_global_priority</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_global_priority</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>175</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_KHR_global_priority">VK_KHR_global_priority</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andres Rodriguez <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_global_priority] @lostgoat%0A*Here describe the issue or question you have about the VK_EXT_global_priority extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>lostgoat</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_306"><a class="anchor" href="#_other_extension_metadata_306"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andres Rodriguez, Valve</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Mitch Singer, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_306"><a class="anchor" href="#_description_306"></a>Description</h3>
<div class="paragraph">
<p>In Vulkan, users can specify device-scope queue priorities.
In some cases it may be useful to extend this concept to a system-wide
scope.
This extension provides a mechanism for callers to set their system-wide
priority.
The default queue priority is <code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>.</p>
</div>
<div class="paragraph">
<p>The driver implementation will attempt to skew hardware resource allocation
in favour of the higher-priority task.
Therefore, higher-priority work may retain similar latency and throughput
characteristics even if the system is congested with lower priority work.</p>
</div>
<div class="paragraph">
<p>The global priority level of a queue shall take precedence over the
per-process queue priority
(<code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>).</p>
</div>
<div class="paragraph">
<p>Abuse of this feature may result in starving the rest of the system from
hardware resources.
Therefore, the driver implementation may deny requests to acquire a priority
above the default priority (<code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>) if
the caller does not have sufficient privileges.
In this scenario <code>VK_ERROR_NOT_PERMITTED_EXT</code> is returned.</p>
</div>
<div class="paragraph">
<p>The driver implementation may fail the queue allocation request if resources
required to complete the operation have been exhausted (either by the same
process or a different process).
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_264"><a class="anchor" href="#_new_structures_264"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceQueueCreateInfo" class="xref page">VkDeviceQueueCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDeviceQueueGlobalPriorityCreateInfoEXT" class="xref page">VkDeviceQueueGlobalPriorityCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_90"><a class="anchor" href="#_new_enums_90"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueGlobalPriorityEXT" class="xref page">VkQueueGlobalPriorityEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_306"><a class="anchor" href="#_new_enum_constants_306"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_GLOBAL_PRIORITY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_GLOBAL_PRIORITY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NOT_PERMITTED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_GLOBAL_PRIORITY_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_306"><a class="anchor" href="#_version_history_306"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2017-11-03 (Andres Rodriguez)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed VkQueueGlobalPriorityEXT missing _EXT suffix</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-10-06 (Andres Rodriguez)</p>
<div class="ulist">
<ul>
<li>
<p>First version.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_global_priority_query"><a class="anchor" href="#VK_EXT_global_priority_query"></a>VK_EXT_global_priority_query</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_global_priority_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>389</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_EXT_global_priority">VK_EXT_global_priority</a><br>
and<br>
<a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_KHR_global_priority">VK_KHR_global_priority</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yiwei Zhang <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_global_priority_query] @zhangyiwei%0A*Here describe the issue or question you have about the VK_EXT_global_priority_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zhangyiwei</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_307"><a class="anchor" href="#_other_extension_metadata_307"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-03-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Yiwei Zhang, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_307"><a class="anchor" href="#_description_307"></a>Description</h3>
<div class="paragraph">
<p>This device extension allows applications to query the global queue
priorities supported by a queue family.
It allows implementations to report which global priority levels are treated
differently by the implementation, instead of silently mapping multiple
requested global priority levels to the same internal priority, or using
device creation failure to signal that a requested priority is not
supported.
It is intended primarily for use by system integration along with certain
platform-specific priority enforcement rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_265"><a class="anchor" href="#_new_structures_265"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceGlobalPriorityQueryFeaturesEXT" class="xref page">VkPhysicalDeviceGlobalPriorityQueryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkQueueFamilyProperties2" class="xref page">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkQueueFamilyGlobalPriorityPropertiesEXT" class="xref page">VkQueueFamilyGlobalPriorityPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_307"><a class="anchor" href="#_new_enum_constants_307"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_GLOBAL_PRIORITY_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_GLOBAL_PRIORITY_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_GLOBAL_PRIORITY_SIZE_EXT</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GLOBAL_PRIORITY_QUERY_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_GLOBAL_PRIORITY_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_132"><a class="anchor" href="#_issues_132"></a>Issues</h3>
<div class="paragraph">
<p>1) Can we additionally query whether a caller is permitted to acquire a
specific global queue priority in this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Whether a caller has enough privilege goes with the OS, and the Vulkan
driver cannot really guarantee that the privilege will not change in between
this query and the actual queue creation call.</p>
</div>
<div class="paragraph">
<p>2) If more than 1 queue using global priority is requested, is there a good
way to know which queue is failing the device creation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is not a good way at this moment, and it is also not quite actionable
for the applications to know that because the information may not be
accurate.
Queue creation can fail because of runtime constraints like insufficient
privilege or lack of resource, and the failure is not necessarily tied to
that particular queue configuration requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_307"><a class="anchor" href="#_version_history_307"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-03-29 (Yiwei Zhang)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_host_query_reset"><a class="anchor" href="#VK_EXT_host_query_reset"></a>VK_EXT_host_query_reset</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_host_query_reset</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>262</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bas Nieuwenhuizen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_host_query_reset] @BNieuwenhuizen%0A*Here describe the issue or question you have about the VK_EXT_host_query_reset extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>BNieuwenhuizen</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_308"><a class="anchor" href="#_other_extension_metadata_308"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-03-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bas Nieuwenhuizen, Google</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_308"><a class="anchor" href="#_description_308"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a new function to reset queries from the host.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_20"><a class="anchor" href="#_promotion_to_vulkan_1_2_20"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
EXT suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_135"><a class="anchor" href="#_new_commands_135"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/queries.html#vkResetQueryPoolEXT" class="xref page">vkResetQueryPoolEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_266"><a class="anchor" href="#_new_structures_266"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceHostQueryResetFeaturesEXT" class="xref page">VkPhysicalDeviceHostQueryResetFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_308"><a class="anchor" href="#_new_enum_constants_308"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_HOST_QUERY_RESET_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_HOST_QUERY_RESET_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_HOST_QUERY_RESET_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_308"><a class="anchor" href="#_version_history_308"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-03-12 (Bas Nieuwenhuizen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_image_robustness"><a class="anchor" href="#VK_EXT_image_robustness"></a>VK_EXT_image_robustness</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_robustness</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>336</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_image_robustness] @gnl21%0A*Here describe the issue or question you have about the VK_EXT_image_robustness extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_309"><a class="anchor" href="#_other_extension_metadata_309"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-04-27</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
<li>
<p>Slawomir Cygan, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_309"><a class="anchor" href="#_description_309"></a>Description</h3>
<div class="paragraph">
<p>This extension adds stricter requirements for how out of bounds reads from
images are handled.
Rather than returning undefined values, most out of bounds reads return R,
G, and B values of zero and alpha values of either zero or one.
Components not present in the image format may be set to zero or to values
based on the format as described in <a href="../chapters/textures.html#textures-conversion-to-rgba" class="xref page">Conversion to RGBA</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_267"><a class="anchor" href="#_new_structures_267"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceImageRobustnessFeaturesEXT" class="xref page">VkPhysicalDeviceImageRobustnessFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_309"><a class="anchor" href="#_new_enum_constants_309"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_IMAGE_ROBUSTNESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_IMAGE_ROBUSTNESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_ROBUSTNESS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_14"><a class="anchor" href="#_promotion_to_vulkan_1_3_14"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_133"><a class="anchor" href="#_issues_133"></a>Issues</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>How does this extension differ from VK_EXT_robustness2?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The guarantees provided by this extension are a subset of those provided by
the robustImageAccess2 feature of VK_EXT_robustness2.
Where this extension allows return values of (0, 0, 0, 0) or (0, 0, 0, 1),
robustImageAccess2 requires that a particular value dependent on the image
format be returned.
This extension provides no guarantees about the values returned for an
access to an invalid Lod.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_39"><a class="anchor" href="#_examples_39"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_309"><a class="anchor" href="#_version_history_309"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-04-27 (Graeme Leese)</p>
</li>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_inline_uniform_block"><a class="anchor" href="#VK_EXT_inline_uniform_block"></a>VK_EXT_inline_uniform_block</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_inline_uniform_block</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>139</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_inline_uniform_block] @aqnuep%0A*Here describe the issue or question you have about the VK_EXT_inline_uniform_block extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aqnuep</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_310"><a class="anchor" href="#_other_extension_metadata_310"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-01</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_310"><a class="anchor" href="#_description_310"></a>Description</h3>
<div class="paragraph">
<p>This extension introduces the ability to back uniform blocks directly with
descriptor sets by storing inline uniform data within descriptor pool
storage.
Compared to push constants this new construct allows uniform data to be
reused across multiple disjoint sets of drawing or dispatching commands and
<strong>may</strong> enable uniform data to be accessed with fewer indirections compared to
uniforms backed by buffer memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_268"><a class="anchor" href="#_new_structures_268"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateInfo" class="xref page">VkDescriptorPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkDescriptorPoolInlineUniformBlockCreateInfoEXT" class="xref page">VkDescriptorPoolInlineUniformBlockCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceInlineUniformBlockFeaturesEXT" class="xref page">VkPhysicalDeviceInlineUniformBlockFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceInlineUniformBlockPropertiesEXT" class="xref page">VkPhysicalDeviceInlineUniformBlockPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkWriteDescriptorSet" class="xref page">VkWriteDescriptorSet</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkWriteDescriptorSetInlineUniformBlockEXT" class="xref page">VkWriteDescriptorSetInlineUniformBlockEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_310"><a class="anchor" href="#_new_enum_constants_310"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_INLINE_UNIFORM_BLOCK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_INLINE_UNIFORM_BLOCK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_INLINE_UNIFORM_BLOCK_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INLINE_UNIFORM_BLOCK_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INLINE_UNIFORM_BLOCK_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_INLINE_UNIFORM_BLOCK_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_15"><a class="anchor" href="#_promotion_to_vulkan_1_3_15"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
<div class="paragraph">
<p>Vulkan 1.3 adds <a href="versions.html#versions-1.3-new-features" class="xref page">additional functionalityrelated to this extension</a> in the form of the
<a href="../chapters/devsandqueues.html#limits-maxInlineUniformTotalSize" class="xref page"><code>maxInlineUniformTotalSize</code></a> limit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_134"><a class="anchor" href="#_issues_134"></a>Issues</h3>
<div class="paragraph">
<p>1) Do we need a new storage class for inline uniform blocks vs. uniform
blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The <code>Uniform</code> storage class is used to allow the same syntax used for
both uniform buffers and inline uniform blocks.</p>
</div>
<div class="paragraph">
<p>2) Is the descriptor array index and array size expressed in terms of bytes
or dwords for inline uniform block descriptors?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In bytes, but both <strong>must</strong> be a multiple of 4, similar to how push
constant ranges are specified.
The <code>descriptorCount</code> of <code>VkDescriptorSetLayoutBinding</code> thus
provides the total number of bytes a particular binding with an inline
uniform block descriptor type can hold, while the <code>srcArrayElement</code>,
<code>dstArrayElement</code>, and <code>descriptorCount</code> members of
<code>VkWriteDescriptorSet</code>, <code>VkCopyDescriptorSet</code>, and
<code>VkDescriptorUpdateTemplateEntry</code> (where applicable) specify the byte
offset and number of bytes to write/copy to the binding&#8217;s backing store.
Additionally, the <code>stride</code> member of
<code>VkDescriptorUpdateTemplateEntry</code> is ignored for inline uniform blocks
and a default value of one is used, meaning that the data to update inline
uniform block bindings with must be contiguous in memory.</p>
</div>
<div class="paragraph">
<p>3) What layout rules apply for uniform blocks corresponding to inline
constants?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: They use the same layout rules as uniform buffers.</p>
</div>
<div class="paragraph">
<p>4) Do we need to add non-uniform indexing features/properties as introduced
by <code>VK_EXT_descriptor_indexing</code> for inline uniform blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, because inline uniform blocks are not allowed to be
&#8220;arrayed&#8221;.
A single binding with an inline uniform block descriptor type corresponds to
a single uniform block instance and the array indices inside that binding
refer to individual offsets within the uniform block (see issue #2).
However, this extension does introduce new features/properties about the
level of support for update-after-bind inline uniform blocks.</p>
</div>
<div class="paragraph">
<p>5) Is the <code>descriptorBindingVariableDescriptorCount</code> feature introduced
by <code>VK_EXT_descriptor_indexing</code> supported for inline uniform blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, as long as other inline uniform block specific limits are
respected.</p>
</div>
<div class="paragraph">
<p>6) Do the robustness guarantees of <code>robustBufferAccess</code> apply to inline
uniform block accesses?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, similarly to push constants, as they are not backed by
buffer memory like uniform buffers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_310"><a class="anchor" href="#_version_history_310"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_creation_cache_control"><a class="anchor" href="#VK_EXT_pipeline_creation_cache_control"></a>VK_EXT_pipeline_creation_cache_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_creation_cache_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>298</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Gregory Grebe <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pipeline_creation_cache_control] @grgrebe_amd%0A*Here describe the issue or question you have about the VK_EXT_pipeline_creation_cache_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>grgrebe_amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_311"><a class="anchor" href="#_other_extension_metadata_311"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-03-23</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Gregory Grebe, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Mitch Singer, AMD</p>
</li>
<li>
<p>Spencer Fricke, Samsung Electronics</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA Corporation</p>
</li>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
<li>
<p>Dan Ginsburg, Valve Corporation</p>
</li>
<li>
<p>Jeff Leger, QUALCOMM</p>
</li>
<li>
<p>Michal Pietrasiuk, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm Limited</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_311"><a class="anchor" href="#_description_311"></a>Description</h3>
<div class="paragraph">
<p>This extension adds flags to <code>Vk*PipelineCreateInfo</code> and
<a href="../chapters/pipelines.html#VkPipelineCacheCreateInfo" class="xref page">VkPipelineCacheCreateInfo</a> structures with the aim of improving the
predictability of pipeline creation cost.
The goal is to provide information about potentially expensive hazards
within the client driver during pipeline creation to the application before
carrying them out rather than after.</p>
</div>
</div>
<div class="sect2">
<h3 id="_background"><a class="anchor" href="#_background"></a>Background</h3>
<div class="paragraph">
<p>Pipeline creation is a costly operation, and the explicit nature of the
Vulkan design means that cost is not hidden from the developer.
Applications are also expected to schedule, prioritize, and load balance all
calls for pipeline creation.
It is strongly advised that applications create pipelines sufficiently ahead
of their usage.
Failure to do so will result in an unresponsive application, intermittent
stuttering, or other poor user experiences.
Proper usage of pipeline caches and/or derivative pipelines help mitigate
this but is not assured to eliminate disruption in all cases.
In the event that an ahead-of-time creation is not possible, considerations
should be taken to ensure that the current execution context is suitable for
the workload of pipeline creation including possible shader compilation.</p>
</div>
<div class="paragraph">
<p>Applications making API calls to create a pipeline must be prepared for any
of the following to occur:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OS/kernel calls to be made by the ICD</p>
</li>
<li>
<p>Internal memory allocation not tracked by the <code>pAllocator</code> passed to
<code>vkCreate*Pipelines</code></p>
</li>
<li>
<p>Internal thread synchronization or yielding of the current thread&#8217;s core</p>
</li>
<li>
<p>Extremely long (multi-millisecond+), blocking, compilation times</p>
</li>
<li>
<p>Arbitrary call stacks depths and stack memory usage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The job or task based game engines that are being developed to take
advantage of explicit graphics APIs like Vulkan may behave exceptionally
poorly if any of the above scenarios occur.
However, most game engines are already built to &#8220;stream&#8221; in assets
dynamically as the user plays the game.
By adding control by way of <a href="../chapters/pipelines.html#VkPipelineCreateFlags" class="xref page">VkPipelineCreateFlags</a>, we can require an
ICD to report back a failure in critical execution paths rather than forcing
an unexpected wait.</p>
</div>
<div class="paragraph">
<p>Applications can prevent unexpected compilation by setting
<code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code> on
<code>Vk*PipelineCreateInfo</code>::<code>flags</code>.
When set, an ICD must not attempt pipeline or shader compilation to create
the pipeline object.
In such a case, if the implementation fails to create a pipeline without
compilation, the implementation <strong>must</strong> return the result
<code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code> and return <a href="boilerplate.html#VK_NULL_HANDLE" class="xref page">VK_NULL_HANDLE</a> for
the pipeline.</p>
</div>
<div class="paragraph">
<p>By default <code>vkCreate*Pipelines</code> calls must attempt to create all
pipelines before returning.
Setting <code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT_EXT</code> on
<code>Vk*PipelineCreateInfo</code>::<code>flags</code> can be used as an escape hatch for
batched pipeline creates.</p>
</div>
<div class="paragraph">
<p>Hidden locks also add to the unpredictability of the cost of pipeline
creation.
The most common case of locks inside the <code>vkCreate*Pipelines</code> is
internal synchronization of the <a href="../chapters/pipelines.html#VkPipelineCache" class="xref page">VkPipelineCache</a> object.
<code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT_EXT</code> can be set
when calling <a href="../chapters/pipelines.html#vkCreatePipelineCache" class="xref page">vkCreatePipelineCache</a> to state the cache is
<a href="../chapters/fundamentals.html#fundamentals-threadingbehavior" class="xref page">externally synchronized</a>.</p>
</div>
<div class="paragraph">
<p>The hope is that armed with this information application and engine
developers can leverage existing asset streaming systems to recover from
"just-in-time" pipeline creation stalls.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_269"><a class="anchor" href="#_new_structures_269"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePipelineCreationCacheControlFeaturesEXT" class="xref page">VkPhysicalDevicePipelineCreationCacheControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_91"><a class="anchor" href="#_new_enums_91"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCacheCreateFlagBits" class="xref page">VkPipelineCacheCreateFlagBits</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_311"><a class="anchor" href="#_new_enum_constants_311"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_CREATION_CACHE_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_CREATION_CACHE_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCacheCreateFlagBits" class="xref page">VkPipelineCacheCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_CREATE_EXTERNALLY_SYNCHRONIZED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineCreateFlagBits" class="xref page">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_EARLY_RETURN_ON_FAILURE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_FAIL_ON_PIPELINE_COMPILE_REQUIRED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_CREATION_CACHE_CONTROL_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_16"><a class="anchor" href="#_promotion_to_vulkan_1_3_16"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_311"><a class="anchor" href="#_version_history_311"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-11-01 (Gregory Grebe)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-02-24 (Gregory Grebe)</p>
<div class="ulist">
<ul>
<li>
<p>Initial public revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-03-23 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Changed <code>VK_PIPELINE_COMPILE_REQUIRED_EXT</code> to a success code,
adding an alias for the original
<code>VK_ERROR_PIPELINE_COMPILE_REQUIRED_EXT</code>.
Also updated the xml to include these codes as return values.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_pipeline_creation_feedback"><a class="anchor" href="#VK_EXT_pipeline_creation_feedback"></a>VK_EXT_pipeline_creation_feedback</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pipeline_creation_feedback</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>193</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_pipeline_creation_feedback] @jfroy%0A*Here describe the issue or question you have about the VK_EXT_pipeline_creation_feedback extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jfroy</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_312"><a class="anchor" href="#_other_extension_metadata_312"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-03-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jean-Francois Roy, Google</p>
</li>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Andrew Ellem, Google</p>
</li>
<li>
<p>Bob Fraser, Google</p>
</li>
<li>
<p>Sujeevan Rajayogam, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_312"><a class="anchor" href="#_description_312"></a>Description</h3>
<div class="paragraph">
<p>This extension adds a mechanism to provide feedback to an application about
pipeline creation, with the specific goal of allowing a feedback loop
between build systems and in-the-field application executions to ensure
effective pipeline caches are shipped to customers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_270"><a class="anchor" href="#_new_structures_270"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreationFeedbackEXT" class="xref page">VkPipelineCreationFeedbackEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkGraphicsPipelineCreateInfo" class="xref page">VkGraphicsPipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkComputePipelineCreateInfo" class="xref page">VkComputePipelineCreateInfo</a>, <a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoNV" class="xref page">VkRayTracingPipelineCreateInfoNV</a>, <a href="../chapters/pipelines.html#VkRayTracingPipelineCreateInfoKHR" class="xref page">VkRayTracingPipelineCreateInfoKHR</a>, <a href="../chapters/executiongraphs.html#VkExecutionGraphPipelineCreateInfoAMDX" class="xref page">VkExecutionGraphPipelineCreateInfoAMDX</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreationFeedbackCreateInfoEXT" class="xref page">VkPipelineCreationFeedbackCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_92"><a class="anchor" href="#_new_enums_92"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreationFeedbackFlagBitsEXT" class="xref page">VkPipelineCreationFeedbackFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_73"><a class="anchor" href="#_new_bitmasks_73"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineCreationFeedbackFlagsEXT" class="xref page">VkPipelineCreationFeedbackFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_312"><a class="anchor" href="#_new_enum_constants_312"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PIPELINE_CREATION_FEEDBACK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PIPELINE_CREATION_FEEDBACK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_CREATION_FEEDBACK_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_17"><a class="anchor" href="#_promotion_to_vulkan_1_3_17"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_312"><a class="anchor" href="#_version_history_312"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-03-12 (Jean-Francois Roy)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_private_data"><a class="anchor" href="#VK_EXT_private_data"></a>VK_EXT_private_data</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_private_data</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>296</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Rusch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_private_data] @mattruschnv%0A*Here describe the issue or question you have about the VK_EXT_private_data extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mattruschnv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_313"><a class="anchor" href="#_other_extension_metadata_313"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-03-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Rusch, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_313"><a class="anchor" href="#_description_313"></a>Description</h3>
<div class="paragraph">
<p>This extension is a device extension which enables attaching arbitrary
payloads to Vulkan objects.
It introduces the idea of private data slots as a means of storing a 64-bit
unsigned integer of application defined data.
Private data slots can be created or destroyed any time an associated device
is available.
Private data slots can be reserved at device creation time, and limiting use
to the amount reserved will allow the extension to exhibit better
performance characteristics.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_object_types_20"><a class="anchor" href="#_new_object_types_20"></a>New Object Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlotEXT" class="xref page">VkPrivateDataSlotEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_136"><a class="anchor" href="#_new_commands_136"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#vkCreatePrivateDataSlotEXT" class="xref page">vkCreatePrivateDataSlotEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#vkDestroyPrivateDataSlotEXT" class="xref page">vkDestroyPrivateDataSlotEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#vkGetPrivateDataEXT" class="xref page">vkGetPrivateDataEXT</a></p>
</li>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#vkSetPrivateDataEXT" class="xref page">vkSetPrivateDataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_271"><a class="anchor" href="#_new_structures_271"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlotCreateInfoEXT" class="xref page">VkPrivateDataSlotCreateInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/devsandqueues.html#VkDevicePrivateDataCreateInfoEXT" class="xref page">VkDevicePrivateDataCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDevicePrivateDataFeaturesEXT" class="xref page">VkPhysicalDevicePrivateDataFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_74"><a class="anchor" href="#_new_bitmasks_74"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlotCreateFlagsEXT" class="xref page">VkPrivateDataSlotCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_313"><a class="anchor" href="#_new_enum_constants_313"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_PRIVATE_DATA_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_PRIVATE_DATA_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/debugging.html#VkObjectType" class="xref page">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_PRIVATE_DATA_SLOT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_PRIVATE_DATA_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRIVATE_DATA_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PRIVATE_DATA_SLOT_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_18"><a class="anchor" href="#_promotion_to_vulkan_1_3_18"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_40"><a class="anchor" href="#_examples_40"></a>Examples</h3>
<div class="ulist">
<ul>
<li>
<p>In progress</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_135"><a class="anchor" href="#_issues_135"></a>Issues</h3>
<div class="paragraph">
<p>(1) If I have to create a <a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlot" class="xref page">VkPrivateDataSlot</a> to store and retrieve data
on an object, how does this extension help me? Will I not need to store the
<a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlot" class="xref page">VkPrivateDataSlot</a> mapping with each object, and if I am doing that, I
might as well just store the original data!</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED:</strong> The <a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlot" class="xref page">VkPrivateDataSlot</a> can be thought of as an opaque
index into storage that is reserved in each object.
That is, you can use the same <a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlot" class="xref page">VkPrivateDataSlot</a> with each object for a
specific piece of information.
For example, if a layer wishes to track per-object information, the layer
only needs to allocate one <a href="../chapters/VK_EXT_private_data.html#VkPrivateDataSlot" class="xref page">VkPrivateDataSlot</a> per device and it can use
that private data slot for all of the device&#8217;s child objects.
This allows multiple layers to store private data without conflicting with
each other&#8217;s and/or the application&#8217;s private data.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) What if I need to store more than 64-bits of information per object?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED:</strong> The data that you store per object could be a pointer to
another object or structure of your own allocation.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_313"><a class="anchor" href="#_version_history_313"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-01-15 (Matthew Rusch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_sampler_filter_minmax"><a class="anchor" href="#VK_EXT_sampler_filter_minmax"></a>VK_EXT_sampler_filter_minmax</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_sampler_filter_minmax</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>131</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_sampler_filter_minmax] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_sampler_filter_minmax extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_314"><a class="anchor" href="#_other_extension_metadata_314"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-19</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_314"><a class="anchor" href="#_description_314"></a>Description</h3>
<div class="paragraph">
<p>In unextended Vulkan, minification and magnification filters such as LINEAR
allow sampled image lookups to return a filtered texel value produced by
computing a weighted average of a collection of texels in the neighborhood
of the texture coordinate provided.</p>
</div>
<div class="paragraph">
<p>This extension provides a new sampler parameter which allows applications to
produce a filtered texel value by computing a component-wise minimum (MIN)
or maximum (MAX) of the texels that would normally be averaged.
The reduction mode is orthogonal to the minification and magnification
filter parameters.
The filter parameters are used to identify the set of texels used to produce
a final filtered value; the reduction mode identifies how these texels are
combined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_21"><a class="anchor" href="#_promotion_to_vulkan_1_2_21"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
EXT suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_272"><a class="anchor" href="#_new_structures_272"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceSamplerFilterMinmaxPropertiesEXT" class="xref page">VkPhysicalDeviceSamplerFilterMinmaxPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerCreateInfo" class="xref page">VkSamplerCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerReductionModeCreateInfoEXT" class="xref page">VkSamplerReductionModeCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_93"><a class="anchor" href="#_new_enums_93"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/samplers.html#VkSamplerReductionModeEXT" class="xref page">VkSamplerReductionModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_314"><a class="anchor" href="#_new_enum_constants_314"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SAMPLER_FILTER_MINMAX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SAMPLER_FILTER_MINMAX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormatFeatureFlagBits" class="xref page">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/samplers.html#VkSamplerReductionMode" class="xref page">VkSamplerReductionMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_REDUCTION_MODE_MAX_EXT</code></p>
</li>
<li>
<p><code>VK_SAMPLER_REDUCTION_MODE_MIN_EXT</code></p>
</li>
<li>
<p><code>VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_FILTER_MINMAX_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_REDUCTION_MODE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_314"><a class="anchor" href="#_version_history_314"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2017-05-19 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed to EXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-03-25 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_scalar_block_layout"><a class="anchor" href="#VK_EXT_scalar_block_layout"></a>VK_EXT_scalar_block_layout</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_scalar_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>222</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_scalar_block_layout] @tobski%0A*Here describe the issue or question you have about the VK_EXT_scalar_block_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_315"><a class="anchor" href="#_other_extension_metadata_315"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz</p>
</li>
<li>
<p>Jan-Harald Fredriksen</p>
</li>
<li>
<p>Graeme Leese</p>
</li>
<li>
<p>Faith Ekstrand</p>
</li>
<li>
<p>John Kessenich</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_315"><a class="anchor" href="#_description_315"></a>Description</h3>
<div class="paragraph">
<p>This extension enables C-like structure layout for SPIR-V blocks.
It modifies the alignment rules for uniform buffers, storage buffers and
push constants, allowing non-scalar types to be aligned solely based on the
size of their components, without additional requirements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_22"><a class="anchor" href="#_promotion_to_vulkan_1_2_22"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.2, with the EXT
suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>scalarBlockLayout</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_273"><a class="anchor" href="#_new_structures_273"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceScalarBlockLayoutFeaturesEXT" class="xref page">VkPhysicalDeviceScalarBlockLayoutFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_315"><a class="anchor" href="#_new_enum_constants_315"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SCALAR_BLOCK_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SCALAR_BLOCK_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SCALAR_BLOCK_LAYOUT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_315"><a class="anchor" href="#_version_history_315"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_separate_stencil_usage"><a class="anchor" href="#VK_EXT_separate_stencil_usage"></a>VK_EXT_separate_stencil_usage</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_separate_stencil_usage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>247</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_separate_stencil_usage] @drakos-amd%0A*Here describe the issue or question you have about the VK_EXT_separate_stencil_usage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_316"><a class="anchor" href="#_other_extension_metadata_316"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-08</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jordan Logan, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_316"><a class="anchor" href="#_description_316"></a>Description</h3>
<div class="paragraph">
<p>This extension allows specifying separate usage flags for the stencil aspect
of images with a depth-stencil format at image creation time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_23"><a class="anchor" href="#_promotion_to_vulkan_1_2_23"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
EXT suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_274"><a class="anchor" href="#_new_structures_274"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>, <a href="../chapters/capabilities.html#VkPhysicalDeviceImageFormatInfo2" class="xref page">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkImageStencilUsageCreateInfoEXT" class="xref page">VkImageStencilUsageCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_316"><a class="anchor" href="#_new_enum_constants_316"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SEPARATE_STENCIL_USAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SEPARATE_STENCIL_USAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_STENCIL_USAGE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_316"><a class="anchor" href="#_version_history_316"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-08 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_demote_to_helper_invocation"><a class="anchor" href="#VK_EXT_shader_demote_to_helper_invocation"></a>VK_EXT_shader_demote_to_helper_invocation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_demote_to_helper_invocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>277</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_demote_to_helper_invocation] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_shader_demote_to_helper_invocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_317"><a class="anchor" href="#_other_extension_metadata_317"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-01</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_demote_to_helper_invocation.html"><code>SPV_EXT_demote_to_helper_invocation</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_demote_to_helper_invocation.txt"><code>GL_EXT_demote_to_helper_invocation</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_317"><a class="anchor" href="#_description_317"></a>Description</h3>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_demote_to_helper_invocation.html"><code>SPV_EXT_demote_to_helper_invocation</code></a>
SPIR-V extension.
That SPIR-V extension provides a new instruction
<code>OpDemoteToHelperInvocationEXT</code> allowing shaders to &#8220;demote&#8221; a fragment
shader invocation to behave like a helper invocation for its duration.
The demoted invocation will have no further side effects and will not output
to the framebuffer, but remains active and can participate in computing
derivatives and in <a href="../chapters/shaders.html#shaders-group-operations" class="xref page">group operations</a>.
This is a better match for the &#8220;discard&#8221; instruction in HLSL.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_275"><a class="anchor" href="#_new_structures_275"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceShaderDemoteToHelperInvocationFeaturesEXT" class="xref page">VkPhysicalDeviceShaderDemoteToHelperInvocationFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_317"><a class="anchor" href="#_new_enum_constants_317"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_DEMOTE_TO_HELPER_INVOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_DEMOTE_TO_HELPER_INVOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_DEMOTE_TO_HELPER_INVOCATION_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capability_6"><a class="anchor" href="#_new_spir_v_capability_6"></a>New SPIR-V Capability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-DemoteToHelperInvocationEXT" class="xref page">    <code>DemoteToHelperInvocationEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_19"><a class="anchor" href="#_promotion_to_vulkan_1_3_19"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_317"><a class="anchor" href="#_version_history_317"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-01 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_subgroup_ballot"><a class="anchor" href="#VK_EXT_shader_subgroup_ballot"></a>VK_EXT_shader_subgroup_ballot</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_subgroup_ballot</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>65</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="versions.html#versions-1.2-new-features" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_subgroup_ballot] @dgkoch%0A*Here describe the issue or question you have about the VK_EXT_shader_subgroup_ballot extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_318"><a class="anchor" href="#_other_extension_metadata_318"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_ballot.html"><code>SPV_KHR_shader_ballot</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_ballot.txt"><code>GL_ARB_shader_ballot</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_318"><a class="anchor" href="#_description_318"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_shader_ballot</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides the ability for a group of invocations, which
execute in parallel, to do limited forms of cross-invocation communication
via a group broadcast of a invocation value, or broadcast of a bitarray
representing a predicate value from each invocation in the group.</p>
</div>
<div class="paragraph">
<p>This extension provides access to a number of additional built-in shader
variables in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SubgroupEqMaskKHR</code>, containing the subgroup mask of the current
subgroup invocation,</p>
</li>
<li>
<p><code>SubgroupGeMaskKHR</code>, containing the subgroup mask of the invocations
greater than or equal to the current invocation,</p>
</li>
<li>
<p><code>SubgroupGtMaskKHR</code>, containing the subgroup mask of the invocations
greater than the current invocation,</p>
</li>
<li>
<p><code>SubgroupLeMaskKHR</code>, containing the subgroup mask of the invocations
less than or equal to the current invocation,</p>
</li>
<li>
<p><code>SubgroupLtMaskKHR</code>, containing the subgroup mask of the invocations
less than the current invocation,</p>
</li>
<li>
<p><code>SubgroupLocalInvocationId</code>, containing the index of an invocation
within a subgroup, and</p>
</li>
<li>
<p><code>SubgroupSize</code>, containing the maximum number of invocations in a
subgroup.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, this extension provides access to the new SPIR-V instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OpSubgroupBallotKHR</code>,</p>
</li>
<li>
<p><code>OpSubgroupFirstInvocationKHR</code>, and</p>
</li>
<li>
<p><code>OpSubgroupReadInvocationKHR</code>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables and
shader functions from GL_ARB_shader_ballot can map to these SPIR-V built-in
decorations and instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in uint64_t gl_SubGroupEqMaskARB;</code> &#8594; <code>SubgroupEqMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupGeMaskARB;</code> &#8594; <code>SubgroupGeMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupGtMaskARB;</code> &#8594; <code>SubgroupGtMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupLeMaskARB;</code> &#8594; <code>SubgroupLeMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupLtMaskARB;</code> &#8594; <code>SubgroupLtMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint gl_SubGroupInvocationARB;</code> &#8594; <code>SubgroupLocalInvocationId</code>,</p>
</li>
<li>
<p><code>uniform uint gl_SubGroupSizeARB;</code> &#8594; <code>SubgroupSize</code>,</p>
</li>
<li>
<p><code>ballotARB</code>() &#8594; <code>OpSubgroupBallotKHR</code>,</p>
</li>
<li>
<p><code>readFirstInvocationARB</code>() &#8594; <code>OpSubgroupFirstInvocationKHR</code>, and</p>
</li>
<li>
<p><code>readInvocationARB</code>() &#8594; <code>OpSubgroupReadInvocationKHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_deprecated_by_vulkan_1_2"><a class="anchor" href="#_deprecated_by_vulkan_1_2"></a>Deprecated by Vulkan 1.2</h3>
<div class="paragraph">
<p>Most of the functionality in this extension is superseded by the core Vulkan
1.1 <a href="../chapters/limits.html#VkPhysicalDeviceSubgroupProperties" class="xref page">subgroup operations</a>.
However, Vulkan 1.1 required the <code>OpGroupNonUniformBroadcast</code> &#8220;Id&#8221; to
be constant.
This restriction was removed in Vulkan 1.2 with the addition of the
<a href="../chapters/features.html#features-subgroupBroadcastDynamicId" class="xref page"><code>subgroupBroadcastDynamicId</code></a>
feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_318"><a class="anchor" href="#_new_enum_constants_318"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_SUBGROUP_BALLOT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_SUBGROUP_BALLOT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_10"><a class="anchor" href="#_new_built_in_variables_10"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sgeq" class="xref page"><code>SubgroupEqMaskKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sgge" class="xref page"><code>SubgroupGeMaskKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sggt" class="xref page"><code>SubgroupGtMaskKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sgle" class="xref page"><code>SubgroupLeMaskKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sglt" class="xref page"><code>SubgroupLtMaskKHR</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sgli" class="xref page"><code>SubgroupLocalInvocationId</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-sgs" class="xref page"><code>SubgroupSize</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_38"><a class="anchor" href="#_new_spir_v_capabilities_38"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-SubgroupBallotKHR" class="xref page">    <code>SubgroupBallotKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_318"><a class="anchor" href="#_version_history_318"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-28 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_subgroup_vote"><a class="anchor" href="#VK_EXT_shader_subgroup_vote"></a>VK_EXT_shader_subgroup_vote</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_subgroup_vote</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>66</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="versions.html#versions-1.1-new-features" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_subgroup_vote] @dgkoch%0A*Here describe the issue or question you have about the VK_EXT_shader_subgroup_vote extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_319"><a class="anchor" href="#_other_extension_metadata_319"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_subgroup_vote.html"><code>SPV_KHR_subgroup_vote</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_group_vote.txt"><code>GL_ARB_shader_group_vote</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_319"><a class="anchor" href="#_description_319"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_subgroup_vote</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides new SPIR-V instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OpSubgroupAllKHR</code>,</p>
</li>
<li>
<p><code>OpSubgroupAnyKHR</code>, and</p>
</li>
<li>
<p><code>OpSubgroupAllEqualKHR</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>to compute the composite of a set of boolean conditions across a group of
shader invocations that are running concurrently (a <em>subgroup</em>).
These composite results may be used to execute shaders more efficiently on a
<a href="../chapters/devsandqueues.html#VkPhysicalDevice" class="xref page">VkPhysicalDevice</a>.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following shader
functions from GL_ARB_shader_group_vote can map to these SPIR-V
instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>anyInvocationARB</code>() &#8594; <code>OpSubgroupAnyKHR</code>,</p>
</li>
<li>
<p><code>allInvocationsARB</code>() &#8594; <code>OpSubgroupAllKHR</code>, and</p>
</li>
<li>
<p><code>allInvocationsEqualARB</code>() &#8594; <code>OpSubgroupAllEqualKHR</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The subgroup across which the boolean conditions are evaluated is
implementation-dependent, and this extension provides no guarantee over how
individual shader invocations are assigned to subgroups.
In particular, a subgroup has no necessary relationship with the compute
shader <em>local workgroup</em>&#8201;&#8212;&#8201;any pair of shader invocations in a compute
local workgroup may execute in different subgroups as used by these
instructions.</p>
</div>
<div class="paragraph">
<p>Compute shaders operate on an explicitly specified group of threads (a local
workgroup), but many implementations will also group non-compute shader
invocations and execute them concurrently.
When executing code like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">if (condition) {
  result = do_fast_path();
} else {
  result = do_general_path();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>condition</code> diverges between invocations, an implementation might
first execute <code>do_fast_path</code>() for the invocations where <code>condition</code>
is true and leave the other invocations dormant.
Once <code>do_fast_path</code>() returns, it might call <code>do_general_path</code>() for
invocations where <code>condition</code> is <code>false</code> and leave the other
invocations dormant.
In this case, the shader executes <strong>both</strong> the fast and the general path and
might be better off just using the general path for all invocations.</p>
</div>
<div class="paragraph">
<p>This extension provides the ability to avoid divergent execution by
evaluating a condition across an entire subgroup using code like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">if (allInvocationsARB(condition)) {
  result = do_fast_path();
} else {
  result = do_general_path();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The built-in function <code>allInvocationsARB</code>() will return the same value
for all invocations in the group, so the group will either execute
<code>do_fast_path</code>() or <code>do_general_path</code>(), but never both.
For example, shader code might want to evaluate a complex function
iteratively by starting with an approximation of the result and then
refining the approximation.
Some input values may require a small number of iterations to generate an
accurate result (<code>do_fast_path</code>) while others require a larger number
(<code>do_general_path</code>).
In another example, shader code might want to evaluate a complex function
(<code>do_general_path</code>) that can be greatly simplified when assuming a
specific value for one of its inputs (<code>do_fast_path</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecated_by_vulkan_1_1"><a class="anchor" href="#_deprecated_by_vulkan_1_1"></a>Deprecated by Vulkan 1.1</h3>
<div class="paragraph">
<p>All functionality in this extension is superseded by the core Vulkan 1.1
<a href="../chapters/limits.html#VkPhysicalDeviceSubgroupProperties" class="xref page">subgroup operations</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_319"><a class="anchor" href="#_new_enum_constants_319"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_SUBGROUP_VOTE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_SUBGROUP_VOTE_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_39"><a class="anchor" href="#_new_spir_v_capabilities_39"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-SubgroupVoteKHR" class="xref page"><code>SubgroupVoteKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_319"><a class="anchor" href="#_version_history_319"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-28 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_shader_viewport_index_layer"><a class="anchor" href="#VK_EXT_shader_viewport_index_layer"></a>VK_EXT_shader_viewport_index_layer</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_viewport_index_layer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>163</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_viewport_index_layer] @dgkoch%0A*Here describe the issue or question you have about the VK_EXT_shader_viewport_index_layer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_320"><a class="anchor" href="#_other_extension_metadata_320"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-08</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_viewport_index_layer.html"><code>SPV_EXT_shader_viewport_index_layer</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_viewport_layer_array.txt"><code>GL_ARB_shader_viewport_layer_array</code></a>,
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_vertex_shader_layer.txt"><code>GL_AMD_vertex_shader_layer</code></a>,
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_vertex_shader_viewport_index.txt"><code>GL_AMD_vertex_shader_viewport_index</code></a>,
and <a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_viewport_array2.txt"><code>GL_NV_viewport_array2</code></a></p>
</li>
<li>
<p>This extension requires the <code>multiViewport</code> feature.</p>
</li>
<li>
<p>This extension interacts with the <code>tessellationShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajeswki, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_320"><a class="anchor" href="#_description_320"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the <code>ShaderViewportIndexLayerEXT</code>
capability from the <code>SPV_EXT_shader_viewport_index_layer</code> extension in
Vulkan.</p>
</div>
<div class="paragraph">
<p>This extension allows variables decorated with the <code>Layer</code> and
<code>ViewportIndex</code> built-ins to be exported from vertex or tessellation
shaders, using the <code>ShaderViewportIndexLayerEXT</code> capability.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>gl_ViewportIndex</code>
and <code>gl_Layer</code> built-in variables map to the SPIR-V <code>ViewportIndex</code>
and <code>Layer</code> built-in decorations, respectively.
Behaviour of these variables is extended as described in the
<code>GL_ARB_shader_viewport_layer_array</code> (or the precursor
<code>GL_AMD_vertex_shader_layer</code>, <code>GL_AMD_vertex_shader_viewport_index</code>, and
<code>GL_NV_viewport_array2</code> extensions).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>ShaderViewportIndexLayerEXT</code> capability is equivalent to the
<code>ShaderViewportIndexLayerNV</code> capability added by
<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_2_24"><a class="anchor" href="#_promotion_to_vulkan_1_2_24"></a>Promotion to Vulkan 1.2</h3>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2.</p>
</div>
<div class="paragraph">
<p>The single <code>ShaderViewportIndexLayerEXT</code> capability from the
<code>SPV_EXT_shader_viewport_index_layer</code> extension is replaced by the
<a href="spirvenv.html#spirvenv-capabilities-table-ShaderViewportIndex" class="xref page"><code>ShaderViewportIndex</code></a> and <a href="spirvenv.html#spirvenv-capabilities-table-ShaderLayer" class="xref page"><code>ShaderLayer</code></a> capabilities from SPIR-V 1.5 which are enabled by the
<a href="../chapters/features.html#features-shaderOutputViewportIndex" class="xref page"><code>shaderOutputViewportIndex</code></a> and
<a href="../chapters/features.html#features-shaderOutputLayer" class="xref page"><code>shaderOutputLayer</code></a> features,
respectively.
Additionally, if Vulkan 1.2 is supported but this extension is not, these
capabilities are optional.</p>
</div>
<div class="paragraph">
<p>Enabling both features is equivalent to enabling the
<code>VK_EXT_shader_viewport_index_layer</code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_320"><a class="anchor" href="#_new_enum_constants_320"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_VIEWPORT_INDEX_LAYER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_VIEWPORT_INDEX_LAYER_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_or_modified_built_in_variables_10"><a class="anchor" href="#_new_or_modified_built_in_variables_10"></a>New or Modified Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p>(modified) <a href="../chapters/interfaces.html#interfaces-builtin-variables-layer" class="xref page"><code>Layer</code></a></p>
</li>
<li>
<p>(modified)
<a href="../chapters/interfaces.html#interfaces-builtin-variables-viewportindex" class="xref page"><code>ViewportIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_40"><a class="anchor" href="#_new_spir_v_capabilities_40"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-ShaderViewportIndexLayerEXT" class="xref page">    <code>ShaderViewportIndexLayerEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_320"><a class="anchor" href="#_version_history_320"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-08 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal drafts</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_subgroup_size_control"><a class="anchor" href="#VK_EXT_subgroup_size_control"></a>VK_EXT_subgroup_size_control</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_subgroup_size_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>226</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_subgroup_size_control] @sheredom%0A*Here describe the issue or question you have about the VK_EXT_subgroup_size_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>sheredom</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_321"><a class="anchor" href="#_other_extension_metadata_321"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-03-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Sławek Grajewski, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Allan MacKinnon, Google</p>
</li>
<li>
<p>Mariusz Merecki, Intel</p>
</li>
<li>
<p>Graham Wihlidal, Electronic Arts</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_321"><a class="anchor" href="#_description_321"></a>Description</h3>
<div class="paragraph">
<p>This extension enables an implementation to control the subgroup size by
allowing a varying subgroup size and also specifying a required subgroup
size.</p>
</div>
<div class="paragraph">
<p>It extends the subgroup support in Vulkan 1.1 to allow an implementation to
expose a varying subgroup size.
Previously Vulkan exposed a single subgroup size per physical device, with
the expectation that implementations will behave as if all subgroups have
the same size.
Some implementations <strong>may</strong> dispatch shaders with a varying subgroup size for
different subgroups.
As a result they could implicitly split a large subgroup into smaller
subgroups or represent a small subgroup as a larger subgroup, some of whose
invocations were inactive on launch.</p>
</div>
<div class="paragraph">
<p>To aid developers in understanding the performance characteristics of their
programs, this extension exposes a minimum and maximum subgroup size that a
physical device supports and a pipeline create flag to enable that pipeline
to vary its subgroup size.
If enabled, any <code>SubgroupSize</code> decorated variables in the SPIR-V shader
modules provided to pipeline creation <strong>may</strong> vary between the
<a href="../chapters/devsandqueues.html#limits-minSubgroupSize" class="xref page">minimum</a> and <a href="../chapters/devsandqueues.html#limits-maxSubgroupSize" class="xref page">maximum</a>
subgroup sizes.</p>
</div>
<div class="paragraph">
<p>An implementation is also optionally allowed to support specifying a
required subgroup size for a given pipeline stage.
Implementations advertise which <a href="../chapters/devsandqueues.html#limits-requiredSubgroupSizeStages" class="xref page">stagessupport a required subgroup size</a>, and any pipeline of a supported stage
can be passed a <a href="../chapters/pipelines.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT" class="xref page">VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT</a>
structure to set the subgroup size for that shader stage of the pipeline.
For compute shaders, this requires the developer to query the
<a href="../chapters/devsandqueues.html#limits-maxComputeWorkgroupSubgroups" class="xref page"><code>maxComputeWorkgroupSubgroups</code></a>
and ensure that:</p>
</div>
<div class="stemblock">
  <div class="content halign-center valign-middle" style="padding-top: 1rem">
<svg style="vertical-align: -0.464ex; overflow: visible;" xmlns="http://www.w3.org/2000/svg" width="119.184ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 52679.4 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(746.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1802.6,0)"><g data-mml-node="mi"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(1048,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(1533,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1984,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mi" transform="translate(2505,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g><g data-mml-node="mi" transform="translate(3291,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(3742,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(4227,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(4799,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(5302,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(5947,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(6292,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(6757,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(7223,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(7667.7,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(8461.9,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(9462.1,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(10510.1,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(10995.1,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(11446.1,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mi" transform="translate(11967.1,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g><g data-mml-node="mi" transform="translate(12753.1,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(13204.1,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(13689.1,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(14261.1,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(14764.1,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(15409.1,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(15754.1,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(16219.1,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(16685.1,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(17129.8,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(17842,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(18842.2,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(19890.2,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(20375.2,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(20826.2,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mi" transform="translate(21347.2,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(21824.2,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(22275.2,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(22760.2,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(23332.2,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(23835.2,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(24480.2,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(24825.2,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(25290.2,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(25756.2,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(26200.9,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(26943.7,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mi" transform="translate(27999.4,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(28644.4,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(29216.4,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(29645.4,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(30122.4,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(30573.4,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(31058.4,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(31630.4,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(32133.4,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(32778.4,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(33123.4,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(33588.4,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(34276.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(35276.9,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(36154.9,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(36683.9,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(37255.9,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(38015.9,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(38500.9,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(39378.9,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(39881.9,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(40453.9,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(40814.9,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(41280.9,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(42328.9,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(42813.9,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(43264.9,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mi" transform="translate(43785.9,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(44262.9,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(44713.9,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(45198.9,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(45770.9,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(46273.9,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(46918.9,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(47490.9,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(47919.9,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(48396.9,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(48847.9,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(49332.9,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(49904.9,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(50407.9,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg>
  </div>
</div>
<div class="paragraph">
<p>Developers can also specify a new pipeline shader stage create flag that
requires the implementation to have fully populated subgroups within local
workgroups.
This requires the workgroup size in the X dimension to be a multiple of the
subgroup size.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_276"><a class="anchor" href="#_new_structures_276"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceSubgroupSizeControlFeaturesEXT" class="xref page">VkPhysicalDeviceSubgroupSizeControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceSubgroupSizeControlPropertiesEXT" class="xref page">VkPhysicalDeviceSubgroupSizeControlPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateInfo" class="xref page">VkPipelineShaderStageCreateInfo</a>, <a href="../chapters/shaders.html#VkShaderCreateInfoEXT" class="xref page">VkShaderCreateInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/pipelines.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT" class="xref page">VkPipelineShaderStageRequiredSubgroupSizeCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_321"><a class="anchor" href="#_new_enum_constants_321"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SUBGROUP_SIZE_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SUBGROUP_SIZE_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/pipelines.html#VkPipelineShaderStageCreateFlagBits" class="xref page">VkPipelineShaderStageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SUBGROUP_SIZE_CONTROL_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SUBGROUP_SIZE_CONTROL_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_REQUIRED_SUBGROUP_SIZE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_20"><a class="anchor" href="#_promotion_to_vulkan_1_3_20"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_321"><a class="anchor" href="#_version_history_321"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-03-05 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-07-26 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Add the missing <a href="../chapters/features.html#VkPhysicalDeviceSubgroupSizeControlFeaturesEXT" class="xref page">VkPhysicalDeviceSubgroupSizeControlFeaturesEXT</a>
for querying subgroup size control features.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_texel_buffer_alignment"><a class="anchor" href="#VK_EXT_texel_buffer_alignment"></a>VK_EXT_texel_buffer_alignment</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_texel_buffer_alignment</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>282</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_texel_buffer_alignment] @jeffbolznv%0A*Here describe the issue or question you have about the VK_EXT_texel_buffer_alignment extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_322"><a class="anchor" href="#_other_extension_metadata_322"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-06</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_322"><a class="anchor" href="#_description_322"></a>Description</h3>
<div class="paragraph">
<p>This extension adds more expressive alignment requirements for uniform and
storage texel buffers.
Some implementations have single texel alignment requirements that cannot be
expressed via
<a href="../chapters/limits.html#VkPhysicalDeviceLimits" class="xref page">VkPhysicalDeviceLimits</a>::<code>minTexelBufferOffsetAlignment</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_277"><a class="anchor" href="#_new_structures_277"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceTexelBufferAlignmentFeaturesEXT" class="xref page">VkPhysicalDeviceTexelBufferAlignmentFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/devsandqueues.html#VkPhysicalDeviceProperties2" class="xref page">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/limits.html#VkPhysicalDeviceTexelBufferAlignmentPropertiesEXT" class="xref page">VkPhysicalDeviceTexelBufferAlignmentPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_322"><a class="anchor" href="#_new_enum_constants_322"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_TEXEL_BUFFER_ALIGNMENT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_TEXEL_BUFFER_ALIGNMENT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TEXEL_BUFFER_ALIGNMENT_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TEXEL_BUFFER_ALIGNMENT_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_21"><a class="anchor" href="#_promotion_to_vulkan_1_3_21"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
However, only the properties structure is promoted.
The feature structure is not promoted and <code>texelBufferAlignment</code> is
enabled if using a Vulkan 1.3 instance.
The original type name is still available as an alias of the core
functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_322"><a class="anchor" href="#_version_history_322"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-06 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_texture_compression_astc_hdr"><a class="anchor" href="#VK_EXT_texture_compression_astc_hdr"></a>VK_EXT_texture_compression_astc_hdr</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_texture_compression_astc_hdr</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>67</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_texture_compression_astc_hdr] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_texture_compression_astc_hdr extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_323"><a class="anchor" href="#_other_extension_metadata_323"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-28</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known issues.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_323"><a class="anchor" href="#_description_323"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for textures compressed using the Adaptive
Scalable Texture Compression (ASTC) High Dynamic Range (HDR) profile.</p>
</div>
<div class="paragraph">
<p>When this extension is enabled, the HDR profile is supported for all ASTC
formats listed in <a href="compressedtex.html#appendix-compressedtex-astc" class="xref page">ASTC Compressed ImageFormats</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_278"><a class="anchor" href="#_new_structures_278"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceTextureCompressionASTCHDRFeaturesEXT" class="xref page">VkPhysicalDeviceTextureCompressionASTCHDRFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_323"><a class="anchor" href="#_new_enum_constants_323"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_TEXTURE_COMPRESSION_ASTC_HDR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_TEXTURE_COMPRESSION_ASTC_HDR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TEXTURE_COMPRESSION_ASTC_HDR_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_22"><a class="anchor" href="#_promotion_to_vulkan_1_3_22"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>This extension has been partially promoted.
Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
However, the feature is made optional in Vulkan 1.3.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issues_136"><a class="anchor" href="#_issues_136"></a>Issues</h3>
<div class="paragraph">
<p>1) Should we add a feature or limit for this functionality?</p>
</div>
<div class="paragraph">
<p>Yes.
It is consistent with the ASTC LDR support to add a feature like
textureCompressionASTC_HDR.</p>
</div>
<div class="paragraph">
<p>The feature is strictly speaking redundant as long as this is just an
extension; it would be sufficient to just enable the extension.
But adding the feature is more forward-looking if wanted to make this an
optional core feature in the future.</p>
</div>
<div class="paragraph">
<p>2) Should we introduce new format enums for HDR?</p>
</div>
<div class="paragraph">
<p>Yes.
Vulkan 1.0 describes the ASTC format enums as UNORM, e.g.
<code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>, so it is confusing to make these
contain HDR data.
Note that the OpenGL (ES) extensions did not make this distinction because a
single ASTC HDR texture may contain both unorm and float blocks.
Implementations <strong>may</strong> not be able to distinguish between LDR and HDR ASTC
textures internally and just treat them as the same format, i.e. if this
extension is supported then sampling from a
<code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code> image format <strong>may</strong> return HDR results.
Applications <strong>can</strong> get predictable results by using the appropriate image
format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_323"><a class="anchor" href="#_version_history_323"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-28 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_tooling_info"><a class="anchor" href="#VK_EXT_tooling_info"></a>VK_EXT_tooling_info</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_tooling_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>246</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_tooling_info] @tobski%0A*Here describe the issue or question you have about the VK_EXT_tooling_info extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_324"><a class="anchor" href="#_other_extension_metadata_324"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Rolando Caloca</p>
</li>
<li>
<p>Matthaeus Chajdas</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Daniel Rakos</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_324"><a class="anchor" href="#_description_324"></a>Description</h3>
<div class="paragraph">
<p>When an error occurs during application development, a common question is
"What tools are actually running right now?" This extension adds the ability
to query that information directly from the Vulkan implementation.</p>
</div>
<div class="paragraph">
<p>Outdated versions of one tool might not play nicely with another, or perhaps
a tool is not actually running when it should have been.
Trying to figure that out can cause headaches as it is necessary to consult
each known tool to figure out what is going on&#8201;&#8212;&#8201;in some cases the tool
might not even be known.</p>
</div>
<div class="paragraph">
<p>Typically, the expectation is that developers will simply print out this
information for visual inspection when an issue occurs, however a small
amount of semantic information about what the tool is doing is provided to
help identify it programmatically.
For example, if the advertised limits or features of an implementation are
unexpected, is there a tool active which modifies these limits? Or if an
application is providing debug markers, but the implementation is not
actually doing anything with that information, this can quickly point that
out.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_137"><a class="anchor" href="#_new_commands_137"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#vkGetPhysicalDeviceToolPropertiesEXT" class="xref page">vkGetPhysicalDeviceToolPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_279"><a class="anchor" href="#_new_structures_279"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkPhysicalDeviceToolPropertiesEXT" class="xref page">VkPhysicalDeviceToolPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_94"><a class="anchor" href="#_new_enums_94"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkToolPurposeFlagBitsEXT" class="xref page">VkToolPurposeFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_75"><a class="anchor" href="#_new_bitmasks_75"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/debugging.html#VkToolPurposeFlagsEXT" class="xref page">VkToolPurposeFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_324"><a class="anchor" href="#_new_enum_constants_324"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_TOOLING_INFO_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_TOOLING_INFO_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TOOL_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkToolPurposeFlagBits" class="xref page">VkToolPurposeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_TOOL_PURPOSE_DEBUG_MARKERS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkToolPurposeFlagBits" class="xref page">VkToolPurposeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_TOOL_PURPOSE_DEBUG_REPORTING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/debugging.html#VkToolPurposeFlagBits" class="xref page">VkToolPurposeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_TOOL_PURPOSE_DEBUG_MARKERS_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_TOOL_PURPOSE_DEBUG_REPORTING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_23"><a class="anchor" href="#_promotion_to_vulkan_1_3_23"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the EXT
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_41"><a class="anchor" href="#_examples_41"></a>Examples</h3>
<div class="listingblock">
<div class="title">Printing Tool Information</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">uint32_t num_tools;
VkPhysicalDeviceToolPropertiesEXT *pToolProperties;
vkGetPhysicalDeviceToolPropertiesEXT(physicalDevice, &amp;num_tools, NULL);

pToolProperties = (VkPhysicalDeviceToolPropertiesEXT*)malloc(sizeof(VkPhysicalDeviceToolPropertiesEXT) * num_tools);

vkGetPhysicalDeviceToolPropertiesEXT(physicalDevice, &amp;num_tools, pToolProperties);

for (int i = 0; i &lt; num_tools; ++i) {
    printf("%s:\n", pToolProperties[i].name);
    printf("Version:\n");
    printf("%s:\n", pToolProperties[i].version);
    printf("Description:\n");
    printf("\t%s\n", pToolProperties[i].description);
    printf("Purposes:\n");
    printf("\t%s\n", VkToolPurposeFlagBitsEXT_to_string(pToolProperties[i].purposes));
    if (strnlen_s(pToolProperties[i].layer,VK_MAX_EXTENSION_NAME_SIZE) &gt; 0) {
        printf("Corresponding Layer:\n");
        printf("\t%s\n", pToolProperties[i].layer);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_issues_137"><a class="anchor" href="#_issues_137"></a>Issues</h3>
<div class="paragraph">
<p>1) Why is this information separate from the layer mechanism?</p>
</div>
<div class="paragraph">
<p>Some tooling may be built into a driver, or be part of the Vulkan loader
etc.
Tying this information directly to layers would have been awkward at best.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_324"><a class="anchor" href="#_version_history_324"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-05 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_validation_flags"><a class="anchor" href="#VK_EXT_validation_flags"></a>VK_EXT_validation_flags</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_validation_flags</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>62</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_EXT_validation_features">VK_EXT_validation_features</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">Debugging tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobin Ehlis <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_validation_flags] @tobine%0A*Here describe the issue or question you have about the VK_EXT_validation_flags extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobine</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_325"><a class="anchor" href="#_other_extension_metadata_325"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobin Ehlis, Google</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_325"><a class="anchor" href="#_description_325"></a>Description</h3>
<div class="paragraph">
<p>This extension provides the <a href="../chapters/initialization.html#VkValidationFlagsEXT" class="xref page">VkValidationFlagsEXT</a> struct that can be
included in the <code>pNext</code> chain of the <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>
structure passed as the <code>pCreateInfo</code> parameter of
<a href="../chapters/initialization.html#vkCreateInstance" class="xref page">vkCreateInstance</a>.
The structure contains an array of <a href="../chapters/initialization.html#VkValidationCheckEXT" class="xref page">VkValidationCheckEXT</a> values that
will be disabled by the validation layers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_by_vk_ext_validation_features"><a class="anchor" href="#_deprecation_by_vk_ext_validation_features"></a>Deprecation by <code>VK_EXT_validation_features</code></h3>
<div class="paragraph">
<p>Functionality in this extension is subsumed into the
<code><a href="#VK_EXT_validation_features">VK_EXT_validation_features</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_280"><a class="anchor" href="#_new_structures_280"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/initialization.html#VkInstanceCreateInfo" class="xref page">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkValidationFlagsEXT" class="xref page">VkValidationFlagsEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_95"><a class="anchor" href="#_new_enums_95"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/initialization.html#VkValidationCheckEXT" class="xref page">VkValidationCheckEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_325"><a class="anchor" href="#_new_enum_constants_325"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_VALIDATION_FLAGS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_VALIDATION_FLAGS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VALIDATION_FLAGS_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_325"><a class="anchor" href="#_version_history_325"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2019-08-19 (Mark Lobodzinski)</p>
<div class="ulist">
<ul>
<li>
<p>Marked as deprecated</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-08-26 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_EXT_ycbcr_2plane_444_formats"><a class="anchor" href="#VK_EXT_ycbcr_2plane_444_formats"></a>VK_EXT_ycbcr_2plane_444_formats</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_ycbcr_2plane_444_formats</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>331</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a><br>
or<br>
<a href="versions.html#versions-1.1" class="xref page">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="versions.html#versions-1.3-promotions" class="xref page">Vulkan 1.3</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tony Zlatinski <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_ycbcr_2plane_444_formats] @tzlatinski%0A*Here describe the issue or question you have about the VK_EXT_ycbcr_2plane_444_formats extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tzlatinski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_326"><a class="anchor" href="#_other_extension_metadata_326"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-28</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.3 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_326"><a class="anchor" href="#_description_326"></a>Description</h3>
<div class="paragraph">
<p>This extension adds some Y′C<sub>B</sub>C<sub>R</sub> formats that are in common use for video
encode and decode, but were not part of the
<code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_281"><a class="anchor" href="#_new_structures_281"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceYcbcr2Plane444FormatsFeaturesEXT" class="xref page">VkPhysicalDeviceYcbcr2Plane444FormatsFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_326"><a class="anchor" href="#_new_enum_constants_326"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_YCBCR_2PLANE_444_FORMATS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_YCBCR_2PLANE_444_FORMATS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_444_UNORM_3PACK16_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_444_UNORM_3PACK16_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_444_UNORM_EXT</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_444_UNORM_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_YCBCR_2_PLANE_444_FORMATS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vulkan_1_3_24"><a class="anchor" href="#_promotion_to_vulkan_1_3_24"></a>Promotion to Vulkan 1.3</h3>
<div class="paragraph">
<p>This extension has been partially promoted.
The format enumerants introduced by the extension are included in core
Vulkan 1.3, with the EXT suffix omitted.
However, runtime support for these formats is optional in core Vulkan 1.3,
while if this extension is supported, runtime support is mandatory.
The feature structure is not promoted.
The original enum names are still available as aliases of the core
functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_326"><a class="anchor" href="#_version_history_326"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-03-08 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_draw_indirect_count"><a class="anchor" href="#VK_AMD_draw_indirect_count"></a>VK_AMD_draw_indirect_count</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>34</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_draw_indirect_count] @drakos-amd%0A*Here describe the issue or question you have about the VK_AMD_draw_indirect_count extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_327"><a class="anchor" href="#_other_extension_metadata_327"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-23</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to <code><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_327"><a class="anchor" href="#_description_327"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to source the number of draws for
indirect drawing commands from a buffer.
This enables applications to generate an arbitrary number of drawing
commands and execute them without host intervention.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vk_khr_draw_indirect_count"><a class="anchor" href="#_promotion_to_vk_khr_draw_indirect_count"></a>Promotion to <code>VK_KHR_draw_indirect_count</code></h3>
<div class="paragraph">
<p>All functionality in this extension is included in
<code><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></code>, with the suffix changed to KHR.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_138"><a class="anchor" href="#_new_commands_138"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawIndexedIndirectCountAMD" class="xref page">vkCmdDrawIndexedIndirectCountAMD</a></p>
</li>
<li>
<p><a href="../chapters/drawing.html#vkCmdDrawIndirectCountAMD" class="xref page">vkCmdDrawIndirectCountAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_327"><a class="anchor" href="#_new_enum_constants_327"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_DRAW_INDIRECT_COUNT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_DRAW_INDIRECT_COUNT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_327"><a class="anchor" href="#_version_history_327"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2016-08-23 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Minor fixes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-07-21 (Matthaeus Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_gpu_shader_half_float"><a class="anchor" href="#VK_AMD_gpu_shader_half_float"></a>VK_AMD_gpu_shader_half_float</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gpu_shader_half_float</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>37</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_gpu_shader_half_float] @dominikwitczakamd%0A*Here describe the issue or question you have about the VK_AMD_gpu_shader_half_float extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_328"><a class="anchor" href="#_other_extension_metadata_328"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_gpu_shader_half_float.html"><code>SPV_AMD_gpu_shader_half_float</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_gpu_shader_half_float.txt"><code>GL_AMD_gpu_shader_half_float</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Donglin Wei, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_328"><a class="anchor" href="#_description_328"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for using half float variables in shaders.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_by_vk_khr_shader_float16_int8"><a class="anchor" href="#_deprecation_by_vk_khr_shader_float16_int8"></a>Deprecation by <code>VK_KHR_shader_float16_int8</code></h3>
<div class="paragraph">
<p>Functionality in this extension was included in
<code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code> extension, when
<a href="../chapters/features.html#VkPhysicalDeviceShaderFloat16Int8FeaturesKHR" class="xref page">VkPhysicalDeviceShaderFloat16Int8FeaturesKHR</a>::<code>shaderFloat16</code> is
enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_328"><a class="anchor" href="#_new_enum_constants_328"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_GPU_SHADER_HALF_FLOAT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_GPU_SHADER_HALF_FLOAT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_328"><a class="anchor" href="#_version_history_328"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2019-04-11 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Marked as deprecated</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-09-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_gpu_shader_int16"><a class="anchor" href="#VK_AMD_gpu_shader_int16"></a>VK_AMD_gpu_shader_int16</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gpu_shader_int16</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>133</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.2-promotions" class="xref page">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_gpu_shader_int16] @linqun%0A*Here describe the issue or question you have about the VK_AMD_gpu_shader_int16 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_329"><a class="anchor" href="#_other_extension_metadata_329"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/AMD/SPV_AMD_gpu_shader_int16.html"><code>SPV_AMD_gpu_shader_int16</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/AMD/AMD_gpu_shader_int16.txt"><code>GL_AMD_gpu_shader_int16</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
<li>
<p>Zhi Cai, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_329"><a class="anchor" href="#_description_329"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for using 16-bit integer variables in shaders.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_by_vk_khr_shader_float16_int8_2"><a class="anchor" href="#_deprecation_by_vk_khr_shader_float16_int8_2"></a>Deprecation by <code>VK_KHR_shader_float16_int8</code></h3>
<div class="paragraph">
<p>Functionality in this extension was included in
<code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code> extension, when
<a href="../chapters/features.html#VkPhysicalDeviceFeatures" class="xref page">VkPhysicalDeviceFeatures</a>::<code>shaderInt16</code> and
<a href="../chapters/features.html#VkPhysicalDeviceShaderFloat16Int8FeaturesKHR" class="xref page">VkPhysicalDeviceShaderFloat16Int8FeaturesKHR</a>::<code>shaderFloat16</code> are
enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_329"><a class="anchor" href="#_new_enum_constants_329"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_GPU_SHADER_INT16_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_GPU_SHADER_INT16_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_329"><a class="anchor" href="#_version_history_329"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2019-04-11 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Marked as deprecated</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-06-18 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>First version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_AMD_negative_viewport_height"><a class="anchor" href="#VK_AMD_negative_viewport_height"></a>VK_AMD_negative_viewport_height</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_negative_viewport_height</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>36</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Obsoleted</em> by
<code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_AMD_negative_viewport_height] @anteru%0A*Here describe the issue or question you have about the VK_AMD_negative_viewport_height extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_330"><a class="anchor" href="#_other_extension_metadata_330"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_330"><a class="anchor" href="#_description_330"></a>Description</h3>
<div class="paragraph">
<p>This extension allows an application to specify a negative viewport height.
The result is that the viewport transformation will flip along the y-axis.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow negative height to be specified in the
<a href="../chapters/vertexpostproc.html#VkViewport" class="xref page">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_obsoletion_by_vk_khr_maintenance1_and_vulkan_1_1"><a class="anchor" href="#_obsoletion_by_vk_khr_maintenance1_and_vulkan_1_1"></a>Obsoletion by <code>VK_KHR_maintenance1</code> and Vulkan 1.1</h3>
<div class="paragraph">
<p>Functionality in this extension is included in <code>VK_KHR_maintenance1</code> and
subsequently Vulkan 1.1.
Due to some slight behavioral differences, this extension <strong>must</strong> not be
enabled alongside <code>VK_KHR_maintenance1</code>, or in an instance created with
version 1.1 or later requested in <a href="../chapters/initialization.html#VkApplicationInfo" class="xref page">VkApplicationInfo</a>::<code>apiVersion</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_330"><a class="anchor" href="#_new_enum_constants_330"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_AMD_NEGATIVE_VIEWPORT_HEIGHT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_AMD_NEGATIVE_VIEWPORT_HEIGHT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_330"><a class="anchor" href="#_version_history_330"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-02 (Matthaeus Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_ARM_rasterization_order_attachment_access"><a class="anchor" href="#VK_ARM_rasterization_order_attachment_access"></a>VK_ARM_rasterization_order_attachment_access</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_ARM_rasterization_order_attachment_access</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>343</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_EXT_rasterization_order_attachment_access">VK_EXT_rasterization_order_attachment_access</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_ARM_rasterization_order_attachment_access] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_ARM_rasterization_order_attachment_access extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_331"><a class="anchor" href="#_other_extension_metadata_331"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-11-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_331"><a class="anchor" href="#_description_331"></a>Description</h3>
<div class="paragraph">
<p>Render passes, and specifically subpass dependencies, enable much of the
same functionality as the framebuffer fetch and pixel local storage
extensions did for OpenGL ES.
But certain techniques such as programmable blending are awkward or
impractical to implement with these alone, in part because a self-dependency
is required every time a fragment will read a value at a given sample
coordinate.</p>
</div>
<div class="paragraph">
<p>This extension extends the mechanism of input attachments to allow access to
framebuffer attachments when used as both input and color, or depth/stencil,
attachments from one fragment to the next, in rasterization order, without
explicit synchronization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_282"><a class="anchor" href="#_new_structures_282"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceRasterizationOrderAttachmentAccessFeaturesARM" class="xref page">VkPhysicalDeviceRasterizationOrderAttachmentAccessFeaturesARM</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_331"><a class="anchor" href="#_new_enum_constants_331"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_ARM_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_ARM_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/framebuffer.html#VkPipelineColorBlendStateCreateFlagBits" class="xref page">VkPipelineColorBlendStateCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_COLOR_BLEND_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_BIT_ARM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fragops.html#VkPipelineDepthStencilStateCreateFlagBits" class="xref page">VkPipelineDepthStencilStateCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_ARM</code></p>
</li>
<li>
<p><code>VK_PIPELINE_DEPTH_STENCIL_STATE_CREATE_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_ARM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RASTERIZATION_ORDER_ATTACHMENT_ACCESS_FEATURES_ARM</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/renderpass.html#VkSubpassDescriptionFlagBits" class="xref page">VkSubpassDescriptionFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_COLOR_ACCESS_BIT_ARM</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_DEPTH_ACCESS_BIT_ARM</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_RASTERIZATION_ORDER_ATTACHMENT_STENCIL_ACCESS_BIT_ARM</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_138"><a class="anchor" href="#_issues_138"></a>Issues</h3>
<div class="paragraph">
<p>1) Is there any interaction with the <code><a href="#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code>
extension?</p>
</div>
<div class="paragraph">
<p>No.
This extension only affects reads from input attachments.
Render pass instances begun with <a href="../chapters/renderpass.html#vkCmdBeginRenderingKHR" class="xref page">vkCmdBeginRenderingKHR</a> do not have
input attachments and a different mechanism will be needed to provide
similar functionality in this case.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_42"><a class="anchor" href="#_examples_42"></a>Examples</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_331"><a class="anchor" href="#_version_history_331"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-11-12 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_IMG_format_pvrtc"><a class="anchor" href="#VK_IMG_format_pvrtc"></a>VK_IMG_format_pvrtc</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_IMG_format_pvrtc</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>55</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> without replacement</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stuart Smith</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_332"><a class="anchor" href="#_other_extension_metadata_332"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-09-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>Imagination Technologies Proprietary</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_332"><a class="anchor" href="#_description_332"></a>Description</h3>
<div class="paragraph">
<p><code>VK_IMG_format_pvrtc</code> provides additional texture compression functionality
specific to Imagination Technologies PowerVR Texture compression format
(called PVRTC).</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation"><a class="anchor" href="#_deprecation"></a>Deprecation</h3>
<div class="paragraph">
<p>Both PVRTC1 and PVRTC2 are slower than standard image formats on PowerVR
GPUs, and support will be removed from future hardware.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_332"><a class="anchor" href="#_new_enum_constants_332"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMG_FORMAT_PVRTC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_IMG_FORMAT_PVRTC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/formats.html#VkFormat" class="xref page">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG</code></p>
</li>
<li>
<p><code>VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_332"><a class="anchor" href="#_version_history_332"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-09-02 (Stuart Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_MVK_ios_surface"><a class="anchor" href="#VK_MVK_ios_surface"></a>VK_MVK_ios_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_MVK_ios_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>123</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_MVK_ios_surface] @billhollings%0A*Here describe the issue or question you have about the VK_MVK_ios_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_333"><a class="anchor" href="#_other_extension_metadata_333"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_333"><a class="anchor" href="#_description_333"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_MVK_ios_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) based on a <code>UIView</code>, the native
surface type of iOS, which is underpinned by a <code>CAMetalLayer</code>, to
support rendering to the surface using Apple&#8217;s Metal framework.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_by_vk_ext_metal_surface"><a class="anchor" href="#_deprecation_by_vk_ext_metal_surface"></a>Deprecation by <code>VK_EXT_metal_surface</code></h3>
<div class="paragraph">
<p>The <code>VK_MVK_ios_surface</code> extension is considered deprecated and has been
superseded by the <code><a href="#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_139"><a class="anchor" href="#_new_commands_139"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateIOSSurfaceMVK" class="xref page">vkCreateIOSSurfaceMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_283"><a class="anchor" href="#_new_structures_283"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkIOSSurfaceCreateInfoMVK" class="xref page">VkIOSSurfaceCreateInfoMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_76"><a class="anchor" href="#_new_bitmasks_76"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkIOSSurfaceCreateFlagsMVK" class="xref page">VkIOSSurfaceCreateFlagsMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_333"><a class="anchor" href="#_new_enum_constants_333"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_MVK_IOS_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_MVK_IOS_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_333"><a class="anchor" href="#_version_history_333"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-02-24 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Minor syntax fix to emphasize firm requirement for <code>UIView</code> to be
backed by a <code>CAMetalLayer</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-07-31 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Update documentation on requirements for <code>UIView</code>.</p>
</li>
<li>
<p>Mark as deprecated by <code>VK_EXT_metal_surface</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_MVK_macos_surface"><a class="anchor" href="#VK_MVK_macos_surface"></a>VK_MVK_macos_surface</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_MVK_macos_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>124</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_MVK_macos_surface] @billhollings%0A*Here describe the issue or question you have about the VK_MVK_macos_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_334"><a class="anchor" href="#_other_extension_metadata_334"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_334"><a class="anchor" href="#_description_334"></a>Description</h3>
<div class="paragraph">
<p>The <code>VK_MVK_macos_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="../chapters/VK_KHR_surface/wsi.html#VkSurfaceKHR" class="xref page">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) based on an <code>NSView</code>, the native
surface type of macOS, which is underpinned by a <code>CAMetalLayer</code>, to
support rendering to the surface using Apple&#8217;s Metal framework.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_by_vk_ext_metal_surface_2"><a class="anchor" href="#_deprecation_by_vk_ext_metal_surface_2"></a>Deprecation by <code>VK_EXT_metal_surface</code></h3>
<div class="paragraph">
<p>The <code>VK_MVK_macos_surface</code> extension is considered deprecated and has been
superseded by the <code><a href="#VK_EXT_metal_surface">VK_EXT_metal_surface</a></code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_140"><a class="anchor" href="#_new_commands_140"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#vkCreateMacOSSurfaceMVK" class="xref page">vkCreateMacOSSurfaceMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_284"><a class="anchor" href="#_new_structures_284"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkMacOSSurfaceCreateInfoMVK" class="xref page">VkMacOSSurfaceCreateInfoMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_77"><a class="anchor" href="#_new_bitmasks_77"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/VK_KHR_surface/wsi.html#VkMacOSSurfaceCreateFlagsMVK" class="xref page">VkMacOSSurfaceCreateFlagsMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_334"><a class="anchor" href="#_new_enum_constants_334"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_MVK_MACOS_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_MVK_MACOS_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MACOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_334"><a class="anchor" href="#_version_history_334"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-02-24 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Minor syntax fix to emphasize firm requirement for <code>NSView</code> to be
backed by a <code>CAMetalLayer</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-07-31 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Update documentation on requirements for <code>NSView</code>.</p>
</li>
<li>
<p>Mark as deprecated by <code>VK_EXT_metal_surface</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_dedicated_allocation"><a class="anchor" href="#VK_NV_dedicated_allocation"></a>VK_NV_dedicated_allocation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>27</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_dedicated_allocation] @jeffbolznv%0A*Here describe the issue or question you have about the VK_NV_dedicated_allocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_335"><a class="anchor" href="#_other_extension_metadata_335"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_335"><a class="anchor" href="#_description_335"></a>Description</h3>
<div class="paragraph">
<p>This extension allows device memory to be allocated for a particular buffer
or image resource, which on some devices can significantly improve the
performance of that resource.
Normal device memory allocations must support memory aliasing and sparse
binding, which could interfere with optimizations like framebuffer
compression or efficient page table usage.
This is important for render targets and very large resources, but need not
(and probably should not) be used for smaller resources that can benefit
from suballocation.</p>
</div>
<div class="paragraph">
<p>This extension adds a few small structures to resource creation and memory
allocation: a new structure that flags whether am image/buffer will have a
dedicated allocation, and a structure indicating the image or buffer that an
allocation will be bound to.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_285"><a class="anchor" href="#_new_structures_285"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkBufferCreateInfo" class="xref page">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkDedicatedAllocationBufferCreateInfoNV" class="xref page">VkDedicatedAllocationBufferCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkDedicatedAllocationImageCreateInfoNV" class="xref page">VkDedicatedAllocationImageCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkDedicatedAllocationMemoryAllocateInfoNV" class="xref page">VkDedicatedAllocationMemoryAllocateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_335"><a class="anchor" href="#_new_enum_constants_335"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_DEDICATED_ALLOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_DEDICATED_ALLOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_BUFFER_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_43"><a class="anchor" href="#_examples_43"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    // Create an image with
    // VkDedicatedAllocationImageCreateInfoNV::dedicatedAllocation
    // set to VK_TRUE

    VkDedicatedAllocationImageCreateInfoNV dedicatedImageInfo =
    {
        .sType = VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV,
        .pNext = NULL,
        .dedicatedAllocation = VK_TRUE,
    };

    VkImageCreateInfo imageCreateInfo =
    {
        .sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,
        .pNext = &amp;dedicatedImageInfo
        // Other members set as usual
    };

    VkImage image;
    VkResult result = vkCreateImage(
        device,
        &amp;imageCreateInfo,
        NULL,               // pAllocator
        &amp;image);

    VkMemoryRequirements memoryRequirements;
    vkGetImageMemoryRequirements(
        device,
        image,
        &amp;memoryRequirements);

    // Allocate memory with VkDedicatedAllocationMemoryAllocateInfoNV::image
    // pointing to the image we are allocating the memory for

    VkDedicatedAllocationMemoryAllocateInfoNV dedicatedInfo =
    {
        .sType = VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV,
        .pNext = NULL,
        .image = image,
        .buffer = VK_NULL_HANDLE,
    };

    VkMemoryAllocateInfo memoryAllocateInfo =
    {
        .sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO,
        .pNext = &amp;dedicatedInfo,
        .allocationSize = memoryRequirements.size,
        .memoryTypeIndex = FindMemoryTypeIndex(memoryRequirements.memoryTypeBits),
    };

    VkDeviceMemory memory;
    vkAllocateMemory(
        device,
        &amp;memoryAllocateInfo,
        NULL,               // pAllocator
        &amp;memory);

    // Bind the image to the memory

    vkBindImageMemory(
        device,
        image,
        memory,
        0);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_335"><a class="anchor" href="#_version_history_335"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-31 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_external_memory"><a class="anchor" href="#VK_NV_external_memory"></a>VK_NV_external_memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>57</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_NV_external_memory_capabilities">VK_NV_external_memory_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_external_memory] @cubanismo%0A*Here describe the issue or question you have about the VK_NV_external_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_336"><a class="anchor" href="#_other_extension_metadata_336"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_336"><a class="anchor" href="#_description_336"></a>Description</h3>
<div class="paragraph">
<p>Applications may wish to export memory to other Vulkan instances or other
APIs, or import memory from other Vulkan instances or other APIs to enable
Vulkan workloads to be split up across application module, process, or API
boundaries.
This extension enables applications to create exportable Vulkan memory
objects such that the underlying resources can be referenced outside the
Vulkan instance that created them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_286"><a class="anchor" href="#_new_structures_286"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/resources.html#VkImageCreateInfo" class="xref page">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/resources.html#VkExternalMemoryImageCreateInfoNV" class="xref page">VkExternalMemoryImageCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMemoryAllocateInfoNV" class="xref page">VkExportMemoryAllocateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_336"><a class="anchor" href="#_new_enum_constants_336"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_139"><a class="anchor" href="#_issues_139"></a>Issues</h3>
<div class="paragraph">
<p>1) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="../chapters/resources.html#resources-memory-aliasing" class="xref page">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, but strict exceptions to the rules are added to allow some
forms of aliasing in these cases.
Further, other extensions may build upon these new aliasing rules to define
specific support usage within Vulkan for imported native memory objects, or
memory objects from other APIs.</p>
</div>
<div class="paragraph">
<p>2) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Separate instances of the same Vulkan driver running on the same GPU should
have identical internal layout semantics, so applications have the tools
they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan compatible
(a term to be defined by subsequent interopability extensions), or Vulkan
incompatible.
When sharing images with Vulkan incompatible APIs, the Vulkan image must be
transitioned to the <code>VK_IMAGE_LAYOUT_GENERAL</code> layout before handing it
off to the external API.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_44"><a class="anchor" href="#_examples_44"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    // TODO: Write some sample code here.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_336"><a class="anchor" href="#_version_history_336"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-19 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_external_memory_capabilities"><a class="anchor" href="#VK_NV_external_memory_capabilities"></a>VK_NV_external_memory_capabilities</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>56</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
<a href="versions.html#versions-1.1-promotions" class="xref page">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_external_memory_capabilities] @cubanismo%0A*Here describe the issue or question you have about the VK_NV_external_memory_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_337"><a class="anchor" href="#_other_extension_metadata_337"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_337"><a class="anchor" href="#_description_337"></a>Description</h3>
<div class="paragraph">
<p>Applications may wish to import memory from the Direct 3D API, or export
memory to other Vulkan instances.
This extension provides a set of capability queries that allow applications
determine what types of win32 memory handles an implementation supports for
a given set of use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_141"><a class="anchor" href="#_new_commands_141"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#vkGetPhysicalDeviceExternalImageFormatPropertiesNV" class="xref page">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_287"><a class="anchor" href="#_new_structures_287"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalImageFormatPropertiesNV" class="xref page">VkExternalImageFormatPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enums_96"><a class="anchor" href="#_new_enums_96"></a>New Enums</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryFeatureFlagBitsNV" class="xref page">VkExternalMemoryFeatureFlagBitsNV</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExternalMemoryHandleTypeFlagBitsNV" class="xref page">VkExternalMemoryHandleTypeFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_bitmasks_78"><a class="anchor" href="#_new_bitmasks_78"></a>New Bitmasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/capabilities.html#VkExternalMemoryFeatureFlagsNV" class="xref page">VkExternalMemoryFeatureFlagsNV</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkExternalMemoryHandleTypeFlagsNV" class="xref page">VkExternalMemoryHandleTypeFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_337"><a class="anchor" href="#_new_enum_constants_337"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_CAPABILITIES_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_140"><a class="anchor" href="#_issues_140"></a>Issues</h3>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is because some handle types are based on OS-native objects
that have far more limited capabilities than the very generic Vulkan memory
objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Does the <a href="../chapters/capabilities.html#VkExternalImageFormatPropertiesNV" class="xref page">VkExternalImageFormatPropertiesNV</a> struct need to include a
list of memory type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The memory types that do not support the handle types will simply be
filtered out of the results returned by <a href="../chapters/resources.html#vkGetImageMemoryRequirements" class="xref page">vkGetImageMemoryRequirements</a>
when a set of handle types was specified at image creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it is easier to maintain the
bitmask values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_337"><a class="anchor" href="#_version_history_337"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-19 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_external_memory_win32"><a class="anchor" href="#VK_NV_external_memory_win32"></a>VK_NV_external_memory_win32</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>58</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_NV_external_memory">VK_NV_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<code><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_external_memory_win32] @cubanismo%0A*Here describe the issue or question you have about the VK_NV_external_memory_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_338"><a class="anchor" href="#_other_extension_metadata_338"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_338"><a class="anchor" href="#_description_338"></a>Description</h3>
<div class="paragraph">
<p>Applications may wish to export memory to other Vulkan instances or other
APIs, or import memory from other Vulkan instances or other APIs to enable
Vulkan workloads to be split up across application module, process, or API
boundaries.
This extension enables win32 applications to export win32 handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the Vulkan instance that created them, and import win32 handles
created in the Direct3D API to Vulkan memory objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_commands_142"><a class="anchor" href="#_new_commands_142"></a>New Commands</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#vkGetMemoryWin32HandleNV" class="xref page">vkGetMemoryWin32HandleNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_288"><a class="anchor" href="#_new_structures_288"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/memory.html#VkMemoryAllocateInfo" class="xref page">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/memory.html#VkExportMemoryWin32HandleInfoNV" class="xref page">VkExportMemoryWin32HandleInfoNV</a></p>
</li>
<li>
<p><a href="../chapters/memory.html#VkImportMemoryWin32HandleInfoNV" class="xref page">VkImportMemoryWin32HandleInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_338"><a class="anchor" href="#_new_enum_constants_338"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_EXTERNAL_MEMORY_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_141"><a class="anchor" href="#_issues_141"></a>Issues</h3>
<div class="paragraph">
<p>1) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="../chapters/resources.html#resources-memory-aliasing" class="xref page">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, but strict exceptions to the rules are added to allow some
forms of aliasing in these cases.
Further, other extensions may build upon these new aliasing rules to define
specific support usage within Vulkan for imported native memory objects, or
memory objects from other APIs.</p>
</div>
<div class="paragraph">
<p>2) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Separate instances of the same Vulkan driver running on the same GPU should
have identical internal layout semantics, so applications have the tools
they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan compatible
(a term to be defined by subsequent interopability extensions), or Vulkan
incompatible.
When sharing images with Vulkan incompatible APIs, the Vulkan image must be
transitioned to the <code>VK_IMAGE_LAYOUT_GENERAL</code> layout before handing it
off to the external API.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>3) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="../chapters/memory.html#vkGetMemoryWin32HandleNV" class="xref page">vkGetMemoryWin32HandleNV</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_NV</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application,
while an import transfers ownership to the associated driver.
Destroying the memory object will not destroy the handle or the handle&#8217;s
reference to the underlying memory resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_45"><a class="anchor" href="#_examples_45"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    //
    // Create an exportable memory object and export an external
    // handle from it.
    //

    // Pick an external format and handle type.
    static const VkFormat format = VK_FORMAT_R8G8B8A8_UNORM;
    static const VkExternalMemoryHandleTypeFlagsNV handleType =
        VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_NV;

    extern VkPhysicalDevice physicalDevice;
    extern VkDevice device;

    VkPhysicalDeviceMemoryProperties memoryProperties;
    VkExternalImageFormatPropertiesNV properties;
    VkExternalMemoryImageCreateInfoNV externalMemoryImageCreateInfo;
    VkDedicatedAllocationImageCreateInfoNV dedicatedImageCreateInfo;
    VkImageCreateInfo imageCreateInfo;
    VkImage image;
    VkMemoryRequirements imageMemoryRequirements;
    uint32_t numMemoryTypes;
    uint32_t memoryType;
    VkExportMemoryAllocateInfoNV exportMemoryAllocateInfo;
    VkDedicatedAllocationMemoryAllocateInfoNV dedicatedAllocationInfo;
    VkMemoryAllocateInfo memoryAllocateInfo;
    VkDeviceMemory memory;
    VkResult result;
    HANDLE memoryHnd;

    // Figure out how many memory types the device supports
    vkGetPhysicalDeviceMemoryProperties(physicalDevice,
                                        &amp;memoryProperties);
    numMemoryTypes = memoryProperties.memoryTypeCount;

    // Check the external handle type capabilities for the chosen format
    // Exportable 2D image support with at least 1 mip level, 1 array
    // layer, and VK_SAMPLE_COUNT_1_BIT using optimal tiling and supporting
    // texturing and color rendering is required.
    result = vkGetPhysicalDeviceExternalImageFormatPropertiesNV(
        physicalDevice,
        format,
        VK_IMAGE_TYPE_2D,
        VK_IMAGE_TILING_OPTIMAL,
        VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,
        0,
        handleType,
        &amp;properties);

    if ((result != VK_SUCCESS) ||
        !(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_NV)) {
        abort();
    }

    // Set up the external memory image creation info
    memset(&amp;externalMemoryImageCreateInfo,
           0, sizeof(externalMemoryImageCreateInfo));
    externalMemoryImageCreateInfo.sType =
        VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV;
    externalMemoryImageCreateInfo.handleTypes = handleType;
    if (properties.externalMemoryFeatures &amp;
        VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV) {
        memset(&amp;dedicatedImageCreateInfo, 0, sizeof(dedicatedImageCreateInfo));
        dedicatedImageCreateInfo.sType =
            VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV;
        dedicatedImageCreateInfo.dedicatedAllocation = VK_TRUE;
        externalMemoryImageCreateInfo.pNext = &amp;dedicatedImageCreateInfo;
    }
    // Set up the  core image creation info
    memset(&amp;imageCreateInfo, 0, sizeof(imageCreateInfo));
    imageCreateInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;
    imageCreateInfo.pNext = &amp;externalMemoryImageCreateInfo;
    imageCreateInfo.format = format;
    imageCreateInfo.extent.width = 64;
    imageCreateInfo.extent.height = 64;
    imageCreateInfo.extent.depth = 1;
    imageCreateInfo.mipLevels = 1;
    imageCreateInfo.arrayLayers = 1;
    imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;
    imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;
    imageCreateInfo.usage = VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT;
    imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;
    imageCreateInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;

    vkCreateImage(device, &amp;imageCreateInfo, NULL, &amp;image);

    vkGetImageMemoryRequirements(device,
                                 image,
                                 &amp;imageMemoryRequirements);

    // For simplicity, just pick the first compatible memory type.
    for (memoryType = 0; memoryType &lt; numMemoryTypes; memoryType++) {
        if ((1 &lt;&lt; memoryType) &amp; imageMemoryRequirements.memoryTypeBits) {
            break;
        }
    }

    // At least one memory type must be supported given the prior external
    // handle capability check.
    assert(memoryType &lt; numMemoryTypes);

    // Allocate the external memory object.
    memset(&amp;exportMemoryAllocateInfo, 0, sizeof(exportMemoryAllocateInfo));
    exportMemoryAllocateInfo.sType =
        VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV;
    exportMemoryAllocateInfo.handleTypes = handleType;
    if (properties.externalMemoryFeatures &amp;
        VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV) {
        memset(&amp;dedicatedAllocationInfo, 0, sizeof(dedicatedAllocationInfo));
        dedicatedAllocationInfo.sType =
            VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV;
        dedicatedAllocationInfo.image = image;
        exportMemoryAllocateInfo.pNext = &amp;dedicatedAllocationInfo;
    }
    memset(&amp;memoryAllocateInfo, 0, sizeof(memoryAllocateInfo));
    memoryAllocateInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;
    memoryAllocateInfo.pNext = &amp;exportMemoryAllocateInfo;
    memoryAllocateInfo.allocationSize = imageMemoryRequirements.size;
    memoryAllocateInfo.memoryTypeIndex = memoryType;

    vkAllocateMemory(device, &amp;memoryAllocateInfo, NULL, &amp;memory);

    if (!(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV)) {
        vkBindImageMemory(device, image, memory, 0);
    }

    // Get the external memory opaque FD handle
    vkGetMemoryWin32HandleNV(device, memory, &amp;memoryHnd);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_338"><a class="anchor" href="#_version_history_338"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-11 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_fragment_shader_barycentric"><a class="anchor" href="#VK_NV_fragment_shader_barycentric"></a>VK_NV_fragment_shader_barycentric</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fragment_shader_barycentric</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>204</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_KHR_fragment_shader_barycentric">VK_KHR_fragment_shader_barycentric</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_fragment_shader_barycentric] @nvpbrown%0A*Here describe the issue or question you have about the VK_NV_fragment_shader_barycentric extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_339"><a class="anchor" href="#_other_extension_metadata_339"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-03</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_fragment_shader_barycentric.html"><code>SPV_NV_fragment_shader_barycentric</code></a></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_fragment_shader_barycentric.txt"><code>GL_NV_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_339"><a class="anchor" href="#_description_339"></a>Description</h3>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_fragment_shader_barycentric.html"><code>SPV_NV_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional fragment shader variable
decorations in SPIR-V:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PerVertexNV</code>, which indicates that a fragment shader input will not
have interpolated values, but instead must be accessed with an extra
array index that identifies one of the vertices of the primitive
producing the fragment</p>
</li>
<li>
<p><code>BaryCoordNV</code>, which indicates that the variable is a three-component
floating-point vector holding barycentric weights for the fragment
produced using perspective interpolation</p>
</li>
<li>
<p><code>BaryCoordNoPerspNV</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using linear interpolation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_NV_fragment_shader_barycentric</code> maps to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in vec3 gl_BaryCoordNV;</code> &#8594; <code>BaryCoordNV</code></p>
</li>
<li>
<p><code>in vec3 gl_BaryCoordNoPerspNV;</code> &#8594; <code>BaryCoordNoPerspNV</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GLSL variables declared using the <code>__pervertexNV</code> GLSL qualifier are
expected to be decorated with <code>PerVertexNV</code> in SPIR-V.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promotion_to_vk_khr_fragment_shader_barycentric"><a class="anchor" href="#_promotion_to_vk_khr_fragment_shader_barycentric"></a>Promotion to <code>VK_KHR_fragment_shader_barycentric</code></h3>
<div class="paragraph">
<p>All functionality in this extension is included in
<code><a href="#VK_KHR_fragment_shader_barycentric">VK_KHR_fragment_shader_barycentric</a></code>, with the suffix changed to KHR.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_289"><a class="anchor" href="#_new_structures_289"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceFragmentShaderBarycentricFeaturesNV" class="xref page">VkPhysicalDeviceFragmentShaderBarycentricFeaturesNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_339"><a class="anchor" href="#_new_enum_constants_339"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_FRAGMENT_SHADER_BARYCENTRIC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_FRAGMENT_SHADER_BARYCENTRIC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_built_in_variables_11"><a class="anchor" href="#_new_built_in_variables_11"></a>New Built-In Variables</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-barycoordkhr" class="xref page"><code>BaryCoordNV</code></a></p>
</li>
<li>
<p><a href="../chapters/interfaces.html#interfaces-builtin-variables-barycoordnoperspkhr" class="xref page"><code>BaryCoordNoPerspNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_decorations_2"><a class="anchor" href="#_new_spir_v_decorations_2"></a>New SPIR-V Decorations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/shaders.html#shaders-interpolation-decorations-pervertexkhr" class="xref page"><code>PerVertexNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_spir_v_capabilities_41"><a class="anchor" href="#_new_spir_v_capabilities_41"></a>New SPIR-V Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p><a href="spirvenv.html#spirvenv-capabilities-table-FragmentBarycentricKHR" class="xref page">    <code>FragmentBarycentricNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues_142"><a class="anchor" href="#_issues_142"></a>Issues</h3>
<div class="paragraph">
<p>(1) The AMD_shader_explicit_vertex_parameter extension provides similar
    functionality.
    Why write a new extension, and how is this extension different?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For the purposes of Vulkan/SPIR-V, we chose to implement a
separate extension due to several functional differences.</p>
</div>
<div class="paragraph">
<p>First, the hardware supporting this extension can provide a three-component
barycentric weight vector for variables decorated with <code>BaryCoordNV</code>,
while variables decorated with <code>BaryCoordSmoothAMD</code> provide only two
components.
In some cases, it may be more efficient to explicitly interpolate an
attribute via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>float value = (baryCoordNV.x * v[0].attrib +
               baryCoordNV.y * v[1].attrib +
               baryCoordNV.z * v[2].attrib);</pre>
</div>
</div>
<div class="paragraph">
<p>instead of</p>
</div>
<div class="literalblock">
<div class="content">
<pre>float value = (baryCoordSmoothAMD.x * (v[0].attrib - v[2].attrib) +
               baryCoordSmoothAMD.y * (v[1].attrib - v[2].attrib) +
               v[2].attrib);</pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, the semantics of the decoration <code>BaryCoordPullModelAMD</code> do
not appear to map to anything supported by the initial hardware
implementation of this extension.</p>
</div>
<div class="paragraph">
<p>This extension provides a smaller number of decorations than the AMD
extension, as we expect that shaders could derive variables decorated with
things like <code>BaryCoordNoPerspCentroidAMD</code> with explicit attribute
interpolation instructions.
One other relevant difference is that explicit per-vertex attribute access
using this extension does not require a constant vertex number.</p>
</div>
<div class="paragraph">
<p>(2) Why do the built-in SPIR-V decorations for this extension include two
separate built-ins <code>BaryCoordNV</code> and <code>BaryCoordNoPerspNV</code> when a &#8220;no
perspective&#8221; variable could be decorated with <code>BaryCoordNV</code> and
<code>NoPerspective</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The SPIR-V extension for this feature chose to mirror the
behavior of the GLSL extension, which provides two built-in variables.
Additionally, it is not clear that its a good idea (or even legal) to have
two variables using the &#8220;same attribute&#8221;, but with different interpolation
modifiers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_339"><a class="anchor" href="#_version_history_339"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-03 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_glsl_shader"><a class="anchor" href="#VK_NV_glsl_shader"></a>VK_NV_glsl_shader</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_glsl_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>13</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> without replacement</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_glsl_shader] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_NV_glsl_shader extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_340"><a class="anchor" href="#_other_extension_metadata_340"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-02-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_340"><a class="anchor" href="#_description_340"></a>Description</h3>
<div class="paragraph">
<p>This extension allows GLSL shaders written to the <code>GL_KHR_vulkan_glsl</code>
extension specification to be used instead of SPIR-V.
The implementation will automatically detect whether the shader is SPIR-V or
GLSL, and compile it appropriately.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_2"><a class="anchor" href="#_deprecation_2"></a>Deprecation</h3>
<div class="paragraph">
<p>Functionality in this extension is outside of the scope of Vulkan and is
better served by a compiler library such as
<a href="https://github.com/KhronosGroup/glslang">glslang</a>.
No new implementations will support this extension, so applications <strong>should</strong>
not use it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_340"><a class="anchor" href="#_new_enum_constants_340"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_GLSL_SHADER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_GLSL_SHADER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkResult" class="xref page">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_46"><a class="anchor" href="#_examples_46"></a>Examples</h3>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Passing in GLSL code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    char const vss[] =
        "#version 450 core\n"
        "layout(location = 0) in vec2 aVertex;\n"
        "layout(location = 1) in vec4 aColor;\n"
        "out vec4 vColor;\n"
        "void main()\n"
        "{\n"
        "    vColor = aColor;\n"
        "    gl_Position = vec4(aVertex, 0, 1);\n"
        "}\n"
    ;
    VkShaderModuleCreateInfo vertexShaderInfo = { VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO };
    vertexShaderInfo.codeSize = sizeof vss;
    vertexShaderInfo.pCode = vss;
    VkShaderModule vertexShader;
    vkCreateShaderModule(device, &amp;vertexShaderInfo, 0, &amp;vertexShader);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_340"><a class="anchor" href="#_version_history_340"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-14 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_NV_win32_keyed_mutex"><a class="anchor" href="#VK_NV_win32_keyed_mutex"></a>VK_NV_win32_keyed_mutex</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>59</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_NV_external_memory_win32">VK_NV_external_memory_win32</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_NV_win32_keyed_mutex] @crohde%0A*Here describe the issue or question you have about the VK_NV_win32_keyed_mutex extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_341"><a class="anchor" href="#_other_extension_metadata_341"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_341"><a class="anchor" href="#_description_341"></a>Description</h3>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_290"><a class="anchor" href="#_new_structures_290"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="../chapters/cmdbuffers.html#VkSubmitInfo" class="xref page">VkSubmitInfo</a>, <a href="../chapters/cmdbuffers.html#VkSubmitInfo2" class="xref page">VkSubmitInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/cmdbuffers.html#VkWin32KeyedMutexAcquireReleaseInfoNV" class="xref page">VkWin32KeyedMutexAcquireReleaseInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_341"><a class="anchor" href="#_new_enum_constants_341"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_NV_WIN32_KEYED_MUTEX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_NV_WIN32_KEYED_MUTEX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_examples_47"><a class="anchor" href="#_examples_47"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c++ hljs" data-lang="c++">    //
    // Import a memory object from Direct3D 11, and synchronize
    // access to it in Vulkan using keyed mutex objects.
    //

    extern VkPhysicalDevice physicalDevice;
    extern VkDevice device;
    extern HANDLE sharedNtHandle;

    static const VkFormat format = VK_FORMAT_R8G8B8A8_UNORM;
    static const VkExternalMemoryHandleTypeFlagsNV handleType =
        VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_IMAGE_BIT_NV;

    VkPhysicalDeviceMemoryProperties memoryProperties;
    VkExternalImageFormatPropertiesNV properties;
    VkExternalMemoryImageCreateInfoNV externalMemoryImageCreateInfo;
    VkImageCreateInfo imageCreateInfo;
    VkImage image;
    VkMemoryRequirements imageMemoryRequirements;
    uint32_t numMemoryTypes;
    uint32_t memoryType;
    VkImportMemoryWin32HandleInfoNV importMemoryInfo;
    VkMemoryAllocateInfo memoryAllocateInfo;
    VkDeviceMemory mem;
    VkResult result;

    // Figure out how many memory types the device supports
    vkGetPhysicalDeviceMemoryProperties(physicalDevice,
                                        &amp;memoryProperties);
    numMemoryTypes = memoryProperties.memoryTypeCount;

    // Check the external handle type capabilities for the chosen format
    // Importable 2D image support with at least 1 mip level, 1 array
    // layer, and VK_SAMPLE_COUNT_1_BIT using optimal tiling and supporting
    // texturing and color rendering is required.
    result = vkGetPhysicalDeviceExternalImageFormatPropertiesNV(
        physicalDevice,
        format,
        VK_IMAGE_TYPE_2D,
        VK_IMAGE_TILING_OPTIMAL,
        VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,
        0,
        handleType,
        &amp;properties);

    if ((result != VK_SUCCESS) ||
        !(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_NV)) {
        abort();
    }

    // Set up the external memory image creation info
    memset(&amp;externalMemoryImageCreateInfo,
           0, sizeof(externalMemoryImageCreateInfo));
    externalMemoryImageCreateInfo.sType =
        VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV;
    externalMemoryImageCreateInfo.handleTypes = handleType;
    // Set up the  core image creation info
    memset(&amp;imageCreateInfo, 0, sizeof(imageCreateInfo));
    imageCreateInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;
    imageCreateInfo.pNext = &amp;externalMemoryImageCreateInfo;
    imageCreateInfo.format = format;
    imageCreateInfo.extent.width = 64;
    imageCreateInfo.extent.height = 64;
    imageCreateInfo.extent.depth = 1;
    imageCreateInfo.mipLevels = 1;
    imageCreateInfo.arrayLayers = 1;
    imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;
    imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;
    imageCreateInfo.usage = VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT;
    imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;
    imageCreateInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;

    vkCreateImage(device, &amp;imageCreateInfo, NULL, &amp;image);
    vkGetImageMemoryRequirements(device,
                                 image,
                                 &amp;imageMemoryRequirements);

    // For simplicity, just pick the first compatible memory type.
    for (memoryType = 0; memoryType &lt; numMemoryTypes; memoryType++) {
        if ((1 &lt;&lt; memoryType) &amp; imageMemoryRequirements.memoryTypeBits) {
            break;
        }
    }

    // At least one memory type must be supported given the prior external
    // handle capability check.
    assert(memoryType &lt; numMemoryTypes);

    // Allocate the external memory object.
    memset(&amp;exportMemoryAllocateInfo, 0, sizeof(exportMemoryAllocateInfo));
    exportMemoryAllocateInfo.sType =
        VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV;
    importMemoryInfo.handleTypes = handleType;
    importMemoryInfo.handle = sharedNtHandle;

    memset(&amp;memoryAllocateInfo, 0, sizeof(memoryAllocateInfo));
    memoryAllocateInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;
    memoryAllocateInfo.pNext = &amp;exportMemoryAllocateInfo;
    memoryAllocateInfo.allocationSize = imageMemoryRequirements.size;
    memoryAllocateInfo.memoryTypeIndex = memoryType;

    vkAllocateMemory(device, &amp;memoryAllocateInfo, NULL, &amp;mem);

    vkBindImageMemory(device, image, mem, 0);

    ...

    const uint64_t acquireKey = 1;
    const uint32_t timeout = INFINITE;
    const uint64_t releaseKey = 2;

    VkWin32KeyedMutexAcquireReleaseInfoNV keyedMutex =
        { VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_NV };
    keyedMutex.acquireCount = 1;
    keyedMutex.pAcquireSyncs = &amp;mem;
    keyedMutex.pAcquireKeys = &amp;acquireKey;
    keyedMutex.pAcquireTimeoutMilliseconds = &amp;timeout;
    keyedMutex.releaseCount = 1;
    keyedMutex.pReleaseSyncs = &amp;mem;
    keyedMutex.pReleaseKeys = &amp;releaseKey;

    VkSubmitInfo submit_info = { VK_STRUCTURE_TYPE_SUBMIT_INFO, &amp;keyedMutex };
    submit_info.commandBufferCount = 1;
    submit_info.pCommandBuffers = &amp;cmd_buf;
    vkQueueSubmit(queue, 1, &amp;submit_info, VK_NULL_HANDLE);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_341"><a class="anchor" href="#_version_history_341"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2016-08-11 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the NV external memory extensions.</p>
</li>
<li>
<p>Renamed from NVX to NV extension.</p>
</li>
<li>
<p>Added Overview and Description sections.</p>
</li>
<li>
<p>Updated sample code to use the NV external memory extensions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-06-14 (Carsten Rohde)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="VK_VALVE_mutable_descriptor_type"><a class="anchor" href="#VK_VALVE_mutable_descriptor_type"></a>VK_VALVE_mutable_descriptor_type</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_VALVE_mutable_descriptor_type</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>352</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Not ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<code><a href="#VK_EXT_mutable_descriptor_type">VK_EXT_mutable_descriptor_type</a></code>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/extensions.html#extendingvulkan-compatibility-specialuse" class="xref page">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_VALVE_mutable_descriptor_type] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_VALVE_mutable_descriptor_type extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
<li>
<p>Hans-Kristian Arntzen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_VALVE_mutable_descriptor_type] @HansKristian-Work%0A*Here describe the issue or question you have about the VK_VALVE_mutable_descriptor_type extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>HansKristian-Work</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_other_extension_metadata_342"><a class="anchor" href="#_other_extension_metadata_342"></a>Other Extension Metadata</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-12-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_description_342"><a class="anchor" href="#_description_342"></a>Description</h3>
<div class="paragraph">
<p>This extension allows applications to reduce descriptor memory footprint by
allowing a descriptor to be able to mutate to a given list of descriptor
types depending on which descriptor types are written into, or copied into a
descriptor set.</p>
</div>
<div class="paragraph">
<p>The main use case this extension intends to address is descriptor indexing
with <code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> where the
descriptor types are completely generic, as this means applications can
allocate one large descriptor set, rather than having one large descriptor
set per descriptor type, which significantly bloats descriptor memory usage
and causes performance issues.</p>
</div>
<div class="paragraph">
<p>This extension also adds a mechanism to declare that a descriptor pool, and
therefore the descriptor sets that are allocated from it, reside only in
host memory; as such these descriptors can only be updated/copied, but not
bound.</p>
</div>
<div class="paragraph">
<p>These features together allow much more efficient emulation of the raw D3D12
binding model.
This extension is primarily intended to be useful for API layering efforts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_structures_291"><a class="anchor" href="#_new_structures_291"></a>New Structures</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkMutableDescriptorTypeListVALVE" class="xref page">VkMutableDescriptorTypeListVALVE</a></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateInfo" class="xref page">VkDescriptorSetLayoutCreateInfo</a>, <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateInfo" class="xref page">VkDescriptorPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/descriptorsets.html#VkMutableDescriptorTypeCreateInfoVALVE" class="xref page">VkMutableDescriptorTypeCreateInfoVALVE</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/features.html#VkPhysicalDeviceFeatures2" class="xref page">VkPhysicalDeviceFeatures2</a>, <a href="../chapters/devsandqueues.html#VkDeviceCreateInfo" class="xref page">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="../chapters/features.html#VkPhysicalDeviceMutableDescriptorTypeFeaturesVALVE" class="xref page">VkPhysicalDeviceMutableDescriptorTypeFeaturesVALVE</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_new_enum_constants_342"><a class="anchor" href="#_new_enum_constants_342"></a>New Enum Constants</h3>
<div class="ulist">
<ul>
<li>
<p><code>VK_VALVE_MUTABLE_DESCRIPTOR_TYPE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_VALVE_MUTABLE_DESCRIPTOR_TYPE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorPoolCreateFlagBits" class="xref page">VkDescriptorPoolCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_HOST_ONLY_BIT_VALVE</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorSetLayoutCreateFlagBits" class="xref page">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_HOST_ONLY_POOL_BIT_VALVE</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/descriptorsets.html#VkDescriptorType" class="xref page">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_MUTABLE_VALVE</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="../chapters/fundamentals.html#VkStructureType" class="xref page">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MUTABLE_DESCRIPTOR_TYPE_CREATE_INFO_VALVE</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MUTABLE_DESCRIPTOR_TYPE_FEATURES_VALVE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_history_342"><a class="anchor" href="#_version_history_342"></a>Version History</h3>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-12-01 (Joshua Ashton, Hans-Kristian Arntzen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial specification, squashed from public draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <!--
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
    -->
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
