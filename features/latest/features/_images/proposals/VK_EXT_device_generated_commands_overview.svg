<?xml version="1.0" encoding="utf-8"?>
<svg
 xmlns:cc="http://creativecommons.org/ns#"
 viewBox="9.1 13.545 595.025 230.8" xmlns="http://www.w3.org/2000/svg">
  <rect x="8.11" y="13.122" width="597.232" height="232.375" style="stroke: rgb(0, 0, 0); fill: rgb(255, 255, 255);"/>
  <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" transform="matrix(1, 0, 0, 1, -0.266166, 11)" y="20.495" x="19.43">Driver computes worse-case pipeline state diff<tspan x="19.43000030517578" dy="1em">​</tspan>information, within Indirect Exec Set.</text>
  <rect x="20" y="55" width="160" height="17.979" style="stroke: rgb(0, 0, 0); fill: rgb(182, 215, 168);"/>
  <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="24" y="68.123">Indirect Execution Set (like SBT)</text>
  <rect x="20" y="73" width="160" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(249, 203, 156);"/>
  <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="24" y="86.123">Pipeline(s)/Shader(s)</text>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="132.285" y1="73.262" x2="132.388" y2="91.262"/>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="147.624" y1="73.16" x2="147.726" y2="91.16"/>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="162.348" y1="72.955" x2="162.348" y2="90.955"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 7.2px; white-space: pre;" x="25.159" y="169.762">u32 Set Index</text>
  <g transform="matrix(1, 0, 0, 1, 0, 39.152345)">
    <rect x="20" y="136" width="200" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(217, 217, 217);"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="24" y="149.123">IndirectBuffer</text>
    <rect x="20" y="154" width="200" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(238, 238, 238);"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="24" y="168.123">State &amp; DrawIndirect...</text>
    <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="199.364" y1="154.108" x2="199.364" y2="171.798"/>
    <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="180.345" y1="154.517" x2="180.345" y2="171.809"/>
    <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="163.166" y1="154.108" x2="163.166" y2="171.901"/>
  </g>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 8.2px; white-space: pre;" x="23.171" y="220.704">one operation per state</text>
  <g transform="matrix(1, 0, 0, 1, 36.189469, 0.423262)">
    <rect x="200" y="66.956" width="160" height="15.174" style="stroke: rgb(0, 0, 0); fill: rgb(255, 229, 153);"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="212.492" y="78.527">IndirectCommandsLayout</text>
  </g>
  <g transform="matrix(1, 0, 0, 1, 36.189469, 28.570636)">
    <rect x="200" y="91.446" width="160" height="17.292" style="stroke: rgb(0, 0, 0); fill: rgb(255, 242, 204);"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="205.493" y="104.229">Indirect Command Generation</text>
  </g>
  <g>
    <rect x="274.317" y="190.195" width="90.693" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(201, 218, 248);"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="277.794" y="203.129">CommandBuffer</text>
  </g>
  <rect x="421.691" y="174.517" width="160" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(217, 217, 217);"/>
  <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="425.33" y="187.208">PreprocessBuffer</text>
  <rect x="421.691" y="192.517" width="160" height="18" style="stroke: rgb(0, 0, 0); fill: rgb(238, 238, 238);"/>
  <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px;" x="424.8" y="205.053">Device cmds...</text>
  <text style="fill: rgb(183, 186, 189); font-family: Arial, sans-serif; font-size: 7.2px; white-space: pre;" transform="matrix(1, 0, 0, 1, 90.579547, 33.014955)"><tspan x="332.978" y="185.787">(preprocess buffer usage is not mandatory,</tspan><tspan x="332.978" dy="1em">​</tspan><tspan>hardware may interpret indirect buffers directly)</tspan></text>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="514.339" y1="192.517" x2="514.339" y2="210.517"/>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="536.349" y1="192.517" x2="536.349" y2="210.517"/>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="557.512" y1="192.517" x2="557.512" y2="210.517"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11.2px; white-space: pre;" transform="matrix(1, 0, 0, 1, 42.326841, 16.507477)"><tspan x="377.429" y="36.731">PreprocessBuffer sized for</tspan><tspan x="377.429" dy="1em">​</tspan><tspan>worst-case state configuration</tspan><tspan x="377.429" dy="1em">​</tspan><tspan>per draw (via maxSequenceCount,</tspan><tspan x="377.429" dy="1em">​</tspan><tspan style="fill: rgb(134, 185, 1);">IndirectPipelineSet</tspan><tspan> and</tspan><tspan x="377.429" dy="1em">​</tspan><tspan style="fill: rgb(241, 194, 50);">IndirectCommandsLayout</tspan><tspan style="fill: rgb(0, 0, 0);">)</tspan></text>
  <polyline style="stroke: rgb(0, 0, 0); fill: none;" points="126.202 175.092 126.202 127.418 236.251 127.418"/>
  <path d="M 230.759 125.443 L 235.255 127.5 L 230.453 129.177 L 230.759 125.443 Z" style="stroke: rgb(0, 0, 0);" transform="matrix(0.996888, -0.078826, 0.078826, 0.996888, -9.310792, 18.751099)"/>
  <path d="M 312.138 113.199 L 316.634 115.256 L 311.832 116.933 L 312.138 113.199 Z" style="stroke: rgb(0, 0, 0);" transform="matrix(0.078826, 0.996888, -0.996888, 0.078826, 404.171216, -207.259436)"/>
  <path d="M 415.138 181.199 L 419.634 183.256 L 414.832 184.933 L 415.138 181.199 Z" style="stroke: rgb(0, 0, 0);" transform="matrix(0.996888, -0.078826, 0.078826, 0.996888, -13.1321, 33.458455)"/>
  <path d="M 497.823 167.75 L 502.319 169.807 L 497.517 171.484 L 497.823 167.75 Z" style="stroke: rgb(0, 0, 0);" transform="matrix(0.078826, 0.996888, -0.996888, 0.078826, 629.600666, -342.115702)"/>
  <path d="M 54.009 94.29 L 58.505 96.347 L 53.703 98.024 L 54.009 94.29 Z" style="stroke: rgb(0, 0, 0);" transform="matrix(-0.078826, -0.996888, 0.996888, -0.078826, -35.331342, 159.666112)"/>
  <line style="stroke: rgb(0, 0, 0); stroke-dasharray: 3; fill: none;" x1="55.939" y1="100.174" x2="55.939" y2="162.327"/>
  <polyline style="stroke: rgb(0, 0, 0); fill: none; stroke-dasharray: 3;" points="209.162 126.84 209.162 63.131 180.38 63.131"/>
  <line style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" x1="314.075" y1="82.608" x2="314.075" y2="114.794"/>
  <polyline style="stroke: rgb(0, 0, 0); fill: none;" points="396.035 128.745 499.958 128.745 499.958 168.541"/>
  <polyline style="stroke: rgb(0, 0, 0); fill: none;" points="365.137 199.277 390.759 199.277 390.759 183.288 414.463 183.288"/>
</svg>
