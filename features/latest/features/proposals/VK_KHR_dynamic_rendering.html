<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VK_KHR_dynamic_rendering :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <script>
      !function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('dark')
        else document.documentElement.classList.add('light')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
    </script>
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:features" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
    </label>
  </nav>
</header>
<script>
  window.onload = function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark");
    e.checked ? e.parentElement.classList.add("active") : e.parentElement.classList.remove("active")
  }
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="features" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Feature Descriptions</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Vulkan Roadmap and Feature Descriptions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Roadmap.html">Vulkan Roadmap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Feature Descriptions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMDX_shader_enqueue.html">VK_AMDX_shader_enqueue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMD_anti_lag.html">VK_AMD_anti_lag</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMD_shader_early_and_late_fragment_tests.html">VK_AMD_shader_early_and_late_fragment_tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_ANDROID_external_format_resolve.html">VK_ANDROID_external_format_resolve</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_ARM_pipeline_opacity_micromap.html">VK_ARM_pipeline_opacity_micromap</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_ARM_render_pass_striped.html">VK_ARM_render_pass_striped</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_attachment_feedback_loop_dynamic_state.html">VK_EXT_attachment_feedback_loop_dynamic_state</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_attachment_feedback_loop_layout.html">VK_EXT_attachment_feedback_loop_layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_calibrated_timestamps.html">VK_EXT_calibrated_timestamps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_depth_bias_control.html">VK_EXT_depth_bias_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_depth_clamp_control.html">VK_EXT_depth_clamp_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_descriptor_buffer.html">VK_EXT_descriptor_buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_device_fault.html">VK_EXT_device_fault</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_device_generated_commands.html">VK_EXT_device_generated_commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_dynamic_rendering_unused_attachments.html">VK_EXT_dynamic_rendering_unused_attachments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_extended_dynamic_state3.html">VK_EXT_extended_dynamic_state3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_external_memory_acquire_unmodified.html">VK_EXT_external_memory_acquire_unmodified</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_frame_boundary.html">Proposal: <code>VK_EXT_frame_boundary</code></a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_graphics_pipeline_library.html">VK_EXT_graphics_pipeline_library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_host_image_copy.html">VK_EXT_host_image_copy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_2d_array_of_3d.html">VK_EXT_image_2d_array_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_compression_control.html">VK_EXT_image_compression_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_sliced_view_of_3d.html">VK_EXT_image_sliced_view_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_layer_settings.html">VK_EXT_layer_settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_legacy_dithering.html">VK_EXT_legacy_dithering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_legacy_vertex_attributes.html">VK_EXT_legacy_vertex_attributes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_map_memory_placed.html">VK_EXT_map_memory_placed</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_mesh_shader.html">VK_EXT_mesh_shader</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_metal_objects.html">VK_EXT_metal_objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_multisampled_render_to_single_sampled.html">VK_EXT_multisampled_render_to_single_sampled</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_mutable_descriptor_type.html">VK_EXT_mutable_descriptor_type</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_non_seamless_cube_map.html">VK_EXT_non_seamless_cube_map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_opacity_micromap.html">VK_EXT_opacity_micromap</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_pipeline_library_group_handles.html">VK_EXT_pipeline_library_group_handles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_pipeline_protected_access.html">VK_EXT_pipeline_protected_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_present_mode_fifo_latest_ready.html">VK_EXT_present_mode_fifo_latest_ready</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_primitives_generated_query.html">VK_EXT_primitives_generated_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_rasterization_order_attachment_access.html">VK_EXT_rasterization_order_attachment_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_module_identifier.html">VK_EXT_shader_module_identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_object.html">VK_EXT_shader_object</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_replicated_composites.html">VK_EXT_shader_replicated_composites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_tile_image.html">VK_EXT_shader_tile_image</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_subpass_merge_feedback.html">VK_EXT_subpass_merge_feedback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_surface_maintenance1.html">VK_EXT_surface_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_swapchain_maintenance1.html">VK_EXT_swapchain_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_GOOGLE_surfaceless_query.html">VK_GOOGLE_surfaceless_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader.html">VK_HUAWEI_cluster_culling_shader</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_HUAWEI_invocation_mask.html">VK_HUAWEI_invocation_mask</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_compute_shader_derivatives.html">VK_KHR_compute_shader_derivatives</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_cooperative_matrix.html">VK_KHR_cooperative_matrix</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="VK_KHR_dynamic_rendering.html">VK_KHR_dynamic_rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_dynamic_rendering_local_read.html">VK_KHR_dynamic_rendering_local_read</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_fragment_shader_barycentric.html">VK_KHR_fragment_shader_barycentric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_fragment_shading_rate.html">VK_KHR_fragment_shading_rate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_load_store_op_none.html">VK_KHR_load_store_op_none</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance5.html">VK_KHR_maintenance5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance6.html">VK_KHR_maintenance6</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance7.html">VK_KHR_maintenance7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance8.html">VK_KHR_maintenance8</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_map_memory2.html">VK_KHR_map_memory2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_pipeline_binary.html">VK_KHR_pipeline_binary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_ray_tracing_position_fetch.html">VK_KHR_ray_tracing_position_fetch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_expect_assume.html">VK_KHR_shader_expect_assume</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_float_controls2.html">VK_KHR_shader_float_controls2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_integer_dot_product.html">VK_KHR_shader_integer_dot_product</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_maximal_reconvergence.html">VK_KHR_shader_maximal_reconvergence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_quad_control.html">VK_KHR_shader_quad_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_relaxed_extended_instruction.html">VK_KHR_shader_relaxed_extended_instruction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_subgroup_rotate.html">Subgroup rotation instruction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_vertex_attribute_divisor.html">VK_KHR_vertex_attribute_divisor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_av1.html">VK_KHR_video_decode_av1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_h264.html">VK_KHR_video_decode_h264</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_h265.html">VK_KHR_video_decode_h265</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_queue.html">VK_KHR_video_decode_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_av1.html">VK_KHR_video_encode_av1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_h264.html">VK_KHR_video_encode_h264</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_h265.html">VK_KHR_video_encode_h265</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_quantization_map.html">VK_KHR_video_encode_quantization_map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_queue.html">VK_KHR_video_encode_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_maintenance1.html">VK_KHR_video_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_queue.html">VK_KHR_video_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_LUNARG_direct_driver_loading.html">VK_LUNARG_direct_driver_loading</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_MSFT_layered_driver.html">VK_MSFT_layered_driver</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_NV_cooperative_matrix2.html">VK_NV_cooperative_matrix2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_NV_display_stereo.html">VK_NV_display_stereo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_NV_ray_tracing_validation.html">VK_NV_ray_tracing_validation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_QCOM_image_processing.html">VK_QCOM_image_processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_QCOM_tile_properties.html">VK_QCOM_tile_properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_VERSION_1_4.html">Vulkan 1.4</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Feature Descriptions</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../spec/latest/index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Feature Descriptions</a></li>
    <li>Feature Descriptions</li>
    <li><a href="VK_KHR_dynamic_rendering.html">VK_KHR_dynamic_rendering</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">VK_KHR_dynamic_rendering</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_problem_statement">1. Problem Statement</a></li>
<li><a href="#_solution_space">2. Solution Space</a></li>
<li><a href="#_proposal">3. Proposal</a>
<ul class="sectlevel2">
<li><a href="#_beginend_render_pass">3.1. Begin/End Render Pass</a></li>
<li><a href="#_pipeline_creation">3.2. Pipeline Creation</a></li>
<li><a href="#_features">3.3. Features</a></li>
</ul>
</li>
<li><a href="#_examples">4. Examples</a>
<ul class="sectlevel2">
<li><a href="#_creating_a_pipeline">4.1. Creating a Pipeline</a></li>
<li><a href="#_rendering_with_a_dynamic_render_pass">4.2. Rendering with a dynamic render pass</a></li>
</ul>
</li>
<li><a href="#_issues">5. Issues</a>
<ul class="sectlevel2">
<li><a href="#_should_we_support_multiview">5.1. Should we support multiview?</a></li>
<li><a href="#_should_there_be_a_view_mask_for_multiview">5.2. Should there be a view mask for multiview?</a></li>
<li><a href="#_should_we_have_functionality_to_replace_the_on_chip_storage_aspect_of_subpasses">5.3. Should we have functionality to replace the on-chip storage aspect of subpasses?</a></li>
<li><a href="#_should_pipeline_barriers_work_inside_these_limited_render_passes">5.4. Should pipeline barriers work inside these limited render passes?</a></li>
<li><a href="#_is_there_a_preferred_render_area_granularity_for_vkrenderinginforenderarea_similar_to_vkgetrenderareagranularity">5.5. Is there a preferred render area granularity for <code>VkRenderingInfo::renderArea</code> similar to <code>vkGetRenderAreaGranularity</code>?</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document details API design ideas for the VK_KHR_dynamic_rendering extension, which adds a more dynamic and flexible way to use draw commands, as a straightforward replacement for single pass render passes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problem_statement"><a class="anchor" href="#_problem_statement"></a>1. Problem Statement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Render passes are the number one complaint from developers about Vulkan and have been almost since launch. Some of the most pointed issues are as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Other APIs have much more flexible APIs for the same functionality</p>
</li>
<li>
<p>Most of the render pass API in Vulkan goes unused</p>
</li>
<li>
<p>Most applications do not or cannot use subpasses, but still pay the cost of setting them up</p>
</li>
<li>
<p>The API does not fit into most existing software architectures</p>
</li>
<li>
<p>Fundamentally, other than load/store actions, they do not address real issues for IHVs or ISVs</p>
</li>
<li>
<p>When teaching Vulkan as an API, this is a huge place where people trip up</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An additional problem came up recently that having this state baked into pipeline creation actively contributes to the pipeline compilation time problem and having the ability to separate out most of this state would help enormously.</p>
</div>
<div class="paragraph">
<p>This proposal <em>only</em> addresses single pass render passes; additional functionality to replace multiple subpasses will be in a separate proposal.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution_space"><a class="anchor" href="#_solution_space"></a>2. Solution Space</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following rough options exist for addressing this issue:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Drastically expand the render pass compatibility options</p>
</li>
<li>
<p>Allow render pass objects to be “VK_NULL_HANDLE” until record time</p>
</li>
<li>
<p>Create a new API that pares down the information required to the bare minimum</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Option 1 has the advantage of being the least invasive in terms of API changes – it only really affects a handful of VUs, whilst still solving some of the flexibility issues.
The disadvantage of this is that applications still have to manage render pass objects, and it does not really address any of the points in the problem statement directly.</p>
</div>
<div class="paragraph">
<p>Option 2 effectively allows applications to provide the same information to applications again without any real API change, and addresses point 4 in the problem statement directly as it allows the render pass information to provided fairly late.</p>
</div>
<div class="paragraph">
<p>Option 3 is a much more drastic change in terms of the API, requiring additional paths through the API/driver that are generally somewhat annoying to manage. This has the advantage of being able to address all points in the problem statement, however.
Render pass objects also carry a lot of baggage in terms of developer opinion, and an overhaul replacement is likely to be better received for that reason.</p>
</div>
<div class="paragraph">
<p>Developers and the Vulkan WG seems to be more enthusiastic about Option 3 than other approaches, and so it is the approach proposed here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proposal"><a class="anchor" href="#_proposal"></a>3. Proposal</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_beginend_render_pass"><a class="anchor" href="#_beginend_render_pass"></a>3.1. Begin/End Render Pass</h3>
<div class="paragraph">
<p>This extension introduces new commands to begin and end a render pass:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VKAPI_ATTR void VKAPI_CALL vkCmdBeginRenderingKHR(
    VkCommandBuffer                             commandBuffer,
    const VkRenderingInfoKHR*                   pRenderingInfo);

VKAPI_ATTR void VKAPI_CALL vkCmdEndRenderingKHR(
    VkCommandBuffer                             commandBuffer);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Neither of these commands make any reference to a render pass object – render passes are now fully dynamic.
These commands may be called inside secondary command buffers, but <code>vkCmdEndRenderingKHR</code> and <code>vkCmdBeginRenderingKHR</code> must always appear as a pair in the same command buffer.
Note that render passes can still span multiple command buffers via <a href="#suspending-and-resuming">suspended render passes</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkRenderingInfoKHR {
    VkStructureType                     sType;
    const void*                         pNext;
    VkRenderingFlagsKHR                 flags;
    VkRect2D                            renderArea;
    uint32_t                            layerCount;
    uint32_t                            viewMask;
    uint32_t                            colorAttachmentCount;
    const VkRenderingAttachmentInfoKHR* pColorAttachments;
    const VkRenderingAttachmentInfoKHR* pDepthAttachment;
    const VkRenderingAttachmentInfoKHR* pStencilAttachment;
} VkRenderingInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The rendering info provided to <code>vkCmdBeginRenderingKHR</code> is the essential information needed to begin rendering, based on what is and is not currently inside the compatibility rules for render passes.
Notably, this is not a synchronization command – there is no replacement for subpass external dependencies.
Applications should use other synchronization primitives (barriers, events) to manage synchronization.</p>
</div>
<div class="paragraph">
<p>If <code>viewMask</code> is <code>0</code>, then multiview is disabled for this render pass, and <code>layerCount</code> indicates the number of layers used in each attachment.
If <code>viewMask</code> is non-zero, then multiview is enabled for this render pass, and each bit in <code>viewMask</code> indicates a layer index in each element that will rendered.</p>
</div>
<div class="sect3">
<h4 id="_attachments"><a class="anchor" href="#_attachments"></a>3.1.1. Attachments</h4>
<div class="paragraph">
<p>Depth and stencil image info are separated for API clarity (since everything else is applied independently), but they must point to the same image.
The same restriction applies to their respective resolve images.
For each attachment, the information provided is a the image view to bind, layout information, resolve information, and load/store ops (including a clear color).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkRenderingAttachmentInfoKHR {
    VkStructureType          sType;
    const void*              pNext;
    VkImageView              imageView;
    VkImageLayout            imageLayout;
    VkResolveModeFlagBits    resolveMode;
    VkImageView              resolveImageView;
    VkImageLayout            resolveImageLayout;
    VkAttachmentLoadOp       loadOp;
    VkAttachmentStoreOp      storeOp;
    VkClearValue             clearValue;
} VkRenderingAttachmentInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are no layout transitions or other synchronization info for images – synchronization is done exclusively by existing synchronization commands - the layouts provided are those that the image must already be in when rendering.</p>
</div>
<div class="paragraph">
<p>Image views for any attachment may be <a href="https://docs.vulkan.org/spec/latest/appendices/boilerplate.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, indicating that writes to the attachment are discarded, and reads return undefined values.</p>
</div>
<div class="paragraph">
<p>Note that the resolve images do not have their own load/store operations; they are treated as if they are implicitly <code>VK_ATTACHMENT_LOAD_OP_DONT_CARE</code> and <code>VK_ATTACHMENT_STORE_OP_STORE</code> – other combinations in the existing API do not really carry any useful meaning.</p>
</div>
<div class="paragraph">
<p><code>resolveMode</code> for color attachments must be <code>VK_RESOLVE_MODE_NONE</code> or <code>VK_RESOLVE_MODE_AVERAGE_BIT</code>.</p>
</div>
<div class="sect4">
<h5 id="_store_op_none"><a class="anchor" href="#_store_op_none"></a>Store Op None</h5>
<div class="paragraph">
<p>A new store operation is provided as originally described by <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_QCOM_render_pass_store_ops">VK_QCOM_render_pass_store_ops</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VK_ATTACHMENT_STORE_OP_NONE_KHR = 1000301000,</code></pre>
</div>
</div>
<div class="paragraph">
<p>This store operation works largely like DONT_CARE but guarantees that the store op does not access the attachment.
When a render pass accesses an attachment as read only, this can be useful in avoiding a potential write operation during the store operation, and removing the need for synchronization in some cases.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rendering_flags"><a class="anchor" href="#_rendering_flags"></a>3.1.2. Rendering Flags</h4>
<div class="paragraph">
<p>Rendering flags cover the following functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef enum VkRenderingFlagsKHR {
    VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT_KHR = 0x00000001,
    VK_RENDERING_SUSPENDING_BIT_KHR                         = 0x00000002,
    VK_RENDERING_RESUMING_BIT_KHR                           = 0x00000004,
} VkRenderingFlagsKHR;</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_secondary_command_buffer_contents"><a class="anchor" href="#_secondary_command_buffer_contents"></a>Secondary Command Buffer Contents</h5>
<div class="paragraph">
<p><code>VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT_KHR</code> works more or less identically to <code>VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code>, indicating that the contents of the render pass will be entirely recorded inside a secondary command buffer and replayed.
If it is absent, the commands must be wholly recorded inside the command buffer that starts it.</p>
</div>
<div class="paragraph">
<p>This requires the introduction of a new inheritance info when dynamic rendering is used, as the renderpass will no longer provide information required by implementations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkCommandBufferInheritanceRenderingInfoKHR {
    VkStructureType          sType;
    const void*              pNext;
    VkRenderingFlagsKHR      flags;
    uint32_t                 viewMask;
    uint32_t                 colorAttachmentCount;
    const VkFormat*          pColorAttachmentFormats;
    VkFormat                 depthAttachmentFormat;
    VkFormat                 stencilAttachmentFormat;
    VkSampleCountFlagBits    rasterizationSamples;
} VkCommandBufferInheritanceRenderingInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Information here must match that in the render pass being executed.
If no color attachments are used or the formats are all <code>VK_FORMAT_UNDEFINED</code>, and the <code>variableMultisampleRate</code> feature is supported, the rasterization sample count is ignored.
If either <code>depthAttachmentFormat</code> or <code>stencilAttachmentFormat</code> are not <code>VK_FORMAT_UNDEFINED</code>, they must have the same value.</p>
</div>
<div class="paragraph">
<p>This allows applications to use secondary command buffers with dynamic rendering as they would have done in the existing render pass API.</p>
</div>
<div class="paragraph">
<p>However, an alternative method of recording commands across multiple command buffers is also provided by <a href="#suspending-and-resuming">suspending render passes</a>.</p>
</div>
<div class="sect5">
<h6 id="command-buffer-inheritance-mixed-samples"><a class="anchor" href="#command-buffer-inheritance-mixed-samples"></a>Mixed Samples</h6>
<div class="paragraph">
<p>If either of <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> or <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a> are enabled, the sample counts of color and depth attachments may vary from the <code>rasterizationSamples</code>.
In this case, the sample count of each attachment can be specified by including the <code>VkAttachmentSampleInfoAMD</code>/<code>VkAttachmentSampleCountInfoNV</code> structure in the same <code>pNext</code> chain.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkAttachmentSampleCountInfoAMD {
    VkStructureType                 sType;
    const void*                     pNext;
    VkRenderingFlagsKHR             flags;
    uint32_t                        colorAttachmentCount;
    const VkSampleCountFlagBits*    pColorAttachmentSamples;
    VkSampleCountFlagBits           depthStencilAttachmentSamples;
} VkAttachmentSampleCountInfoAMD;

typedef VkAttachmentSampleCountInfoAMD VkAttachmentSampleCountInfoNV;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="command-buffer-inheritance-multiview-per-view-attributes"><a class="anchor" href="#command-buffer-inheritance-multiview-per-view-attributes"></a>Multiview Per-View Attributes</h6>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a> is enabled, the multiview per-view attributes can be specified by including the <code>VkMultiviewPerViewAttributesInfoNVX</code> structure in the same <code>pNext</code> chain.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="suspending-and-resuming"><a class="anchor" href="#suspending-and-resuming"></a>Suspending and Resuming</h5>
<div class="paragraph">
<p><code>VK_RENDERING_SUSPENDING_BIT_KHR</code> and <code>VK_RENDERING_RESUMING_BIT_KHR</code> allow an alternative method of recording across multiple command buffers.
Applications can suspend a render pass in one command buffer using <code>VK_RENDERING_SUSPENDING_BIT_KHR</code>, and resume it in another command buffer by starting an identical render pass with <code>VK_RENDERING_RESUMING_BIT_KHR</code>.
Suspended render passes must be resumed by a render pass with identical begin parameters, other than the presence absence of <code>VK_RENDERING_SUSPENDING_BIT_KHR</code>, <code>VK_RENDERING_RESUMING_BIT_KHR</code>, and <code>VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT_KHR</code>.</p>
</div>
<div class="paragraph">
<p>It is invalid to use action commands, synchronization commands, or record additional render passes, between a suspended render pass and the render pass which resumes it.
All pairs of resuming and suspending render passes must be submitted in the same batch.
Applications can resume a dynamic render pass in the same command buffer as it was suspended.
Applications can record a dynamic render pass wholly inside secondary command buffers.
A dynamic render pass can be both suspending and resuming.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_device_groups"><a class="anchor" href="#_device_groups"></a>3.1.3. Device Groups</h4>
<div class="paragraph">
<p>The <a href="https://docs.vulkan.org/spec/latest/chapters/renderpass.html#VkDeviceGroupRenderPassBeginInfo">VkDeviceGroupRenderPassBeginInfo</a> structure can be chained from <code>VkRenderingInfoKHR</code>, with the same effect as when chained to <a href="https://docs.vulkan.org/spec/latest/chapters/renderpass.html#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a> - setting the device mask and setting independent render areas per device.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fragment_shading_rate"><a class="anchor" href="#_fragment_shading_rate"></a>3.1.4. Fragment Shading Rate</h4>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is enabled, when calling <code>vkCmdBeginRenderingKHR</code>, the following structure should be chained to <code>VkRenderingInfoKHR</code> to include a fragment shading rate attachment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkRenderingFragmentShadingRateAttachmentInfoKHR {
    VkStructureType                     sType;
    const void*                         pNext;
    VkImageView                         imageView;
    VkImageLayout                       imageLayout;
} VkRenderingFragmentShadingRateAttachmentInfoKHR;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_fragment_density_map"><a class="anchor" href="#_fragment_density_map"></a>3.1.5. Fragment Density Map</h4>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is enabled, when calling <code>vkCmdBeginRenderingKHR</code>, the following structure should be chained to <code>VkRenderingInfoKHR</code> to include a fragment density map attachment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkRenderingFragmentDensityMapAttachmentInfoEXT {
    VkStructureType                     sType;
    const void*                         pNext;
    VkImageView                         imageView;
    VkImageLayout                       imageLayout;
} VkRenderingFragmentDensityMapAttachmentInfoEXT;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pipeline_creation"><a class="anchor" href="#_pipeline_creation"></a>3.2. Pipeline Creation</h3>
<div class="paragraph">
<p>With the removal of render pass objects, it is now necessary to provide some of that same information to applications at pipeline creation.
This structure is chained from <a href="https://docs.vulkan.org/spec/latest/chapters/pipelines.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkPipelineRenderingCreateInfoKHR {
    VkStructureType    sType;
    const void*        pNext;
    uint32_t           colorAttachmentCount;
    const VkFormat*    pColorAttachmentFormats;
    VkFormat           depthAttachmentFormat;
    VkFormat           stencilAttachmentFormat;
    uint32_t           viewMask;
} VkPipelineRenderingCreateInfoKHR;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a color or depth/stencil attachment is specified in <code>vkCmdBeginRenderingKHR</code>, its format must match that provided here.
If any format here is <code>VK_FORMAT_UNDEFINED</code>, no attachment must be specified for that attachment in <code>vkCmdBeginRenderingKHR</code>.
If either <code>depthAttachmentFormat</code> or <code>stencilAttachmentFormat</code> are not <code>VK_FORMAT_UNDEFINED</code>, they must have the same value.</p>
</div>
<div class="paragraph">
<p>The value of <code>viewMask</code> must match the value of the <code>viewMask</code> member of <code>VkRenderingInfoKHR</code>.</p>
</div>
<div class="sect3">
<h4 id="_multiview_per_view_attributes"><a class="anchor" href="#_multiview_per_view_attributes"></a>3.2.1. Multiview Per-View Attributes</h4>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a> is enabled, the multiview per-view attributes can be specified by including the <code>VkMultiviewPerViewAttributesInfoNVX</code> structure in the same <code>pNext</code> chain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mixed_sample_attachments"><a class="anchor" href="#_mixed_sample_attachments"></a>3.2.2. Mixed Sample Attachments</h4>
<div class="paragraph">
<p>If either of <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a> or <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a> are enabled, the sample counts of color and depth attachments must be specified at pipeline creation as well.
As with <a href="#command-buffer-inheritance-mixed-samples">command buffer inheritance</a>, the sample count of each attachment can be specified by including the <code>VkAttachmentSampleInfoAMD</code>/<code>VkAttachmentSampleCountInfoNV</code> structure in the <code>pNext</code> chain.
If the structure is omitted, the sample count for each attachment is considered equal to <a href="https://docs.vulkan.org/spec/latest/chapters/primsrast.html#VkPipelineMultisampleStateCreateInfo"><code>VkPipelineMultisampleStateCreateInfo::rasterizationSamples</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fragment_shading_rate_2"><a class="anchor" href="#_fragment_shading_rate_2"></a>3.2.3. Fragment Shading Rate</h4>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is enabled, a new rasterization state pipeline creation flag must be provided if a shading rate attachment will be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_fragment_density_map_2"><a class="anchor" href="#_fragment_density_map_2"></a>3.2.4. Fragment Density Map</h4>
<div class="paragraph">
<p>If <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a> is enabled, a new rasterization state pipeline creation flag must be provided if a fragment density map will be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_features"><a class="anchor" href="#_features"></a>3.3. Features</h3>
<div class="paragraph">
<p>The following features are exposed by this extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkPhysicalDeviceDynamicRenderingFeaturesKHR {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           dynamicRendering;
} VkPhysicalDeviceDynamicRenderingFeaturesKHR</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>dynamicRendering</code> is the core feature enabling this extension&#8217;s functionality.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples"><a class="anchor" href="#_examples"></a>4. Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_creating_a_pipeline"><a class="anchor" href="#_creating_a_pipeline"></a>4.1. Creating a Pipeline</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VkFormat colorRenderingFormats[2] = {
    VK_FORMAT_R8G8B8A8_UNORM,
    VK_FORMAT_R32_UINT };

VkPipelineRenderingCreateInfoKHR rfInfo = {
    .sType = VK_STRUCTURE_TYPE_PIPELINE_RENDERING_CREATE_INFO_KHR,
    .pNext = NULL,
    .colorAttachmentCount = 2,
    .pColorAttachmentFormats = colorRenderingFormats,
    .depthAttachmentFormat = VK_FORMAT_D32_SFLOAT_S8_UINT,
    .stencilAttachmentFormat = VK_FORMAT_D32_SFLOAT_S8_UINT };

VkGraphicsPipelineCreateInfo createInfo = {
    .sType = VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO,
    .pNext = &amp;rfInfo,
    .renderPass = VK_NULL_HANDLE,
    .... };

VkPipeline graphicsPipeline;

vkCreateGraphicsPipelines(device, pipelineCache, 1, &amp;createInfo, NULL, &amp;graphicsPipeline);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rendering_with_a_dynamic_render_pass"><a class="anchor" href="#_rendering_with_a_dynamic_render_pass"></a>4.2. Rendering with a dynamic render pass</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VkRenderingAttachmentInfoKHR colorAttachments[2] = {
    {
        .sType = VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO_KHR
        .pNext = NULL,
        .imageView = colorImageViews[0],
        .imageLayout = VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR,
        .resolveMode = VK_RESOLVE_MODE_AVERAGE_BIT,
        .resolveImageView = resolveColorImageView,
        .resolveImageLayout = VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR,
        .loadOp = VK_ATTACHMENT_LOAD_OP_CLEAR,
        .storeOp = VK_ATTACHMENT_STORE_OP_DONT_CARE,
        .clearValue = {.color = {.float32 = {0.0f,0.0f,0.0f,0.0f} } }
    }, {
        .sType = VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO_KHR
        .pNext = NULL,
        .imageView = colorImageViews[1],
        .imageLayout = VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR,
        .resolveMode = VK_RESOLVE_MODE_NONE,
        .loadOp = VK_ATTACHMENT_LOAD_OP_DONT_CARE,
        .storeOp = VK_ATTACHMENT_STORE_OP_STORE
    } };

// A single depth stencil attachment info can be used, but they can also be specified separately.
// When both are specified separately, the only requirement is that the image view is identical.
VkRenderingAttachmentInfoKHR depthStencilAttachment = {
    .sType = VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO_KHR
    .pNext = NULL,
    .imageView = depthStencilImageView,
    .imageLayout = VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR,
    .resolveMode = VK_RESOLVE_MODE_NONE,
    .loadOp = VK_ATTACHMENT_LOAD_OP_CLEAR,
    .storeOp = VK_ATTACHMENT_STORE_OP_DONT_CARE,
    .clearValue = {.depthStencil = {.depth = 0.0f, .stencil = 0 } } };

VkRenderingInfoKHR renderingInfo = {
    .sType = VK_STRUCTURE_TYPE_RENDERING_INFO_KHR,
    .pNext = NULL,
    .flags = 0,
    .renderArea = { ... },
    .layerCount = 1,
    .colorAttachmentCount = 2,
    .pColorAttachments = colorAttachments,
    .pDepthAttachment = &amp;depthStencilAttachment,
    .pStencilAttachment = &amp;depthStencilAttachment };

vkCmdBeginRenderingKHR(commandBuffer, &amp;renderingInfo);

vkCmdDraw(commandBuffer, ...);

...

vkCmdDraw(commandBuffer, ...);

vkCmdEndRenderingKHR(commandBuffer);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issues"><a class="anchor" href="#_issues"></a>5. Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes issues with the existing proposal – including both open issues that you have not addressed, and closed issues that are not self-evident from the proposal description.</p>
</div>
<div class="sect2">
<h3 id="_should_we_support_multiview"><a class="anchor" href="#_should_we_support_multiview"></a>5.1. Should we support multiview?</h3>
<div class="paragraph">
<p>Yes, its complexity is much reduced compared to render pass objects, and it is probably worth preserving in this limited form for compatibility reasons.</p>
</div>
</div>
<div class="sect2">
<h3 id="_should_there_be_a_view_mask_for_multiview"><a class="anchor" href="#_should_there_be_a_view_mask_for_multiview"></a>5.2. Should there be a view mask for multiview?</h3>
<div class="paragraph">
<p>Yes.
Without multiple subpasses the view mask is significantly less useful; the layer count provided is sufficient to describe the number of views.
However, the mask allows specification of a non-contiguous array, and while it is unclear if any applications use this, it has been included to maintain compatibility with existing APIs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_should_we_have_functionality_to_replace_the_on_chip_storage_aspect_of_subpasses"><a class="anchor" href="#_should_we_have_functionality_to_replace_the_on_chip_storage_aspect_of_subpasses"></a>5.3. Should we have functionality to replace the on-chip storage aspect of subpasses?</h3>
<div class="paragraph">
<p>No - this will be designed as a separate extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_should_pipeline_barriers_work_inside_these_limited_render_passes"><a class="anchor" href="#_should_pipeline_barriers_work_inside_these_limited_render_passes"></a>5.4. Should pipeline barriers work inside these limited render passes?</h3>
<div class="paragraph">
<p>No - without input attachments or a solution for on-chip storage these are currently functionally useless.</p>
</div>
</div>
<div class="sect2">
<h3 id="_is_there_a_preferred_render_area_granularity_for_vkrenderinginforenderarea_similar_to_vkgetrenderareagranularity"><a class="anchor" href="#_is_there_a_preferred_render_area_granularity_for_vkrenderinginforenderarea_similar_to_vkgetrenderareagranularity"></a>5.5. Is there a preferred render area granularity for <code>VkRenderingInfo::renderArea</code> similar to <code>vkGetRenderAreaGranularity</code>?</h3>
<div class="paragraph">
<p>During design discussions for this extension, no hardware vendor felt that this functionality was important enough to bring over to dynamic rendering.
If vendors have performance concerns, extensions such as <a href="https://docs.vulkan.org/spec/latest/appendices/extensions.html#VK_QCOM_tile_properties">VK_QCOM_tile_properties</a> can be exposed, and there may be scope for a future cross-vendor extension.
Applications can use values for the render area freely without alignment considerations.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
