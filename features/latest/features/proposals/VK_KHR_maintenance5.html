<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VK_KHR_maintenance5 :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:features" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
            <a class="navbar-item" href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.html">GLSL</a>
            <a class="navbar-item" href="../../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="features" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Feature Descriptions</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Vulkan Roadmap and Feature Descriptions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Roadmap.html">Vulkan Roadmap</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Feature Descriptions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMDX_shader_enqueue.html">VK_AMDX_shader_enqueue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMD_anti_lag.html">VK_AMD_anti_lag</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_AMD_shader_early_and_late_fragment_tests.html">VK_AMD_shader_early_and_late_fragment_tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_ANDROID_external_format_resolve.html">VK_ANDROID_external_format_resolve</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_ARM_render_pass_striped.html">VK_ARM_render_pass_striped</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_attachment_feedback_loop_dynamic_state.html">VK_EXT_attachment_feedback_loop_dynamic_state</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_attachment_feedback_loop_layout.html">VK_EXT_attachment_feedback_loop_layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_calibrated_timestamps.html">VK_EXT_calibrated_timestamps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_depth_bias_control.html">VK_EXT_depth_bias_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_depth_clamp_control.html">VK_EXT_depth_clamp_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_descriptor_buffer.html">VK_EXT_descriptor_buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_device_fault.html">VK_EXT_device_fault</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_device_generated_commands.html">VK_EXT_device_generated_commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_dynamic_rendering_unused_attachments.html">VK_EXT_dynamic_rendering_unused_attachments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_extended_dynamic_state3.html">VK_EXT_extended_dynamic_state3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_external_memory_acquire_unmodified.html">VK_EXT_external_memory_acquire_unmodified</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_frame_boundary.html">Proposal: <code>VK_EXT_frame_boundary</code></a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_graphics_pipeline_library.html">VK_EXT_graphics_pipeline_library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_host_image_copy.html">VK_EXT_host_image_copy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_2d_array_of_3d.html">VK_EXT_image_2d_array_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_compression_control.html">VK_EXT_image_compression_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_image_sliced_view_of_3d.html">VK_EXT_image_sliced_view_of_3d</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_layer_settings.html">VK_EXT_layer_settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_legacy_dithering.html">VK_EXT_legacy_dithering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_legacy_vertex_attributes.html">VK_EXT_legacy_vertex_attributes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_map_memory_placed.html">VK_EXT_map_memory_placed</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_mesh_shader.html">VK_EXT_mesh_shader</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_metal_objects.html">VK_EXT_metal_objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_multisampled_render_to_single_sampled.html">VK_EXT_multisampled_render_to_single_sampled</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_mutable_descriptor_type.html">VK_EXT_mutable_descriptor_type</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_non_seamless_cube_map.html">VK_EXT_non_seamless_cube_map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_opacity_micromap.html">VK_EXT_opacity_micromap</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_pipeline_library_group_handles.html">VK_EXT_pipeline_library_group_handles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_pipeline_protected_access.html">VK_EXT_pipeline_protected_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_present_mode_fifo_latest_ready.html">VK_EXT_present_mode_fifo_latest_ready</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_primitives_generated_query.html">VK_EXT_primitives_generated_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_rasterization_order_attachment_access.html">VK_EXT_rasterization_order_attachment_access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_module_identifier.html">VK_EXT_shader_module_identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_object.html">VK_EXT_shader_object</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_replicated_composites.html">VK_EXT_shader_replicated_composites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_shader_tile_image.html">VK_EXT_shader_tile_image</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_subpass_merge_feedback.html">VK_EXT_subpass_merge_feedback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_surface_maintenance1.html">VK_EXT_surface_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_swapchain_maintenance1.html">VK_EXT_swapchain_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_GOOGLE_surfaceless_query.html">VK_GOOGLE_surfaceless_query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_HUAWEI_cluster_culling_shader.html">VK_HUAWEI_cluster_culling_shader</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_HUAWEI_invocation_mask.html">VK_HUAWEI_invocation_mask</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_compute_shader_derivatives.html">VK_KHR_compute_shader_derivatives</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_cooperative_matrix.html">VK_KHR_cooperative_matrix</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_dynamic_rendering.html">VK_KHR_dynamic_rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_dynamic_rendering_local_read.html">VK_KHR_dynamic_rendering_local_read</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_fragment_shader_barycentric.html">VK_KHR_fragment_shader_barycentric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_fragment_shading_rate.html">VK_KHR_fragment_shading_rate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_load_store_op_none.html">VK_KHR_load_store_op_none</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance5.html">VK_KHR_maintenance5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance6.html">VK_KHR_maintenance6</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_maintenance7.html">VK_KHR_maintenance7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_map_memory2.html">VK_KHR_map_memory2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_pipeline_binary.html">VK_KHR_pipeline_binary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_ray_tracing_position_fetch.html">VK_KHR_ray_tracing_position_fetch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_expect_assume.html">VK_KHR_shader_expect_assume</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_float_controls2.html">VK_KHR_shader_float_controls2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_integer_dot_product.html">VK_KHR_shader_integer_dot_product</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_maximal_reconvergence.html">VK_KHR_shader_maximal_reconvergence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_quad_control.html">VK_KHR_shader_quad_control</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_relaxed_extended_instruction.html">VK_KHR_shader_relaxed_extended_instruction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_subgroup_rotate.html">Subgroup rotation instruction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_vertex_attribute_divisor.html">VK_KHR_vertex_attribute_divisor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_av1.html">VK_KHR_video_decode_av1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_h264.html">VK_KHR_video_decode_h264</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_h265.html">VK_KHR_video_decode_h265</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_decode_queue.html">VK_KHR_video_decode_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_h264.html">VK_KHR_video_encode_h264</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_h265.html">VK_KHR_video_encode_h265</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_encode_queue.html">VK_KHR_video_encode_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_maintenance1.html">VK_KHR_video_maintenance1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_video_queue.html">VK_KHR_video_queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_LUNARG_direct_driver_loading.html">VK_LUNARG_direct_driver_loading</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_MSFT_layered_driver.html">VK_MSFT_layered_driver</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_NV_cooperative_matrix2.html">VK_NV_cooperative_matrix2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_NV_ray_tracing_validation.html">VK_NV_ray_tracing_validation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_QCOM_image_processing.html">VK_QCOM_image_processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_QCOM_tile_properties.html">VK_QCOM_tile_properties</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Feature Descriptions</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../spec/latest/index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Feature Descriptions</a></li>
    <li>Feature Descriptions</li>
    <li><a href="VK_KHR_maintenance5.html">VK_KHR_maintenance5</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">VK_KHR_maintenance5</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_problem_statement">1. Problem Statement</a></li>
<li><a href="#_issue_details_and_solution_space">2. Issue Details and Solution Space</a>
<ul class="sectlevel2">
<li><a href="#_default_pointsize_of_1_0">2.1. Default PointSize of 1.0</a></li>
<li><a href="#_indication_of_parallelogram_or_bresenham_non_strict_lines">2.2. Indication of parallelogram or Bresenham non-strict lines</a></li>
<li><a href="#_a1b5g5r5_format">2.3. A1B5G5R5 format</a></li>
<li><a href="#_vkgetphysicaldeviceformatproperties_with_unknown_formats">2.4. vkGetPhysicalDeviceFormatProperties with unknown formats</a></li>
<li><a href="#_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering">2.5. A vkGetRenderAreaGranularity equivalent for dynamic rendering</a></li>
<li><a href="#_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version">2.6. vkGetDeviceProcAddr to return NULL for functions beyond application version</a></li>
<li><a href="#_add_vkcmdbindindexbuffer2khr_with_a_size_parameter">2.7. Add vkCmdBindIndexBuffer2KHR with a size parameter</a></li>
<li><a href="#_multisample_coverage_operations_and_sample_counting_property">2.8. Multisample coverage operations and sample counting property</a></li>
<li><a href="#_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount">2.9. VK_REMAINING_ARRAY_LAYERS for VkImageSubresourceLayers.layerCount</a></li>
<li><a href="#_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2">2.10. VK_WHOLE_SIZE for pSizes argument of vkCmdBindVertexBuffers2</a></li>
<li><a href="#_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image">2.11. vkGetImageSubresourceLayout query without having to create a placeholder image</a></li>
<li><a href="#_reliabledeterministic_way_to_detect_device_loss">2.12. Reliable/deterministic way to detect device loss</a></li>
<li><a href="#_lack_of_available_flag_bits">2.13. Lack of available flag bits</a></li>
<li><a href="#_sample_mask_test_and_sample_counting_property">2.14. Sample mask test and sample counting property</a></li>
<li><a href="#_deprecation_of_vkshadermodule">2.15. Deprecation of VkShaderModule</a></li>
<li><a href="#_a8_unorm_format">2.16. A8_UNORM format</a></li>
<li><a href="#_relax_vkbufferview_creation_requirement">2.17. Relax VkBufferView creation requirement</a></li>
<li><a href="#_appearance_when_using_vk_polygon_mode_point_together_with_pointsize">2.18. Appearance when using VK_POLYGON_MODE_POINT together with PointSize</a></li>
<li><a href="#_copying_between_different_image_types">2.19. Copying between different image types</a></li>
<li><a href="#_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats">2.20. Need a way to indicate when SWIZZLE_ONE has defined results when used with depth-stencil formats</a></li>
</ul>
</li>
<li><a href="#_proposal">3. Proposal</a>
<ul class="sectlevel2">
<li><a href="#_default_pointsize_of_1_0_2">3.1. Default PointSize of 1.0</a></li>
<li><a href="#_indication_of_parallelogram_or_bresenham_non_strict_lines_2">3.2. Indication of parallelogram or Bresenham non-strict lines</a></li>
<li><a href="#_a1b5g5r5_format_2">3.3. A1B5G5R5 format</a></li>
<li><a href="#_vkgetphysicaldeviceformatproperties_with_unknown_formats_2">3.4. vkGetPhysicalDeviceFormatProperties with unknown formats</a></li>
<li><a href="#_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering_2">3.5. A vkGetRenderAreaGranularity equivalent for dynamic rendering</a></li>
<li><a href="#_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version_2">3.6. vkGetDeviceProcAddr to return NULL for functions beyond application version</a></li>
<li><a href="#_add_vkcmdbindindexbuffer2khr_with_a_size_parameter_2">3.7. Add vkCmdBindIndexBuffer2KHR with a size parameter</a></li>
<li><a href="#_multisample_coverage_operations_and_sample_counting_property_2">3.8. Multisample coverage operations and sample counting property</a></li>
<li><a href="#_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount_2">3.9. VK_REMAINING_ARRAY_LAYERS for VkImageSubresourceLayers.layerCount</a></li>
<li><a href="#_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2_2">3.10. VK_WHOLE_SIZE for pSizes argument of vkCmdBindVertexBuffers2</a></li>
<li><a href="#_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image_2">3.11. vkGetImageSubresourceLayout query without having to create a placeholder image</a></li>
<li><a href="#_reliabledeterministic_way_to_detect_device_loss_2">3.12. Reliable/deterministic way to detect device loss</a></li>
<li><a href="#_lack_of_available_flag_bits_2">3.13. Lack of available flag bits</a></li>
<li><a href="#_sample_mask_test_and_sample_counting_property_2">3.14. Sample mask test and sample counting property</a></li>
<li><a href="#_deprecating_shader_modules">3.15. Deprecating Shader Modules</a></li>
<li><a href="#_a8_unorm_format_2">3.16. A8_UNORM format</a></li>
<li><a href="#_relax_vkbufferview_creation_requirement_2">3.17. Relax VkBufferView creation requirement</a></li>
<li><a href="#_appearance_when_using_vk_polygon_mode_point_together_with_pointsize_2">3.18. Appearance when using VK_POLYGON_MODE_POINT together with PointSize</a></li>
<li><a href="#_copying_between_different_image_types_2">3.19. Copying between different image types</a></li>
<li><a href="#_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats_2">3.20. Need a way to indicate when SWIZZLE_ONE has defined results when used with depth-stencil formats</a></li>
</ul>
</li>
<li><a href="#_issues">4. Issues</a></li>
<li><a href="#_further_functionality">5. Further Functionality</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This proposal details and addresses the issues solved by the <code>VK_KHR_maintenance5</code> extension.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problem_statement"><a class="anchor" href="#_problem_statement"></a>1. Problem Statement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Over time, a collection of minor features, none of which would warrant an entire extension of their own, requires the creation of a maintenance extension.</p>
</div>
<div class="paragraph">
<p>The following is a list of issues considered in this proposal:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow PointSize to take a default value of 1.0 when it is not written, rather than being undefined</p>
</li>
<li>
<p>A device property to indicate whether non-strict lines use parallelogram or Bresenham.</p>
</li>
<li>
<p>Add a A1B5G5R5 format (corresponding to <code>GL_UNSIGNED_SHORT_1_5_5_5_REV</code>)</p>
</li>
<li>
<p>Allow vkGetPhysicalDeviceFormatProperties with unknown formats</p>
</li>
<li>
<p>Add a vkGetRenderAreaGranularity equivalent for dynamic rendering</p>
</li>
<li>
<p>Require vkGetDeviceProcAddr to return NULL for functions beyond application version</p>
</li>
<li>
<p>Index buffer range specification</p>
</li>
<li>
<p>Add a property to indicate multisample coverage operations are performed after sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p>Add VK_REMAINING_ARRAY_LAYERS support to VkImageSubresourceLayers.layerCount</p>
</li>
<li>
<p>Allow VK_WHOLE_SIZE for pSizes argument of vkCmdBindVertexBuffers2</p>
</li>
<li>
<p>Add support for a new vkGetDeviceImageSubresourceLayout to allow a vkGetImageSubresourceLayout query without having to create a placeholder image</p>
</li>
<li>
<p>Ensure we have a reliable/deterministic way to detect device loss</p>
</li>
<li>
<p>We are running out of spare bits in various FlagBits</p>
</li>
<li>
<p>Add a property to indicate sample mask test operations are performed after sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p>Deprecate shader modules to avoid management of that object in the API</p>
</li>
<li>
<p>Add a A8_UNORM format</p>
</li>
<li>
<p>Relax VkBufferView creation requirements</p>
</li>
<li>
<p>Appearance when using VK_POLYGON_MODE_POINT together with PointSize</p>
</li>
<li>
<p>Enabling copies between images of any dimensionality</p>
</li>
<li>
<p>Need a way to indicate when SWIZZLE_ONE has defined results when used with depth-stencil formats</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issue_details_and_solution_space"><a class="anchor" href="#_issue_details_and_solution_space"></a>2. Issue Details and Solution Space</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_default_pointsize_of_1_0"><a class="anchor" href="#_default_pointsize_of_1_0"></a>2.1. Default PointSize of 1.0</h3>
<div class="paragraph">
<p>It is unclear in the specification if the <code>PointSize</code> builtin is required to be written, and if it is not, what the default size is.</p>
</div>
</div>
<div class="sect2">
<h3 id="_indication_of_parallelogram_or_bresenham_non_strict_lines"><a class="anchor" href="#_indication_of_parallelogram_or_bresenham_non_strict_lines"></a>2.2. Indication of parallelogram or Bresenham non-strict lines</h3>
<div class="paragraph">
<p>Some applications need to know whether the rasterization algorithm used for non-strict lines is parallelogram or Bresenham style.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a1b5g5r5_format"><a class="anchor" href="#_a1b5g5r5_format"></a>2.3. A1B5G5R5 format</h3>
<div class="paragraph">
<p>There is a request to add a format equivalent to GL_UNSIGNED_SHORT_1_5_5_5_REV for emulation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetphysicaldeviceformatproperties_with_unknown_formats"><a class="anchor" href="#_vkgetphysicaldeviceformatproperties_with_unknown_formats"></a>2.4. vkGetPhysicalDeviceFormatProperties with unknown formats</h3>
<div class="paragraph">
<p>The current specification prohibits <code>vkGetPhysicalDeviceFormatProperties</code> from being called with a <code>VkFormat</code> that is from an API version higher than that of the device, or from a device-level extension that is not supported by the device.
In order to query a format&#8217;s support, applications must first query the relevant extension/version/feature beforehand, complicating format queries.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering"><a class="anchor" href="#_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering"></a>2.5. A vkGetRenderAreaGranularity equivalent for dynamic rendering</h3>
<div class="paragraph">
<p>Some tile-based GPUs can benefit from providing an optimal render area granularity as the basis for a performance hint.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version"><a class="anchor" href="#_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version"></a>2.6. vkGetDeviceProcAddr to return NULL for functions beyond application version</h3>
<div class="paragraph">
<p>Existing implementations have different behavior when returning function pointers from <code>vkGetDeviceProcAddr()</code>
for supported core functions of versions greater than the version requested by the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_add_vkcmdbindindexbuffer2khr_with_a_size_parameter"><a class="anchor" href="#_add_vkcmdbindindexbuffer2khr_with_a_size_parameter"></a>2.7. Add vkCmdBindIndexBuffer2KHR with a size parameter</h3>
<div class="paragraph">
<p>With <code>vkCmdBindIndexBuffer</code>, it is not possible to communicate the size of the subrange buffer used as index data.
Robustness therefore operates on the size of the underlying buffer, which may be larger than the subrange that contains index data.
A new function can be introduced to add the necessary size information for robustness.</p>
</div>
</div>
<div class="sect2">
<h3 id="_multisample_coverage_operations_and_sample_counting_property"><a class="anchor" href="#_multisample_coverage_operations_and_sample_counting_property"></a>2.8. Multisample coverage operations and sample counting property</h3>
<div class="paragraph">
<p>Some hardware performs sample counting after multisample coverage operations when the EarlyFragmentTests execution mode is declared in a pixel shader, but the specification says "If the fragment shader declares the EarlyFragmentTests execution mode, fragment shading and multisample coverage operations are instead performed after sample counting."</p>
</div>
</div>
<div class="sect2">
<h3 id="_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount"><a class="anchor" href="#_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount"></a>2.9. VK_REMAINING_ARRAY_LAYERS for VkImageSubresourceLayers.layerCount</h3>
<div class="paragraph">
<p><code>layerCount</code> in <code>VkImageSubresourceLayers</code> unintentionally does not support <code>VK_REMAINING_ARRAY_LAYERS</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2"><a class="anchor" href="#_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2"></a>2.10. VK_WHOLE_SIZE for pSizes argument of vkCmdBindVertexBuffers2</h3>
<div class="paragraph">
<p><code>pSizes</code> in <code>vkCmdBindVertexBuffers2</code> unintentionally does not support <code>VK_WHOLE_SIZE</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image"><a class="anchor" href="#_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image"></a>2.11. vkGetImageSubresourceLayout query without having to create a placeholder image</h3>
<div class="paragraph">
<p>There is a potential implementation overhead when querying the subresource layout of an image due to object creation.  This overhead could be reduced by a function that works in a similar way to <code>vkGetDeviceImageMemoryRequirements()</code> which uses the image creation properties, rather than an image object, to perform the query.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reliabledeterministic_way_to_detect_device_loss"><a class="anchor" href="#_reliabledeterministic_way_to_detect_device_loss"></a>2.12. Reliable/deterministic way to detect device loss</h3>
<div class="paragraph">
<p>All existing entry points that are capable of returning
<code>VK_ERROR_DEVICE_LOST</code> have some form of exemption or
special-case allowing for other return values to be returned even when a device
is irrecoverably lost. These exemptions are all necessary due to the
asynchronous nature of device-loss detection, but this makes it difficult for
application developers to reason about how to reliably detect device-loss.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lack_of_available_flag_bits"><a class="anchor" href="#_lack_of_available_flag_bits"></a>2.13. Lack of available flag bits</h3>
<div class="paragraph">
<p>Both <code>VkPipelineCreateFlagBits</code> and <code>VkBufferCreateFlagBits</code> are running out of available bits for new extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sample_mask_test_and_sample_counting_property"><a class="anchor" href="#_sample_mask_test_and_sample_counting_property"></a>2.14. Sample mask test and sample counting property</h3>
<div class="paragraph">
<p>The specification says "If the fragment shader declares the EarlyFragmentTests
execution mode, fragment shading and multisample coverage operations are instead
performed after sample counting", but some hardware performs the sample mask test
after sample counting operations when the EarlyFragmentTests execution mode is
declared in a pixel shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_of_vkshadermodule"><a class="anchor" href="#_deprecation_of_vkshadermodule"></a>2.15. Deprecation of VkShaderModule</h3>
<div class="paragraph">
<p>Shader modules are transient objects used to create pipelines,
originally put in the Vulkan API to enable pre-compilation of
SPIR-V to reduce duplicated work at pipeline creation.</p>
</div>
<div class="paragraph">
<p>In practice though, few implementations do anything useful with these objects, and they
end up just being an unnecessary copy and a waste of memory while they
exist.
They also are yet another object for applications to manage, which is
development overhead that would be useful to remove.</p>
</div>
<div class="paragraph">
<p>Solutions here should have the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Not require object creation</p>
</li>
<li>
<p>Allow shader code to be passed directly from application memory to the pipeline
creation</p>
</li>
<li>
<p>Be as simple as possible</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VK_EXT_graphics_pipeline_library.html">VK_EXT_graphics_pipeline_library</a>
already introduced a simple way to do this, which is adopted by this
extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a8_unorm_format"><a class="anchor" href="#_a8_unorm_format"></a>2.16. A8_UNORM format</h3>
<div class="paragraph">
<p>This provides direct compatibility with D3D11 and D3D12 for layering.</p>
</div>
</div>
<div class="sect2">
<h3 id="_relax_vkbufferview_creation_requirement"><a class="anchor" href="#_relax_vkbufferview_creation_requirement"></a>2.17. Relax VkBufferView creation requirement</h3>
<div class="paragraph">
<p>Some users of the Vulkan API (for example, OpenGL API emulation libraries) have a
hard time figuring out in advance how one of their VkBuffer objects is going to be
used with VkBufferView. Relaxing the requirement that the VkBufferView format is
supported for all the usages of the VkBuffer would help.</p>
</div>
</div>
<div class="sect2">
<h3 id="_appearance_when_using_vk_polygon_mode_point_together_with_pointsize"><a class="anchor" href="#_appearance_when_using_vk_polygon_mode_point_together_with_pointsize"></a>2.18. Appearance when using VK_POLYGON_MODE_POINT together with PointSize</h3>
<div class="paragraph">
<p>Some hardware does not take point size into account when rasterizing polygons with VK_POLYGON_MODE_POINT.</p>
</div>
</div>
<div class="sect2">
<h3 id="_copying_between_different_image_types"><a class="anchor" href="#_copying_between_different_image_types"></a>2.19. Copying between different image types</h3>
<div class="paragraph">
<p>Copies between different image types other than between 2D and 3D is unclear, and untested. This flexibility is useful for some applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats"><a class="anchor" href="#_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats"></a>2.20. Need a way to indicate when SWIZZLE_ONE has defined results when used with depth-stencil formats</h3>
<div class="paragraph">
<p>Some implementations have undefined results when SWIZZLE_ONE is used with a depth-stencil format, so the default Vulkan behavior in this case is undefined.
For many implementations this combination <em>is</em> defined, however, so it is useful to be able to determine programmatically when that is the case.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proposal"><a class="anchor" href="#_proposal"></a>3. Proposal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Items introduced by this extension are:</p>
</div>
<div class="sect2">
<h3 id="_default_pointsize_of_1_0_2"><a class="anchor" href="#_default_pointsize_of_1_0_2"></a>3.1. Default PointSize of 1.0</h3>
<div class="paragraph">
<p>Points now take a default size of 1.0 if the <code>PointSize</code> builtin is not written.</p>
</div>
</div>
<div class="sect2">
<h3 id="_indication_of_parallelogram_or_bresenham_non_strict_lines_2"><a class="anchor" href="#_indication_of_parallelogram_or_bresenham_non_strict_lines_2"></a>3.2. Indication of parallelogram or Bresenham non-strict lines</h3>
<div class="paragraph">
<p>Two new properties are added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>nonStrictSinglePixelWideLinesUseParallelogram</code> reports the rasterization algorithm used for lines of width 1.0</p>
</li>
<li>
<p><code>nonStrictWideLinesUseParallelogram</code> reports the rasterization algorithm used for lines of width greater than 1.0</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_a1b5g5r5_format_2"><a class="anchor" href="#_a1b5g5r5_format_2"></a>3.3. A1B5G5R5 format</h3>
<div class="paragraph">
<p>An optional format VK_FORMAT_A1B5G5R5_UNORM_PACK16_KHR is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetphysicaldeviceformatproperties_with_unknown_formats_2"><a class="anchor" href="#_vkgetphysicaldeviceformatproperties_with_unknown_formats_2"></a>3.4. vkGetPhysicalDeviceFormatProperties with unknown formats</h3>
<div class="paragraph">
<p>Physical-device-level functions can now be called with any value in the valid range for a type beyond the defined enumerants, such that applications can avoid checking individual features, extensions, or versions before querying supported properties of a particular enumerant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering_2"><a class="anchor" href="#_a_vkgetrenderareagranularity_equivalent_for_dynamic_rendering_2"></a>3.5. A vkGetRenderAreaGranularity equivalent for dynamic rendering</h3>
<div class="paragraph">
<p>A new function provides the ability to query the implementation&#8217;s preferred
render area granularity for a render pass instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void vkGetRenderingAreaGranularityKHR(
    VkDevice                                    device,
    const VkRenderingAreaInfoKHR*               pRenderingAreaInfo,
    VkExtent2D*                                 pGranularity);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version_2"><a class="anchor" href="#_vkgetdeviceprocaddr_to_return_null_for_functions_beyond_application_version_2"></a>3.6. vkGetDeviceProcAddr to return NULL for functions beyond application version</h3>
<div class="paragraph">
<p>The specification has been changed to require <code>vkGetDeviceProcAddr()</code> to return <code>NULL</code> for supported core functions beyond the version requested by the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_add_vkcmdbindindexbuffer2khr_with_a_size_parameter_2"><a class="anchor" href="#_add_vkcmdbindindexbuffer2khr_with_a_size_parameter_2"></a>3.7. Add vkCmdBindIndexBuffer2KHR with a size parameter</h3>
<div class="paragraph">
<p>A new entry point <code>vkCmdBindIndexBuffer2KHR</code> is added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VKAPI_ATTR void VKAPI_CALL vkCmdBindIndexBuffer2KHR(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkDeviceSize                                size,
    VkIndexType                                 indexType);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multisample_coverage_operations_and_sample_counting_property_2"><a class="anchor" href="#_multisample_coverage_operations_and_sample_counting_property_2"></a>3.8. Multisample coverage operations and sample counting property</h3>
<div class="paragraph">
<p>A new <code>earlyFragmentMultisampleCoverageAfterSampleCounting</code> property is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount_2"><a class="anchor" href="#_vk_remaining_array_layers_for_vkimagesubresourcelayers_layercount_2"></a>3.9. VK_REMAINING_ARRAY_LAYERS for VkImageSubresourceLayers.layerCount</h3>
<div class="paragraph">
<p>Support for using <code>VK_REMAINING_ARRAY_LAYERS</code> as the <code>layerCount</code> member of <code>VkImageSubresourceLayers</code> is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2_2"><a class="anchor" href="#_vk_whole_size_for_psizes_argument_of_vkcmdbindvertexbuffers2_2"></a>3.10. VK_WHOLE_SIZE for pSizes argument of vkCmdBindVertexBuffers2</h3>
<div class="paragraph">
<p>Support for using <code>VK_WHOLE_SIZE</code> in the <code>pSizes</code> parameter of <code>vkCmdBindVertexBuffers2</code> is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image_2"><a class="anchor" href="#_vkgetimagesubresourcelayout_query_without_having_to_create_a_placeholder_image_2"></a>3.11. vkGetImageSubresourceLayout query without having to create a placeholder image</h3>
<div class="paragraph">
<p>A new <code>vkGetDeviceImageSubresourceLayoutKHR</code> function provides the ability to query the subresource layout for an image without requiring an image object, and a KHR version of <code>vkGetImageSubresourceLayout2EXT</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct VkImageSubresource2KHR {
    VkStructureType       sType;
    void*                 pNext;
    VkImageSubresource    imageSubresource;
} VkImageSubresource2KHR;

typedef struct VkSubresourceLayout2KHR {
    VkStructureType        sType;
    void*                  pNext;
    VkSubresourceLayout    subresourceLayout;
} VkSubresourceLayout2KHR;

typedef VkSubresourceLayout2KHR VkSubresourceLayout2EXT;
typedef VkImageSubresource2KHR VkImageSubresource2EXT;

typedef struct VkDeviceImageSubresourceInfoKHR {
    VkStructureType                  sType;
    const void*                      pNext;
    const VkImageCreateInfo*         pCreateInfo;
    const VkImageSubresource2KHR*    pSubresource;
} VkDeviceImageSubresourceInfoKHR;

VKAPI_ATTR void VKAPI_CALL vkGetDeviceImageSubresourceLayoutKHR(
    VkDevice                                    device,
    const VkDeviceImageSubresourceInfoKHR*      pInfo,
    VkSubresourceLayout2KHR*                    pLayout);

VKAPI_ATTR void VKAPI_CALL vkGetImageSubresourceLayout2KHR(
    VkDevice                                    device,
    VkImage                                     image,
    const VkImageSubresource2KHR*               pSubresource,
    VkSubresourceLayout2KHR*                    pLayout);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reliabledeterministic_way_to_detect_device_loss_2"><a class="anchor" href="#_reliabledeterministic_way_to_detect_device_loss_2"></a>3.12. Reliable/deterministic way to detect device loss</h3>
<div class="paragraph">
<p>Following device-loss, entry points that may return <code>VK_ERROR_DEVICE_LOST</code> do so
in a more consistent manner.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lack_of_available_flag_bits_2"><a class="anchor" href="#_lack_of_available_flag_bits_2"></a>3.13. Lack of available flag bits</h3>
<div class="paragraph">
<p>Two new flags words are added, along with structures to use them:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkPipelineCreateFlagBits2KHR</code> and <code>VkPipelineCreateFlags2CreateInfoKHR</code></p>
</li>
<li>
<p><code>VkBufferUsageFlagBits2KHR</code> and <code>VkBufferUsageFlags2CreateInfoKHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sample_mask_test_and_sample_counting_property_2"><a class="anchor" href="#_sample_mask_test_and_sample_counting_property_2"></a>3.14. Sample mask test and sample counting property</h3>
<div class="paragraph">
<p>A new <code>earlyFragmentSampleMaskTestBeforeSampleCounting</code> property is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecating_shader_modules"><a class="anchor" href="#_deprecating_shader_modules"></a>3.15. Deprecating Shader Modules</h3>
<div class="paragraph">
<p>Shader modules are deprecated by allowing
<a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkShaderModuleCreateInfo.html">VkShaderModuleCreateInfo</a> to be
chained to
<a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkPipelineShaderStageCreateInfo.html">VkPipelineShaderStageCreateInfo</a>,
and allowing the <a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkShaderModule.html">VkShaderModule</a> to be
<a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VK_NULL_HANDLE.html">VK_NULL_HANDLE</a> in this case.
Shader modules are not being removed, but it is recommended to not use them in order to save memory and avoid unnecessary copies.</p>
</div>
<div class="paragraph">
<p>For example, where previously an application would have to create a shader
module, it can now simply do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">VkShaderModuleCreateInfo computeShader = {
    .sType = VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO,
    .pNext = NULL,
    .flags = 0,
    .codeSize = ...,
    .pCode = ... };

VkComputePipelineCreateInfo computePipeline = {
    .sType = VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO,
    .pNext = NULL,
    .flags = 0,
    .stage = {
        .sType = VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO,
        .pNext = &amp;computeShader,
        .flags = VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT | VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT,
        .stage = VK_SHADER_STAGE_COMPUTE_BIT,
        .module = VK_NULL_HANDLE,
        .pName = ...,
        .pSpecializationInfo = ... },
    .layout = ...,
    .basePipelineHandle = 0,
    .basePipelineIndex = 0 };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_a8_unorm_format_2"><a class="anchor" href="#_a8_unorm_format_2"></a>3.16. A8_UNORM format</h3>
<div class="paragraph">
<p>An optional format VK_FORMAT_A8_UNORM_KHR is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_relax_vkbufferview_creation_requirement_2"><a class="anchor" href="#_relax_vkbufferview_creation_requirement_2"></a>3.17. Relax VkBufferView creation requirement</h3>
<div class="paragraph">
<p>Use the new <code>VkBufferUsageFlags2CreateInfoKHR</code> structure chained
into the <code>pNext</code> of <code>VkBufferViewCreateInfo</code> to specify a
subset of usage of the associated <code>VkBuffer</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_appearance_when_using_vk_polygon_mode_point_together_with_pointsize_2"><a class="anchor" href="#_appearance_when_using_vk_polygon_mode_point_together_with_pointsize_2"></a>3.18. Appearance when using VK_POLYGON_MODE_POINT together with PointSize</h3>
<div class="paragraph">
<p>A new <code>polygonModePointSize</code> property is added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_copying_between_different_image_types_2"><a class="anchor" href="#_copying_between_different_image_types_2"></a>3.19. Copying between different image types</h3>
<div class="paragraph">
<p>Allow copies between different image types, treating 1D images as 2D images
with a height of 1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats_2"><a class="anchor" href="#_need_a_way_to_indicate_when_swizzle_one_has_defined_results_when_used_with_depth_stencil_formats_2"></a>3.20. Need a way to indicate when SWIZZLE_ONE has defined results when used with depth-stencil formats</h3>
<div class="paragraph">
<p>Introduce a <code>depthStencilSwizzleOneSupport</code>
property which an implementation should expose to indicate that this
behavior is defined.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issues"><a class="anchor" href="#_issues"></a>4. Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_functionality"><a class="anchor" href="#_further_functionality"></a>5. Further Functionality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
